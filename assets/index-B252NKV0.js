const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IdentityManager-D3asjBnP.js","assets/themeUtils-C3zvZbsE.js","assets/ElevationLayer-_nCNlfFu.js","assets/ArcGISCachedService-nZCYJ25N.js","assets/TileInfo-Cj0aaJ6S.js","assets/TileKey-DZd6gJy7.js","assets/TileInfoTilemapCache-DJlFIh6j.js","assets/TilemapCache-B9alEqCB.js","assets/LercDecoder-DU0V7Jru.js","assets/WorkerHandle-CzrOFJZz.js","assets/layersCreator-CuLCReBy.js","assets/portalLayers-BspRslh8.js","assets/associatedFeatureServiceUtils-BsThHy3K.js","assets/lazyLayerLoader-C1t1x2HV.js","assets/ElevationQuery-JC1Nox43.js","assets/ElevationSamplerData-CLGqTcb_.js","assets/arcgisLayers-B0bzLYmi.js","assets/fetchService-BHngt5kt.js","assets/arcadeUtils-DeX64lhZ.js","assets/number-DWHt7E_N.js","assets/featureConversionUtils-BVsMNPzF.js","assets/OptimizedFeature-CXeSoBCN.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/OptimizedGeometry-DLPswkPy.js","assets/hash-CcEbRgUF.js","assets/geometryEngineJSON-uc5EIt6r.js","assets/json-Wa8cmqdu.js","assets/statsWorker-DZm5JIAS.js","assets/utils-DTu9e8kw.js","assets/utils-BAXu7jWt.js","assets/ClassBreaksDefinition-CDnaW8Xp.js","assets/geometryEngineWorker-DoKBkpB0.js","assets/CSVSourceWorker-D6vcaSKw.js","assets/date-M6n_RqpC.js","assets/FeatureStore-DGgGcpyF.js","assets/BoundsStore-BVeO8mTT.js","assets/PooledRBush-BMw2Tug7.js","assets/quickselect-CDrMhodd.js","assets/timeSupport-C0A6H9UZ.js","assets/normalizeUtils-PvjooRb6.js","assets/normalizeUtilsCommon-ByXMGwNF.js","assets/optimizedFeatureQueryEngineAdapter-DY8fepQr.js","assets/centroid-DdLmOD72.js","assets/QueryEngine-BJrJiLD2.js","assets/WhereClause-BU9DyVxJ.js","assets/QueryEngineCapabilities-CTDe3LlQ.js","assets/SnappingCandidate-O5eRSE6e.js","assets/Scheduler-D2EdV-K_.js","assets/debugFlags-BYwEz_hP.js","assets/RenderState-DaVlEYWY.js","assets/clientSideDefaults-W1a4_SjB.js","assets/EdgeProcessingWorker-BccOm0r8.js","assets/workerHelper-DtT1uotp.js","assets/InterleavedLayout-DjPFAyuB.js","assets/BufferView-DithrMUX.js","assets/types-D0PSWh4d.js","assets/Util-DsJryf9x.js","assets/edgeProcessing-y5myZLSQ.js","assets/deduplicate-aiEVsYi-.js","assets/Indices-BSZ2vHzt.js","assets/VertexAttribute-BnAa5VW0.js","assets/glUtil-DS73TAjp.js","assets/enums-DSseSvdG.js","assets/VertexElementDescriptor-BOD-G50G.js","assets/Normals-C_NhLO8Y.js","assets/ElevationSamplerWorker-CyiHGytf.js","assets/meshVertexSpaceUtils-gkGG_eew.js","assets/MeshLocalVertexSpace-BNetD1iK.js","assets/vec3-DPfuEKPJ.js","assets/georeference-TQxFGYYy.js","assets/mat3-DPPMYMhB.js","assets/spatialReferenceEllipsoidUtils-DV15qcib.js","assets/computeTranslationToOriginAndRotation-BwxvMbbc.js","assets/DoubleArray-DydFqj4b.js","assets/quat-3FyS98Fp.js","assets/axisAngleDegrees-C5xDLED1.js","assets/FeatureServiceSnappingSourceWorker-BqW0W7Zg.js","assets/symbologySnappingCandidates-BwcdZgtr.js","assets/pbfQueryUtils-DrPEsJ0j.js","assets/pbf-dp1_jIdk.js","assets/query-BpTWe5Tk.js","assets/GeoJSONSourceWorker-Bo3ypb9r.js","assets/geojson-sTCQpvSb.js","assets/sourceUtils-rfOr4pze.js","assets/MemorySourceWorker-Dij-0OpZ.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-BQ0f7THh.js","assets/dehydratedFeatures-Dt-SjqTC.js","assets/FeaturePipelineWorker-34DdcbEI.js","assets/TileStrategy-l1611y-Q.js","assets/TileKey-Dt_FQSdw.js","assets/QueueProcessor-CvAp86Lk.js","assets/ReactiveMap-DcQhQdHv.js","assets/definitions-B54owTRu.js","assets/AttributeStore-C-fB6HAG.js","assets/LabelMetric-DyGbq7CL.js","assets/enums-BRqP_wXA.js","assets/Texture-BT-WYJiR.js","assets/Program-wFflZSL5.js","assets/BufferObject-DdM-Y0w0.js","assets/BoundingBox-BhuXqU4L.js","assets/vec2f32-BbH2jxlN.js","assets/UpdateTracking2D-DZm4ygQJ.js","assets/TurboLine-DvArdm2j.js","assets/earcut-gCDAS0gj.js","assets/GeometryUtils-BvoQHMVi.js","assets/CIMSymbolHelper-ZEeHC0zq.js","assets/BidiEngine-BwB1Df7c.js","assets/fontUtils-oEBemou-.js","assets/Rect-CUzevAry.js","assets/BindType-BmZEZMMh.js","assets/highlightReasons-DkCnfpXT.js","assets/Tile-DcDRio1X.js","assets/constants-D5zmR9t2.js","assets/labelFormatUtils-H994QWFK.js","assets/tileUtils-B7X19rIS.js","assets/geohashUtils-BbGManuU.js","assets/ogcFeatureUtils-B3Z9yXD8.js","assets/StreamFeatureManager-B4_Mzna5.js","assets/CircularArray-DfLrgW_-.js","assets/createConnection-Ct1yK_Xd.js","assets/PointCloudWorker-C-0XFFL5.js","assets/vec3f32-Cw9Q6TO_.js","assets/PointCloudWorkerUtil-C8EY9Kq3.js","assets/PointCloudUniqueValueRenderer-Upx0J3aK.js","assets/I3SBinaryReader-B7d1Waro.js","assets/orientedBoundingBox-B61nPEal.js","assets/Attribute-B-NAci_J.js","assets/RasterWorker-DoWRF30F.js","assets/dataUtils-C7UDhb1Z.js","assets/pixelRangeUtils-DR2RxTkt.js","assets/RasterSymbolizer-Cr4tbVRk.js","assets/utils-DRXXAxws.js","assets/rasterProjectionHelper-DpMYnynW.js","assets/SceneLayerSnappingSourceWorker-D4QEGFOS.js","assets/lineSegment-BMYSACYW.js","assets/Octree-C_vy2cBS.js","assets/frustum-VM_sBTPR.js","assets/SceneLayerWorker-BD-H_lfN.js","assets/I3SNode-DM1_uj7Y.js","assets/I3SUtil-Bl4n3yEX.js","assets/edgeUtils-M6KOVtH3.js","assets/symbolColorUtils-D89hqBDM.js","assets/ElevationRange-BrgM1moX.js","assets/WFSSourceWorker-BYU1oV1D.js","assets/wfsUtils-Dxp8dOoK.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-DW6Hjjxw.js","assets/enums-BRzLM11V.js","assets/config-MDUrh2eL.js","assets/StyleDefinition-pu9RBNlY.js","assets/SourceLayerData-WVKaRHM7.js","assets/StyleRepository-BvqU3Hl4.js","assets/unitBezier-BX6NeAEr.js","assets/Lyr3DWorker-CYbDfCTy.js","assets/ILyr3DWasmPerSceneView-vPx4somd.js","assets/Lyr3DModule-sj29B6NI.js","assets/editingSupport-CyNhTx-n.js","assets/layersLoader-C1ZWa6HC.js","assets/featureLayerUtils-D0W4UOu4.js","assets/originUtils-D69mHv66.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/utils-ChNB4JxH.js","assets/saveAPIKeyUtils-Cqg1dAPN.js","assets/saveUtils-BUU9RtL_.js","assets/FeatureLayerSource-BxuUdj8i.js","assets/External-V-QaQ5u-.js","assets/applyEditsUtils-1oGLhBNQ.js","assets/QueryTask-i5ll5GuQ.js","assets/executeForIds-DGkogT9l.js","assets/executeQueryJSON-D-cH_-Xg.js","assets/executeQueryPBF-Bl3WFBFX.js","assets/queryAssociations-DgxNwnjM.js","assets/Association-DSsw6uyO.js","assets/synthesizeAssociationGeometries-V3g2QgxX.js","assets/webdocSaveUtils-Cj0nFXi5.js","assets/resourceUtils-Fm9-BaIE.js","assets/resourceUtils-Dmt6pHqI.js","assets/calcite-icon-0-nc36TI.js","assets/icon-DaxhXezS.js","assets/dom-CtEXAB-7.js","assets/observers-C2A34Kee.js","assets/calcite-block-DxySUjck.js","assets/conditionalSlot-a5XU6T1u.js","assets/interactive-CNwnbIDi.js","assets/locale-BET6kD7U.js","assets/key-D63ExP77.js","assets/t9n-lBCEDqGe.js","assets/Heading-F32cK7JI.js","assets/loadable-CSj6RaJ-.js","assets/openCloseComponent-IZa04dHc.js","assets/floating-ui-CuHTUdZh.js","assets/debounce-BOqmhDXu.js","assets/action-CH3sm1rf.js","assets/component-6CIDVndn.js","assets/loader-p1bx6ime.js","assets/action-menu-DumKamBS.js","assets/array-BMcQdnYi.js","assets/popover-DoZhJKNe.js","assets/focusTrapComponent-BLiS8RBt.js","assets/FloatingArrow-DW-hHtXA.js","assets/handle-DEN1JGaQ.js","assets/scrim-DItL4vio.js","assets/calcite-button-CqG1PB6a.js","assets/button-BnsH0Xdf.js","assets/form-ChvLHK8c.js","assets/label-zjh2qsd9.js","assets/calcite-combobox-BNaERb7c.js","assets/combobox-5vpgdzGk.js","assets/core-Cpfj44ZG.js","assets/filter-yN6-jZOU.js","assets/Validation-CPEZsdMf.js","assets/utils2-BWIUIYkX.js","assets/chip-Dg00vPMP.js","assets/combobox-item-ByhbFjkX.js","assets/input-message-an8pCEmq.js","assets/calcite-combobox-item-vFn6F153.js","assets/calcite-combobox-item-group-BaN8TBvV.js","assets/combobox-item-group--kVvrLa_.js","assets/calcite-input-DnrPXp_3.js","assets/input2-3hASsW9n.js","assets/input-j1u1wOBY.js","assets/progress-CEKxbADc.js","assets/calcite-input-date-picker-Ba5_7ni8.js","assets/input-text-DBWvnaKm.js","assets/calcite-input-message-ktWFDTSj.js","assets/calcite-input-number-RS_t--Iy.js","assets/input-number-C53qmSoj.js","assets/calcite-input-time-picker-vAI2ySnd.js","assets/math-CPc4dlb6.js","assets/calcite-input-time-zone-0hPKU3Ue.js","assets/calcite-label-D93hjYEn.js","assets/calcite-list-D463cNQk.js","assets/resources4-DXHY1U7R.js","assets/utils3-DEe86PKP.js","assets/calcite-list-item-48qnNiBd.js","assets/calcite-loader-Dt8Lxnnv.js","assets/calcite-notice-le1pOBrg.js","assets/calcite-radio-button-r-YlYtsD.js","assets/calcite-radio-button-group-DXqMDzWN.js","assets/calcite-switch-Qj7GNGrH.js","assets/switch-Bq8McfCi.js","assets/calcite-text-area-FGP97tlb.js","assets/throttle-MmodMsuz.js","assets/previewSymbol2D-CuUePCAr.js","assets/previewCIMSymbol-CqiJYdri.js","assets/CIMSymbolRasterizer-BtwGXREA.js","assets/CIMResourceManager-DmlnNZ3n.js","assets/imageUtils-LnXySzmN.js","assets/FeatureServiceSnappingSource-BnbIrRm1.js","assets/memoize-DsJmrG76.js","assets/boundedPlane-YCrsjrS8.js","assets/FeatureTileDescriptor3D-DHCjGIg_.js","assets/queryEngineUtils-Dy692nS8.js","assets/VertexSnappingCandidate-h3WrW2Xz.js","assets/PointSnappingHint-8hfTACiZ.js","assets/TileTreeDebugger-Bzx4N3o_.js","assets/FeatureCollectionSnappingSource-Cyz6M_uH.js","assets/GraphicsSnappingSource-fj7hl24t.js","assets/normalizeUtilsSync-DOwl-Fyb.js","assets/SceneLayerSnappingSource-BmPdpQIZ.js","assets/EdgeWorkerHandle-BwQg52ff.js","assets/Upload-B0JnMsMV.js","assets/progressUtils-Ci7RE5SS.js","assets/editingTools-DgvTawBc.js","assets/SnappingVisualizer2D-CymyM-ks.js","assets/SnappingVisualizer-CTUsdtsL.js","assets/editPlaneUtils-6oRJbZtV.js","assets/dehydratedFeatureComparison-CxonwESs.js","assets/createUtils-rgv2BBH7.js","assets/drawSurfaces-qxkfYhbx.js","assets/mat2df64-CBKYtunK.js","assets/EditGeometryOperations-9oIVWLkG.js","assets/dragEventPipeline-xKBmWv0r.js","assets/interfaces-D6pIddIh.js","assets/hydratedFeatures-BRhOD9YG.js","assets/interfaces-DkjgzG8v.js","assets/drawUtils-Csxa96_i.js","assets/SnappingContext-Cpn1WUY8.js","assets/SnappingDragPipelineStep-CWO2X3_y.js","assets/SnappingOperation-j5_9NNmb.js","assets/Tooltip-D6UI1vCe.js","assets/a11yUtils-BChjGAWF.js","assets/quantityFormatUtils-Cdgcasq6.js","assets/getDefaultUnitForView-DrVBKioD.js","assets/automaticAreaMeasurementUtils-nwpjlQNB.js","assets/euclideanAreaMeasurementUtils-lqzqIcg_.js","assets/triangle-BvzaHny8.js","assets/measurementUtils-DnMBkGHf.js","assets/automaticLengthMeasurementUtils-Cr2MtgZp.js","assets/GraphicManipulator-Xq2Y9aVO.js","assets/editingTools-si4qzNO8.js","assets/TextOverlayItem-DKM6Q5Ew.js","assets/SnappingVisualizer3D-Bth3YFhW.js","assets/ExtendedLineVisualElement-BsI9sj4X.js","assets/vec4f32-CjrfB-0a.js","assets/EngineVisualElement-utBo-bwl.js","assets/ElevationContext-0u_g65xQ.js","assets/Material-5cwIpifF.js","assets/interfaces-CGza0uBR.js","assets/basicInterfaces-DngWxyLO.js","assets/ContentObject-BZXFh7BC.js","assets/IntegerPassUniform-BV9MAEur.js","assets/ShaderTechniqueConfiguration-Ba2Oo7i0.js","assets/doublePrecisionUtils-B0owpBza.js","assets/requestImageUtils-DzTga_rS.js","assets/weather-BLxro0E8.js","assets/NestedMap-DgiGbX8E.js","assets/Geometry-Ba4xjwln.js","assets/OrderIndependentTransparency-Dar7ikM6.js","assets/floatRGBA-0vmpOgzj.js","assets/Intersector-DFmhN7LU.js","assets/ElevationProvider-Z72XcWTz.js","assets/verticalOffsetUtils-Byw9d5zq.js","assets/VertexArrayObject-adc8SYn-.js","assets/VisualElement-Cncb_nzH.js","assets/LaserlineVisualElement-Cpli2ng0.js","assets/ShadedColorMaterial.glsl-B81YxXfT.js","assets/Object3DVisualElement-CzChDDaI.js","assets/ColorMaterial.glsl-9YKbkIUs.js","assets/VertexColor.glsl-D4WHfTL4.js","assets/RenderObject-C6saBYAt.js","assets/ray-DAW-uzC6.js","assets/RightAngleQuadVisualElement--XrmxV3a.js","assets/OutlineVisualElement-CAPClAFy.js","assets/line-MrNX-P16.js","assets/triangulationUtils-B5WoxWgr.js","assets/VerticesVisualElement-DioiD2v-.js","assets/helpMessageUtils3d-CfgT3Ia0.js","assets/manipulatorUtils-D4JLPj5V.js","assets/dragEventPipeline3D-upR95IVD.js","assets/TranslateTooltipInfos-Bo38qQqZ.js","assets/IViewEvents-Bci6PjlS.js","assets/ImageMaterial.glsl-CdWQTK8u.js","assets/ImageMaterial-xfULUQCI.js","assets/DefaultLayouts-C3Py-gzy.js","assets/SlicePlane-B1lWu6fA.js","assets/persistable-B0Qw3aes.js","assets/resourceExtension-Vp_HFlZe.js","assets/LineVisualElement-BSXibN39.js","assets/RenderCoordsHelper-D0uwfR3O.js","assets/projectVectorToPoint-C5fA5x6U.js","assets/Factory-BDKeEygm.js","assets/extentUtils-W0ZKjlYl.js","assets/GraphicsLayerView3D-0m6hktYi.js","assets/LayerView3D-7HzYlANA.js","assets/heightModelInfoUtils-CYfboRg2.js","assets/queryForSymbologySnapping-D3QODN7Y.js","assets/GraphicsProcessor-zLFUd7wo.js","assets/WaterSurface.glsl-DJiRVkTI.js","assets/RealisticTree.glsl-CwQ9Or_P.js","assets/DefaultMaterial_COLOR_GAMMA-DpjIaYJf.js","assets/resourceUtils-BT8kUm1Z.js","assets/MeshComponent-Vga6qE-G.js","assets/Intersector-Cp54otHo.js","assets/Graphics3DScaleVisibility-CVgbcctn.js","assets/rendererConversion-QD-kwf0Q.js","assets/popupUtils-B33__man.js","assets/projectExtentUtils-BH2-rb7a.js","assets/geometryServiceUtils-DQSAcvNz.js","assets/LayerView-D2pvr0Q6.js","assets/GraphicMover-LVr5zNDW.js","assets/Box-CkpfxhLn.js","assets/settings-BwqNq0zR.js","assets/Reshape-BrlSnc5G.js","assets/calcite-scrim-BAUb--gN.js","assets/calcite-tooltip-CK5PUfe2.js","assets/Legend-CYIu8arl.js","assets/featureReductionUtils-Caulfaw_.js","assets/EffectView-CzpqZJb_.js","assets/ExportImageParameters-DvGxpq9G.js","assets/scaleUtils-BKVOuLFd.js","assets/sublayerUtils-CrB-1uER.js","assets/utils-Co-S1tNt.js","assets/utils-DmGgSuU8.js","assets/accessibleHandler-yeijlTke.js","assets/calcite-accordion-DB_OD1X3.js","assets/calcite-accordion-item-DZwXu520.js","assets/calcite-action-CIAswhu7.js","assets/calcite-flow-item-Cc_bU4ZN.js","assets/panel-YqiVucYe.js","assets/calcite-flow-B0deF7E1.js","assets/calcite-option-DRecTMIe.js","assets/calcite-select-DIYH3iOC.js","assets/deleteVersion-By1qQuxw.js","assets/serverVersionUtils-Ddxr_5Yk.js","assets/reconcile-CLAPwrei.js","assets/post-BFQ8dIps.js","assets/alterVersion-CBj7I1NE.js","assets/calcite-action.entry-BV857Lt1.js","assets/dom-b6dedd88-BL1g3sLh.js","assets/guid-9c230b6a-BxSjQh8J.js","assets/interactive-1a42577a-DS4t6LCf.js","assets/loadable-13e9ffb2-DArKAAV8.js","assets/locale-60f8ca58-owi61rSf.js","assets/key-3ee05994-D63ExP77.js","assets/observers-9c166451-CD-vLZ5G.js","assets/component-5f0a8be8-6CIDVndn.js","assets/t9n-75defee3-BaFnYPUU.js","assets/calcite-action-bar.entry-C6GFXrVE.js","assets/conditionalSlot-167e1146-CABTBXUR.js","assets/ExpandToggle-623527ca-DnfZegff.js","assets/resources-c6ed25f3-BhfbaUuh.js","assets/resources-fa285c14-Ka4DNstb.js","assets/debounce-6e4946fd-CA9eFM3j.js","assets/calcite-action-menu.entry-C-IOTaCz.js","assets/array-2c4e379e-BMcQdnYi.js","assets/calcite-action-pad.entry-B7darS5l.js","assets/calcite-alert.entry-ClGIR1FQ.js","assets/openCloseComponent-4d1d6536-BiGG0Nuz.js","assets/resources-4b812945-DjkgwdyM.js","assets/calcite-avatar.entry-w0fqsqi3.js","assets/utils-3daeffe5-yuTZ9FzJ.js","assets/calcite-button.entry-gwq3j40V.js","assets/form-8ec29459-Au8Fr9DP.js","assets/label-043ae25a-DDiaqGAg.js","assets/calcite-card.entry-VSZ64P_-.js","assets/calcite-card-group.entry-Docu0DrF.js","assets/calcite-checkbox.entry-CmkGCPuH.js","assets/calcite-chip.entry-C3Ft36rV.js","assets/calcite-chip-group.entry-BT6MzjEA.js","assets/calcite-dialog.entry-Da9TqHJU.js","assets/focusTrapComponent-7cfd1d69-B3O7rRLp.js","assets/resources-f4a93932-wtID6CGE.js","assets/calcite-fab.entry-CujYeB1s.js","assets/calcite-flow.entry-DV_2tikO.js","assets/calcite-icon.entry-ZanVB0ST.js","assets/calcite-inline-editable.entry-C8volqP9.js","assets/calcite-input.entry-DwvrMqlf.js","assets/Validation-c59cb4eb-UHWtJmbn.js","assets/input-871f5b21-j1u1wOBY.js","assets/calcite-input-date-picker.entry-CNVmd7T2.js","assets/utils-f1cd2770-C135l7Mq.js","assets/floating-ui-382f6e89-DdWfGC1a.js","assets/calcite-input-message.entry-BEk05Eh3.js","assets/calcite-input-number.entry-Cynpb2K1.js","assets/calcite-input-time-zone.entry-RsLyiedH.js","assets/calcite-label.entry-NIQPv_QF.js","assets/calcite-link.entry-Ca-pTxJc.js","assets/calcite-loader.entry-y3ItXPJK.js","assets/calcite-meter.entry-CEFWvV3R.js","assets/calcite-modal.entry-Dve96iar.js","assets/logger-d56ad214-B4JIhk8Q.js","assets/calcite-notice.entry-DbHbihX4.js","assets/calcite-pagination.entry-HD2_tjfH.js","assets/responsive-5b4f3a40-3Qk2XNng.js","assets/calcite-panel.entry-SVDXI18y.js","assets/Heading-4aed0b02-CSqkb0ec.js","assets/calcite-popover.entry-LLpVm1bB.js","assets/FloatingArrow-1af31f3f-CKaUxkZP.js","assets/calcite-progress.entry-dOamZjhn.js","assets/calcite-radio-button.entry-DSpNdkxP.js","assets/calcite-radio-button-group.entry-Dn2Jms_V.js","assets/calcite-rating.entry-Fk8obyt9.js","assets/calcite-scrim.entry-yf4RPHF3.js","assets/calcite-sheet.entry-CSJbEjf4.js","assets/calcite-sortable-list.entry-09Hjz9VB.js","assets/sortableComponent-d3c6a806-Ct4hlH-1.js","assets/calcite-split-button.entry-Uw49DerZ.js","assets/calcite-stack.entry-x4aANbOY.js","assets/resources-712f69f4-6IkRkr2k.js","assets/calcite-switch.entry-D6i-q6I5.js","assets/calcite-text-area.entry-DuvkZ1vM.js","assets/throttle-1a76fbfb-D_vt46yg.js","assets/calcite-tile.entry-BJa3TnR5.js","assets/calcite-tile-group.entry-BvQ_iNsj.js","assets/calcite-tooltip.entry-DcMb-sEs.js","assets/calcite-accordion_2.entry-AeZawDYG.js","assets/calcite-block_2.entry-IjHLBn2m.js","assets/calcite-carousel_2.entry-B_RK-8R9.js","assets/calcite-menu_2.entry-P6ym6v4e.js","assets/calcite-segmented-control_2.entry-Ctm8GFxw.js","assets/calcite-graph_2.entry-C1kipy0x.js","assets/math-682795d0-CPc4dlb6.js","assets/calcite-stepper_2.entry-CHUjbjUk.js","assets/calcite-tile-select_2.entry-CGHGjgsD.js","assets/calcite-tree_2.entry-Bd1UsU3L.js","assets/calcite-value-list_2.entry-Vhwa8SAt.js","assets/resources-9fe05a64-gksZV4l5.js","assets/calcite-color-picker_3.entry-B0uN1Vfp.js","assets/calcite-combobox_3.entry-D3EYdZV9.js","assets/core-1f5dba8b-Cpfj44ZG.js","assets/filter-ec7b1a9c-pqDxot8P.js","assets/calcite-dropdown_3.entry-CVLWeaGJ.js","assets/calcite-list_3.entry-Cu9cUVGn.js","assets/calcite-navigation_3.entry-CtOlkCMT.js","assets/calcite-pick-list_3.entry-b4W7UKY1.js","assets/calcite-option_3.entry-BCvX1IHi.js","assets/calcite-shell_3.entry-Dc6_-JZN.js","assets/calcite-tip_3.entry-CjAVZy9U.js","assets/calcite-date-picker_4.entry-DfCxvrIw.js","assets/calcite-tab_4.entry-DoHZy853.js","assets/calcite-flow-item.entry-BYBienZW.js","assets/calcite-table.entry-BIAxsfF1.js","assets/calcite-table-row.entry-CTxdbCbA.js","assets/calcite-table-cell_2.entry-d88ejBRR.js","assets/calcite-action-group.entry-nKN6-pgg.js","assets/calcite-handle.entry-_yccJWVh.js","assets/calcite-filter.entry-ZbYQAjuv.js","assets/calcite-input-text.entry-ENDPDGBH.js","assets/calcite-input-time-picker_2.entry-DsTp0C7M.js","assets/arcgis-basemap-gallery_2.entry-DbOyPVWf.js","assets/index-f6afcedb-DHYvrUJE.js","assets/component-utils-858627d8-DRqmNtSu.js","assets/disconnected-e221dd46-DyoRKtII.js","assets/arcgis-area-measurement-2d.entry-ByJ1otwd.js","assets/arcgis-area-measurement-3d.entry-DZipszDN.js","assets/arcgis-attachments.entry-BgRx_rHJ.js","assets/arcgis-basemap-layer-list.entry-B4Zqbp2M.js","assets/arcgis-basemap-toggle.entry-Bf-0fGYp.js","assets/arcgis-bookmarks.entry-B3M_HS4h.js","assets/arcgis-building-explorer.entry-BOVhD3PN.js","assets/arcgis-compass.entry-Cg__POo1.js","assets/arcgis-coordinate-conversion.entry-sIYgjMvM.js","assets/arcgis-daylight.entry-dk-2MBE8.js","assets/arcgis-directional-pad.entry-CGLWSu8T.js","assets/arcgis-directions.entry-BmstSM5w.js","assets/arcgis-directline-measurement-3d.entry-BHJOZViE.js","assets/arcgis-distance-measurement-2d.entry-BuIv7fVV.js","assets/arcgis-editor.entry-BurLKOvf.js","assets/arcgis-elevation-profile.entry-BWn3SlCI.js","assets/arcgis-feature.entry-BccNo9r_.js","assets/arcgis-feature-form.entry-BMuQ3AqG.js","assets/arcgis-feature-table.entry-CmvJccy3.js","assets/arcgis-feature-templates.entry-PIcU481E.js","assets/arcgis-features.entry-BCGi4bh8.js","assets/arcgis-floor-filter.entry-x55kSVv1.js","assets/arcgis-fullscreen.entry-D5-br35J.js","assets/arcgis-histogram.entry-Cg0msYw6.js","assets/arcgis-histogram-range-slider.entry-B9LTSog8.js","assets/arcgis-home.entry-C8MiIc6L.js","assets/arcgis-layer-list.entry-QZnbyFjR.js","assets/arcgis-legend.entry-CFe6mApc.js","assets/arcgis-line-of-sight.entry-D4UEdIdF.js","assets/arcgis-locate.entry-Dyp0dW_M.js","assets/arcgis-measurement.entry-s6a5nDbo.js","assets/arcgis-navigation-toggle.entry-Bry4LY7H.js","assets/arcgis-placement.entry-CtyOgJWZ.js","assets/arcgis-print.entry-BMrVSurv.js","assets/arcgis-scale-bar.entry-DJm518WT.js","assets/arcgis-scale-range-slider.entry-B929TIBu.js","assets/arcgis-scene.entry-B8UjKgpi.js","assets/arcgis-search.entry-CIVFL8R9.js","assets/arcgis-shadow-cast.entry-BXolW1T-.js","assets/arcgis-sketch.entry-CVWvftpV.js","assets/arcgis-slice.entry-dGw9A_vO.js","assets/arcgis-slider.entry-CSQ7NDKW.js","assets/arcgis-swipe.entry-Bv4yMX9b.js","assets/arcgis-table-list.entry-CVLVwkUi.js","assets/arcgis-time-slider.entry-BTCpAexE.js","assets/arcgis-track.entry-C7gRHr4O.js","assets/arcgis-utility-network-associations.entry-BIDH-TBF.js","assets/arcgis-utility-network-trace.entry-DsrgEd_J.js","assets/arcgis-utility-network-validate-topology.entry-QAEwm8Ln.js","assets/arcgis-value-picker.entry-D0ZUxL0o.js","assets/arcgis-version-management.entry-BR3ylGOL.js","assets/arcgis-weather.entry-CF5vtS03.js","assets/arcgis-zoom.entry-Cfvj-RJi.js","assets/arcgis-version-management-service-item_2.entry-leaLhUGD.js","assets/arcgis-version-management-version-item_2.entry-Db_GJgrv.js","assets/arcgis-expand.entry-Bjx-rQh1.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=i(s);fetch(s.href,c)}})();var S6={exports:{}},Mg={},$6={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function Die(){if(tF)return Qt;tF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function L(be){return be===null||typeof be!="object"?null:(be=C&&be[C]||be["@@iterator"],typeof be=="function"?be:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function q(be,Le,Pt){this.props=be,this.context=Le,this.refs=G,this.updater=Pt||N}q.prototype.isReactComponent={},q.prototype.setState=function(be,Le){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,Le,"setState")},q.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function J(){}J.prototype=q.prototype;function ne(be,Le,Pt){this.props=be,this.context=Le,this.refs=G,this.updater=Pt||N}var ue=ne.prototype=new J;ue.constructor=ne,D(ue,q.prototype),ue.isPureReactComponent=!0;var ae=Array.isArray,pe=Object.prototype.hasOwnProperty,ge={current:null},Ae={key:!0,ref:!0,__self:!0,__source:!0};function Ce(be,Le,Pt){var Dt,Zt={},ii=null,wi=null;if(Le!=null)for(Dt in Le.ref!==void 0&&(wi=Le.ref),Le.key!==void 0&&(ii=""+Le.key),Le)pe.call(Le,Dt)&&!Ae.hasOwnProperty(Dt)&&(Zt[Dt]=Le[Dt]);var ui=arguments.length-2;if(ui===1)Zt.children=Pt;else if(1<ui){for(var Li=Array(ui),Cn=0;Cn<ui;Cn++)Li[Cn]=arguments[Cn+2];Zt.children=Li}if(be&&be.defaultProps)for(Dt in ui=be.defaultProps,ui)Zt[Dt]===void 0&&(Zt[Dt]=ui[Dt]);return{$$typeof:e,type:be,key:ii,ref:wi,props:Zt,_owner:ge.current}}function qe(be,Le){return{$$typeof:e,type:be.type,key:Le,ref:be.ref,props:be.props,_owner:be._owner}}function Ge(be){return typeof be=="object"&&be!==null&&be.$$typeof===e}function Ue(be){var Le={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(Pt){return Le[Pt]})}var et=/\/+/g;function nt(be,Le){return typeof be=="object"&&be!==null&&be.key!=null?Ue(""+be.key):Le.toString(36)}function Qe(be,Le,Pt,Dt,Zt){var ii=typeof be;(ii==="undefined"||ii==="boolean")&&(be=null);var wi=!1;if(be===null)wi=!0;else switch(ii){case"string":case"number":wi=!0;break;case"object":switch(be.$$typeof){case e:case t:wi=!0}}if(wi)return wi=be,Zt=Zt(wi),be=Dt===""?"."+nt(wi,0):Dt,ae(Zt)?(Pt="",be!=null&&(Pt=be.replace(et,"$&/")+"/"),Qe(Zt,Le,Pt,"",function(Cn){return Cn})):Zt!=null&&(Ge(Zt)&&(Zt=qe(Zt,Pt+(!Zt.key||wi&&wi.key===Zt.key?"":(""+Zt.key).replace(et,"$&/")+"/")+be)),Le.push(Zt)),1;if(wi=0,Dt=Dt===""?".":Dt+":",ae(be))for(var ui=0;ui<be.length;ui++){ii=be[ui];var Li=Dt+nt(ii,ui);wi+=Qe(ii,Le,Pt,Li,Zt)}else if(Li=L(be),typeof Li=="function")for(be=Li.call(be),ui=0;!(ii=be.next()).done;)ii=ii.value,Li=Dt+nt(ii,ui++),wi+=Qe(ii,Le,Pt,Li,Zt);else if(ii==="object")throw Le=String(be),Error("Objects are not valid as a React child (found: "+(Le==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":Le)+"). If you meant to render a collection of children, use an array instead.");return wi}function Tt(be,Le,Pt){if(be==null)return be;var Dt=[],Zt=0;return Qe(be,Dt,"","",function(ii){return Le.call(Pt,ii,Zt++)}),Dt}function ri(be){if(be._status===-1){var Le=be._result;Le=Le(),Le.then(function(Pt){(be._status===0||be._status===-1)&&(be._status=1,be._result=Pt)},function(Pt){(be._status===0||be._status===-1)&&(be._status=2,be._result=Pt)}),be._status===-1&&(be._status=0,be._result=Le)}if(be._status===1)return be._result.default;throw be._result}var yt={current:null},Oe={transition:null},dt={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Oe,ReactCurrentOwner:ge};function rt(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:Tt,forEach:function(be,Le,Pt){Tt(be,function(){Le.apply(this,arguments)},Pt)},count:function(be){var Le=0;return Tt(be,function(){Le++}),Le},toArray:function(be){return Tt(be,function(Le){return Le})||[]},only:function(be){if(!Ge(be))throw Error("React.Children.only expected to receive a single React element child.");return be}},Qt.Component=q,Qt.Fragment=i,Qt.Profiler=s,Qt.PureComponent=ne,Qt.StrictMode=r,Qt.Suspense=b,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dt,Qt.act=rt,Qt.cloneElement=function(be,Le,Pt){if(be==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+be+".");var Dt=D({},be.props),Zt=be.key,ii=be.ref,wi=be._owner;if(Le!=null){if(Le.ref!==void 0&&(ii=Le.ref,wi=ge.current),Le.key!==void 0&&(Zt=""+Le.key),be.type&&be.type.defaultProps)var ui=be.type.defaultProps;for(Li in Le)pe.call(Le,Li)&&!Ae.hasOwnProperty(Li)&&(Dt[Li]=Le[Li]===void 0&&ui!==void 0?ui[Li]:Le[Li])}var Li=arguments.length-2;if(Li===1)Dt.children=Pt;else if(1<Li){ui=Array(Li);for(var Cn=0;Cn<Li;Cn++)ui[Cn]=arguments[Cn+2];Dt.children=ui}return{$$typeof:e,type:be.type,key:Zt,ref:ii,props:Dt,_owner:wi}},Qt.createContext=function(be){return be={$$typeof:f,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},be.Provider={$$typeof:c,_context:be},be.Consumer=be},Qt.createElement=Ce,Qt.createFactory=function(be){var Le=Ce.bind(null,be);return Le.type=be,Le},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(be){return{$$typeof:m,render:be}},Qt.isValidElement=Ge,Qt.lazy=function(be){return{$$typeof:T,_payload:{_status:-1,_result:be},_init:ri}},Qt.memo=function(be,Le){return{$$typeof:x,type:be,compare:Le===void 0?null:Le}},Qt.startTransition=function(be){var Le=Oe.transition;Oe.transition={};try{be()}finally{Oe.transition=Le}},Qt.unstable_act=rt,Qt.useCallback=function(be,Le){return yt.current.useCallback(be,Le)},Qt.useContext=function(be){return yt.current.useContext(be)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(be){return yt.current.useDeferredValue(be)},Qt.useEffect=function(be,Le){return yt.current.useEffect(be,Le)},Qt.useId=function(){return yt.current.useId()},Qt.useImperativeHandle=function(be,Le,Pt){return yt.current.useImperativeHandle(be,Le,Pt)},Qt.useInsertionEffect=function(be,Le){return yt.current.useInsertionEffect(be,Le)},Qt.useLayoutEffect=function(be,Le){return yt.current.useLayoutEffect(be,Le)},Qt.useMemo=function(be,Le){return yt.current.useMemo(be,Le)},Qt.useReducer=function(be,Le,Pt){return yt.current.useReducer(be,Le,Pt)},Qt.useRef=function(be){return yt.current.useRef(be)},Qt.useState=function(be){return yt.current.useState(be)},Qt.useSyncExternalStore=function(be,Le,Pt){return yt.current.useSyncExternalStore(be,Le,Pt)},Qt.useTransition=function(){return yt.current.useTransition()},Qt.version="18.3.1",Qt}var iF;function Rk(){return iF||(iF=1,$6.exports=Die()),$6.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF;function Vie(){if(rF)return Mg;rF=1;var e=Rk(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,b,x){var T,C={},L=null,N=null;x!==void 0&&(L=""+x),b.key!==void 0&&(L=""+b.key),b.ref!==void 0&&(N=b.ref);for(T in b)r.call(b,T)&&!c.hasOwnProperty(T)&&(C[T]=b[T]);if(m&&m.defaultProps)for(T in b=m.defaultProps,b)C[T]===void 0&&(C[T]=b[T]);return{$$typeof:t,type:m,key:L,ref:N,props:C,_owner:s.current}}return Mg.Fragment=i,Mg.jsx=f,Mg.jsxs=f,Mg}var nF;function zie(){return nF||(nF=1,S6.exports=Vie()),S6.exports}var Lo=zie(),w5=Rk(),Xw={},x6={exports:{}},Ws={},E6={exports:{}},T6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sF;function Uie(){return sF||(sF=1,function(e){function t(Oe,dt){var rt=Oe.length;Oe.push(dt);e:for(;0<rt;){var be=rt-1>>>1,Le=Oe[be];if(0<s(Le,dt))Oe[be]=dt,Oe[rt]=Le,rt=be;else break e}}function i(Oe){return Oe.length===0?null:Oe[0]}function r(Oe){if(Oe.length===0)return null;var dt=Oe[0],rt=Oe.pop();if(rt!==dt){Oe[0]=rt;e:for(var be=0,Le=Oe.length,Pt=Le>>>1;be<Pt;){var Dt=2*(be+1)-1,Zt=Oe[Dt],ii=Dt+1,wi=Oe[ii];if(0>s(Zt,rt))ii<Le&&0>s(wi,Zt)?(Oe[be]=wi,Oe[ii]=rt,be=ii):(Oe[be]=Zt,Oe[Dt]=rt,be=Dt);else if(ii<Le&&0>s(wi,rt))Oe[be]=wi,Oe[ii]=rt,be=ii;else break e}}return dt}function s(Oe,dt){var rt=Oe.sortIndex-dt.sortIndex;return rt!==0?rt:Oe.id-dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var b=[],x=[],T=1,C=null,L=3,N=!1,D=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(Oe){for(var dt=i(x);dt!==null;){if(dt.callback===null)r(x);else if(dt.startTime<=Oe)r(x),dt.sortIndex=dt.expirationTime,t(b,dt);else break;dt=i(x)}}function ae(Oe){if(G=!1,ue(Oe),!D)if(i(b)!==null)D=!0,ri(pe);else{var dt=i(x);dt!==null&&yt(ae,dt.startTime-Oe)}}function pe(Oe,dt){D=!1,G&&(G=!1,J(Ce),Ce=-1),N=!0;var rt=L;try{for(ue(dt),C=i(b);C!==null&&(!(C.expirationTime>dt)||Oe&&!Ue());){var be=C.callback;if(typeof be=="function"){C.callback=null,L=C.priorityLevel;var Le=be(C.expirationTime<=dt);dt=e.unstable_now(),typeof Le=="function"?C.callback=Le:C===i(b)&&r(b),ue(dt)}else r(b);C=i(b)}if(C!==null)var Pt=!0;else{var Dt=i(x);Dt!==null&&yt(ae,Dt.startTime-dt),Pt=!1}return Pt}finally{C=null,L=rt,N=!1}}var ge=!1,Ae=null,Ce=-1,qe=5,Ge=-1;function Ue(){return!(e.unstable_now()-Ge<qe)}function et(){if(Ae!==null){var Oe=e.unstable_now();Ge=Oe;var dt=!0;try{dt=Ae(!0,Oe)}finally{dt?nt():(ge=!1,Ae=null)}}else ge=!1}var nt;if(typeof ne=="function")nt=function(){ne(et)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Tt=Qe.port2;Qe.port1.onmessage=et,nt=function(){Tt.postMessage(null)}}else nt=function(){q(et,0)};function ri(Oe){Ae=Oe,ge||(ge=!0,nt())}function yt(Oe,dt){Ce=q(function(){Oe(e.unstable_now())},dt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Oe){Oe.callback=null},e.unstable_continueExecution=function(){D||N||(D=!0,ri(pe))},e.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<Oe?Math.floor(1e3/Oe):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return i(b)},e.unstable_next=function(Oe){switch(L){case 1:case 2:case 3:var dt=3;break;default:dt=L}var rt=L;L=dt;try{return Oe()}finally{L=rt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Oe,dt){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var rt=L;L=Oe;try{return dt()}finally{L=rt}},e.unstable_scheduleCallback=function(Oe,dt,rt){var be=e.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?be+rt:be):rt=be,Oe){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=rt+Le,Oe={id:T++,callback:dt,priorityLevel:Oe,startTime:rt,expirationTime:Le,sortIndex:-1},rt>be?(Oe.sortIndex=rt,t(x,Oe),i(b)===null&&Oe===i(x)&&(G?(J(Ce),Ce=-1):G=!0,yt(ae,rt-be))):(Oe.sortIndex=Le,t(b,Oe),D||N||(D=!0,ri(pe))),Oe},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(Oe){var dt=L;return function(){var rt=L;L=dt;try{return Oe.apply(this,arguments)}finally{L=rt}}}}(T6)),T6}var oF;function Gie(){return oF||(oF=1,E6.exports=Uie()),E6.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF;function Wie(){if(aF)return Ws;aF=1;var e=Rk(),t=Gie();function i(w){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+w,A=1;A<arguments.length;A++)E+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function c(w,E){f(w,E),f(w+"Capture",E)}function f(w,E){for(s[w]=E,w=0;w<E.length;w++)r.add(E[w])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},C={};function L(w){return b.call(C,w)?!0:b.call(T,w)?!1:x.test(w)?C[w]=!0:(T[w]=!0,!1)}function N(w,E,A,R){if(A!==null&&A.type===0)return!1;switch(typeof E){case"function":case"symbol":return!0;case"boolean":return R?!1:A!==null?!A.acceptsBooleans:(w=w.toLowerCase().slice(0,5),w!=="data-"&&w!=="aria-");default:return!1}}function D(w,E,A,R){if(E===null||typeof E>"u"||N(w,E,A,R))return!0;if(R)return!1;if(A!==null)switch(A.type){case 3:return!E;case 4:return E===!1;case 5:return isNaN(E);case 6:return isNaN(E)||1>E}return!1}function G(w,E,A,R,V,W,X){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=R,this.attributeNamespace=V,this.mustUseProperty=A,this.propertyName=w,this.type=E,this.sanitizeURL=W,this.removeEmptyString=X}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(w){q[w]=new G(w,0,!1,w,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(w){var E=w[0];q[E]=new G(E,1,!1,w[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(w){q[w]=new G(w,2,!1,w.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(w){q[w]=new G(w,2,!1,w,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(w){q[w]=new G(w,3,!1,w.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(w){q[w]=new G(w,3,!0,w,null,!1,!1)}),["capture","download"].forEach(function(w){q[w]=new G(w,4,!1,w,null,!1,!1)}),["cols","rows","size","span"].forEach(function(w){q[w]=new G(w,6,!1,w,null,!1,!1)}),["rowSpan","start"].forEach(function(w){q[w]=new G(w,5,!1,w.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function ne(w){return w[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(w){var E=w.replace(J,ne);q[E]=new G(E,1,!1,w,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(w){var E=w.replace(J,ne);q[E]=new G(E,1,!1,w,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(w){var E=w.replace(J,ne);q[E]=new G(E,1,!1,w,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(w){q[w]=new G(w,1,!1,w.toLowerCase(),null,!1,!1)}),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(w){q[w]=new G(w,1,!1,w.toLowerCase(),null,!0,!0)});function ue(w,E,A,R){var V=q.hasOwnProperty(E)?q[E]:null;(V!==null?V.type!==0:R||!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(D(E,A,V,R)&&(A=null),R||V===null?L(E)&&(A===null?w.removeAttribute(E):w.setAttribute(E,""+A)):V.mustUseProperty?w[V.propertyName]=A===null?V.type===3?!1:"":A:(E=V.attributeName,R=V.attributeNamespace,A===null?w.removeAttribute(E):(V=V.type,A=V===3||V===4&&A===!0?"":""+A,R?w.setAttributeNS(R,E,A):w.setAttribute(E,A))))}var ae=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),ge=Symbol.for("react.portal"),Ae=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),yt=Symbol.for("react.offscreen"),Oe=Symbol.iterator;function dt(w){return w===null||typeof w!="object"?null:(w=Oe&&w[Oe]||w["@@iterator"],typeof w=="function"?w:null)}var rt=Object.assign,be;function Le(w){if(be===void 0)try{throw Error()}catch(A){var E=A.stack.trim().match(/\n( *(at )?)/);be=E&&E[1]||""}return`
`+be+w}var Pt=!1;function Dt(w,E){if(!w||Pt)return"";Pt=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(xe){var R=xe}Reflect.construct(w,[],E)}else{try{E.call()}catch(xe){R=xe}w.call(E.prototype)}else{try{throw Error()}catch(xe){R=xe}w()}}catch(xe){if(xe&&R&&typeof xe.stack=="string"){for(var V=xe.stack.split(`
`),W=R.stack.split(`
`),X=V.length-1,oe=W.length-1;1<=X&&0<=oe&&V[X]!==W[oe];)oe--;for(;1<=X&&0<=oe;X--,oe--)if(V[X]!==W[oe]){if(X!==1||oe!==1)do if(X--,oe--,0>oe||V[X]!==W[oe]){var he=`
`+V[X].replace(" at new "," at ");return w.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",w.displayName)),he}while(1<=X&&0<=oe);break}}}finally{Pt=!1,Error.prepareStackTrace=A}return(w=w?w.displayName||w.name:"")?Le(w):""}function Zt(w){switch(w.tag){case 5:return Le(w.type);case 16:return Le("Lazy");case 13:return Le("Suspense");case 19:return Le("SuspenseList");case 0:case 2:case 15:return w=Dt(w.type,!1),w;case 11:return w=Dt(w.type.render,!1),w;case 1:return w=Dt(w.type,!0),w;default:return""}}function ii(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case Ae:return"Fragment";case ge:return"Portal";case qe:return"Profiler";case Ce:return"StrictMode";case nt:return"Suspense";case Qe:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case Ue:return(w.displayName||"Context")+".Consumer";case Ge:return(w._context.displayName||"Context")+".Provider";case et:var E=w.render;return w=w.displayName,w||(w=E.displayName||E.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case Tt:return E=w.displayName||null,E!==null?E:ii(w.type)||"Memo";case ri:E=w._payload,w=w._init;try{return ii(w(E))}catch{}}return null}function wi(w){var E=w.type;switch(w.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=E.render,w=w.displayName||w.name||"",E.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ii(E);case 8:return E===Ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function ui(w){switch(typeof w){case"boolean":case"number":case"string":case"undefined":return w;case"object":return w;default:return""}}function Li(w){var E=w.type;return(w=w.nodeName)&&w.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function Cn(w){var E=Li(w)?"checked":"value",A=Object.getOwnPropertyDescriptor(w.constructor.prototype,E),R=""+w[E];if(!w.hasOwnProperty(E)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var V=A.get,W=A.set;return Object.defineProperty(w,E,{configurable:!0,get:function(){return V.call(this)},set:function(X){R=""+X,W.call(this,X)}}),Object.defineProperty(w,E,{enumerable:A.enumerable}),{getValue:function(){return R},setValue:function(X){R=""+X},stopTracking:function(){w._valueTracker=null,delete w[E]}}}}function sh(w){w._valueTracker||(w._valueTracker=Cn(w))}function D0(w){if(!w)return!1;var E=w._valueTracker;if(!E)return!0;var A=E.getValue(),R="";return w&&(R=Li(w)?w.checked?"true":"false":w.value),w=R,w!==A?(E.setValue(w),!0):!1}function ju(w){if(w=w||(typeof document<"u"?document:void 0),typeof w>"u")return null;try{return w.activeElement||w.body}catch{return w.body}}function _p(w,E){var A=E.checked;return rt({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??w._wrapperState.initialChecked})}function V0(w,E){var A=E.defaultValue==null?"":E.defaultValue,R=E.checked!=null?E.checked:E.defaultChecked;A=ui(E.value!=null?E.value:A),w._wrapperState={initialChecked:R,initialValue:A,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function z0(w,E){E=E.checked,E!=null&&ue(w,"checked",E,!1)}function nr(w,E){z0(w,E);var A=ui(E.value),R=E.type;if(A!=null)R==="number"?(A===0&&w.value===""||w.value!=A)&&(w.value=""+A):w.value!==""+A&&(w.value=""+A);else if(R==="submit"||R==="reset"){w.removeAttribute("value");return}E.hasOwnProperty("value")?jr(w,E.type,A):E.hasOwnProperty("defaultValue")&&jr(w,E.type,ui(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(w.defaultChecked=!!E.defaultChecked)}function Y(w,E,A){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var R=E.type;if(!(R!=="submit"&&R!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+w._wrapperState.initialValue,A||E===w.value||(w.value=E),w.defaultValue=E}A=w.name,A!==""&&(w.name=""),w.defaultChecked=!!w._wrapperState.initialChecked,A!==""&&(w.name=A)}function jr(w,E,A){(E!=="number"||ju(w.ownerDocument)!==w)&&(A==null?w.defaultValue=""+w._wrapperState.initialValue:w.defaultValue!==""+A&&(w.defaultValue=""+A))}var kl=Array.isArray;function Vt(w,E,A,R){if(w=w.options,E){E={};for(var V=0;V<A.length;V++)E["$"+A[V]]=!0;for(A=0;A<w.length;A++)V=E.hasOwnProperty("$"+w[A].value),w[A].selected!==V&&(w[A].selected=V),V&&R&&(w[A].defaultSelected=!0)}else{for(A=""+ui(A),E=null,V=0;V<w.length;V++){if(w[V].value===A){w[V].selected=!0,R&&(w[V].defaultSelected=!0);return}E!==null||w[V].disabled||(E=w[V])}E!==null&&(E.selected=!0)}}function ji(w,E){if(E.dangerouslySetInnerHTML!=null)throw Error(i(91));return rt({},E,{value:void 0,defaultValue:void 0,children:""+w._wrapperState.initialValue})}function Rs(w,E){var A=E.value;if(A==null){if(A=E.children,E=E.defaultValue,A!=null){if(E!=null)throw Error(i(92));if(kl(A)){if(1<A.length)throw Error(i(93));A=A[0]}E=A}E==null&&(E=""),A=E}w._wrapperState={initialValue:ui(A)}}function go(w,E){var A=ui(E.value),R=ui(E.defaultValue);A!=null&&(A=""+A,A!==w.value&&(w.value=A),E.defaultValue==null&&w.defaultValue!==A&&(w.defaultValue=A)),R!=null&&(w.defaultValue=""+R)}function Ns(w){var E=w.textContent;E===w._wrapperState.initialValue&&E!==""&&E!==null&&(w.value=E)}function vo(w){switch(w){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ds(w,E){return w==null||w==="http://www.w3.org/1999/xhtml"?vo(E):w==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":w}var Du,Bo=function(w){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(E,A,R,V){MSApp.execUnsafeLocalFunction(function(){return w(E,A,R,V)})}:w}(function(w,E){if(w.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in w)w.innerHTML=E;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=Du.firstChild;w.firstChild;)w.removeChild(w.firstChild);for(;E.firstChild;)w.appendChild(E.firstChild)}});function Ve(w,E){if(E){var A=w.firstChild;if(A&&A===w.lastChild&&A.nodeType===3){A.nodeValue=E;return}}w.textContent=E}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(w){h.forEach(function(E){E=E+w.charAt(0).toUpperCase()+w.substring(1),js[E]=js[w]})});function P(w,E,A){return E==null||typeof E=="boolean"||E===""?"":A||typeof E!="number"||E===0||js.hasOwnProperty(w)&&js[w]?(""+E).trim():E+"px"}function _(w,E){w=w.style;for(var A in E)if(E.hasOwnProperty(A)){var R=A.indexOf("--")===0,V=P(A,E[A],R);A==="float"&&(A="cssFloat"),R?w.setProperty(A,V):w[A]=V}}var u=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a(w,E){if(E){if(u[w]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(i(137,w));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(i(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(i(61))}if(E.style!=null&&typeof E.style!="object")throw Error(i(62))}}function n(w,E){if(w.indexOf("-")===-1)return typeof E.is=="string";switch(w){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o=null;function l(w){return w=w.target||w.srcElement||window,w.correspondingUseElement&&(w=w.correspondingUseElement),w.nodeType===3?w.parentNode:w}var d=null,p=null,y=null;function v(w){if(w=pg(w)){if(typeof d!="function")throw Error(i(280));var E=w.stateNode;E&&(E=fw(E),d(w.stateNode,w.type,E))}}function $(w){p?y?y.push(w):y=[w]:p=w}function I(){if(p){var w=p,E=y;if(y=p=null,v(w),E)for(w=0;w<E.length;w++)v(E[w])}}function k(w,E){return w(E)}function O(){}var F=!1;function j(w,E,A){if(F)return w(E,A);F=!0;try{return k(w,E,A)}finally{F=!1,(p!==null||y!==null)&&(O(),I())}}function z(w,E){var A=w.stateNode;if(A===null)return null;var R=fw(A);if(R===null)return null;A=R[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(w=w.type,R=!(w==="button"||w==="input"||w==="select"||w==="textarea")),w=!R;break e;default:w=!1}if(w)return null;if(A&&typeof A!="function")throw Error(i(231,E,typeof A));return A}var B=!1;if(m)try{var H={};Object.defineProperty(H,"passive",{get:function(){B=!0}}),window.addEventListener("test",H,H),window.removeEventListener("test",H,H)}catch{B=!1}function U(w,E,A,R,V,W,X,oe,he){var xe=Array.prototype.slice.call(arguments,3);try{E.apply(A,xe)}catch(je){this.onError(je)}}var Z=!1,re=null,ie=!1,ce=null,le={onError:function(w){Z=!0,re=w}};function _e(w,E,A,R,V,W,X,oe,he){Z=!1,re=null,U.apply(le,arguments)}function Me(w,E,A,R,V,W,X,oe,he){if(_e.apply(this,arguments),Z){if(Z){var xe=re;Z=!1,re=null}else throw Error(i(198));ie||(ie=!0,ce=xe)}}function Te(w){var E=w,A=w;if(w.alternate)for(;E.return;)E=E.return;else{w=E;do E=w,E.flags&4098&&(A=E.return),w=E.return;while(w)}return E.tag===3?A:null}function Ye(w){if(w.tag===13){var E=w.memoizedState;if(E===null&&(w=w.alternate,w!==null&&(E=w.memoizedState)),E!==null)return E.dehydrated}return null}function Fe(w){if(Te(w)!==w)throw Error(i(188))}function wt(w){var E=w.alternate;if(!E){if(E=Te(w),E===null)throw Error(i(188));return E!==w?null:w}for(var A=w,R=E;;){var V=A.return;if(V===null)break;var W=V.alternate;if(W===null){if(R=V.return,R!==null){A=R;continue}break}if(V.child===W.child){for(W=V.child;W;){if(W===A)return Fe(V),w;if(W===R)return Fe(V),E;W=W.sibling}throw Error(i(188))}if(A.return!==R.return)A=V,R=W;else{for(var X=!1,oe=V.child;oe;){if(oe===A){X=!0,A=V,R=W;break}if(oe===R){X=!0,R=V,A=W;break}oe=oe.sibling}if(!X){for(oe=W.child;oe;){if(oe===A){X=!0,A=W,R=V;break}if(oe===R){X=!0,R=W,A=V;break}oe=oe.sibling}if(!X)throw Error(i(189))}}if(A.alternate!==R)throw Error(i(190))}if(A.tag!==3)throw Error(i(188));return A.stateNode.current===A?w:E}function gt(w){return w=wt(w),w!==null?He(w):null}function He(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var E=He(w);if(E!==null)return E;w=w.sibling}return null}var ci=t.unstable_scheduleCallback,Ji=t.unstable_cancelCallback,_i=t.unstable_shouldYield,Kt=t.unstable_requestPaint,vt=t.unstable_now,Nt=t.unstable_getCurrentPriorityLevel,Si=t.unstable_ImmediatePriority,Mt=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,zt=t.unstable_LowPriority,Dr=t.unstable_IdlePriority,Yt=null,An=null;function oh(w){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Yt,w,void 0,(w.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:G9,yn=Math.log,U9=Math.LN2;function G9(w){return w>>>=0,w===0?32:31-(yn(w)/U9|0)|0}var se=64,Ie=4194304;function Re(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function Ft(w,E){var A=w.pendingLanes;if(A===0)return 0;var R=0,V=w.suspendedLanes,W=w.pingedLanes,X=A&268435455;if(X!==0){var oe=X&~V;oe!==0?R=Re(oe):(W&=X,W!==0&&(R=Re(W)))}else X=A&~V,X!==0?R=Re(X):W!==0&&(R=Re(W));if(R===0)return 0;if(E!==0&&E!==R&&!(E&V)&&(V=R&-R,W=E&-E,V>=W||V===16&&(W&4194240)!==0))return E;if(R&4&&(R|=A&16),E=w.entangledLanes,E!==0)for(w=w.entanglements,E&=R;0<E;)A=31-fn(E),V=1<<A,R|=w[A],E&=~V;return R}function $r(w,E){switch(w){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(w,E){for(var A=w.suspendedLanes,R=w.pingedLanes,V=w.expirationTimes,W=w.pendingLanes;0<W;){var X=31-fn(W),oe=1<<X,he=V[X];he===-1?(!(oe&A)||oe&R)&&(V[X]=$r(oe,E)):he<=E&&(w.expiredLanes|=oe),W&=~oe}}function Vn(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function Sp(){var w=se;return se<<=1,!(se&4194240)&&(se=64),w}function W9(w){for(var E=[],A=0;31>A;A++)E.push(w);return E}function Km(w,E,A){w.pendingLanes|=E,E!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,E=31-fn(E),w[E]=A}function ate(w,E){var A=w.pendingLanes&~E;w.pendingLanes=E,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=E,w.mutableReadLanes&=E,w.entangledLanes&=E,E=w.entanglements;var R=w.eventTimes;for(w=w.expirationTimes;0<A;){var V=31-fn(A),W=1<<V;E[V]=0,R[V]=-1,w[V]=-1,A&=~W}}function q9(w,E){var A=w.entangledLanes|=E;for(w=w.entanglements;A;){var R=31-fn(A),V=1<<R;V&E|w[R]&E&&(w[R]|=E),A&=~V}}var Ai=0;function LO(w){return w&=-w,1<w?4<w?w&268435455?16:536870912:4:1}var PO,B9,FO,RO,NO,H9=!1,X2=[],ah=null,lh=null,uh=null,Ym=new Map,Qm=new Map,ch=[],lte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jO(w,E){switch(w){case"focusin":case"focusout":ah=null;break;case"dragenter":case"dragleave":lh=null;break;case"mouseover":case"mouseout":uh=null;break;case"pointerover":case"pointerout":Ym.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qm.delete(E.pointerId)}}function Xm(w,E,A,R,V,W){return w===null||w.nativeEvent!==W?(w={blockedOn:E,domEventName:A,eventSystemFlags:R,nativeEvent:W,targetContainers:[V]},E!==null&&(E=pg(E),E!==null&&B9(E)),w):(w.eventSystemFlags|=R,E=w.targetContainers,V!==null&&E.indexOf(V)===-1&&E.push(V),w)}function ute(w,E,A,R,V){switch(E){case"focusin":return ah=Xm(ah,w,E,A,R,V),!0;case"dragenter":return lh=Xm(lh,w,E,A,R,V),!0;case"mouseover":return uh=Xm(uh,w,E,A,R,V),!0;case"pointerover":var W=V.pointerId;return Ym.set(W,Xm(Ym.get(W)||null,w,E,A,R,V)),!0;case"gotpointercapture":return W=V.pointerId,Qm.set(W,Xm(Qm.get(W)||null,w,E,A,R,V)),!0}return!1}function DO(w){var E=$p(w.target);if(E!==null){var A=Te(E);if(A!==null){if(E=A.tag,E===13){if(E=Ye(A),E!==null){w.blockedOn=E,NO(w.priority,function(){FO(A)});return}}else if(E===3&&A.stateNode.current.memoizedState.isDehydrated){w.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}w.blockedOn=null}function ew(w){if(w.blockedOn!==null)return!1;for(var E=w.targetContainers;0<E.length;){var A=Z9(w.domEventName,w.eventSystemFlags,E[0],w.nativeEvent);if(A===null){A=w.nativeEvent;var R=new A.constructor(A.type,A);o=R,A.target.dispatchEvent(R),o=null}else return E=pg(A),E!==null&&B9(E),w.blockedOn=A,!1;E.shift()}return!0}function VO(w,E,A){ew(w)&&A.delete(E)}function cte(){H9=!1,ah!==null&&ew(ah)&&(ah=null),lh!==null&&ew(lh)&&(lh=null),uh!==null&&ew(uh)&&(uh=null),Ym.forEach(VO),Qm.forEach(VO)}function eg(w,E){w.blockedOn===E&&(w.blockedOn=null,H9||(H9=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cte)))}function tg(w){function E(V){return eg(V,w)}if(0<X2.length){eg(X2[0],w);for(var A=1;A<X2.length;A++){var R=X2[A];R.blockedOn===w&&(R.blockedOn=null)}}for(ah!==null&&eg(ah,w),lh!==null&&eg(lh,w),uh!==null&&eg(uh,w),Ym.forEach(E),Qm.forEach(E),A=0;A<ch.length;A++)R=ch[A],R.blockedOn===w&&(R.blockedOn=null);for(;0<ch.length&&(A=ch[0],A.blockedOn===null);)DO(A),A.blockedOn===null&&ch.shift()}var U0=ae.ReactCurrentBatchConfig,tw=!0;function hte(w,E,A,R){var V=Ai,W=U0.transition;U0.transition=null;try{Ai=1,J9(w,E,A,R)}finally{Ai=V,U0.transition=W}}function dte(w,E,A,R){var V=Ai,W=U0.transition;U0.transition=null;try{Ai=4,J9(w,E,A,R)}finally{Ai=V,U0.transition=W}}function J9(w,E,A,R){if(tw){var V=Z9(w,E,A,R);if(V===null)d$(w,E,R,iw,A),jO(w,R);else if(ute(V,w,E,A,R))R.stopPropagation();else if(jO(w,R),E&4&&-1<lte.indexOf(w)){for(;V!==null;){var W=pg(V);if(W!==null&&PO(W),W=Z9(w,E,A,R),W===null&&d$(w,E,R,iw,A),W===V)break;V=W}V!==null&&R.stopPropagation()}else d$(w,E,R,null,A)}}var iw=null;function Z9(w,E,A,R){if(iw=null,w=l(R),w=$p(w),w!==null)if(E=Te(w),E===null)w=null;else if(A=E.tag,A===13){if(w=Ye(E),w!==null)return w;w=null}else if(A===3){if(E.stateNode.current.memoizedState.isDehydrated)return E.tag===3?E.stateNode.containerInfo:null;w=null}else E!==w&&(w=null);return iw=w,null}function zO(w){switch(w){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nt()){case Si:return 1;case Mt:return 4;case pn:case zt:return 16;case Dr:return 536870912;default:return 16}default:return 16}}var hh=null,K9=null,rw=null;function UO(){if(rw)return rw;var w,E=K9,A=E.length,R,V="value"in hh?hh.value:hh.textContent,W=V.length;for(w=0;w<A&&E[w]===V[w];w++);var X=A-w;for(R=1;R<=X&&E[A-R]===V[W-R];R++);return rw=V.slice(w,1<R?1-R:void 0)}function nw(w){var E=w.keyCode;return"charCode"in w?(w=w.charCode,w===0&&E===13&&(w=13)):w=E,w===10&&(w=13),32<=w||w===13?w:0}function sw(){return!0}function GO(){return!1}function bo(w){function E(A,R,V,W,X){this._reactName=A,this._targetInst=V,this.type=R,this.nativeEvent=W,this.target=X,this.currentTarget=null;for(var oe in w)w.hasOwnProperty(oe)&&(A=w[oe],this[oe]=A?A(W):W[oe]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?sw:GO,this.isPropagationStopped=GO,this}return rt(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=sw)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=sw)},persist:function(){},isPersistent:sw}),E}var G0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(w){return w.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y9=bo(G0),ig=rt({},G0,{view:0,detail:0}),pte=bo(ig),Q9,X9,rg,ow=rt({},ig,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t$,button:0,buttons:0,relatedTarget:function(w){return w.relatedTarget===void 0?w.fromElement===w.srcElement?w.toElement:w.fromElement:w.relatedTarget},movementX:function(w){return"movementX"in w?w.movementX:(w!==rg&&(rg&&w.type==="mousemove"?(Q9=w.screenX-rg.screenX,X9=w.screenY-rg.screenY):X9=Q9=0,rg=w),Q9)},movementY:function(w){return"movementY"in w?w.movementY:X9}}),WO=bo(ow),fte=rt({},ow,{dataTransfer:0}),yte=bo(fte),mte=rt({},ig,{relatedTarget:0}),e$=bo(mte),gte=rt({},G0,{animationName:0,elapsedTime:0,pseudoElement:0}),vte=bo(gte),bte=rt({},G0,{clipboardData:function(w){return"clipboardData"in w?w.clipboardData:window.clipboardData}}),wte=bo(bte),_te=rt({},G0,{data:0}),qO=bo(_te),Ste={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ete(w){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(w):(w=xte[w])?!!E[w]:!1}function t$(){return Ete}var Tte=rt({},ig,{key:function(w){if(w.key){var E=Ste[w.key]||w.key;if(E!=="Unidentified")return E}return w.type==="keypress"?(w=nw(w),w===13?"Enter":String.fromCharCode(w)):w.type==="keydown"||w.type==="keyup"?$te[w.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t$,charCode:function(w){return w.type==="keypress"?nw(w):0},keyCode:function(w){return w.type==="keydown"||w.type==="keyup"?w.keyCode:0},which:function(w){return w.type==="keypress"?nw(w):w.type==="keydown"||w.type==="keyup"?w.keyCode:0}}),Ite=bo(Tte),Mte=rt({},ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BO=bo(Mte),kte=rt({},ig,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t$}),Cte=bo(kte),Ate=rt({},G0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ote=bo(Ate),Lte=rt({},ow,{deltaX:function(w){return"deltaX"in w?w.deltaX:"wheelDeltaX"in w?-w.wheelDeltaX:0},deltaY:function(w){return"deltaY"in w?w.deltaY:"wheelDeltaY"in w?-w.wheelDeltaY:"wheelDelta"in w?-w.wheelDelta:0},deltaZ:0,deltaMode:0}),Pte=bo(Lte),Fte=[9,13,27,32],i$=m&&"CompositionEvent"in window,ng=null;m&&"documentMode"in document&&(ng=document.documentMode);var Rte=m&&"TextEvent"in window&&!ng,HO=m&&(!i$||ng&&8<ng&&11>=ng),JO=" ",ZO=!1;function KO(w,E){switch(w){case"keyup":return Fte.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YO(w){return w=w.detail,typeof w=="object"&&"data"in w?w.data:null}var W0=!1;function Nte(w,E){switch(w){case"compositionend":return YO(E);case"keypress":return E.which!==32?null:(ZO=!0,JO);case"textInput":return w=E.data,w===JO&&ZO?null:w;default:return null}}function jte(w,E){if(W0)return w==="compositionend"||!i$&&KO(w,E)?(w=UO(),rw=K9=hh=null,W0=!1,w):null;switch(w){case"paste":return null;case"keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case"compositionend":return HO&&E.locale!=="ko"?null:E.data;default:return null}}var Dte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QO(w){var E=w&&w.nodeName&&w.nodeName.toLowerCase();return E==="input"?!!Dte[w.type]:E==="textarea"}function XO(w,E,A,R){$(R),E=hw(E,"onChange"),0<E.length&&(A=new Y9("onChange","change",null,A,R),w.push({event:A,listeners:E}))}var sg=null,og=null;function Vte(w){gL(w,0)}function aw(w){var E=Z0(w);if(D0(E))return w}function zte(w,E){if(w==="change")return E}var eL=!1;if(m){var r$;if(m){var n$="oninput"in document;if(!n$){var tL=document.createElement("div");tL.setAttribute("oninput","return;"),n$=typeof tL.oninput=="function"}r$=n$}else r$=!1;eL=r$&&(!document.documentMode||9<document.documentMode)}function iL(){sg&&(sg.detachEvent("onpropertychange",rL),og=sg=null)}function rL(w){if(w.propertyName==="value"&&aw(og)){var E=[];XO(E,og,w,l(w)),j(Vte,E)}}function Ute(w,E,A){w==="focusin"?(iL(),sg=E,og=A,sg.attachEvent("onpropertychange",rL)):w==="focusout"&&iL()}function Gte(w){if(w==="selectionchange"||w==="keyup"||w==="keydown")return aw(og)}function Wte(w,E){if(w==="click")return aw(E)}function qte(w,E){if(w==="input"||w==="change")return aw(E)}function Bte(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var ka=typeof Object.is=="function"?Object.is:Bte;function ag(w,E){if(ka(w,E))return!0;if(typeof w!="object"||w===null||typeof E!="object"||E===null)return!1;var A=Object.keys(w),R=Object.keys(E);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var V=A[R];if(!b.call(E,V)||!ka(w[V],E[V]))return!1}return!0}function nL(w){for(;w&&w.firstChild;)w=w.firstChild;return w}function sL(w,E){var A=nL(w);w=0;for(var R;A;){if(A.nodeType===3){if(R=w+A.textContent.length,w<=E&&R>=E)return{node:A,offset:E-w};w=R}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=nL(A)}}function oL(w,E){return w&&E?w===E?!0:w&&w.nodeType===3?!1:E&&E.nodeType===3?oL(w,E.parentNode):"contains"in w?w.contains(E):w.compareDocumentPosition?!!(w.compareDocumentPosition(E)&16):!1:!1}function aL(){for(var w=window,E=ju();E instanceof w.HTMLIFrameElement;){try{var A=typeof E.contentWindow.location.href=="string"}catch{A=!1}if(A)w=E.contentWindow;else break;E=ju(w.document)}return E}function s$(w){var E=w&&w.nodeName&&w.nodeName.toLowerCase();return E&&(E==="input"&&(w.type==="text"||w.type==="search"||w.type==="tel"||w.type==="url"||w.type==="password")||E==="textarea"||w.contentEditable==="true")}function Hte(w){var E=aL(),A=w.focusedElem,R=w.selectionRange;if(E!==A&&A&&A.ownerDocument&&oL(A.ownerDocument.documentElement,A)){if(R!==null&&s$(A)){if(E=R.start,w=R.end,w===void 0&&(w=E),"selectionStart"in A)A.selectionStart=E,A.selectionEnd=Math.min(w,A.value.length);else if(w=(E=A.ownerDocument||document)&&E.defaultView||window,w.getSelection){w=w.getSelection();var V=A.textContent.length,W=Math.min(R.start,V);R=R.end===void 0?W:Math.min(R.end,V),!w.extend&&W>R&&(V=R,R=W,W=V),V=sL(A,W);var X=sL(A,R);V&&X&&(w.rangeCount!==1||w.anchorNode!==V.node||w.anchorOffset!==V.offset||w.focusNode!==X.node||w.focusOffset!==X.offset)&&(E=E.createRange(),E.setStart(V.node,V.offset),w.removeAllRanges(),W>R?(w.addRange(E),w.extend(X.node,X.offset)):(E.setEnd(X.node,X.offset),w.addRange(E)))}}for(E=[],w=A;w=w.parentNode;)w.nodeType===1&&E.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<E.length;A++)w=E[A],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}var Jte=m&&"documentMode"in document&&11>=document.documentMode,q0=null,o$=null,lg=null,a$=!1;function lL(w,E,A){var R=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;a$||q0==null||q0!==ju(R)||(R=q0,"selectionStart"in R&&s$(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),lg&&ag(lg,R)||(lg=R,R=hw(o$,"onSelect"),0<R.length&&(E=new Y9("onSelect","select",null,E,A),w.push({event:E,listeners:R}),E.target=q0)))}function lw(w,E){var A={};return A[w.toLowerCase()]=E.toLowerCase(),A["Webkit"+w]="webkit"+E,A["Moz"+w]="moz"+E,A}var B0={animationend:lw("Animation","AnimationEnd"),animationiteration:lw("Animation","AnimationIteration"),animationstart:lw("Animation","AnimationStart"),transitionend:lw("Transition","TransitionEnd")},l$={},uL={};m&&(uL=document.createElement("div").style,"AnimationEvent"in window||(delete B0.animationend.animation,delete B0.animationiteration.animation,delete B0.animationstart.animation),"TransitionEvent"in window||delete B0.transitionend.transition);function uw(w){if(l$[w])return l$[w];if(!B0[w])return w;var E=B0[w],A;for(A in E)if(E.hasOwnProperty(A)&&A in uL)return l$[w]=E[A];return w}var cL=uw("animationend"),hL=uw("animationiteration"),dL=uw("animationstart"),pL=uw("transitionend"),fL=new Map,yL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dh(w,E){fL.set(w,E),c(E,[w])}for(var u$=0;u$<yL.length;u$++){var c$=yL[u$],Zte=c$.toLowerCase(),Kte=c$[0].toUpperCase()+c$.slice(1);dh(Zte,"on"+Kte)}dh(cL,"onAnimationEnd"),dh(hL,"onAnimationIteration"),dh(dL,"onAnimationStart"),dh("dblclick","onDoubleClick"),dh("focusin","onFocus"),dh("focusout","onBlur"),dh(pL,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yte=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function mL(w,E,A){var R=w.type||"unknown-event";w.currentTarget=A,Me(R,E,void 0,w),w.currentTarget=null}function gL(w,E){E=(E&4)!==0;for(var A=0;A<w.length;A++){var R=w[A],V=R.event;R=R.listeners;e:{var W=void 0;if(E)for(var X=R.length-1;0<=X;X--){var oe=R[X],he=oe.instance,xe=oe.currentTarget;if(oe=oe.listener,he!==W&&V.isPropagationStopped())break e;mL(V,oe,xe),W=he}else for(X=0;X<R.length;X++){if(oe=R[X],he=oe.instance,xe=oe.currentTarget,oe=oe.listener,he!==W&&V.isPropagationStopped())break e;mL(V,oe,xe),W=he}}}if(ie)throw w=ce,ie=!1,ce=null,w}function Zi(w,E){var A=E[v$];A===void 0&&(A=E[v$]=new Set);var R=w+"__bubble";A.has(R)||(vL(E,w,2,!1),A.add(R))}function h$(w,E,A){var R=0;E&&(R|=4),vL(A,w,R,E)}var cw="_reactListening"+Math.random().toString(36).slice(2);function cg(w){if(!w[cw]){w[cw]=!0,r.forEach(function(A){A!=="selectionchange"&&(Yte.has(A)||h$(A,!1,w),h$(A,!0,w))});var E=w.nodeType===9?w:w.ownerDocument;E===null||E[cw]||(E[cw]=!0,h$("selectionchange",!1,E))}}function vL(w,E,A,R){switch(zO(E)){case 1:var V=hte;break;case 4:V=dte;break;default:V=J9}A=V.bind(null,E,A,w),V=void 0,!B||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(V=!0),R?V!==void 0?w.addEventListener(E,A,{capture:!0,passive:V}):w.addEventListener(E,A,!0):V!==void 0?w.addEventListener(E,A,{passive:V}):w.addEventListener(E,A,!1)}function d$(w,E,A,R,V){var W=R;if(!(E&1)&&!(E&2)&&R!==null)e:for(;;){if(R===null)return;var X=R.tag;if(X===3||X===4){var oe=R.stateNode.containerInfo;if(oe===V||oe.nodeType===8&&oe.parentNode===V)break;if(X===4)for(X=R.return;X!==null;){var he=X.tag;if((he===3||he===4)&&(he=X.stateNode.containerInfo,he===V||he.nodeType===8&&he.parentNode===V))return;X=X.return}for(;oe!==null;){if(X=$p(oe),X===null)return;if(he=X.tag,he===5||he===6){R=W=X;continue e}oe=oe.parentNode}}R=R.return}j(function(){var xe=W,je=l(A),ze=[];e:{var Ne=fL.get(w);if(Ne!==void 0){var st=Y9,ct=w;switch(w){case"keypress":if(nw(A)===0)break e;case"keydown":case"keyup":st=Ite;break;case"focusin":ct="focus",st=e$;break;case"focusout":ct="blur",st=e$;break;case"beforeblur":case"afterblur":st=e$;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=WO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=yte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Cte;break;case cL:case hL:case dL:st=vte;break;case pL:st=Ote;break;case"scroll":st=pte;break;case"wheel":st=Pte;break;case"copy":case"cut":case"paste":st=wte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=BO}var ft=(E&4)!==0,Mr=!ft&&w==="scroll",we=ft?Ne!==null?Ne+"Capture":null:Ne;ft=[];for(var fe=xe,Se;fe!==null;){Se=fe;var Be=Se.stateNode;if(Se.tag===5&&Be!==null&&(Se=Be,we!==null&&(Be=z(fe,we),Be!=null&&ft.push(hg(fe,Be,Se)))),Mr)break;fe=fe.return}0<ft.length&&(Ne=new st(Ne,ct,null,A,je),ze.push({event:Ne,listeners:ft}))}}if(!(E&7)){e:{if(Ne=w==="mouseover"||w==="pointerover",st=w==="mouseout"||w==="pointerout",Ne&&A!==o&&(ct=A.relatedTarget||A.fromElement)&&($p(ct)||ct[Vu]))break e;if((st||Ne)&&(Ne=je.window===je?je:(Ne=je.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,st?(ct=A.relatedTarget||A.toElement,st=xe,ct=ct?$p(ct):null,ct!==null&&(Mr=Te(ct),ct!==Mr||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(st=null,ct=xe),st!==ct)){if(ft=WO,Be="onMouseLeave",we="onMouseEnter",fe="mouse",(w==="pointerout"||w==="pointerover")&&(ft=BO,Be="onPointerLeave",we="onPointerEnter",fe="pointer"),Mr=st==null?Ne:Z0(st),Se=ct==null?Ne:Z0(ct),Ne=new ft(Be,fe+"leave",st,A,je),Ne.target=Mr,Ne.relatedTarget=Se,Be=null,$p(je)===xe&&(ft=new ft(we,fe+"enter",ct,A,je),ft.target=Se,ft.relatedTarget=Mr,Be=ft),Mr=Be,st&&ct)t:{for(ft=st,we=ct,fe=0,Se=ft;Se;Se=H0(Se))fe++;for(Se=0,Be=we;Be;Be=H0(Be))Se++;for(;0<fe-Se;)ft=H0(ft),fe--;for(;0<Se-fe;)we=H0(we),Se--;for(;fe--;){if(ft===we||we!==null&&ft===we.alternate)break t;ft=H0(ft),we=H0(we)}ft=null}else ft=null;st!==null&&bL(ze,Ne,st,ft,!1),ct!==null&&Mr!==null&&bL(ze,Mr,ct,ft,!0)}}e:{if(Ne=xe?Z0(xe):window,st=Ne.nodeName&&Ne.nodeName.toLowerCase(),st==="select"||st==="input"&&Ne.type==="file")var mt=zte;else if(QO(Ne))if(eL)mt=qte;else{mt=Gte;var St=Ute}else(st=Ne.nodeName)&&st.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(mt=Wte);if(mt&&(mt=mt(w,xe))){XO(ze,mt,A,je);break e}St&&St(w,Ne,xe),w==="focusout"&&(St=Ne._wrapperState)&&St.controlled&&Ne.type==="number"&&jr(Ne,"number",Ne.value)}switch(St=xe?Z0(xe):window,w){case"focusin":(QO(St)||St.contentEditable==="true")&&(q0=St,o$=xe,lg=null);break;case"focusout":lg=o$=q0=null;break;case"mousedown":a$=!0;break;case"contextmenu":case"mouseup":case"dragend":a$=!1,lL(ze,A,je);break;case"selectionchange":if(Jte)break;case"keydown":case"keyup":lL(ze,A,je)}var $t;if(i$)e:{switch(w){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else W0?KO(w,A)&&(Ot="onCompositionEnd"):w==="keydown"&&A.keyCode===229&&(Ot="onCompositionStart");Ot&&(HO&&A.locale!=="ko"&&(W0||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&W0&&($t=UO()):(hh=je,K9="value"in hh?hh.value:hh.textContent,W0=!0)),St=hw(xe,Ot),0<St.length&&(Ot=new qO(Ot,w,null,A,je),ze.push({event:Ot,listeners:St}),$t?Ot.data=$t:($t=YO(A),$t!==null&&(Ot.data=$t)))),($t=Rte?Nte(w,A):jte(w,A))&&(xe=hw(xe,"onBeforeInput"),0<xe.length&&(je=new qO("onBeforeInput","beforeinput",null,A,je),ze.push({event:je,listeners:xe}),je.data=$t))}gL(ze,E)})}function hg(w,E,A){return{instance:w,listener:E,currentTarget:A}}function hw(w,E){for(var A=E+"Capture",R=[];w!==null;){var V=w,W=V.stateNode;V.tag===5&&W!==null&&(V=W,W=z(w,A),W!=null&&R.unshift(hg(w,W,V)),W=z(w,E),W!=null&&R.push(hg(w,W,V))),w=w.return}return R}function H0(w){if(w===null)return null;do w=w.return;while(w&&w.tag!==5);return w||null}function bL(w,E,A,R,V){for(var W=E._reactName,X=[];A!==null&&A!==R;){var oe=A,he=oe.alternate,xe=oe.stateNode;if(he!==null&&he===R)break;oe.tag===5&&xe!==null&&(oe=xe,V?(he=z(A,W),he!=null&&X.unshift(hg(A,he,oe))):V||(he=z(A,W),he!=null&&X.push(hg(A,he,oe)))),A=A.return}X.length!==0&&w.push({event:E,listeners:X})}var Qte=/\r\n?/g,Xte=/\u0000|\uFFFD/g;function wL(w){return(typeof w=="string"?w:""+w).replace(Qte,`
`).replace(Xte,"")}function dw(w,E,A){if(E=wL(E),wL(w)!==E&&A)throw Error(i(425))}function pw(){}var p$=null,f$=null;function y$(w,E){return w==="textarea"||w==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var m$=typeof setTimeout=="function"?setTimeout:void 0,eie=typeof clearTimeout=="function"?clearTimeout:void 0,_L=typeof Promise=="function"?Promise:void 0,tie=typeof queueMicrotask=="function"?queueMicrotask:typeof _L<"u"?function(w){return _L.resolve(null).then(w).catch(iie)}:m$;function iie(w){setTimeout(function(){throw w})}function g$(w,E){var A=E,R=0;do{var V=A.nextSibling;if(w.removeChild(A),V&&V.nodeType===8)if(A=V.data,A==="/$"){if(R===0){w.removeChild(V),tg(E);return}R--}else A!=="$"&&A!=="$?"&&A!=="$!"||R++;A=V}while(A);tg(E)}function ph(w){for(;w!=null;w=w.nextSibling){var E=w.nodeType;if(E===1||E===3)break;if(E===8){if(E=w.data,E==="$"||E==="$!"||E==="$?")break;if(E==="/$")return null}}return w}function SL(w){w=w.previousSibling;for(var E=0;w;){if(w.nodeType===8){var A=w.data;if(A==="$"||A==="$!"||A==="$?"){if(E===0)return w;E--}else A==="/$"&&E++}w=w.previousSibling}return null}var J0=Math.random().toString(36).slice(2),Cl="__reactFiber$"+J0,dg="__reactProps$"+J0,Vu="__reactContainer$"+J0,v$="__reactEvents$"+J0,rie="__reactListeners$"+J0,nie="__reactHandles$"+J0;function $p(w){var E=w[Cl];if(E)return E;for(var A=w.parentNode;A;){if(E=A[Vu]||A[Cl]){if(A=E.alternate,E.child!==null||A!==null&&A.child!==null)for(w=SL(w);w!==null;){if(A=w[Cl])return A;w=SL(w)}return E}w=A,A=w.parentNode}return null}function pg(w){return w=w[Cl]||w[Vu],!w||w.tag!==5&&w.tag!==6&&w.tag!==13&&w.tag!==3?null:w}function Z0(w){if(w.tag===5||w.tag===6)return w.stateNode;throw Error(i(33))}function fw(w){return w[dg]||null}var b$=[],K0=-1;function fh(w){return{current:w}}function Ki(w){0>K0||(w.current=b$[K0],b$[K0]=null,K0--)}function Ui(w,E){K0++,b$[K0]=w.current,w.current=E}var yh={},zn=fh(yh),Ds=fh(!1),xp=yh;function Y0(w,E){var A=w.type.contextTypes;if(!A)return yh;var R=w.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===E)return R.__reactInternalMemoizedMaskedChildContext;var V={},W;for(W in A)V[W]=E[W];return R&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=E,w.__reactInternalMemoizedMaskedChildContext=V),V}function Vs(w){return w=w.childContextTypes,w!=null}function yw(){Ki(Ds),Ki(zn)}function $L(w,E,A){if(zn.current!==yh)throw Error(i(168));Ui(zn,E),Ui(Ds,A)}function xL(w,E,A){var R=w.stateNode;if(E=E.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var V in R)if(!(V in E))throw Error(i(108,wi(w)||"Unknown",V));return rt({},A,R)}function mw(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||yh,xp=zn.current,Ui(zn,w),Ui(Ds,Ds.current),!0}function EL(w,E,A){var R=w.stateNode;if(!R)throw Error(i(169));A?(w=xL(w,E,xp),R.__reactInternalMemoizedMergedChildContext=w,Ki(Ds),Ki(zn),Ui(zn,w)):Ki(Ds),Ui(Ds,A)}var zu=null,gw=!1,w$=!1;function TL(w){zu===null?zu=[w]:zu.push(w)}function sie(w){gw=!0,TL(w)}function mh(){if(!w$&&zu!==null){w$=!0;var w=0,E=Ai;try{var A=zu;for(Ai=1;w<A.length;w++){var R=A[w];do R=R(!0);while(R!==null)}zu=null,gw=!1}catch(V){throw zu!==null&&(zu=zu.slice(w+1)),ci(Si,mh),V}finally{Ai=E,w$=!1}}return null}var Q0=[],X0=0,vw=null,bw=0,Ho=[],Jo=0,Ep=null,Uu=1,Gu="";function Tp(w,E){Q0[X0++]=bw,Q0[X0++]=vw,vw=w,bw=E}function IL(w,E,A){Ho[Jo++]=Uu,Ho[Jo++]=Gu,Ho[Jo++]=Ep,Ep=w;var R=Uu;w=Gu;var V=32-fn(R)-1;R&=~(1<<V),A+=1;var W=32-fn(E)+V;if(30<W){var X=V-V%5;W=(R&(1<<X)-1).toString(32),R>>=X,V-=X,Uu=1<<32-fn(E)+V|A<<V|R,Gu=W+w}else Uu=1<<W|A<<V|R,Gu=w}function _$(w){w.return!==null&&(Tp(w,1),IL(w,1,0))}function S$(w){for(;w===vw;)vw=Q0[--X0],Q0[X0]=null,bw=Q0[--X0],Q0[X0]=null;for(;w===Ep;)Ep=Ho[--Jo],Ho[Jo]=null,Gu=Ho[--Jo],Ho[Jo]=null,Uu=Ho[--Jo],Ho[Jo]=null}var wo=null,_o=null,sr=!1,Ca=null;function ML(w,E){var A=Qo(5,null,null,0);A.elementType="DELETED",A.stateNode=E,A.return=w,E=w.deletions,E===null?(w.deletions=[A],w.flags|=16):E.push(A)}function kL(w,E){switch(w.tag){case 5:var A=w.type;return E=E.nodeType!==1||A.toLowerCase()!==E.nodeName.toLowerCase()?null:E,E!==null?(w.stateNode=E,wo=w,_o=ph(E.firstChild),!0):!1;case 6:return E=w.pendingProps===""||E.nodeType!==3?null:E,E!==null?(w.stateNode=E,wo=w,_o=null,!0):!1;case 13:return E=E.nodeType!==8?null:E,E!==null?(A=Ep!==null?{id:Uu,overflow:Gu}:null,w.memoizedState={dehydrated:E,treeContext:A,retryLane:1073741824},A=Qo(18,null,null,0),A.stateNode=E,A.return=w,w.child=A,wo=w,_o=null,!0):!1;default:return!1}}function $$(w){return(w.mode&1)!==0&&(w.flags&128)===0}function x$(w){if(sr){var E=_o;if(E){var A=E;if(!kL(w,E)){if($$(w))throw Error(i(418));E=ph(A.nextSibling);var R=wo;E&&kL(w,E)?ML(R,A):(w.flags=w.flags&-4097|2,sr=!1,wo=w)}}else{if($$(w))throw Error(i(418));w.flags=w.flags&-4097|2,sr=!1,wo=w}}}function CL(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;wo=w}function ww(w){if(w!==wo)return!1;if(!sr)return CL(w),sr=!0,!1;var E;if((E=w.tag!==3)&&!(E=w.tag!==5)&&(E=w.type,E=E!=="head"&&E!=="body"&&!y$(w.type,w.memoizedProps)),E&&(E=_o)){if($$(w))throw AL(),Error(i(418));for(;E;)ML(w,E),E=ph(E.nextSibling)}if(CL(w),w.tag===13){if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));e:{for(w=w.nextSibling,E=0;w;){if(w.nodeType===8){var A=w.data;if(A==="/$"){if(E===0){_o=ph(w.nextSibling);break e}E--}else A!=="$"&&A!=="$!"&&A!=="$?"||E++}w=w.nextSibling}_o=null}}else _o=wo?ph(w.stateNode.nextSibling):null;return!0}function AL(){for(var w=_o;w;)w=ph(w.nextSibling)}function e1(){_o=wo=null,sr=!1}function E$(w){Ca===null?Ca=[w]:Ca.push(w)}var oie=ae.ReactCurrentBatchConfig;function fg(w,E,A){if(w=A.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(i(309));var R=A.stateNode}if(!R)throw Error(i(147,w));var V=R,W=""+w;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===W?E.ref:(E=function(X){var oe=V.refs;X===null?delete oe[W]:oe[W]=X},E._stringRef=W,E)}if(typeof w!="string")throw Error(i(284));if(!A._owner)throw Error(i(290,w))}return w}function _w(w,E){throw w=Object.prototype.toString.call(E),Error(i(31,w==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":w))}function OL(w){var E=w._init;return E(w._payload)}function LL(w){function E(we,fe){if(w){var Se=we.deletions;Se===null?(we.deletions=[fe],we.flags|=16):Se.push(fe)}}function A(we,fe){if(!w)return null;for(;fe!==null;)E(we,fe),fe=fe.sibling;return null}function R(we,fe){for(we=new Map;fe!==null;)fe.key!==null?we.set(fe.key,fe):we.set(fe.index,fe),fe=fe.sibling;return we}function V(we,fe){return we=xh(we,fe),we.index=0,we.sibling=null,we}function W(we,fe,Se){return we.index=Se,w?(Se=we.alternate,Se!==null?(Se=Se.index,Se<fe?(we.flags|=2,fe):Se):(we.flags|=2,fe)):(we.flags|=1048576,fe)}function X(we){return w&&we.alternate===null&&(we.flags|=2),we}function oe(we,fe,Se,Be){return fe===null||fe.tag!==6?(fe=m6(Se,we.mode,Be),fe.return=we,fe):(fe=V(fe,Se),fe.return=we,fe)}function he(we,fe,Se,Be){var mt=Se.type;return mt===Ae?je(we,fe,Se.props.children,Be,Se.key):fe!==null&&(fe.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ri&&OL(mt)===fe.type)?(Be=V(fe,Se.props),Be.ref=fg(we,fe,Se),Be.return=we,Be):(Be=qw(Se.type,Se.key,Se.props,null,we.mode,Be),Be.ref=fg(we,fe,Se),Be.return=we,Be)}function xe(we,fe,Se,Be){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Se.containerInfo||fe.stateNode.implementation!==Se.implementation?(fe=g6(Se,we.mode,Be),fe.return=we,fe):(fe=V(fe,Se.children||[]),fe.return=we,fe)}function je(we,fe,Se,Be,mt){return fe===null||fe.tag!==7?(fe=Pp(Se,we.mode,Be,mt),fe.return=we,fe):(fe=V(fe,Se),fe.return=we,fe)}function ze(we,fe,Se){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=m6(""+fe,we.mode,Se),fe.return=we,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case pe:return Se=qw(fe.type,fe.key,fe.props,null,we.mode,Se),Se.ref=fg(we,null,fe),Se.return=we,Se;case ge:return fe=g6(fe,we.mode,Se),fe.return=we,fe;case ri:var Be=fe._init;return ze(we,Be(fe._payload),Se)}if(kl(fe)||dt(fe))return fe=Pp(fe,we.mode,Se,null),fe.return=we,fe;_w(we,fe)}return null}function Ne(we,fe,Se,Be){var mt=fe!==null?fe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return mt!==null?null:oe(we,fe,""+Se,Be);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case pe:return Se.key===mt?he(we,fe,Se,Be):null;case ge:return Se.key===mt?xe(we,fe,Se,Be):null;case ri:return mt=Se._init,Ne(we,fe,mt(Se._payload),Be)}if(kl(Se)||dt(Se))return mt!==null?null:je(we,fe,Se,Be,null);_w(we,Se)}return null}function st(we,fe,Se,Be,mt){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return we=we.get(Se)||null,oe(fe,we,""+Be,mt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case pe:return we=we.get(Be.key===null?Se:Be.key)||null,he(fe,we,Be,mt);case ge:return we=we.get(Be.key===null?Se:Be.key)||null,xe(fe,we,Be,mt);case ri:var St=Be._init;return st(we,fe,Se,St(Be._payload),mt)}if(kl(Be)||dt(Be))return we=we.get(Se)||null,je(fe,we,Be,mt,null);_w(fe,Be)}return null}function ct(we,fe,Se,Be){for(var mt=null,St=null,$t=fe,Ot=fe=0,vn=null;$t!==null&&Ot<Se.length;Ot++){$t.index>Ot?(vn=$t,$t=null):vn=$t.sibling;var yi=Ne(we,$t,Se[Ot],Be);if(yi===null){$t===null&&($t=vn);break}w&&$t&&yi.alternate===null&&E(we,$t),fe=W(yi,fe,Ot),St===null?mt=yi:St.sibling=yi,St=yi,$t=vn}if(Ot===Se.length)return A(we,$t),sr&&Tp(we,Ot),mt;if($t===null){for(;Ot<Se.length;Ot++)$t=ze(we,Se[Ot],Be),$t!==null&&(fe=W($t,fe,Ot),St===null?mt=$t:St.sibling=$t,St=$t);return sr&&Tp(we,Ot),mt}for($t=R(we,$t);Ot<Se.length;Ot++)vn=st($t,we,Ot,Se[Ot],Be),vn!==null&&(w&&vn.alternate!==null&&$t.delete(vn.key===null?Ot:vn.key),fe=W(vn,fe,Ot),St===null?mt=vn:St.sibling=vn,St=vn);return w&&$t.forEach(function(Eh){return E(we,Eh)}),sr&&Tp(we,Ot),mt}function ft(we,fe,Se,Be){var mt=dt(Se);if(typeof mt!="function")throw Error(i(150));if(Se=mt.call(Se),Se==null)throw Error(i(151));for(var St=mt=null,$t=fe,Ot=fe=0,vn=null,yi=Se.next();$t!==null&&!yi.done;Ot++,yi=Se.next()){$t.index>Ot?(vn=$t,$t=null):vn=$t.sibling;var Eh=Ne(we,$t,yi.value,Be);if(Eh===null){$t===null&&($t=vn);break}w&&$t&&Eh.alternate===null&&E(we,$t),fe=W(Eh,fe,Ot),St===null?mt=Eh:St.sibling=Eh,St=Eh,$t=vn}if(yi.done)return A(we,$t),sr&&Tp(we,Ot),mt;if($t===null){for(;!yi.done;Ot++,yi=Se.next())yi=ze(we,yi.value,Be),yi!==null&&(fe=W(yi,fe,Ot),St===null?mt=yi:St.sibling=yi,St=yi);return sr&&Tp(we,Ot),mt}for($t=R(we,$t);!yi.done;Ot++,yi=Se.next())yi=st($t,we,Ot,yi.value,Be),yi!==null&&(w&&yi.alternate!==null&&$t.delete(yi.key===null?Ot:yi.key),fe=W(yi,fe,Ot),St===null?mt=yi:St.sibling=yi,St=yi);return w&&$t.forEach(function(jie){return E(we,jie)}),sr&&Tp(we,Ot),mt}function Mr(we,fe,Se,Be){if(typeof Se=="object"&&Se!==null&&Se.type===Ae&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case pe:e:{for(var mt=Se.key,St=fe;St!==null;){if(St.key===mt){if(mt=Se.type,mt===Ae){if(St.tag===7){A(we,St.sibling),fe=V(St,Se.props.children),fe.return=we,we=fe;break e}}else if(St.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ri&&OL(mt)===St.type){A(we,St.sibling),fe=V(St,Se.props),fe.ref=fg(we,St,Se),fe.return=we,we=fe;break e}A(we,St);break}else E(we,St);St=St.sibling}Se.type===Ae?(fe=Pp(Se.props.children,we.mode,Be,Se.key),fe.return=we,we=fe):(Be=qw(Se.type,Se.key,Se.props,null,we.mode,Be),Be.ref=fg(we,fe,Se),Be.return=we,we=Be)}return X(we);case ge:e:{for(St=Se.key;fe!==null;){if(fe.key===St)if(fe.tag===4&&fe.stateNode.containerInfo===Se.containerInfo&&fe.stateNode.implementation===Se.implementation){A(we,fe.sibling),fe=V(fe,Se.children||[]),fe.return=we,we=fe;break e}else{A(we,fe);break}else E(we,fe);fe=fe.sibling}fe=g6(Se,we.mode,Be),fe.return=we,we=fe}return X(we);case ri:return St=Se._init,Mr(we,fe,St(Se._payload),Be)}if(kl(Se))return ct(we,fe,Se,Be);if(dt(Se))return ft(we,fe,Se,Be);_w(we,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,fe!==null&&fe.tag===6?(A(we,fe.sibling),fe=V(fe,Se),fe.return=we,we=fe):(A(we,fe),fe=m6(Se,we.mode,Be),fe.return=we,we=fe),X(we)):A(we,fe)}return Mr}var t1=LL(!0),PL=LL(!1),Sw=fh(null),$w=null,i1=null,T$=null;function I$(){T$=i1=$w=null}function M$(w){var E=Sw.current;Ki(Sw),w._currentValue=E}function k$(w,E,A){for(;w!==null;){var R=w.alternate;if((w.childLanes&E)!==E?(w.childLanes|=E,R!==null&&(R.childLanes|=E)):R!==null&&(R.childLanes&E)!==E&&(R.childLanes|=E),w===A)break;w=w.return}}function r1(w,E){$w=w,T$=i1=null,w=w.dependencies,w!==null&&w.firstContext!==null&&(w.lanes&E&&(zs=!0),w.firstContext=null)}function Zo(w){var E=w._currentValue;if(T$!==w)if(w={context:w,memoizedValue:E,next:null},i1===null){if($w===null)throw Error(i(308));i1=w,$w.dependencies={lanes:0,firstContext:w}}else i1=i1.next=w;return E}var Ip=null;function C$(w){Ip===null?Ip=[w]:Ip.push(w)}function FL(w,E,A,R){var V=E.interleaved;return V===null?(A.next=A,C$(E)):(A.next=V.next,V.next=A),E.interleaved=A,Wu(w,R)}function Wu(w,E){w.lanes|=E;var A=w.alternate;for(A!==null&&(A.lanes|=E),A=w,w=w.return;w!==null;)w.childLanes|=E,A=w.alternate,A!==null&&(A.childLanes|=E),A=w,w=w.return;return A.tag===3?A.stateNode:null}var gh=!1;function A$(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RL(w,E){w=w.updateQueue,E.updateQueue===w&&(E.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function qu(w,E){return{eventTime:w,lane:E,tag:0,payload:null,callback:null,next:null}}function vh(w,E,A){var R=w.updateQueue;if(R===null)return null;if(R=R.shared,hi&2){var V=R.pending;return V===null?E.next=E:(E.next=V.next,V.next=E),R.pending=E,Wu(w,A)}return V=R.interleaved,V===null?(E.next=E,C$(R)):(E.next=V.next,V.next=E),R.interleaved=E,Wu(w,A)}function xw(w,E,A){if(E=E.updateQueue,E!==null&&(E=E.shared,(A&4194240)!==0)){var R=E.lanes;R&=w.pendingLanes,A|=R,E.lanes=A,q9(w,A)}}function NL(w,E){var A=w.updateQueue,R=w.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var V=null,W=null;if(A=A.firstBaseUpdate,A!==null){do{var X={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};W===null?V=W=X:W=W.next=X,A=A.next}while(A!==null);W===null?V=W=E:W=W.next=E}else V=W=E;A={baseState:R.baseState,firstBaseUpdate:V,lastBaseUpdate:W,shared:R.shared,effects:R.effects},w.updateQueue=A;return}w=A.lastBaseUpdate,w===null?A.firstBaseUpdate=E:w.next=E,A.lastBaseUpdate=E}function Ew(w,E,A,R){var V=w.updateQueue;gh=!1;var W=V.firstBaseUpdate,X=V.lastBaseUpdate,oe=V.shared.pending;if(oe!==null){V.shared.pending=null;var he=oe,xe=he.next;he.next=null,X===null?W=xe:X.next=xe,X=he;var je=w.alternate;je!==null&&(je=je.updateQueue,oe=je.lastBaseUpdate,oe!==X&&(oe===null?je.firstBaseUpdate=xe:oe.next=xe,je.lastBaseUpdate=he))}if(W!==null){var ze=V.baseState;X=0,je=xe=he=null,oe=W;do{var Ne=oe.lane,st=oe.eventTime;if((R&Ne)===Ne){je!==null&&(je=je.next={eventTime:st,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var ct=w,ft=oe;switch(Ne=E,st=A,ft.tag){case 1:if(ct=ft.payload,typeof ct=="function"){ze=ct.call(st,ze,Ne);break e}ze=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ft.payload,Ne=typeof ct=="function"?ct.call(st,ze,Ne):ct,Ne==null)break e;ze=rt({},ze,Ne);break e;case 2:gh=!0}}oe.callback!==null&&oe.lane!==0&&(w.flags|=64,Ne=V.effects,Ne===null?V.effects=[oe]:Ne.push(oe))}else st={eventTime:st,lane:Ne,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},je===null?(xe=je=st,he=ze):je=je.next=st,X|=Ne;if(oe=oe.next,oe===null){if(oe=V.shared.pending,oe===null)break;Ne=oe,oe=Ne.next,Ne.next=null,V.lastBaseUpdate=Ne,V.shared.pending=null}}while(!0);if(je===null&&(he=ze),V.baseState=he,V.firstBaseUpdate=xe,V.lastBaseUpdate=je,E=V.shared.interleaved,E!==null){V=E;do X|=V.lane,V=V.next;while(V!==E)}else W===null&&(V.shared.lanes=0);Cp|=X,w.lanes=X,w.memoizedState=ze}}function jL(w,E,A){if(w=E.effects,E.effects=null,w!==null)for(E=0;E<w.length;E++){var R=w[E],V=R.callback;if(V!==null){if(R.callback=null,R=A,typeof V!="function")throw Error(i(191,V));V.call(R)}}}var yg={},Al=fh(yg),mg=fh(yg),gg=fh(yg);function Mp(w){if(w===yg)throw Error(i(174));return w}function O$(w,E){switch(Ui(gg,E),Ui(mg,w),Ui(Al,yg),w=E.nodeType,w){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:ds(null,"");break;default:w=w===8?E.parentNode:E,E=w.namespaceURI||null,w=w.tagName,E=ds(E,w)}Ki(Al),Ui(Al,E)}function n1(){Ki(Al),Ki(mg),Ki(gg)}function DL(w){Mp(gg.current);var E=Mp(Al.current),A=ds(E,w.type);E!==A&&(Ui(mg,w),Ui(Al,A))}function L$(w){mg.current===w&&(Ki(Al),Ki(mg))}var yr=fh(0);function Tw(w){for(var E=w;E!==null;){if(E.tag===13){var A=E.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var P$=[];function F$(){for(var w=0;w<P$.length;w++)P$[w]._workInProgressVersionPrimary=null;P$.length=0}var Iw=ae.ReactCurrentDispatcher,R$=ae.ReactCurrentBatchConfig,kp=0,mr=null,en=null,mn=null,Mw=!1,vg=!1,bg=0,aie=0;function Un(){throw Error(i(321))}function N$(w,E){if(E===null)return!1;for(var A=0;A<E.length&&A<w.length;A++)if(!ka(w[A],E[A]))return!1;return!0}function j$(w,E,A,R,V,W){if(kp=W,mr=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Iw.current=w===null||w.memoizedState===null?hie:die,w=A(R,V),vg){W=0;do{if(vg=!1,bg=0,25<=W)throw Error(i(301));W+=1,mn=en=null,E.updateQueue=null,Iw.current=pie,w=A(R,V)}while(vg)}if(Iw.current=Aw,E=en!==null&&en.next!==null,kp=0,mn=en=mr=null,Mw=!1,E)throw Error(i(300));return w}function D$(){var w=bg!==0;return bg=0,w}function Ol(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?mr.memoizedState=mn=w:mn=mn.next=w,mn}function Ko(){if(en===null){var w=mr.alternate;w=w!==null?w.memoizedState:null}else w=en.next;var E=mn===null?mr.memoizedState:mn.next;if(E!==null)mn=E,en=w;else{if(w===null)throw Error(i(310));en=w,w={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},mn===null?mr.memoizedState=mn=w:mn=mn.next=w}return mn}function wg(w,E){return typeof E=="function"?E(w):E}function V$(w){var E=Ko(),A=E.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=w;var R=en,V=R.baseQueue,W=A.pending;if(W!==null){if(V!==null){var X=V.next;V.next=W.next,W.next=X}R.baseQueue=V=W,A.pending=null}if(V!==null){W=V.next,R=R.baseState;var oe=X=null,he=null,xe=W;do{var je=xe.lane;if((kp&je)===je)he!==null&&(he=he.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),R=xe.hasEagerState?xe.eagerState:w(R,xe.action);else{var ze={lane:je,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};he===null?(oe=he=ze,X=R):he=he.next=ze,mr.lanes|=je,Cp|=je}xe=xe.next}while(xe!==null&&xe!==W);he===null?X=R:he.next=oe,ka(R,E.memoizedState)||(zs=!0),E.memoizedState=R,E.baseState=X,E.baseQueue=he,A.lastRenderedState=R}if(w=A.interleaved,w!==null){V=w;do W=V.lane,mr.lanes|=W,Cp|=W,V=V.next;while(V!==w)}else V===null&&(A.lanes=0);return[E.memoizedState,A.dispatch]}function z$(w){var E=Ko(),A=E.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=w;var R=A.dispatch,V=A.pending,W=E.memoizedState;if(V!==null){A.pending=null;var X=V=V.next;do W=w(W,X.action),X=X.next;while(X!==V);ka(W,E.memoizedState)||(zs=!0),E.memoizedState=W,E.baseQueue===null&&(E.baseState=W),A.lastRenderedState=W}return[W,R]}function VL(){}function zL(w,E){var A=mr,R=Ko(),V=E(),W=!ka(R.memoizedState,V);if(W&&(R.memoizedState=V,zs=!0),R=R.queue,U$(WL.bind(null,A,R,w),[w]),R.getSnapshot!==E||W||mn!==null&&mn.memoizedState.tag&1){if(A.flags|=2048,_g(9,GL.bind(null,A,R,V,E),void 0,null),gn===null)throw Error(i(349));kp&30||UL(A,E,V)}return V}function UL(w,E,A){w.flags|=16384,w={getSnapshot:E,value:A},E=mr.updateQueue,E===null?(E={lastEffect:null,stores:null},mr.updateQueue=E,E.stores=[w]):(A=E.stores,A===null?E.stores=[w]:A.push(w))}function GL(w,E,A,R){E.value=A,E.getSnapshot=R,qL(E)&&BL(w)}function WL(w,E,A){return A(function(){qL(E)&&BL(w)})}function qL(w){var E=w.getSnapshot;w=w.value;try{var A=E();return!ka(w,A)}catch{return!0}}function BL(w){var E=Wu(w,1);E!==null&&Pa(E,w,1,-1)}function HL(w){var E=Ol();return typeof w=="function"&&(w=w()),E.memoizedState=E.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:w},E.queue=w,w=w.dispatch=cie.bind(null,mr,w),[E.memoizedState,w]}function _g(w,E,A,R){return w={tag:w,create:E,destroy:A,deps:R,next:null},E=mr.updateQueue,E===null?(E={lastEffect:null,stores:null},mr.updateQueue=E,E.lastEffect=w.next=w):(A=E.lastEffect,A===null?E.lastEffect=w.next=w:(R=A.next,A.next=w,w.next=R,E.lastEffect=w)),w}function JL(){return Ko().memoizedState}function kw(w,E,A,R){var V=Ol();mr.flags|=w,V.memoizedState=_g(1|E,A,void 0,R===void 0?null:R)}function Cw(w,E,A,R){var V=Ko();R=R===void 0?null:R;var W=void 0;if(en!==null){var X=en.memoizedState;if(W=X.destroy,R!==null&&N$(R,X.deps)){V.memoizedState=_g(E,A,W,R);return}}mr.flags|=w,V.memoizedState=_g(1|E,A,W,R)}function ZL(w,E){return kw(8390656,8,w,E)}function U$(w,E){return Cw(2048,8,w,E)}function KL(w,E){return Cw(4,2,w,E)}function YL(w,E){return Cw(4,4,w,E)}function QL(w,E){if(typeof E=="function")return w=w(),E(w),function(){E(null)};if(E!=null)return w=w(),E.current=w,function(){E.current=null}}function XL(w,E,A){return A=A!=null?A.concat([w]):null,Cw(4,4,QL.bind(null,E,w),A)}function G$(){}function eP(w,E){var A=Ko();E=E===void 0?null:E;var R=A.memoizedState;return R!==null&&E!==null&&N$(E,R[1])?R[0]:(A.memoizedState=[w,E],w)}function tP(w,E){var A=Ko();E=E===void 0?null:E;var R=A.memoizedState;return R!==null&&E!==null&&N$(E,R[1])?R[0]:(w=w(),A.memoizedState=[w,E],w)}function iP(w,E,A){return kp&21?(ka(A,E)||(A=Sp(),mr.lanes|=A,Cp|=A,w.baseState=!0),E):(w.baseState&&(w.baseState=!1,zs=!0),w.memoizedState=A)}function lie(w,E){var A=Ai;Ai=A!==0&&4>A?A:4,w(!0);var R=R$.transition;R$.transition={};try{w(!1),E()}finally{Ai=A,R$.transition=R}}function rP(){return Ko().memoizedState}function uie(w,E,A){var R=Sh(w);if(A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},nP(w))sP(E,A);else if(A=FL(w,E,A,R),A!==null){var V=fs();Pa(A,w,R,V),oP(A,E,R)}}function cie(w,E,A){var R=Sh(w),V={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if(nP(w))sP(E,V);else{var W=w.alternate;if(w.lanes===0&&(W===null||W.lanes===0)&&(W=E.lastRenderedReducer,W!==null))try{var X=E.lastRenderedState,oe=W(X,A);if(V.hasEagerState=!0,V.eagerState=oe,ka(oe,X)){var he=E.interleaved;he===null?(V.next=V,C$(E)):(V.next=he.next,he.next=V),E.interleaved=V;return}}catch{}finally{}A=FL(w,E,V,R),A!==null&&(V=fs(),Pa(A,w,R,V),oP(A,E,R))}}function nP(w){var E=w.alternate;return w===mr||E!==null&&E===mr}function sP(w,E){vg=Mw=!0;var A=w.pending;A===null?E.next=E:(E.next=A.next,A.next=E),w.pending=E}function oP(w,E,A){if(A&4194240){var R=E.lanes;R&=w.pendingLanes,A|=R,E.lanes=A,q9(w,A)}}var Aw={readContext:Zo,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},hie={readContext:Zo,useCallback:function(w,E){return Ol().memoizedState=[w,E===void 0?null:E],w},useContext:Zo,useEffect:ZL,useImperativeHandle:function(w,E,A){return A=A!=null?A.concat([w]):null,kw(4194308,4,QL.bind(null,E,w),A)},useLayoutEffect:function(w,E){return kw(4194308,4,w,E)},useInsertionEffect:function(w,E){return kw(4,2,w,E)},useMemo:function(w,E){var A=Ol();return E=E===void 0?null:E,w=w(),A.memoizedState=[w,E],w},useReducer:function(w,E,A){var R=Ol();return E=A!==void 0?A(E):E,R.memoizedState=R.baseState=E,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:E},R.queue=w,w=w.dispatch=uie.bind(null,mr,w),[R.memoizedState,w]},useRef:function(w){var E=Ol();return w={current:w},E.memoizedState=w},useState:HL,useDebugValue:G$,useDeferredValue:function(w){return Ol().memoizedState=w},useTransition:function(){var w=HL(!1),E=w[0];return w=lie.bind(null,w[1]),Ol().memoizedState=w,[E,w]},useMutableSource:function(){},useSyncExternalStore:function(w,E,A){var R=mr,V=Ol();if(sr){if(A===void 0)throw Error(i(407));A=A()}else{if(A=E(),gn===null)throw Error(i(349));kp&30||UL(R,E,A)}V.memoizedState=A;var W={value:A,getSnapshot:E};return V.queue=W,ZL(WL.bind(null,R,W,w),[w]),R.flags|=2048,_g(9,GL.bind(null,R,W,A,E),void 0,null),A},useId:function(){var w=Ol(),E=gn.identifierPrefix;if(sr){var A=Gu,R=Uu;A=(R&~(1<<32-fn(R)-1)).toString(32)+A,E=":"+E+"R"+A,A=bg++,0<A&&(E+="H"+A.toString(32)),E+=":"}else A=aie++,E=":"+E+"r"+A.toString(32)+":";return w.memoizedState=E},unstable_isNewReconciler:!1},die={readContext:Zo,useCallback:eP,useContext:Zo,useEffect:U$,useImperativeHandle:XL,useInsertionEffect:KL,useLayoutEffect:YL,useMemo:tP,useReducer:V$,useRef:JL,useState:function(){return V$(wg)},useDebugValue:G$,useDeferredValue:function(w){var E=Ko();return iP(E,en.memoizedState,w)},useTransition:function(){var w=V$(wg)[0],E=Ko().memoizedState;return[w,E]},useMutableSource:VL,useSyncExternalStore:zL,useId:rP,unstable_isNewReconciler:!1},pie={readContext:Zo,useCallback:eP,useContext:Zo,useEffect:U$,useImperativeHandle:XL,useInsertionEffect:KL,useLayoutEffect:YL,useMemo:tP,useReducer:z$,useRef:JL,useState:function(){return z$(wg)},useDebugValue:G$,useDeferredValue:function(w){var E=Ko();return en===null?E.memoizedState=w:iP(E,en.memoizedState,w)},useTransition:function(){var w=z$(wg)[0],E=Ko().memoizedState;return[w,E]},useMutableSource:VL,useSyncExternalStore:zL,useId:rP,unstable_isNewReconciler:!1};function Aa(w,E){if(w&&w.defaultProps){E=rt({},E),w=w.defaultProps;for(var A in w)E[A]===void 0&&(E[A]=w[A]);return E}return E}function W$(w,E,A,R){E=w.memoizedState,A=A(R,E),A=A==null?E:rt({},E,A),w.memoizedState=A,w.lanes===0&&(w.updateQueue.baseState=A)}var Ow={isMounted:function(w){return(w=w._reactInternals)?Te(w)===w:!1},enqueueSetState:function(w,E,A){w=w._reactInternals;var R=fs(),V=Sh(w),W=qu(R,V);W.payload=E,A!=null&&(W.callback=A),E=vh(w,W,V),E!==null&&(Pa(E,w,V,R),xw(E,w,V))},enqueueReplaceState:function(w,E,A){w=w._reactInternals;var R=fs(),V=Sh(w),W=qu(R,V);W.tag=1,W.payload=E,A!=null&&(W.callback=A),E=vh(w,W,V),E!==null&&(Pa(E,w,V,R),xw(E,w,V))},enqueueForceUpdate:function(w,E){w=w._reactInternals;var A=fs(),R=Sh(w),V=qu(A,R);V.tag=2,E!=null&&(V.callback=E),E=vh(w,V,R),E!==null&&(Pa(E,w,R,A),xw(E,w,R))}};function aP(w,E,A,R,V,W,X){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(R,W,X):E.prototype&&E.prototype.isPureReactComponent?!ag(A,R)||!ag(V,W):!0}function lP(w,E,A){var R=!1,V=yh,W=E.contextType;return typeof W=="object"&&W!==null?W=Zo(W):(V=Vs(E)?xp:zn.current,R=E.contextTypes,W=(R=R!=null)?Y0(w,V):yh),E=new E(A,W),w.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ow,w.stateNode=E,E._reactInternals=w,R&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=V,w.__reactInternalMemoizedMaskedChildContext=W),E}function uP(w,E,A,R){w=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(A,R),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(A,R),E.state!==w&&Ow.enqueueReplaceState(E,E.state,null)}function q$(w,E,A,R){var V=w.stateNode;V.props=A,V.state=w.memoizedState,V.refs={},A$(w);var W=E.contextType;typeof W=="object"&&W!==null?V.context=Zo(W):(W=Vs(E)?xp:zn.current,V.context=Y0(w,W)),V.state=w.memoizedState,W=E.getDerivedStateFromProps,typeof W=="function"&&(W$(w,E,W,A),V.state=w.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(E=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),E!==V.state&&Ow.enqueueReplaceState(V,V.state,null),Ew(w,A,V,R),V.state=w.memoizedState),typeof V.componentDidMount=="function"&&(w.flags|=4194308)}function s1(w,E){try{var A="",R=E;do A+=Zt(R),R=R.return;while(R);var V=A}catch(W){V=`
Error generating stack: `+W.message+`
`+W.stack}return{value:w,source:E,stack:V,digest:null}}function B$(w,E,A){return{value:w,source:null,stack:A??null,digest:E??null}}function H$(w,E){try{console.error(E.value)}catch(A){setTimeout(function(){throw A})}}var fie=typeof WeakMap=="function"?WeakMap:Map;function cP(w,E,A){A=qu(-1,A),A.tag=3,A.payload={element:null};var R=E.value;return A.callback=function(){Dw||(Dw=!0,l6=R),H$(w,E)},A}function hP(w,E,A){A=qu(-1,A),A.tag=3;var R=w.type.getDerivedStateFromError;if(typeof R=="function"){var V=E.value;A.payload=function(){return R(V)},A.callback=function(){H$(w,E)}}var W=w.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(A.callback=function(){H$(w,E),typeof R!="function"&&(wh===null?wh=new Set([this]):wh.add(this));var X=E.stack;this.componentDidCatch(E.value,{componentStack:X!==null?X:""})}),A}function dP(w,E,A){var R=w.pingCache;if(R===null){R=w.pingCache=new fie;var V=new Set;R.set(E,V)}else V=R.get(E),V===void 0&&(V=new Set,R.set(E,V));V.has(A)||(V.add(A),w=Mie.bind(null,w,E,A),E.then(w,w))}function pP(w){do{var E;if((E=w.tag===13)&&(E=w.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return w;w=w.return}while(w!==null);return null}function fP(w,E,A,R,V){return w.mode&1?(w.flags|=65536,w.lanes=V,w):(w===E?w.flags|=65536:(w.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(E=qu(-1,1),E.tag=2,vh(A,E,1))),A.lanes|=1),w)}var yie=ae.ReactCurrentOwner,zs=!1;function ps(w,E,A,R){E.child=w===null?PL(E,null,A,R):t1(E,w.child,A,R)}function yP(w,E,A,R,V){A=A.render;var W=E.ref;return r1(E,V),R=j$(w,E,A,R,W,V),A=D$(),w!==null&&!zs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,Bu(w,E,V)):(sr&&A&&_$(E),E.flags|=1,ps(w,E,R,V),E.child)}function mP(w,E,A,R,V){if(w===null){var W=A.type;return typeof W=="function"&&!y6(W)&&W.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(E.tag=15,E.type=W,gP(w,E,W,R,V)):(w=qw(A.type,null,R,E,E.mode,V),w.ref=E.ref,w.return=E,E.child=w)}if(W=w.child,!(w.lanes&V)){var X=W.memoizedProps;if(A=A.compare,A=A!==null?A:ag,A(X,R)&&w.ref===E.ref)return Bu(w,E,V)}return E.flags|=1,w=xh(W,R),w.ref=E.ref,w.return=E,E.child=w}function gP(w,E,A,R,V){if(w!==null){var W=w.memoizedProps;if(ag(W,R)&&w.ref===E.ref)if(zs=!1,E.pendingProps=R=W,(w.lanes&V)!==0)w.flags&131072&&(zs=!0);else return E.lanes=w.lanes,Bu(w,E,V)}return J$(w,E,A,R,V)}function vP(w,E,A){var R=E.pendingProps,V=R.children,W=w!==null?w.memoizedState:null;if(R.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ui(a1,So),So|=A;else{if(!(A&1073741824))return w=W!==null?W.baseLanes|A:A,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:w,cachePool:null,transitions:null},E.updateQueue=null,Ui(a1,So),So|=w,null;E.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=W!==null?W.baseLanes:A,Ui(a1,So),So|=R}else W!==null?(R=W.baseLanes|A,E.memoizedState=null):R=A,Ui(a1,So),So|=R;return ps(w,E,V,A),E.child}function bP(w,E){var A=E.ref;(w===null&&A!==null||w!==null&&w.ref!==A)&&(E.flags|=512,E.flags|=2097152)}function J$(w,E,A,R,V){var W=Vs(A)?xp:zn.current;return W=Y0(E,W),r1(E,V),A=j$(w,E,A,R,W,V),R=D$(),w!==null&&!zs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,Bu(w,E,V)):(sr&&R&&_$(E),E.flags|=1,ps(w,E,A,V),E.child)}function wP(w,E,A,R,V){if(Vs(A)){var W=!0;mw(E)}else W=!1;if(r1(E,V),E.stateNode===null)Pw(w,E),lP(E,A,R),q$(E,A,R,V),R=!0;else if(w===null){var X=E.stateNode,oe=E.memoizedProps;X.props=oe;var he=X.context,xe=A.contextType;typeof xe=="object"&&xe!==null?xe=Zo(xe):(xe=Vs(A)?xp:zn.current,xe=Y0(E,xe));var je=A.getDerivedStateFromProps,ze=typeof je=="function"||typeof X.getSnapshotBeforeUpdate=="function";ze||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==R||he!==xe)&&uP(E,X,R,xe),gh=!1;var Ne=E.memoizedState;X.state=Ne,Ew(E,R,X,V),he=E.memoizedState,oe!==R||Ne!==he||Ds.current||gh?(typeof je=="function"&&(W$(E,A,je,R),he=E.memoizedState),(oe=gh||aP(E,A,oe,R,Ne,he,xe))?(ze||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(E.flags|=4194308)):(typeof X.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=R,E.memoizedState=he),X.props=R,X.state=he,X.context=xe,R=oe):(typeof X.componentDidMount=="function"&&(E.flags|=4194308),R=!1)}else{X=E.stateNode,RL(w,E),oe=E.memoizedProps,xe=E.type===E.elementType?oe:Aa(E.type,oe),X.props=xe,ze=E.pendingProps,Ne=X.context,he=A.contextType,typeof he=="object"&&he!==null?he=Zo(he):(he=Vs(A)?xp:zn.current,he=Y0(E,he));var st=A.getDerivedStateFromProps;(je=typeof st=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==ze||Ne!==he)&&uP(E,X,R,he),gh=!1,Ne=E.memoizedState,X.state=Ne,Ew(E,R,X,V);var ct=E.memoizedState;oe!==ze||Ne!==ct||Ds.current||gh?(typeof st=="function"&&(W$(E,A,st,R),ct=E.memoizedState),(xe=gh||aP(E,A,xe,R,Ne,ct,he)||!1)?(je||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(R,ct,he),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(R,ct,he)),typeof X.componentDidUpdate=="function"&&(E.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof X.componentDidUpdate!="function"||oe===w.memoizedProps&&Ne===w.memoizedState||(E.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===w.memoizedProps&&Ne===w.memoizedState||(E.flags|=1024),E.memoizedProps=R,E.memoizedState=ct),X.props=R,X.state=ct,X.context=he,R=xe):(typeof X.componentDidUpdate!="function"||oe===w.memoizedProps&&Ne===w.memoizedState||(E.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===w.memoizedProps&&Ne===w.memoizedState||(E.flags|=1024),R=!1)}return Z$(w,E,A,R,W,V)}function Z$(w,E,A,R,V,W){bP(w,E);var X=(E.flags&128)!==0;if(!R&&!X)return V&&EL(E,A,!1),Bu(w,E,W);R=E.stateNode,yie.current=E;var oe=X&&typeof A.getDerivedStateFromError!="function"?null:R.render();return E.flags|=1,w!==null&&X?(E.child=t1(E,w.child,null,W),E.child=t1(E,null,oe,W)):ps(w,E,oe,W),E.memoizedState=R.state,V&&EL(E,A,!0),E.child}function _P(w){var E=w.stateNode;E.pendingContext?$L(w,E.pendingContext,E.pendingContext!==E.context):E.context&&$L(w,E.context,!1),O$(w,E.containerInfo)}function SP(w,E,A,R,V){return e1(),E$(V),E.flags|=256,ps(w,E,A,R),E.child}var K$={dehydrated:null,treeContext:null,retryLane:0};function Y$(w){return{baseLanes:w,cachePool:null,transitions:null}}function $P(w,E,A){var R=E.pendingProps,V=yr.current,W=!1,X=(E.flags&128)!==0,oe;if((oe=X)||(oe=w!==null&&w.memoizedState===null?!1:(V&2)!==0),oe?(W=!0,E.flags&=-129):(w===null||w.memoizedState!==null)&&(V|=1),Ui(yr,V&1),w===null)return x$(E),w=E.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?(E.mode&1?w.data==="$!"?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(X=R.children,w=R.fallback,W?(R=E.mode,W=E.child,X={mode:"hidden",children:X},!(R&1)&&W!==null?(W.childLanes=0,W.pendingProps=X):W=Bw(X,R,0,null),w=Pp(w,R,A,null),W.return=E,w.return=E,W.sibling=w,E.child=W,E.child.memoizedState=Y$(A),E.memoizedState=K$,w):Q$(E,X));if(V=w.memoizedState,V!==null&&(oe=V.dehydrated,oe!==null))return mie(w,E,X,R,oe,V,A);if(W){W=R.fallback,X=E.mode,V=w.child,oe=V.sibling;var he={mode:"hidden",children:R.children};return!(X&1)&&E.child!==V?(R=E.child,R.childLanes=0,R.pendingProps=he,E.deletions=null):(R=xh(V,he),R.subtreeFlags=V.subtreeFlags&14680064),oe!==null?W=xh(oe,W):(W=Pp(W,X,A,null),W.flags|=2),W.return=E,R.return=E,R.sibling=W,E.child=R,R=W,W=E.child,X=w.child.memoizedState,X=X===null?Y$(A):{baseLanes:X.baseLanes|A,cachePool:null,transitions:X.transitions},W.memoizedState=X,W.childLanes=w.childLanes&~A,E.memoizedState=K$,R}return W=w.child,w=W.sibling,R=xh(W,{mode:"visible",children:R.children}),!(E.mode&1)&&(R.lanes=A),R.return=E,R.sibling=null,w!==null&&(A=E.deletions,A===null?(E.deletions=[w],E.flags|=16):A.push(w)),E.child=R,E.memoizedState=null,R}function Q$(w,E){return E=Bw({mode:"visible",children:E},w.mode,0,null),E.return=w,w.child=E}function Lw(w,E,A,R){return R!==null&&E$(R),t1(E,w.child,null,A),w=Q$(E,E.pendingProps.children),w.flags|=2,E.memoizedState=null,w}function mie(w,E,A,R,V,W,X){if(A)return E.flags&256?(E.flags&=-257,R=B$(Error(i(422))),Lw(w,E,X,R)):E.memoizedState!==null?(E.child=w.child,E.flags|=128,null):(W=R.fallback,V=E.mode,R=Bw({mode:"visible",children:R.children},V,0,null),W=Pp(W,V,X,null),W.flags|=2,R.return=E,W.return=E,R.sibling=W,E.child=R,E.mode&1&&t1(E,w.child,null,X),E.child.memoizedState=Y$(X),E.memoizedState=K$,W);if(!(E.mode&1))return Lw(w,E,X,null);if(V.data==="$!"){if(R=V.nextSibling&&V.nextSibling.dataset,R)var oe=R.dgst;return R=oe,W=Error(i(419)),R=B$(W,R,void 0),Lw(w,E,X,R)}if(oe=(X&w.childLanes)!==0,zs||oe){if(R=gn,R!==null){switch(X&-X){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}V=V&(R.suspendedLanes|X)?0:V,V!==0&&V!==W.retryLane&&(W.retryLane=V,Wu(w,V),Pa(R,w,V,-1))}return f6(),R=B$(Error(i(421))),Lw(w,E,X,R)}return V.data==="$?"?(E.flags|=128,E.child=w.child,E=kie.bind(null,w),V._reactRetry=E,null):(w=W.treeContext,_o=ph(V.nextSibling),wo=E,sr=!0,Ca=null,w!==null&&(Ho[Jo++]=Uu,Ho[Jo++]=Gu,Ho[Jo++]=Ep,Uu=w.id,Gu=w.overflow,Ep=E),E=Q$(E,R.children),E.flags|=4096,E)}function xP(w,E,A){w.lanes|=E;var R=w.alternate;R!==null&&(R.lanes|=E),k$(w.return,E,A)}function X$(w,E,A,R,V){var W=w.memoizedState;W===null?w.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:V}:(W.isBackwards=E,W.rendering=null,W.renderingStartTime=0,W.last=R,W.tail=A,W.tailMode=V)}function EP(w,E,A){var R=E.pendingProps,V=R.revealOrder,W=R.tail;if(ps(w,E,R.children,A),R=yr.current,R&2)R=R&1|2,E.flags|=128;else{if(w!==null&&w.flags&128)e:for(w=E.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&xP(w,A,E);else if(w.tag===19)xP(w,A,E);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===E)break e;for(;w.sibling===null;){if(w.return===null||w.return===E)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}R&=1}if(Ui(yr,R),!(E.mode&1))E.memoizedState=null;else switch(V){case"forwards":for(A=E.child,V=null;A!==null;)w=A.alternate,w!==null&&Tw(w)===null&&(V=A),A=A.sibling;A=V,A===null?(V=E.child,E.child=null):(V=A.sibling,A.sibling=null),X$(E,!1,V,A,W);break;case"backwards":for(A=null,V=E.child,E.child=null;V!==null;){if(w=V.alternate,w!==null&&Tw(w)===null){E.child=V;break}w=V.sibling,V.sibling=A,A=V,V=w}X$(E,!0,A,null,W);break;case"together":X$(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function Pw(w,E){!(E.mode&1)&&w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2)}function Bu(w,E,A){if(w!==null&&(E.dependencies=w.dependencies),Cp|=E.lanes,!(A&E.childLanes))return null;if(w!==null&&E.child!==w.child)throw Error(i(153));if(E.child!==null){for(w=E.child,A=xh(w,w.pendingProps),E.child=A,A.return=E;w.sibling!==null;)w=w.sibling,A=A.sibling=xh(w,w.pendingProps),A.return=E;A.sibling=null}return E.child}function gie(w,E,A){switch(E.tag){case 3:_P(E),e1();break;case 5:DL(E);break;case 1:Vs(E.type)&&mw(E);break;case 4:O$(E,E.stateNode.containerInfo);break;case 10:var R=E.type._context,V=E.memoizedProps.value;Ui(Sw,R._currentValue),R._currentValue=V;break;case 13:if(R=E.memoizedState,R!==null)return R.dehydrated!==null?(Ui(yr,yr.current&1),E.flags|=128,null):A&E.child.childLanes?$P(w,E,A):(Ui(yr,yr.current&1),w=Bu(w,E,A),w!==null?w.sibling:null);Ui(yr,yr.current&1);break;case 19:if(R=(A&E.childLanes)!==0,w.flags&128){if(R)return EP(w,E,A);E.flags|=128}if(V=E.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Ui(yr,yr.current),R)break;return null;case 22:case 23:return E.lanes=0,vP(w,E,A)}return Bu(w,E,A)}var TP,e6,IP,MP;TP=function(w,E){for(var A=E.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===E)break;for(;A.sibling===null;){if(A.return===null||A.return===E)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},e6=function(){},IP=function(w,E,A,R){var V=w.memoizedProps;if(V!==R){w=E.stateNode,Mp(Al.current);var W=null;switch(A){case"input":V=_p(w,V),R=_p(w,R),W=[];break;case"select":V=rt({},V,{value:void 0}),R=rt({},R,{value:void 0}),W=[];break;case"textarea":V=ji(w,V),R=ji(w,R),W=[];break;default:typeof V.onClick!="function"&&typeof R.onClick=="function"&&(w.onclick=pw)}a(A,R);var X;A=null;for(xe in V)if(!R.hasOwnProperty(xe)&&V.hasOwnProperty(xe)&&V[xe]!=null)if(xe==="style"){var oe=V[xe];for(X in oe)oe.hasOwnProperty(X)&&(A||(A={}),A[X]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(s.hasOwnProperty(xe)?W||(W=[]):(W=W||[]).push(xe,null));for(xe in R){var he=R[xe];if(oe=V!=null?V[xe]:void 0,R.hasOwnProperty(xe)&&he!==oe&&(he!=null||oe!=null))if(xe==="style")if(oe){for(X in oe)!oe.hasOwnProperty(X)||he&&he.hasOwnProperty(X)||(A||(A={}),A[X]="");for(X in he)he.hasOwnProperty(X)&&oe[X]!==he[X]&&(A||(A={}),A[X]=he[X])}else A||(W||(W=[]),W.push(xe,A)),A=he;else xe==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,oe=oe?oe.__html:void 0,he!=null&&oe!==he&&(W=W||[]).push(xe,he)):xe==="children"?typeof he!="string"&&typeof he!="number"||(W=W||[]).push(xe,""+he):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(s.hasOwnProperty(xe)?(he!=null&&xe==="onScroll"&&Zi("scroll",w),W||oe===he||(W=[])):(W=W||[]).push(xe,he))}A&&(W=W||[]).push("style",A);var xe=W;(E.updateQueue=xe)&&(E.flags|=4)}},MP=function(w,E,A,R){A!==R&&(E.flags|=4)};function Sg(w,E){if(!sr)switch(w.tailMode){case"hidden":E=w.tail;for(var A=null;E!==null;)E.alternate!==null&&(A=E),E=E.sibling;A===null?w.tail=null:A.sibling=null;break;case"collapsed":A=w.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?E||w.tail===null?w.tail=null:w.tail.sibling=null:R.sibling=null}}function Gn(w){var E=w.alternate!==null&&w.alternate.child===w.child,A=0,R=0;if(E)for(var V=w.child;V!==null;)A|=V.lanes|V.childLanes,R|=V.subtreeFlags&14680064,R|=V.flags&14680064,V.return=w,V=V.sibling;else for(V=w.child;V!==null;)A|=V.lanes|V.childLanes,R|=V.subtreeFlags,R|=V.flags,V.return=w,V=V.sibling;return w.subtreeFlags|=R,w.childLanes=A,E}function vie(w,E,A){var R=E.pendingProps;switch(S$(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(E),null;case 1:return Vs(E.type)&&yw(),Gn(E),null;case 3:return R=E.stateNode,n1(),Ki(Ds),Ki(zn),F$(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(w===null||w.child===null)&&(ww(E)?E.flags|=4:w===null||w.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,Ca!==null&&(h6(Ca),Ca=null))),e6(w,E),Gn(E),null;case 5:L$(E);var V=Mp(gg.current);if(A=E.type,w!==null&&E.stateNode!=null)IP(w,E,A,R,V),w.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!R){if(E.stateNode===null)throw Error(i(166));return Gn(E),null}if(w=Mp(Al.current),ww(E)){R=E.stateNode,A=E.type;var W=E.memoizedProps;switch(R[Cl]=E,R[dg]=W,w=(E.mode&1)!==0,A){case"dialog":Zi("cancel",R),Zi("close",R);break;case"iframe":case"object":case"embed":Zi("load",R);break;case"video":case"audio":for(V=0;V<ug.length;V++)Zi(ug[V],R);break;case"source":Zi("error",R);break;case"img":case"image":case"link":Zi("error",R),Zi("load",R);break;case"details":Zi("toggle",R);break;case"input":V0(R,W),Zi("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!W.multiple},Zi("invalid",R);break;case"textarea":Rs(R,W),Zi("invalid",R)}a(A,W),V=null;for(var X in W)if(W.hasOwnProperty(X)){var oe=W[X];X==="children"?typeof oe=="string"?R.textContent!==oe&&(W.suppressHydrationWarning!==!0&&dw(R.textContent,oe,w),V=["children",oe]):typeof oe=="number"&&R.textContent!==""+oe&&(W.suppressHydrationWarning!==!0&&dw(R.textContent,oe,w),V=["children",""+oe]):s.hasOwnProperty(X)&&oe!=null&&X==="onScroll"&&Zi("scroll",R)}switch(A){case"input":sh(R),Y(R,W,!0);break;case"textarea":sh(R),Ns(R);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(R.onclick=pw)}R=V,E.updateQueue=R,R!==null&&(E.flags|=4)}else{X=V.nodeType===9?V:V.ownerDocument,w==="http://www.w3.org/1999/xhtml"&&(w=vo(A)),w==="http://www.w3.org/1999/xhtml"?A==="script"?(w=X.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild)):typeof R.is=="string"?w=X.createElement(A,{is:R.is}):(w=X.createElement(A),A==="select"&&(X=w,R.multiple?X.multiple=!0:R.size&&(X.size=R.size))):w=X.createElementNS(w,A),w[Cl]=E,w[dg]=R,TP(w,E,!1,!1),E.stateNode=w;e:{switch(X=n(A,R),A){case"dialog":Zi("cancel",w),Zi("close",w),V=R;break;case"iframe":case"object":case"embed":Zi("load",w),V=R;break;case"video":case"audio":for(V=0;V<ug.length;V++)Zi(ug[V],w);V=R;break;case"source":Zi("error",w),V=R;break;case"img":case"image":case"link":Zi("error",w),Zi("load",w),V=R;break;case"details":Zi("toggle",w),V=R;break;case"input":V0(w,R),V=_p(w,R),Zi("invalid",w);break;case"option":V=R;break;case"select":w._wrapperState={wasMultiple:!!R.multiple},V=rt({},R,{value:void 0}),Zi("invalid",w);break;case"textarea":Rs(w,R),V=ji(w,R),Zi("invalid",w);break;default:V=R}a(A,V),oe=V;for(W in oe)if(oe.hasOwnProperty(W)){var he=oe[W];W==="style"?_(w,he):W==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&Bo(w,he)):W==="children"?typeof he=="string"?(A!=="textarea"||he!=="")&&Ve(w,he):typeof he=="number"&&Ve(w,""+he):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?he!=null&&W==="onScroll"&&Zi("scroll",w):he!=null&&ue(w,W,he,X))}switch(A){case"input":sh(w),Y(w,R,!1);break;case"textarea":sh(w),Ns(w);break;case"option":R.value!=null&&w.setAttribute("value",""+ui(R.value));break;case"select":w.multiple=!!R.multiple,W=R.value,W!=null?Vt(w,!!R.multiple,W,!1):R.defaultValue!=null&&Vt(w,!!R.multiple,R.defaultValue,!0);break;default:typeof V.onClick=="function"&&(w.onclick=pw)}switch(A){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(E.flags|=4)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Gn(E),null;case 6:if(w&&E.stateNode!=null)MP(w,E,w.memoizedProps,R);else{if(typeof R!="string"&&E.stateNode===null)throw Error(i(166));if(A=Mp(gg.current),Mp(Al.current),ww(E)){if(R=E.stateNode,A=E.memoizedProps,R[Cl]=E,(W=R.nodeValue!==A)&&(w=wo,w!==null))switch(w.tag){case 3:dw(R.nodeValue,A,(w.mode&1)!==0);break;case 5:w.memoizedProps.suppressHydrationWarning!==!0&&dw(R.nodeValue,A,(w.mode&1)!==0)}W&&(E.flags|=4)}else R=(A.nodeType===9?A:A.ownerDocument).createTextNode(R),R[Cl]=E,E.stateNode=R}return Gn(E),null;case 13:if(Ki(yr),R=E.memoizedState,w===null||w.memoizedState!==null&&w.memoizedState.dehydrated!==null){if(sr&&_o!==null&&E.mode&1&&!(E.flags&128))AL(),e1(),E.flags|=98560,W=!1;else if(W=ww(E),R!==null&&R.dehydrated!==null){if(w===null){if(!W)throw Error(i(318));if(W=E.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(i(317));W[Cl]=E}else e1(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;Gn(E),W=!1}else Ca!==null&&(h6(Ca),Ca=null),W=!0;if(!W)return E.flags&65536?E:null}return E.flags&128?(E.lanes=A,E):(R=R!==null,R!==(w!==null&&w.memoizedState!==null)&&R&&(E.child.flags|=8192,E.mode&1&&(w===null||yr.current&1?tn===0&&(tn=3):f6())),E.updateQueue!==null&&(E.flags|=4),Gn(E),null);case 4:return n1(),e6(w,E),w===null&&cg(E.stateNode.containerInfo),Gn(E),null;case 10:return M$(E.type._context),Gn(E),null;case 17:return Vs(E.type)&&yw(),Gn(E),null;case 19:if(Ki(yr),W=E.memoizedState,W===null)return Gn(E),null;if(R=(E.flags&128)!==0,X=W.rendering,X===null)if(R)Sg(W,!1);else{if(tn!==0||w!==null&&w.flags&128)for(w=E.child;w!==null;){if(X=Tw(w),X!==null){for(E.flags|=128,Sg(W,!1),R=X.updateQueue,R!==null&&(E.updateQueue=R,E.flags|=4),E.subtreeFlags=0,R=A,A=E.child;A!==null;)W=A,w=R,W.flags&=14680066,X=W.alternate,X===null?(W.childLanes=0,W.lanes=w,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=X.childLanes,W.lanes=X.lanes,W.child=X.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=X.memoizedProps,W.memoizedState=X.memoizedState,W.updateQueue=X.updateQueue,W.type=X.type,w=X.dependencies,W.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),A=A.sibling;return Ui(yr,yr.current&1|2),E.child}w=w.sibling}W.tail!==null&&vt()>l1&&(E.flags|=128,R=!0,Sg(W,!1),E.lanes=4194304)}else{if(!R)if(w=Tw(X),w!==null){if(E.flags|=128,R=!0,A=w.updateQueue,A!==null&&(E.updateQueue=A,E.flags|=4),Sg(W,!0),W.tail===null&&W.tailMode==="hidden"&&!X.alternate&&!sr)return Gn(E),null}else 2*vt()-W.renderingStartTime>l1&&A!==1073741824&&(E.flags|=128,R=!0,Sg(W,!1),E.lanes=4194304);W.isBackwards?(X.sibling=E.child,E.child=X):(A=W.last,A!==null?A.sibling=X:E.child=X,W.last=X)}return W.tail!==null?(E=W.tail,W.rendering=E,W.tail=E.sibling,W.renderingStartTime=vt(),E.sibling=null,A=yr.current,Ui(yr,R?A&1|2:A&1),E):(Gn(E),null);case 22:case 23:return p6(),R=E.memoizedState!==null,w!==null&&w.memoizedState!==null!==R&&(E.flags|=8192),R&&E.mode&1?So&1073741824&&(Gn(E),E.subtreeFlags&6&&(E.flags|=8192)):Gn(E),null;case 24:return null;case 25:return null}throw Error(i(156,E.tag))}function bie(w,E){switch(S$(E),E.tag){case 1:return Vs(E.type)&&yw(),w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 3:return n1(),Ki(Ds),Ki(zn),F$(),w=E.flags,w&65536&&!(w&128)?(E.flags=w&-65537|128,E):null;case 5:return L$(E),null;case 13:if(Ki(yr),w=E.memoizedState,w!==null&&w.dehydrated!==null){if(E.alternate===null)throw Error(i(340));e1()}return w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 19:return Ki(yr),null;case 4:return n1(),null;case 10:return M$(E.type._context),null;case 22:case 23:return p6(),null;case 24:return null;default:return null}}var Fw=!1,Wn=!1,wie=typeof WeakSet=="function"?WeakSet:Set,lt=null;function o1(w,E){var A=w.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){xr(w,E,R)}else A.current=null}function t6(w,E,A){try{A()}catch(R){xr(w,E,R)}}var kP=!1;function _ie(w,E){if(p$=tw,w=aL(),s$(w)){if("selectionStart"in w)var A={start:w.selectionStart,end:w.selectionEnd};else e:{A=(A=w.ownerDocument)&&A.defaultView||window;var R=A.getSelection&&A.getSelection();if(R&&R.rangeCount!==0){A=R.anchorNode;var V=R.anchorOffset,W=R.focusNode;R=R.focusOffset;try{A.nodeType,W.nodeType}catch{A=null;break e}var X=0,oe=-1,he=-1,xe=0,je=0,ze=w,Ne=null;t:for(;;){for(var st;ze!==A||V!==0&&ze.nodeType!==3||(oe=X+V),ze!==W||R!==0&&ze.nodeType!==3||(he=X+R),ze.nodeType===3&&(X+=ze.nodeValue.length),(st=ze.firstChild)!==null;)Ne=ze,ze=st;for(;;){if(ze===w)break t;if(Ne===A&&++xe===V&&(oe=X),Ne===W&&++je===R&&(he=X),(st=ze.nextSibling)!==null)break;ze=Ne,Ne=ze.parentNode}ze=st}A=oe===-1||he===-1?null:{start:oe,end:he}}else A=null}A=A||{start:0,end:0}}else A=null;for(f$={focusedElem:w,selectionRange:A},tw=!1,lt=E;lt!==null;)if(E=lt,w=E.child,(E.subtreeFlags&1028)!==0&&w!==null)w.return=E,lt=w;else for(;lt!==null;){E=lt;try{var ct=E.alternate;if(E.flags&1024)switch(E.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var ft=ct.memoizedProps,Mr=ct.memoizedState,we=E.stateNode,fe=we.getSnapshotBeforeUpdate(E.elementType===E.type?ft:Aa(E.type,ft),Mr);we.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var Se=E.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Be){xr(E,E.return,Be)}if(w=E.sibling,w!==null){w.return=E.return,lt=w;break}lt=E.return}return ct=kP,kP=!1,ct}function $g(w,E,A){var R=E.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var V=R=R.next;do{if((V.tag&w)===w){var W=V.destroy;V.destroy=void 0,W!==void 0&&t6(E,A,W)}V=V.next}while(V!==R)}}function Rw(w,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var A=E=E.next;do{if((A.tag&w)===w){var R=A.create;A.destroy=R()}A=A.next}while(A!==E)}}function i6(w){var E=w.ref;if(E!==null){var A=w.stateNode;switch(w.tag){case 5:w=A;break;default:w=A}typeof E=="function"?E(w):E.current=w}}function CP(w){var E=w.alternate;E!==null&&(w.alternate=null,CP(E)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(E=w.stateNode,E!==null&&(delete E[Cl],delete E[dg],delete E[v$],delete E[rie],delete E[nie])),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function AP(w){return w.tag===5||w.tag===3||w.tag===4}function OP(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||AP(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function r6(w,E,A){var R=w.tag;if(R===5||R===6)w=w.stateNode,E?A.nodeType===8?A.parentNode.insertBefore(w,E):A.insertBefore(w,E):(A.nodeType===8?(E=A.parentNode,E.insertBefore(w,A)):(E=A,E.appendChild(w)),A=A._reactRootContainer,A!=null||E.onclick!==null||(E.onclick=pw));else if(R!==4&&(w=w.child,w!==null))for(r6(w,E,A),w=w.sibling;w!==null;)r6(w,E,A),w=w.sibling}function n6(w,E,A){var R=w.tag;if(R===5||R===6)w=w.stateNode,E?A.insertBefore(w,E):A.appendChild(w);else if(R!==4&&(w=w.child,w!==null))for(n6(w,E,A),w=w.sibling;w!==null;)n6(w,E,A),w=w.sibling}var On=null,Oa=!1;function bh(w,E,A){for(A=A.child;A!==null;)LP(w,E,A),A=A.sibling}function LP(w,E,A){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Yt,A)}catch{}switch(A.tag){case 5:Wn||o1(A,E);case 6:var R=On,V=Oa;On=null,bh(w,E,A),On=R,Oa=V,On!==null&&(Oa?(w=On,A=A.stateNode,w.nodeType===8?w.parentNode.removeChild(A):w.removeChild(A)):On.removeChild(A.stateNode));break;case 18:On!==null&&(Oa?(w=On,A=A.stateNode,w.nodeType===8?g$(w.parentNode,A):w.nodeType===1&&g$(w,A),tg(w)):g$(On,A.stateNode));break;case 4:R=On,V=Oa,On=A.stateNode.containerInfo,Oa=!0,bh(w,E,A),On=R,Oa=V;break;case 0:case 11:case 14:case 15:if(!Wn&&(R=A.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){V=R=R.next;do{var W=V,X=W.destroy;W=W.tag,X!==void 0&&(W&2||W&4)&&t6(A,E,X),V=V.next}while(V!==R)}bh(w,E,A);break;case 1:if(!Wn&&(o1(A,E),R=A.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=A.memoizedProps,R.state=A.memoizedState,R.componentWillUnmount()}catch(oe){xr(A,E,oe)}bh(w,E,A);break;case 21:bh(w,E,A);break;case 22:A.mode&1?(Wn=(R=Wn)||A.memoizedState!==null,bh(w,E,A),Wn=R):bh(w,E,A);break;default:bh(w,E,A)}}function PP(w){var E=w.updateQueue;if(E!==null){w.updateQueue=null;var A=w.stateNode;A===null&&(A=w.stateNode=new wie),E.forEach(function(R){var V=Cie.bind(null,w,R);A.has(R)||(A.add(R),R.then(V,V))})}}function La(w,E){var A=E.deletions;if(A!==null)for(var R=0;R<A.length;R++){var V=A[R];try{var W=w,X=E,oe=X;e:for(;oe!==null;){switch(oe.tag){case 5:On=oe.stateNode,Oa=!1;break e;case 3:On=oe.stateNode.containerInfo,Oa=!0;break e;case 4:On=oe.stateNode.containerInfo,Oa=!0;break e}oe=oe.return}if(On===null)throw Error(i(160));LP(W,X,V),On=null,Oa=!1;var he=V.alternate;he!==null&&(he.return=null),V.return=null}catch(xe){xr(V,E,xe)}}if(E.subtreeFlags&12854)for(E=E.child;E!==null;)FP(E,w),E=E.sibling}function FP(w,E){var A=w.alternate,R=w.flags;switch(w.tag){case 0:case 11:case 14:case 15:if(La(E,w),Ll(w),R&4){try{$g(3,w,w.return),Rw(3,w)}catch(ft){xr(w,w.return,ft)}try{$g(5,w,w.return)}catch(ft){xr(w,w.return,ft)}}break;case 1:La(E,w),Ll(w),R&512&&A!==null&&o1(A,A.return);break;case 5:if(La(E,w),Ll(w),R&512&&A!==null&&o1(A,A.return),w.flags&32){var V=w.stateNode;try{Ve(V,"")}catch(ft){xr(w,w.return,ft)}}if(R&4&&(V=w.stateNode,V!=null)){var W=w.memoizedProps,X=A!==null?A.memoizedProps:W,oe=w.type,he=w.updateQueue;if(w.updateQueue=null,he!==null)try{oe==="input"&&W.type==="radio"&&W.name!=null&&z0(V,W),n(oe,X);var xe=n(oe,W);for(X=0;X<he.length;X+=2){var je=he[X],ze=he[X+1];je==="style"?_(V,ze):je==="dangerouslySetInnerHTML"?Bo(V,ze):je==="children"?Ve(V,ze):ue(V,je,ze,xe)}switch(oe){case"input":nr(V,W);break;case"textarea":go(V,W);break;case"select":var Ne=V._wrapperState.wasMultiple;V._wrapperState.wasMultiple=!!W.multiple;var st=W.value;st!=null?Vt(V,!!W.multiple,st,!1):Ne!==!!W.multiple&&(W.defaultValue!=null?Vt(V,!!W.multiple,W.defaultValue,!0):Vt(V,!!W.multiple,W.multiple?[]:"",!1))}V[dg]=W}catch(ft){xr(w,w.return,ft)}}break;case 6:if(La(E,w),Ll(w),R&4){if(w.stateNode===null)throw Error(i(162));V=w.stateNode,W=w.memoizedProps;try{V.nodeValue=W}catch(ft){xr(w,w.return,ft)}}break;case 3:if(La(E,w),Ll(w),R&4&&A!==null&&A.memoizedState.isDehydrated)try{tg(E.containerInfo)}catch(ft){xr(w,w.return,ft)}break;case 4:La(E,w),Ll(w);break;case 13:La(E,w),Ll(w),V=w.child,V.flags&8192&&(W=V.memoizedState!==null,V.stateNode.isHidden=W,!W||V.alternate!==null&&V.alternate.memoizedState!==null||(a6=vt())),R&4&&PP(w);break;case 22:if(je=A!==null&&A.memoizedState!==null,w.mode&1?(Wn=(xe=Wn)||je,La(E,w),Wn=xe):La(E,w),Ll(w),R&8192){if(xe=w.memoizedState!==null,(w.stateNode.isHidden=xe)&&!je&&w.mode&1)for(lt=w,je=w.child;je!==null;){for(ze=lt=je;lt!==null;){switch(Ne=lt,st=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:$g(4,Ne,Ne.return);break;case 1:o1(Ne,Ne.return);var ct=Ne.stateNode;if(typeof ct.componentWillUnmount=="function"){R=Ne,A=Ne.return;try{E=R,ct.props=E.memoizedProps,ct.state=E.memoizedState,ct.componentWillUnmount()}catch(ft){xr(R,A,ft)}}break;case 5:o1(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){jP(ze);continue}}st!==null?(st.return=Ne,lt=st):jP(ze)}je=je.sibling}e:for(je=null,ze=w;;){if(ze.tag===5){if(je===null){je=ze;try{V=ze.stateNode,xe?(W=V.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(oe=ze.stateNode,he=ze.memoizedProps.style,X=he!=null&&he.hasOwnProperty("display")?he.display:null,oe.style.display=P("display",X))}catch(ft){xr(w,w.return,ft)}}}else if(ze.tag===6){if(je===null)try{ze.stateNode.nodeValue=xe?"":ze.memoizedProps}catch(ft){xr(w,w.return,ft)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===w)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===w)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===w)break e;je===ze&&(je=null),ze=ze.return}je===ze&&(je=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:La(E,w),Ll(w),R&4&&PP(w);break;case 21:break;default:La(E,w),Ll(w)}}function Ll(w){var E=w.flags;if(E&2){try{e:{for(var A=w.return;A!==null;){if(AP(A)){var R=A;break e}A=A.return}throw Error(i(160))}switch(R.tag){case 5:var V=R.stateNode;R.flags&32&&(Ve(V,""),R.flags&=-33);var W=OP(w);n6(w,W,V);break;case 3:case 4:var X=R.stateNode.containerInfo,oe=OP(w);r6(w,oe,X);break;default:throw Error(i(161))}}catch(he){xr(w,w.return,he)}w.flags&=-3}E&4096&&(w.flags&=-4097)}function Sie(w,E,A){lt=w,RP(w)}function RP(w,E,A){for(var R=(w.mode&1)!==0;lt!==null;){var V=lt,W=V.child;if(V.tag===22&&R){var X=V.memoizedState!==null||Fw;if(!X){var oe=V.alternate,he=oe!==null&&oe.memoizedState!==null||Wn;oe=Fw;var xe=Wn;if(Fw=X,(Wn=he)&&!xe)for(lt=V;lt!==null;)X=lt,he=X.child,X.tag===22&&X.memoizedState!==null?DP(V):he!==null?(he.return=X,lt=he):DP(V);for(;W!==null;)lt=W,RP(W),W=W.sibling;lt=V,Fw=oe,Wn=xe}NP(w)}else V.subtreeFlags&8772&&W!==null?(W.return=V,lt=W):NP(w)}}function NP(w){for(;lt!==null;){var E=lt;if(E.flags&8772){var A=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Wn||Rw(5,E);break;case 1:var R=E.stateNode;if(E.flags&4&&!Wn)if(A===null)R.componentDidMount();else{var V=E.elementType===E.type?A.memoizedProps:Aa(E.type,A.memoizedProps);R.componentDidUpdate(V,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var W=E.updateQueue;W!==null&&jL(E,W,R);break;case 3:var X=E.updateQueue;if(X!==null){if(A=null,E.child!==null)switch(E.child.tag){case 5:A=E.child.stateNode;break;case 1:A=E.child.stateNode}jL(E,X,A)}break;case 5:var oe=E.stateNode;if(A===null&&E.flags&4){A=oe;var he=E.memoizedProps;switch(E.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&A.focus();break;case"img":he.src&&(A.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(E.memoizedState===null){var xe=E.alternate;if(xe!==null){var je=xe.memoizedState;if(je!==null){var ze=je.dehydrated;ze!==null&&tg(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Wn||E.flags&512&&i6(E)}catch(Ne){xr(E,E.return,Ne)}}if(E===w){lt=null;break}if(A=E.sibling,A!==null){A.return=E.return,lt=A;break}lt=E.return}}function jP(w){for(;lt!==null;){var E=lt;if(E===w){lt=null;break}var A=E.sibling;if(A!==null){A.return=E.return,lt=A;break}lt=E.return}}function DP(w){for(;lt!==null;){var E=lt;try{switch(E.tag){case 0:case 11:case 15:var A=E.return;try{Rw(4,E)}catch(he){xr(E,A,he)}break;case 1:var R=E.stateNode;if(typeof R.componentDidMount=="function"){var V=E.return;try{R.componentDidMount()}catch(he){xr(E,V,he)}}var W=E.return;try{i6(E)}catch(he){xr(E,W,he)}break;case 5:var X=E.return;try{i6(E)}catch(he){xr(E,X,he)}}}catch(he){xr(E,E.return,he)}if(E===w){lt=null;break}var oe=E.sibling;if(oe!==null){oe.return=E.return,lt=oe;break}lt=E.return}}var $ie=Math.ceil,Nw=ae.ReactCurrentDispatcher,s6=ae.ReactCurrentOwner,Yo=ae.ReactCurrentBatchConfig,hi=0,gn=null,Vr=null,Ln=0,So=0,a1=fh(0),tn=0,xg=null,Cp=0,jw=0,o6=0,Eg=null,Us=null,a6=0,l1=1/0,Hu=null,Dw=!1,l6=null,wh=null,Vw=!1,_h=null,zw=0,Tg=0,u6=null,Uw=-1,Gw=0;function fs(){return hi&6?vt():Uw!==-1?Uw:Uw=vt()}function Sh(w){return w.mode&1?hi&2&&Ln!==0?Ln&-Ln:oie.transition!==null?(Gw===0&&(Gw=Sp()),Gw):(w=Ai,w!==0||(w=window.event,w=w===void 0?16:zO(w.type)),w):1}function Pa(w,E,A,R){if(50<Tg)throw Tg=0,u6=null,Error(i(185));Km(w,A,R),(!(hi&2)||w!==gn)&&(w===gn&&(!(hi&2)&&(jw|=A),tn===4&&$h(w,Ln)),Gs(w,R),A===1&&hi===0&&!(E.mode&1)&&(l1=vt()+500,gw&&mh()))}function Gs(w,E){var A=w.callbackNode;Di(w,E);var R=Ft(w,w===gn?Ln:0);if(R===0)A!==null&&Ji(A),w.callbackNode=null,w.callbackPriority=0;else if(E=R&-R,w.callbackPriority!==E){if(A!=null&&Ji(A),E===1)w.tag===0?sie(zP.bind(null,w)):TL(zP.bind(null,w)),tie(function(){!(hi&6)&&mh()}),A=null;else{switch(LO(R)){case 1:A=Si;break;case 4:A=Mt;break;case 16:A=pn;break;case 536870912:A=Dr;break;default:A=pn}A=ZP(A,VP.bind(null,w))}w.callbackPriority=E,w.callbackNode=A}}function VP(w,E){if(Uw=-1,Gw=0,hi&6)throw Error(i(327));var A=w.callbackNode;if(u1()&&w.callbackNode!==A)return null;var R=Ft(w,w===gn?Ln:0);if(R===0)return null;if(R&30||R&w.expiredLanes||E)E=Ww(w,R);else{E=R;var V=hi;hi|=2;var W=GP();(gn!==w||Ln!==E)&&(Hu=null,l1=vt()+500,Op(w,E));do try{Tie();break}catch(oe){UP(w,oe)}while(!0);I$(),Nw.current=W,hi=V,Vr!==null?E=0:(gn=null,Ln=0,E=tn)}if(E!==0){if(E===2&&(V=Vn(w),V!==0&&(R=V,E=c6(w,V))),E===1)throw A=xg,Op(w,0),$h(w,R),Gs(w,vt()),A;if(E===6)$h(w,R);else{if(V=w.current.alternate,!(R&30)&&!xie(V)&&(E=Ww(w,R),E===2&&(W=Vn(w),W!==0&&(R=W,E=c6(w,W))),E===1))throw A=xg,Op(w,0),$h(w,R),Gs(w,vt()),A;switch(w.finishedWork=V,w.finishedLanes=R,E){case 0:case 1:throw Error(i(345));case 2:Lp(w,Us,Hu);break;case 3:if($h(w,R),(R&130023424)===R&&(E=a6+500-vt(),10<E)){if(Ft(w,0)!==0)break;if(V=w.suspendedLanes,(V&R)!==R){fs(),w.pingedLanes|=w.suspendedLanes&V;break}w.timeoutHandle=m$(Lp.bind(null,w,Us,Hu),E);break}Lp(w,Us,Hu);break;case 4:if($h(w,R),(R&4194240)===R)break;for(E=w.eventTimes,V=-1;0<R;){var X=31-fn(R);W=1<<X,X=E[X],X>V&&(V=X),R&=~W}if(R=V,R=vt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*$ie(R/1960))-R,10<R){w.timeoutHandle=m$(Lp.bind(null,w,Us,Hu),R);break}Lp(w,Us,Hu);break;case 5:Lp(w,Us,Hu);break;default:throw Error(i(329))}}}return Gs(w,vt()),w.callbackNode===A?VP.bind(null,w):null}function c6(w,E){var A=Eg;return w.current.memoizedState.isDehydrated&&(Op(w,E).flags|=256),w=Ww(w,E),w!==2&&(E=Us,Us=A,E!==null&&h6(E)),w}function h6(w){Us===null?Us=w:Us.push.apply(Us,w)}function xie(w){for(var E=w;;){if(E.flags&16384){var A=E.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var V=A[R],W=V.getSnapshot;V=V.value;try{if(!ka(W(),V))return!1}catch{return!1}}}if(A=E.child,E.subtreeFlags&16384&&A!==null)A.return=E,E=A;else{if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function $h(w,E){for(E&=~o6,E&=~jw,w.suspendedLanes|=E,w.pingedLanes&=~E,w=w.expirationTimes;0<E;){var A=31-fn(E),R=1<<A;w[A]=-1,E&=~R}}function zP(w){if(hi&6)throw Error(i(327));u1();var E=Ft(w,0);if(!(E&1))return Gs(w,vt()),null;var A=Ww(w,E);if(w.tag!==0&&A===2){var R=Vn(w);R!==0&&(E=R,A=c6(w,R))}if(A===1)throw A=xg,Op(w,0),$h(w,E),Gs(w,vt()),A;if(A===6)throw Error(i(345));return w.finishedWork=w.current.alternate,w.finishedLanes=E,Lp(w,Us,Hu),Gs(w,vt()),null}function d6(w,E){var A=hi;hi|=1;try{return w(E)}finally{hi=A,hi===0&&(l1=vt()+500,gw&&mh())}}function Ap(w){_h!==null&&_h.tag===0&&!(hi&6)&&u1();var E=hi;hi|=1;var A=Yo.transition,R=Ai;try{if(Yo.transition=null,Ai=1,w)return w()}finally{Ai=R,Yo.transition=A,hi=E,!(hi&6)&&mh()}}function p6(){So=a1.current,Ki(a1)}function Op(w,E){w.finishedWork=null,w.finishedLanes=0;var A=w.timeoutHandle;if(A!==-1&&(w.timeoutHandle=-1,eie(A)),Vr!==null)for(A=Vr.return;A!==null;){var R=A;switch(S$(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&yw();break;case 3:n1(),Ki(Ds),Ki(zn),F$();break;case 5:L$(R);break;case 4:n1();break;case 13:Ki(yr);break;case 19:Ki(yr);break;case 10:M$(R.type._context);break;case 22:case 23:p6()}A=A.return}if(gn=w,Vr=w=xh(w.current,null),Ln=So=E,tn=0,xg=null,o6=jw=Cp=0,Us=Eg=null,Ip!==null){for(E=0;E<Ip.length;E++)if(A=Ip[E],R=A.interleaved,R!==null){A.interleaved=null;var V=R.next,W=A.pending;if(W!==null){var X=W.next;W.next=V,R.next=X}A.pending=R}Ip=null}return w}function UP(w,E){do{var A=Vr;try{if(I$(),Iw.current=Aw,Mw){for(var R=mr.memoizedState;R!==null;){var V=R.queue;V!==null&&(V.pending=null),R=R.next}Mw=!1}if(kp=0,mn=en=mr=null,vg=!1,bg=0,s6.current=null,A===null||A.return===null){tn=1,xg=E,Vr=null;break}e:{var W=w,X=A.return,oe=A,he=E;if(E=Ln,oe.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var xe=he,je=oe,ze=je.tag;if(!(je.mode&1)&&(ze===0||ze===11||ze===15)){var Ne=je.alternate;Ne?(je.updateQueue=Ne.updateQueue,je.memoizedState=Ne.memoizedState,je.lanes=Ne.lanes):(je.updateQueue=null,je.memoizedState=null)}var st=pP(X);if(st!==null){st.flags&=-257,fP(st,X,oe,W,E),st.mode&1&&dP(W,xe,E),E=st,he=xe;var ct=E.updateQueue;if(ct===null){var ft=new Set;ft.add(he),E.updateQueue=ft}else ct.add(he);break e}else{if(!(E&1)){dP(W,xe,E),f6();break e}he=Error(i(426))}}else if(sr&&oe.mode&1){var Mr=pP(X);if(Mr!==null){!(Mr.flags&65536)&&(Mr.flags|=256),fP(Mr,X,oe,W,E),E$(s1(he,oe));break e}}W=he=s1(he,oe),tn!==4&&(tn=2),Eg===null?Eg=[W]:Eg.push(W),W=X;do{switch(W.tag){case 3:W.flags|=65536,E&=-E,W.lanes|=E;var we=cP(W,he,E);NL(W,we);break e;case 1:oe=he;var fe=W.type,Se=W.stateNode;if(!(W.flags&128)&&(typeof fe.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(wh===null||!wh.has(Se)))){W.flags|=65536,E&=-E,W.lanes|=E;var Be=hP(W,oe,E);NL(W,Be);break e}}W=W.return}while(W!==null)}qP(A)}catch(mt){E=mt,Vr===A&&A!==null&&(Vr=A=A.return);continue}break}while(!0)}function GP(){var w=Nw.current;return Nw.current=Aw,w===null?Aw:w}function f6(){(tn===0||tn===3||tn===2)&&(tn=4),gn===null||!(Cp&268435455)&&!(jw&268435455)||$h(gn,Ln)}function Ww(w,E){var A=hi;hi|=2;var R=GP();(gn!==w||Ln!==E)&&(Hu=null,Op(w,E));do try{Eie();break}catch(V){UP(w,V)}while(!0);if(I$(),hi=A,Nw.current=R,Vr!==null)throw Error(i(261));return gn=null,Ln=0,tn}function Eie(){for(;Vr!==null;)WP(Vr)}function Tie(){for(;Vr!==null&&!_i();)WP(Vr)}function WP(w){var E=JP(w.alternate,w,So);w.memoizedProps=w.pendingProps,E===null?qP(w):Vr=E,s6.current=null}function qP(w){var E=w;do{var A=E.alternate;if(w=E.return,E.flags&32768){if(A=bie(A,E),A!==null){A.flags&=32767,Vr=A;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{tn=6,Vr=null;return}}else if(A=vie(A,E,So),A!==null){Vr=A;return}if(E=E.sibling,E!==null){Vr=E;return}Vr=E=w}while(E!==null);tn===0&&(tn=5)}function Lp(w,E,A){var R=Ai,V=Yo.transition;try{Yo.transition=null,Ai=1,Iie(w,E,A,R)}finally{Yo.transition=V,Ai=R}return null}function Iie(w,E,A,R){do u1();while(_h!==null);if(hi&6)throw Error(i(327));A=w.finishedWork;var V=w.finishedLanes;if(A===null)return null;if(w.finishedWork=null,w.finishedLanes=0,A===w.current)throw Error(i(177));w.callbackNode=null,w.callbackPriority=0;var W=A.lanes|A.childLanes;if(ate(w,W),w===gn&&(Vr=gn=null,Ln=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Vw||(Vw=!0,ZP(pn,function(){return u1(),null})),W=(A.flags&15990)!==0,A.subtreeFlags&15990||W){W=Yo.transition,Yo.transition=null;var X=Ai;Ai=1;var oe=hi;hi|=4,s6.current=null,_ie(w,A),FP(A,w),Hte(f$),tw=!!p$,f$=p$=null,w.current=A,Sie(A),Kt(),hi=oe,Ai=X,Yo.transition=W}else w.current=A;if(Vw&&(Vw=!1,_h=w,zw=V),W=w.pendingLanes,W===0&&(wh=null),oh(A.stateNode),Gs(w,vt()),E!==null)for(R=w.onRecoverableError,A=0;A<E.length;A++)V=E[A],R(V.value,{componentStack:V.stack,digest:V.digest});if(Dw)throw Dw=!1,w=l6,l6=null,w;return zw&1&&w.tag!==0&&u1(),W=w.pendingLanes,W&1?w===u6?Tg++:(Tg=0,u6=w):Tg=0,mh(),null}function u1(){if(_h!==null){var w=LO(zw),E=Yo.transition,A=Ai;try{if(Yo.transition=null,Ai=16>w?16:w,_h===null)var R=!1;else{if(w=_h,_h=null,zw=0,hi&6)throw Error(i(331));var V=hi;for(hi|=4,lt=w.current;lt!==null;){var W=lt,X=W.child;if(lt.flags&16){var oe=W.deletions;if(oe!==null){for(var he=0;he<oe.length;he++){var xe=oe[he];for(lt=xe;lt!==null;){var je=lt;switch(je.tag){case 0:case 11:case 15:$g(8,je,W)}var ze=je.child;if(ze!==null)ze.return=je,lt=ze;else for(;lt!==null;){je=lt;var Ne=je.sibling,st=je.return;if(CP(je),je===xe){lt=null;break}if(Ne!==null){Ne.return=st,lt=Ne;break}lt=st}}}var ct=W.alternate;if(ct!==null){var ft=ct.child;if(ft!==null){ct.child=null;do{var Mr=ft.sibling;ft.sibling=null,ft=Mr}while(ft!==null)}}lt=W}}if(W.subtreeFlags&2064&&X!==null)X.return=W,lt=X;else e:for(;lt!==null;){if(W=lt,W.flags&2048)switch(W.tag){case 0:case 11:case 15:$g(9,W,W.return)}var we=W.sibling;if(we!==null){we.return=W.return,lt=we;break e}lt=W.return}}var fe=w.current;for(lt=fe;lt!==null;){X=lt;var Se=X.child;if(X.subtreeFlags&2064&&Se!==null)Se.return=X,lt=Se;else e:for(X=fe;lt!==null;){if(oe=lt,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Rw(9,oe)}}catch(mt){xr(oe,oe.return,mt)}if(oe===X){lt=null;break e}var Be=oe.sibling;if(Be!==null){Be.return=oe.return,lt=Be;break e}lt=oe.return}}if(hi=V,mh(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Yt,w)}catch{}R=!0}return R}finally{Ai=A,Yo.transition=E}}return!1}function BP(w,E,A){E=s1(A,E),E=cP(w,E,1),w=vh(w,E,1),E=fs(),w!==null&&(Km(w,1,E),Gs(w,E))}function xr(w,E,A){if(w.tag===3)BP(w,w,A);else for(;E!==null;){if(E.tag===3){BP(E,w,A);break}else if(E.tag===1){var R=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(wh===null||!wh.has(R))){w=s1(A,w),w=hP(E,w,1),E=vh(E,w,1),w=fs(),E!==null&&(Km(E,1,w),Gs(E,w));break}}E=E.return}}function Mie(w,E,A){var R=w.pingCache;R!==null&&R.delete(E),E=fs(),w.pingedLanes|=w.suspendedLanes&A,gn===w&&(Ln&A)===A&&(tn===4||tn===3&&(Ln&130023424)===Ln&&500>vt()-a6?Op(w,0):o6|=A),Gs(w,E)}function HP(w,E){E===0&&(w.mode&1?(E=Ie,Ie<<=1,!(Ie&130023424)&&(Ie=4194304)):E=1);var A=fs();w=Wu(w,E),w!==null&&(Km(w,E,A),Gs(w,A))}function kie(w){var E=w.memoizedState,A=0;E!==null&&(A=E.retryLane),HP(w,A)}function Cie(w,E){var A=0;switch(w.tag){case 13:var R=w.stateNode,V=w.memoizedState;V!==null&&(A=V.retryLane);break;case 19:R=w.stateNode;break;default:throw Error(i(314))}R!==null&&R.delete(E),HP(w,A)}var JP;JP=function(w,E,A){if(w!==null)if(w.memoizedProps!==E.pendingProps||Ds.current)zs=!0;else{if(!(w.lanes&A)&&!(E.flags&128))return zs=!1,gie(w,E,A);zs=!!(w.flags&131072)}else zs=!1,sr&&E.flags&1048576&&IL(E,bw,E.index);switch(E.lanes=0,E.tag){case 2:var R=E.type;Pw(w,E),w=E.pendingProps;var V=Y0(E,zn.current);r1(E,A),V=j$(null,E,R,w,V,A);var W=D$();return E.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,Vs(R)?(W=!0,mw(E)):W=!1,E.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,A$(E),V.updater=Ow,E.stateNode=V,V._reactInternals=E,q$(E,R,w,A),E=Z$(null,E,R,!0,W,A)):(E.tag=0,sr&&W&&_$(E),ps(null,E,V,A),E=E.child),E;case 16:R=E.elementType;e:{switch(Pw(w,E),w=E.pendingProps,V=R._init,R=V(R._payload),E.type=R,V=E.tag=Oie(R),w=Aa(R,w),V){case 0:E=J$(null,E,R,w,A);break e;case 1:E=wP(null,E,R,w,A);break e;case 11:E=yP(null,E,R,w,A);break e;case 14:E=mP(null,E,R,Aa(R.type,w),A);break e}throw Error(i(306,R,""))}return E;case 0:return R=E.type,V=E.pendingProps,V=E.elementType===R?V:Aa(R,V),J$(w,E,R,V,A);case 1:return R=E.type,V=E.pendingProps,V=E.elementType===R?V:Aa(R,V),wP(w,E,R,V,A);case 3:e:{if(_P(E),w===null)throw Error(i(387));R=E.pendingProps,W=E.memoizedState,V=W.element,RL(w,E),Ew(E,R,null,A);var X=E.memoizedState;if(R=X.element,W.isDehydrated)if(W={element:R,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},E.updateQueue.baseState=W,E.memoizedState=W,E.flags&256){V=s1(Error(i(423)),E),E=SP(w,E,R,A,V);break e}else if(R!==V){V=s1(Error(i(424)),E),E=SP(w,E,R,A,V);break e}else for(_o=ph(E.stateNode.containerInfo.firstChild),wo=E,sr=!0,Ca=null,A=PL(E,null,R,A),E.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(e1(),R===V){E=Bu(w,E,A);break e}ps(w,E,R,A)}E=E.child}return E;case 5:return DL(E),w===null&&x$(E),R=E.type,V=E.pendingProps,W=w!==null?w.memoizedProps:null,X=V.children,y$(R,V)?X=null:W!==null&&y$(R,W)&&(E.flags|=32),bP(w,E),ps(w,E,X,A),E.child;case 6:return w===null&&x$(E),null;case 13:return $P(w,E,A);case 4:return O$(E,E.stateNode.containerInfo),R=E.pendingProps,w===null?E.child=t1(E,null,R,A):ps(w,E,R,A),E.child;case 11:return R=E.type,V=E.pendingProps,V=E.elementType===R?V:Aa(R,V),yP(w,E,R,V,A);case 7:return ps(w,E,E.pendingProps,A),E.child;case 8:return ps(w,E,E.pendingProps.children,A),E.child;case 12:return ps(w,E,E.pendingProps.children,A),E.child;case 10:e:{if(R=E.type._context,V=E.pendingProps,W=E.memoizedProps,X=V.value,Ui(Sw,R._currentValue),R._currentValue=X,W!==null)if(ka(W.value,X)){if(W.children===V.children&&!Ds.current){E=Bu(w,E,A);break e}}else for(W=E.child,W!==null&&(W.return=E);W!==null;){var oe=W.dependencies;if(oe!==null){X=W.child;for(var he=oe.firstContext;he!==null;){if(he.context===R){if(W.tag===1){he=qu(-1,A&-A),he.tag=2;var xe=W.updateQueue;if(xe!==null){xe=xe.shared;var je=xe.pending;je===null?he.next=he:(he.next=je.next,je.next=he),xe.pending=he}}W.lanes|=A,he=W.alternate,he!==null&&(he.lanes|=A),k$(W.return,A,E),oe.lanes|=A;break}he=he.next}}else if(W.tag===10)X=W.type===E.type?null:W.child;else if(W.tag===18){if(X=W.return,X===null)throw Error(i(341));X.lanes|=A,oe=X.alternate,oe!==null&&(oe.lanes|=A),k$(X,A,E),X=W.sibling}else X=W.child;if(X!==null)X.return=W;else for(X=W;X!==null;){if(X===E){X=null;break}if(W=X.sibling,W!==null){W.return=X.return,X=W;break}X=X.return}W=X}ps(w,E,V.children,A),E=E.child}return E;case 9:return V=E.type,R=E.pendingProps.children,r1(E,A),V=Zo(V),R=R(V),E.flags|=1,ps(w,E,R,A),E.child;case 14:return R=E.type,V=Aa(R,E.pendingProps),V=Aa(R.type,V),mP(w,E,R,V,A);case 15:return gP(w,E,E.type,E.pendingProps,A);case 17:return R=E.type,V=E.pendingProps,V=E.elementType===R?V:Aa(R,V),Pw(w,E),E.tag=1,Vs(R)?(w=!0,mw(E)):w=!1,r1(E,A),lP(E,R,V),q$(E,R,V,A),Z$(null,E,R,!0,w,A);case 19:return EP(w,E,A);case 22:return vP(w,E,A)}throw Error(i(156,E.tag))};function ZP(w,E){return ci(w,E)}function Aie(w,E,A,R){this.tag=w,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(w,E,A,R){return new Aie(w,E,A,R)}function y6(w){return w=w.prototype,!(!w||!w.isReactComponent)}function Oie(w){if(typeof w=="function")return y6(w)?1:0;if(w!=null){if(w=w.$$typeof,w===et)return 11;if(w===Tt)return 14}return 2}function xh(w,E){var A=w.alternate;return A===null?(A=Qo(w.tag,E,w.key,w.mode),A.elementType=w.elementType,A.type=w.type,A.stateNode=w.stateNode,A.alternate=w,w.alternate=A):(A.pendingProps=E,A.type=w.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=w.flags&14680064,A.childLanes=w.childLanes,A.lanes=w.lanes,A.child=w.child,A.memoizedProps=w.memoizedProps,A.memoizedState=w.memoizedState,A.updateQueue=w.updateQueue,E=w.dependencies,A.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},A.sibling=w.sibling,A.index=w.index,A.ref=w.ref,A}function qw(w,E,A,R,V,W){var X=2;if(R=w,typeof w=="function")y6(w)&&(X=1);else if(typeof w=="string")X=5;else e:switch(w){case Ae:return Pp(A.children,V,W,E);case Ce:X=8,V|=8;break;case qe:return w=Qo(12,A,E,V|2),w.elementType=qe,w.lanes=W,w;case nt:return w=Qo(13,A,E,V),w.elementType=nt,w.lanes=W,w;case Qe:return w=Qo(19,A,E,V),w.elementType=Qe,w.lanes=W,w;case yt:return Bw(A,V,W,E);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case Ge:X=10;break e;case Ue:X=9;break e;case et:X=11;break e;case Tt:X=14;break e;case ri:X=16,R=null;break e}throw Error(i(130,w==null?w:typeof w,""))}return E=Qo(X,A,E,V),E.elementType=w,E.type=R,E.lanes=W,E}function Pp(w,E,A,R){return w=Qo(7,w,R,E),w.lanes=A,w}function Bw(w,E,A,R){return w=Qo(22,w,R,E),w.elementType=yt,w.lanes=A,w.stateNode={isHidden:!1},w}function m6(w,E,A){return w=Qo(6,w,null,E),w.lanes=A,w}function g6(w,E,A){return E=Qo(4,w.children!==null?w.children:[],w.key,E),E.lanes=A,E.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},E}function Lie(w,E,A,R,V){this.tag=E,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W9(0),this.expirationTimes=W9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W9(0),this.identifierPrefix=R,this.onRecoverableError=V,this.mutableSourceEagerHydrationData=null}function v6(w,E,A,R,V,W,X,oe,he){return w=new Lie(w,E,A,oe,he),E===1?(E=1,W===!0&&(E|=8)):E=0,W=Qo(3,null,null,E),w.current=W,W.stateNode=w,W.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},A$(W),w}function Pie(w,E,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:R==null?null:""+R,children:w,containerInfo:E,implementation:A}}function KP(w){if(!w)return yh;w=w._reactInternals;e:{if(Te(w)!==w||w.tag!==1)throw Error(i(170));var E=w;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(Vs(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(i(171))}if(w.tag===1){var A=w.type;if(Vs(A))return xL(w,A,E)}return E}function YP(w,E,A,R,V,W,X,oe,he){return w=v6(A,R,!0,w,V,W,X,oe,he),w.context=KP(null),A=w.current,R=fs(),V=Sh(A),W=qu(R,V),W.callback=E??null,vh(A,W,V),w.current.lanes=V,Km(w,V,R),Gs(w,R),w}function Hw(w,E,A,R){var V=E.current,W=fs(),X=Sh(V);return A=KP(A),E.context===null?E.context=A:E.pendingContext=A,E=qu(W,X),E.payload={element:w},R=R===void 0?null:R,R!==null&&(E.callback=R),w=vh(V,E,X),w!==null&&(Pa(w,V,X,W),xw(w,V,X)),X}function Jw(w){if(w=w.current,!w.child)return null;switch(w.child.tag){case 5:return w.child.stateNode;default:return w.child.stateNode}}function QP(w,E){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var A=w.retryLane;w.retryLane=A!==0&&A<E?A:E}}function b6(w,E){QP(w,E),(w=w.alternate)&&QP(w,E)}var XP=typeof reportError=="function"?reportError:function(w){console.error(w)};function w6(w){this._internalRoot=w}Zw.prototype.render=w6.prototype.render=function(w){var E=this._internalRoot;if(E===null)throw Error(i(409));Hw(w,E,null,null)},Zw.prototype.unmount=w6.prototype.unmount=function(){var w=this._internalRoot;if(w!==null){this._internalRoot=null;var E=w.containerInfo;Ap(function(){Hw(null,w,null,null)}),E[Vu]=null}};function Zw(w){this._internalRoot=w}Zw.prototype.unstable_scheduleHydration=function(w){if(w){var E=RO();w={blockedOn:null,target:w,priority:E};for(var A=0;A<ch.length&&E!==0&&E<ch[A].priority;A++);ch.splice(A,0,w),A===0&&DO(w)}};function _6(w){return!(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)}function Kw(w){return!(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11&&(w.nodeType!==8||w.nodeValue!==" react-mount-point-unstable "))}function eF(){}function Fie(w,E,A,R,V){if(V){if(typeof R=="function"){var W=R;R=function(){var xe=Jw(X);W.call(xe)}}var X=YP(E,R,w,0,null,!1,!1,"",eF);return w._reactRootContainer=X,w[Vu]=X.current,cg(w.nodeType===8?w.parentNode:w),Ap(),X}for(;V=w.lastChild;)w.removeChild(V);if(typeof R=="function"){var oe=R;R=function(){var xe=Jw(he);oe.call(xe)}}var he=v6(w,0,!1,null,null,!1,!1,"",eF);return w._reactRootContainer=he,w[Vu]=he.current,cg(w.nodeType===8?w.parentNode:w),Ap(function(){Hw(E,he,A,R)}),he}function Yw(w,E,A,R,V){var W=A._reactRootContainer;if(W){var X=W;if(typeof V=="function"){var oe=V;V=function(){var he=Jw(X);oe.call(he)}}Hw(E,X,w,V)}else X=Fie(A,E,w,V,R);return Jw(X)}PO=function(w){switch(w.tag){case 3:var E=w.stateNode;if(E.current.memoizedState.isDehydrated){var A=Re(E.pendingLanes);A!==0&&(q9(E,A|1),Gs(E,vt()),!(hi&6)&&(l1=vt()+500,mh()))}break;case 13:Ap(function(){var R=Wu(w,1);if(R!==null){var V=fs();Pa(R,w,1,V)}}),b6(w,1)}},B9=function(w){if(w.tag===13){var E=Wu(w,134217728);if(E!==null){var A=fs();Pa(E,w,134217728,A)}b6(w,134217728)}},FO=function(w){if(w.tag===13){var E=Sh(w),A=Wu(w,E);if(A!==null){var R=fs();Pa(A,w,E,R)}b6(w,E)}},RO=function(){return Ai},NO=function(w,E){var A=Ai;try{return Ai=w,E()}finally{Ai=A}},d=function(w,E,A){switch(E){case"input":if(nr(w,A),E=A.name,A.type==="radio"&&E!=null){for(A=w;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<A.length;E++){var R=A[E];if(R!==w&&R.form===w.form){var V=fw(R);if(!V)throw Error(i(90));D0(R),nr(R,V)}}}break;case"textarea":go(w,A);break;case"select":E=A.value,E!=null&&Vt(w,!!A.multiple,E,!1)}},k=d6,O=Ap;var Rie={usingClientEntryPoint:!1,Events:[pg,Z0,fw,$,I,d6]},Ig={findFiberByHostInstance:$p,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nie={bundleType:Ig.bundleType,version:Ig.version,rendererPackageName:Ig.rendererPackageName,rendererConfig:Ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(w){return w=gt(w),w===null?null:w.stateNode},findFiberByHostInstance:Ig.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qw.isDisabled&&Qw.supportsFiber)try{Yt=Qw.inject(Nie),An=Qw}catch{}}return Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rie,Ws.createPortal=function(w,E){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_6(E))throw Error(i(200));return Pie(w,E,null,A)},Ws.createRoot=function(w,E){if(!_6(w))throw Error(i(299));var A=!1,R="",V=XP;return E!=null&&(E.unstable_strictMode===!0&&(A=!0),E.identifierPrefix!==void 0&&(R=E.identifierPrefix),E.onRecoverableError!==void 0&&(V=E.onRecoverableError)),E=v6(w,1,!1,null,null,A,!1,R,V),w[Vu]=E.current,cg(w.nodeType===8?w.parentNode:w),new w6(E)},Ws.findDOMNode=function(w){if(w==null)return null;if(w.nodeType===1)return w;var E=w._reactInternals;if(E===void 0)throw typeof w.render=="function"?Error(i(188)):(w=Object.keys(w).join(","),Error(i(268,w)));return w=gt(E),w=w===null?null:w.stateNode,w},Ws.flushSync=function(w){return Ap(w)},Ws.hydrate=function(w,E,A){if(!Kw(E))throw Error(i(200));return Yw(null,w,E,!0,A)},Ws.hydrateRoot=function(w,E,A){if(!_6(w))throw Error(i(405));var R=A!=null&&A.hydratedSources||null,V=!1,W="",X=XP;if(A!=null&&(A.unstable_strictMode===!0&&(V=!0),A.identifierPrefix!==void 0&&(W=A.identifierPrefix),A.onRecoverableError!==void 0&&(X=A.onRecoverableError)),E=YP(E,null,w,1,A??null,V,!1,W,X),w[Vu]=E.current,cg(w),R)for(w=0;w<R.length;w++)A=R[w],V=A._getVersion,V=V(A._source),E.mutableSourceEagerHydrationData==null?E.mutableSourceEagerHydrationData=[A,V]:E.mutableSourceEagerHydrationData.push(A,V);return new Zw(E)},Ws.render=function(w,E,A){if(!Kw(E))throw Error(i(200));return Yw(null,w,E,!1,A)},Ws.unmountComponentAtNode=function(w){if(!Kw(w))throw Error(i(40));return w._reactRootContainer?(Ap(function(){Yw(null,null,w,!1,function(){w._reactRootContainer=null,w[Vu]=null})}),!0):!1},Ws.unstable_batchedUpdates=d6,Ws.unstable_renderSubtreeIntoContainer=function(w,E,A,R){if(!Kw(A))throw Error(i(200));if(w==null||w._reactInternals===void 0)throw Error(i(38));return Yw(w,E,A,!1,R)},Ws.version="18.3.1-next-f1338f8080-20240426",Ws}var lF;function qie(){if(lF)return x6.exports;lF=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),x6.exports=Wie(),x6.exports}var uF;function Bie(){if(uF)return Xw;uF=1;var e=qie();return Xw.createRoot=e.createRoot,Xw.hydrateRoot=e.hydrateRoot,Xw}var Hie=Bie();const Jie="modulepreload",Zie=function(e){return"/un-editing-management/"+e},cF={},te=function(t,i,r){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(i.map(b=>{if(b=Zie(b),b in cF)return;cF[b]=!0;const x=b.endsWith(".css"),T=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${T}`))return;const C=document.createElement("link");if(C.rel=x?"stylesheet":Jie,x||(C.as="script"),C.crossOrigin="",C.href=b,m&&C.setAttribute("nonce",m),document.head.appendChild(C),x)return new Promise((L,N)=>{C.addEventListener("load",L),C.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return s.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})};function g(e,t,i,r){var s,c=arguments.length,f=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(e,t,i,r);else for(var m=e.length-1;m>=0;m--)(s=e[m])&&(f=(c<3?s(f):c>3?s(t,i,f):s(t,i))||f);return c>3&&f&&Object.defineProperty(t,i,f),f}function KMe(e,t){return function(i,r){t(i,r,e)}}function YMe(e,t,i,r){function s(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(T){try{x(r.next(T))}catch(C){f(C)}}function b(T){try{x(r.throw(T))}catch(C){f(C)}}function x(T){T.done?c(T.value):s(T.value).then(m,b)}x((r=r.apply(e,[])).next())})}let Md;function Ee(e){return typeof Md[e]=="function"?Md[e]=Md[e](globalThis):Md[e]}var kz,Cz,Az,Oz;Md=(kz=globalThis.dojoConfig)!=null&&kz.has||(Cz=globalThis.esriConfig)!=null&&Cz.has?{...(Az=globalThis.dojoConfig)==null?void 0:Az.has,...(Oz=globalThis.esriConfig)==null?void 0:Oz.has}:{},Ee.add=(e,t,i,r)=>((r||Md[e]===void 0)&&(Md[e]=t),i&&Ee(e)),Ee.cache=Md,Ee.add("big-integer-warning-enabled",!0),Ee.add("esri-deprecation-warnings",!0),Ee.add("esri-tests-disable-screenshots",!1),Ee.add("esri-tests-use-full-window",!1),Ee.add("esri-tests-post-to-influx",!0),(()=>{var t;Ee.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Ee.add("host-browser",e),Ee.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),Ee.add("dom",e),Ee("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,c=parseFloat(s);if(Ee.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),Ee.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),Ee.add("khtml",s.includes("Konqueror")?c:void 0),Ee.add("edge",parseFloat(r.split("Edge/")[1])||void 0),Ee.add("opr",parseFloat(r.split("OPR/")[1])||void 0),Ee.add("webkit",!Ee("wp")&&!Ee("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),Ee.add("chrome",!Ee("edge")&&!Ee("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),Ee.add("android",!Ee("wp")&&parseFloat(r.split("Android ")[1])||void 0),Ee.add("safari",!s.includes("Safari")||Ee("wp")||Ee("chrome")||Ee("android")||Ee("edge")||Ee("opr")?void 0:parseFloat(s.split("Version/")[1])),Ee.add("mac",s.includes("Macintosh")),!Ee("wp")&&/(iPhone|iPod|iPad)/.test(r)){const f=RegExp.$1.replace(/P/,"p"),m=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",b=parseFloat(m.replace(/_/,".").replaceAll("_",""));Ee.add(f,b),Ee.add("ios",b)}Ee("webkit")||(!r.includes("Gecko")||Ee("wp")||Ee("khtml")||Ee("edge")||Ee.add("mozilla",c),Ee("mozilla")&&Ee.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&Ee.add("esri-mobile",t),i&&Ee.add("esri-iPhone",i),Ee.add("esri-geolocation",!!navigator.geolocation)}Ee.add("esri-wasm","WebAssembly"in globalThis),Ee.add("esri-performance-mode-frames-between-render",20),Ee.add("esri-force-performance-mode",!1),Ee.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),Ee.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),Ee.add("esri-atomics","Atomics"in globalThis),Ee.add("esri-workers","Worker"in globalThis),Ee.add("web-feat:cache","caches"in globalThis),Ee.add("esri-workers-arraybuffer-transfer",!Ee("safari")||Number(Ee("safari"))>=12),Ee.add("workers-pool-size",8),Ee.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Ee.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Ee.add("featurelayer-fast-triangulation-enabled",!0),Ee.add("featurelayer-animation-enabled",!0),Ee.add("featurelayer-snapshot-enabled",!0),Ee.add("featurelayer-snapshot-point-min-threshold",8e4),Ee.add("featurelayer-snapshot-point-max-threshold",4e5),Ee.add("featurelayer-snapshot-point-coverage",.1),Ee.add("featurelayer-query-max-depth",4),Ee.add("featurelayer-query-pausing-enabled",!1),Ee.add("hittest-2d-mobile-tolerance",3),Ee.add("hittest-2d-desktop-tolerance",1),Ee.add("hittest-2d-small-symbol-tolerance",3),Ee.add("hittest-2d-small-symbol-tolerance-threshold",3),Ee.add("featurelayer-advanced-symbols",!1),Ee.add("featurelayer-pbf",!0),Ee.add("featurelayer-pbf-statistics",!1),Ee.add("feature-layers-workers",!0),Ee.add("feature-polyline-generalization-factor",1),Ee.add("mapview-transitions-duration",200),Ee.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Ee.add("mapserver-pbf-version-support",10.81),Ee.add("mapservice-popup-identify-max-tolerance",20),Ee("host-webworker")||Ee("host-browser")&&(Ee.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Ee.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{Ee.add("esri-image-decode",!0,!0,!0)}).catch(()=>{Ee.add("esri-image-decode",!1,!0,!0)})}return!1}),Ee.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let _5=class Gp{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Gp._m}getInt(){return this._seed=(Gp._a*this._seed+Gp._c)%Gp._m,this._seed}getFloat(){return this.getInt()/(Gp._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Gp._m*r}};_5._m=2147483647,_5._a=48271,_5._c=0;const Kie=1.5,QMe=1/Kie,XMe=.5;function Yie(e,t){if(!t)return e;for(const i of t)e.push(i);return e}function eke(e){if(!e)return;const t=e.length;return t>0?e[t-1]:void 0}function tke(e,t){for(let i=e.length-1;i>=0;i--){const r=e[i];if(t(r))return r}}function Nz(e){return e}function Qie(e,t=Nz){if(!e||e.length===0)return;let i=e[0],r=t(i);for(let s=1;s<e.length;++s){const c=e[s],f=Number(t(c));f>r&&(r=f,i=c)}return i}function ike(e,t=Nz){return Qie(e,i=>-t(i))}function rke(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function o0(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function nke(e,t){let i=e.length!==t.length;i&&(e.length=t.length);for(let r=0;r<t.length;++r)e[r]!==t[r]&&(e[r]=t[r],i=!0);return i}function Xie(e,t,i){let r,s;return i?(r=t.filter(c=>!e.some(f=>i(f,c))),s=e.filter(c=>!t.some(f=>i(f,c)))):(r=t.filter(c=>!e.includes(c)),s=e.filter(c=>!t.includes(c))),{added:r,removed:s}}function ske(e){return e&&typeof e.length=="number"}function oke(e,t){const i=e.length;if(i===0)return[];const r=[];for(let s=0;s<i;s+=t)r.push(e.slice(s,s+t));return r}const ere=!!Array.prototype.fill;function ake(e,t){if(ere)return new Array(e).fill(t);const i=new Array(e);for(let r=0;r<e;r++)i[r]=t;return i}function lke(e,t){t===void 0&&(t=e,e=0);const i=new Array(t-e);for(let r=e;r<t;r++)i[r-e]=r;return i}function uke(e,t,i){const r=e.length;let s=0,c=r-1;for(;s<c;){const m=s+Math.floor((c-s)/2);t>e[m]?s=m+1:c=m}const f=e[s];return i?t>=e[r-1]?-1:f===t?s:s-1:f===t?s:-1}function cke(e,t,i){if(!e||e.length===0)return;const r=e.length-1,s=e[0];if(t<=i(s))return s;const c=e[r];if(t>=i(c))return c;let f=0,m=0,b=r;for(;f<b;){m=f+Math.floor((b-f)/2);const x=e[m],T=i(x);if(T===t)return x;if(t<T){if(m>0){const C=e[m-1],L=i(C);if(t>L)return t-L>=T-t?x:C}b=m}else{if(m<r){const C=e[m+1],L=i(C);if(t<L)return t-T>=L-t?C:x}f=m+1}}return e[m]}let jz=class{constructor(){this.last=0}};const Dz=new jz;function cE(e,t,i,r){r=r||Dz;const s=Math.max(0,r.last-10);for(let f=s;f<i;++f)if(e[f]===t)return r.last=f,f;const c=Math.min(s,i);for(let f=0;f<c;++f)if(e[f]===t)return r.last=f,f;return-1}function tre(e,t,i,r){const s=e.length,c=cE(e,t,s,r);if(c!==-1)return e[c]=e[s-1],e.pop(),t}const Fa=new Set;function ire(e,t,i=e.length,r=t.length,s,c){if(r===0||i===0)return i;Fa.clear();for(let m=0;m<r;++m)Fa.add(t[m]);s=s||Dz;const f=Math.max(0,s.last-10);for(let m=f;m<i;++m)if(Fa.has(e[m])&&(c==null||c.push(e[m]),Fa.delete(e[m]),e[m]=e[i-1],--i,--m,Fa.size===0||i===0))return Fa.clear(),i;for(let m=0;m<f;++m)if(Fa.has(e[m])&&(c==null||c.push(e[m]),Fa.delete(e[m]),e[m]=e[i-1],--i,--m,Fa.size===0||i===0))return Fa.clear(),i;return Fa.clear(),i}function dke(e,t){let i=0;for(let r=0;r<e.length;++r){const s=e[r];t(s,r)&&(e[i]=s,i++)}e.length=i}function rre(e){return hF.seed=e,()=>hF.getFloat()}function pke(e,t){const i=rre(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),c=e[r];e[r]=e[s],e[s]=c}return e}const hF=new _5;function hE(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function fke(e,t){const i=new Map,r=e.length;for(let s=0;s<r;s++){const c=e[s],f=t(c,s,e),m=i.get(f);m?m.push(c):i.set(f,[c])}return i}function Yr(e,t){return e!=null}const yke=[];function Vz(e){return 32+e.length}function Nk(){return 16}function mke(e){if(!e)return 0;let t=Uz;for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];switch(typeof r){case"string":t+=Vz(r);break;case"number":t+=Nk();break;case"boolean":t+=4}}return t}function nre(e){if(!e)return 0;if(Array.isArray(e))return sre(e);let t=Uz;for(const i in e)e.hasOwnProperty(i)&&(t+=zz(e[i]));return t}function sre(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let i=Gz;for(let r=0;r<t;r++)i+=zz(e[r]);return i}function zz(e){switch(typeof e){case"object":return nre(e);case"string":return Vz(e);case"number":return Nk();case"boolean":return 4;default:return 8}}function ore(e,t){return Gz+e.length*t}const Uz=32,Gz=16;function gke(e){return e instanceof ArrayBuffer}function jk(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function Wz(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function qz(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function Dk(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function Bz(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function Vk(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function Hz(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function fS(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function yS(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function are(e){return!("buffer"in e)}function vke(...e){return e.reduce((t,i)=>t+(i?are(i)?ore(i,Nk()):i.byteLength+lre:0),0)}const lre=145,bke=1024;function wke(e){return yS(e)||fS(e)||Vk(e)||Dk(e)||jk(e)}function _ke(e){return yS(e)||fS(e)}function Ske(e){return yS(e)?179769e303:fS(e)?3402823e32:Hz(e)?4294967295:Bz(e)?65535:Wz(e)||qz(e)?255:Vk(e)?2147483647:Dk(e)?32767:jk(e)?127:256}function ure(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ye(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=Kz(e);if(t!=null)return t;if(W_(e))return e.clone();if(Jz(e))return e.map(ye);if(Zz(e))return e.clone();const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ye(e[r]);return i}function dE(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=Kz(e);if(t!=null)return t;if(Jz(e)){let i=!0;const r=e.map(s=>{const c=dE(s);return s!=null&&c==null&&(i=!1),c});return i?r:null}if(W_(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!Zz(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],c=dE(s);if(s!=null&&c==null)return null;i[r]=c}return i}return null}function W_(e){return typeof e.clone=="function"}function Jz(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function Zz(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function dF(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Kz(e){if(jk(e)||Wz(e)||qz(e)||Dk(e)||Bz(e)||Vk(e)||Hz(e)||fS(e)||yS(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ye(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ye(i));return t}return null}function zk(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function Yz(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&o0(e,t):e instanceof Set?t instanceof Set&&hre(e,t):e instanceof Map?t instanceof Map&&dre(e,t):!!dF(e)&&dF(t)&&cre(e,t))}function cre(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function hre(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function dre(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function Uk(e,t,i=!1){return Xz(e,t,i)}function d2(e,t){if(t!=null)return t[e]||Qz(e.split("."),!1,t)}function un(e,t,i){const r=e.split("."),s=r.pop(),c=Qz(r,!0,i);c&&s&&(c[s]=t)}function Qz(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function Xz(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let c=r[s],f=t[s];return c===f?r:c===void 0?(r[s]=ye(f),r):(Array.isArray(f)||Array.isArray(r)?(c=c?Array.isArray(c)?r[s]=c.concat():r[s]=[c]:r[s]=[],f&&(Array.isArray(f)||(f=[f]),i?f.forEach(m=>{c.includes(m)||c.push(m)}):r[s]=f.concat())):f&&typeof f=="object"?r[s]=Xz(c,f,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=f),r)},e||{}):e}var Lz;const ai={apiKey:void 0,applicationName:"",applicationUrl:(Lz=globalThis.location)==null?void 0:Lz.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Uk(ai,globalThis.esriConfig,!0),delete ai.has),!ai.assetsPath){{const e="4.29";ai.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}ai.defaultAssetsPath=ai.assetsPath}const pre=/\{([^\}]+)\}/g;function pF(e){return e??""}function El(e,t){return t?e.replaceAll(pre,typeof t=="object"?(i,r)=>pF(d2(r,t)):(i,r)=>pF(t(r))):e}function $ke(e,t){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,i=>t&&t.includes(i)?i:`\\${i}`)}function eU(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function xke(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}function Fb(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const fF={info:0,warn:1,error:2,none:3};let ke=class Zn{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Zn._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Zn.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const i=Zn._loggers;return Zn._loggers=t,i},set throttlingDisabled(t){Zn._throttlingDisabled=t}}}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Zn._loggers.get(t)||new Zn({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!Zn._throttlingDisabled){const s=this._argsToKey(r),c=this._loggedMessages[t].get(s);if(i==="once"&&c!=null||i==="oncePerTick"&&c&&c>=Zn._tickCounter)return;this._loggedMessages[t].set(s,Zn._tickCounter),Zn._scheduleTickCounterIncrement()}for(const s of ai.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,i,...r){console[t](`[${i}]`,...r)}_matchLevel(t){const i=ai.log.level||"warn";return fF[this._parentWithMember("level",i)]<=fF[t]}_argsToKey(...t){return eU(JSON.stringify(t,(r,s)=>typeof s!="object"||Array.isArray(s)?s:"[Object]"))}static _scheduleTickCounterIncrement(){Zn._tickCounterScheduled||(Zn._tickCounterScheduled=!0,Promise.resolve().then(()=>{Zn._tickCounter++,Zn._tickCounterScheduled=!1}))}};ke._loggers=new Map,ke._tickCounter=0,ke._tickCounterScheduled=!1,ke._throttlingDisabled=!1;function fre(e,t){return e.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(i,r)=>r===""?"$":(d2(r,t)??"").toString())}let tU=class{constructor(t,i,r){this.name=t,this.details=r,this.message=(i&&fre(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},me=class iU extends tU{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ye(i)}catch{return"[object]"}}))}}catch(t){throw ke.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new iU(t.name,t.message,t.details)}};me.prototype.type="error";const yF=new WeakMap;function yre(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=yF.get(e);s||(s=new Set,yF.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function rU(e,t,i={}){if(Ee("esri-deprecation-warnings")){const{moduleName:r}=i;Rb(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function Su(e,t,i={}){if(Ee("esri-deprecation-warnings")){const{moduleName:r}=i;Rb(e,`Property: ${(r?r+"::":"")+t}`,i)}}function Rb(e,t,i={}){if(Ee("esri-deprecation-warnings")){const{replacement:r,version:s,see:c,warnOnce:f}=i;let m=t;r&&(m+=`
	 Replacement: ${r}`),s&&(m+=`
	 Version: ${s}`),c&&(m+=`
	 See ${c} for more details.`),yre(e,m,f)}}function Tke(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Ike(e,t){for(const i of e)if(i!=null&&t(i))return i}function mF(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let mre=class pE{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(mF(t)){const r=this._getOrCreateGroup(i);for(const s of t)this._isHandle(s)&&r.push(s)}else this._isHandle(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&mF(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&(!!t.remove||t instanceof pE)}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(this._ensureGroupKey(t),i),i}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){for(const i of t)i instanceof pE?i.removeAll():i.remove()}};function mS(e,t){if(e==null)throw new Error(t??"value is None")}function tr(e){return e==null||e.destroy(),null}function Mke(e){return e==null||e.dispose(),null}function ks(e){return e==null||e.remove(),null}function Ud(e){return e==null||e.abort(),null}function kke(e){return e==null||e.release(),null}function gre(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function Cke(e,t){return e==null?void 0:e[t]}function Gk(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const nU=Symbol("Accessor-beforeDestroy"),vre={remove:()=>{}};function xt(e){return e?{remove(){e&&(e(),e=void 0)}}:vre}function bre(e){e.forEach(t=>t==null?void 0:t.remove())}function Do(e){return xt(()=>bre(e))}function Ake(e){return xt(()=>{var t;return(t=e())==null?void 0:t.remove()})}function wre(e){return xt(()=>e==null?void 0:e.abort())}function sU(e){return xt(e!=null?()=>e.destroy():void 0)}function As(e){return e.__accessor__??null}function _re(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function S5(e,t,i){return i?q_(e,t,{policy:i,path:""}):q_(e,t,null)}function q_(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const c=s;let f=null,m="merge";if(i&&(f=i.path?`${i.path}.${s}`:s,m=i.policy(f)),m==="replace"||m==="replace-arrays"&&Array.isArray(r[c]))return r[c]=t[c],r;if(r[c]===void 0)return r[c]=ye(t[c]),r;let b=r[c],x=t[c];if(b===x)return r;if(Array.isArray(x)||Array.isArray(r))b=b?Array.isArray(b)?r[c]=b.concat():r[c]=[b]:r[c]=[],x&&(Array.isArray(x)||(x=[x]),x.forEach(T=>{b.includes(T)||b.push(T)}));else if(x&&typeof x=="object")if(i){const T=i.path;i.path=f,r[c]=q_(b,x,i),i.path=T}else r[c]=q_(b,x,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[c]=x);return r},e||{}):e}function oU(e){return Array.isArray(e)?e:e.split(".")}function gF(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Sre(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...gF(i));return t}return gF(e)}function aU(e,t,i,r){const s=Sre(t);if(s.length!==1){const c=s.map(f=>r(e,f,i));return Do(c)}return r(e,s[0],i)}function lU(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=As(t);return _re(r,i)?r.get(i):t[i]}function uU(e,t,i){if(e==null)return e;const r=lU(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:uU(r,t,i+1)}function p2(e,t,i=0){return typeof t!="string"||t.includes(".")?uU(e,oU(t),i):lU(t,e)}function ma(e,t){return p2(e,t)}function vF(e,t){return p2(t,e)!==void 0}var to;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(to||(to={}));function f2(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ye(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function gS(e,t){const i=f2(e);let r=i[t];return r||(r=i[t]={}),r}function $re(e,t){return S5(e,t,Ere)}const xre=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Ere(e){return xre.test(e)?"replace":"merge"}function Tre(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function Ire(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let a0=class fE{constructor(t,i,r,s=1,c=0){if(this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(c),this._initialSize=c,this._ctor)for(let f=0;f<c;f++)this._pool[f]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(fE.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):Ire(i)&&i.acquire(...t),i}release(t){t&&!fE.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Tre(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};a0.test={disabled:!1};let Mre=class{constructor(t,i){this._observers=t,this._observer=i}remove(){hE(this._observers,this._observer)}},cU=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return kre;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const c=i.length;for(let f=0;f<c;++f){const m=i[f];if(m.destroyed)s=!0;else if(m===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new Mre(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const kre=xt();var Gt;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Gt||(Gt={}));const yE=Gt.USER+1;function kd(e){switch(e){case"defaults":return Gt.DEFAULTS;case"service":return Gt.SERVICE;case"portal-item":return Gt.PORTAL_ITEM;case"web-scene":return Gt.WEB_SCENE;case"web-map":return Gt.WEB_MAP;case"link-chart":return Gt.LINK_CHART;case"user":return Gt.USER;default:return null}}function B_(e){switch(e){case Gt.DEFAULTS:return"defaults";case Gt.SERVICE:return"service";case Gt.PORTAL_ITEM:return"portal-item";case Gt.WEB_SCENE:return"web-scene";case Gt.WEB_MAP:return"web-map";case Gt.LINK_CHART:return"link-chart";case Gt.USER:return"user"}}function Cre(e){return B_(e)}var Ci;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Ci||(Ci={}));const H_={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},tv=[];let eb=H_;function It(e){eb.onObservableAccessed(e)}let $5=!1,x5=!1;function qc(e,t,i){if($5)return Wk(e,t,i);hU(e);const r=t.call(i);return dU(),r}function Are(e,t){return qc(H_,e,t)}function Wk(e,t,i){const r=$5;$5=!0,hU(e);let s=null;try{s=t.call(i)}catch(c){x5&&ke.getLogger("esri.core.accessorSupport.tracking").error(c)}return dU(),$5=r,s}function hU(e){eb=e,tv.push(e)}function dU(){const e=tv.length;if(e>1){const t=tv.pop();eb=tv[e-2],t.onTrackingEnd()}else if(e===1){const t=tv.pop();eb=H_,t.onTrackingEnd()}else eb=H_}function pU(e,t){if(t.flags&Ci.DepTrackingInitialized)return;const i=x5;x5=!1,t.flags&Ci.AutoTracked?Wk(t,t.metadata.get,e):fU(e,t),x5=i}const Ore=[];function fU(e,t){t.flags&Ci.ExplicitlyTracking||(t.flags|=Ci.ExplicitlyTracking,Wk(t,()=>{const i=t.metadata.dependsOn||Ore;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=oU(r);for(let c=0,f=e;c<s.length&&f!=null&&typeof f=="object";++c)f=bF(f,s[c],c!==s.length-1)}else bF(e,r,!1)}),t.flags&=~Ci.ExplicitlyTracking)}function bF(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const c=parseInt(r,10);if(!isNaN(c))return Array.isArray(e)?e[c]:e.at(c)}const s=As(e);if(s){const c=s.propertiesByName.get(r);c&&(It(c),pU(e,c))}return i?e[r]:void 0}let wF=class extends cU{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this._accessed=null,this._handles=null,this.flags=0,this.flags=Ci.Dirty|(i.nonNullable?Ci.NonNullable:0)|(i.hasOwnProperty("value")?Ci.HasDefaultValue:0)|(i.get===void 0?Ci.DepTrackingInitialized:0)|(i.dependsOn===void 0?Ci.AutoTracked:0)}destroy(){this.flags&Ci.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){It(this);const i=t.store,r=this.propertyName,s=this.flags,c=i.get(r);if(s&Ci.Computing||~s&Ci.Dirty&&i.has(r))return c;this.flags|=Ci.Computing;const f=t.host;let m;s&Ci.AutoTracked?m=qc(this,this.metadata.get,f):(fU(f,this),m=this.metadata.get.call(f)),i.set(r,m,Gt.COMPUTED);const b=i.get(r);return b===c?this.flags&=~Ci.Dirty:Are(this.commit,this),this.flags&=~Ci.Computing,b}onObservableAccessed(t){if(t===this)return;let i=this._accessed;if(i==null)i=[],this._accessed=i;else if(i.includes(t))return;i.push(t)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Ci.DepTrackingInitialized;const t=this._accessed;if(t==null||t.length===0)return;let i=this._handles;i==null&&(i=[],this._handles=i);for(let r=0;r<t.length;++r)i.push(t[r].observe(this));t.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Ci.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}onInvalidated(){~this.flags&Ci.Overridden&&(this.flags|=Ci.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},Lre=class yU{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new yU;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ye(r))}),i}get(t){return this._values.get(t)}originOf(){return Gt.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function e3(e,t,i){return e!==void 0}function _F(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&Ci.NonNullable)||(r.lifecycle,to.INITIALIZING,!1))}let Pre=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=to.INITIALIZING,this.store=new Lre,this._origin=Gt.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new wF(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=to.CONSTRUCTING}constructed(){this.lifecycle=to.CONSTRUCTED}destroy(){this.lifecycle=to.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==to.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);It(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&Ci.HasDefaultValue)return"defaults"}return B_(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(e3(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);e3(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!e3(s))return"";const c=new Set,f=qc({onObservableAccessed:b=>c.add(b),onTrackingEnd:()=>{}},()=>{var b;return(b=s.metadata.get)==null?void 0:b.call(t)});let m=`${r}${t.declaredClass.split(".").pop()}.${i}: ${f}
`;if(c.size===0)return m;r+="  ";for(const b of c)b instanceof wF&&(m+=`${r}${b.propertyName}: undefined
`);return m}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(e3(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&Ci.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&Ci.Overridden&&(i.flags&=~Ci.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!_F(r,t,i,this))return;const s=r.metadata.cast;if(s){const c=this._cast(s,i),{valid:f,value:m}=c;if(I6.release(c),!f)return;i=m}r.flags|=Ci.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!_F(r,t,i,this))return;const s=r.metadata.cast;if(s){const f=this._cast(s,i),{valid:m,value:b}=f;if(I6.release(f),!m)return;i=b}const c=r.metadata.set;c?c.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=kd(t)}getDefaultOrigin(){return B_(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==to.INITIALIZING?this._origin:Gt.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,c=t.propertyName;s.has(c,r)&&zk(i,s.get(c))&&~t.flags&Ci.Overridden&&r===s.originOf(c)||(t.invalidate(),s.set(c,i,r),t.commit(),pU(this.host,t))}_cast(t,i){const r=I6.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},Fre=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const I6=new a0(Fre);function J_(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))J_(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),c=s.splice(-1,1)[0];return void J_(ma(e,s),c,i)}const r=e.__accessor__;r!=null&&Rre(t,r),e[t]=i}}function Rre(e,t){if(Ee("esri-unknown-property-errors")&&!Nre(e,t))throw new me("set:unknown-property",jre(e,t))}function Nre(e,t){return t.metadata[e]!=null}function jre(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Dre;function Vre(){return Dre}var SF;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(SF||(SF={}));function zre(e){e.length=0}let du=class{constructor(t=50,i=50){this._pool=new a0(Array,void 0,zre,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return M6.acquire()}static release(t){return M6.release(t)}static prune(){M6.prune()}};const M6=new du(100);let mU=class extends a0{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const t3=[];function Hy(e){t3.push(e),t3.length===1&&queueMicrotask(()=>{const t=t3.slice();t3.length=0;for(const i of t)i()})}let gU=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var mE;(function(e){const t=(c,f,m,b)=>{let x=f,T=f;const C=m>>>1,L=c[x-1];for(;T<=C;){T=x<<1,T<m&&b(c[T-1],c[T])<0&&++T;const N=c[T-1];if(b(N,L)<=0)break;c[x-1]=N,x=T}c[x-1]=L},i=(c,f)=>c<f?-1:c>f?1:0;function r(c,f,m,b){f===void 0&&(f=0),m===void 0&&(m=c.length),b===void 0&&(b=i);for(let T=m>>>1;T>f;T--)t(c,T,m,b);const x=f+1;for(let T=m-1;T>f;T--){const C=c[f];c[f]=c[T],c[T]=C,t(c,x,T,b)}}function*s(c,f,m,b){f===void 0&&(f=0),m===void 0&&(m=c.length),b===void 0&&(b=i);for(let T=m>>>1;T>f;T--)t(c,T,m,b),yield;const x=f+1;for(let T=m-1;T>f;T--){const C=c[f];c[f]=c[T],c[T]=C,t(c,x,T,b),yield}}e.sort=r,e.iterableSort=s})(mE||(mE={}));const $F=mE,Ure=1.5,Gre=1.1;let Z_=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new jz,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>xF(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,xF(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=cE(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(cE(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=ire(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){$F.sort(this.data,0,this.length,t)}iterableSort(t){return $F.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){for(let r=0;r<this.length;++r){const s=this.data[r];if(t.call(i,s,r))return s}}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const c=this.data[s];t.call(i,c,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=c,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let c=0;c<s;++c)t.call(i,r[c],c,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function xF(e){e.data.length>Ure*e.length&&(e.data.length=Math.floor(e.length*Gre))}function Wre(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return xt(()=>e.clearTimeout(r))}}}const qre=Wre(globalThis);function vS(e){return Bre(e)||vU(e)}function Bre(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function vU(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function y2(e,t,i){if(!vS(e))throw new TypeError("target is not a Evented or EventTarget object");return vU(e)?Hre(e,t,i):e.on(t,i)}function Hre(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const c of s)e.addEventListener(c,i,r);return xt(()=>{for(const c of s)e.removeEventListener(c,i,r)})}return e.addEventListener(t,i,r),xt(()=>e.removeEventListener(t,i,r))}function bU(e,t,i){if(!vS(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=y2(e,t,s=>{r.remove(),i.call(e,s)});return r}function zke(e,t,i){let r=!1;const s=y2(e,t,c=>{r||i.call(e,c)});return{resume(){r=!1},pause(){r=!0},remove(){s.remove()}}}function br(e="Aborted"){return new me("AbortError",e)}function dr(e,t="Aborted"){if(Tl(e))throw br(t)}function bS(e){return e instanceof AbortSignal?e:e==null?void 0:e.signal}function Tl(e){const t=bS(e);return t!=null&&t.aborted}function pu(e){if(cs(e))throw e}function gE(e){if(!cs(e))throw e}function Bc(e,t){const i=bS(e);if(i!=null){if(!i.aborted)return bU(i,"abort",()=>t());t()}}function wU(e,t){const i=bS(e);if(i!=null)return dr(i),bU(i,"abort",()=>t(br()))}function Jy(e,t){return bS(t)==null?e:new Promise((i,r)=>{let s=Bc(t,()=>r(br()));const c=()=>{s=ks(s)};e.then(c,c),e.then(i,r)})}function cs(e){return(e==null?void 0:e.name)==="AbortError"}async function ky(e){try{return await e}catch(t){if(!cs(t))throw t;return}}async function Uke(e,t=ke.getLogger("esri")){try{return await e}catch(i){cs(i)||t.error(i)}}async function qk(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(f=>e[f]),s=await qk(r),c={};return i.map((f,m)=>c[f]=s[m]),c}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const c=i[s];return c.status==="fulfilled"?{promise:r,value:c.value}:{promise:r,error:c.reason}}))}async function Jre(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Gke(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function _U(e,t=void 0,i){const r=new AbortController;return Bc(i,()=>r.abort()),new Promise((s,c)=>{let f=setTimeout(()=>{f=0,s(t)},e);Bc(r,()=>{f&&(clearTimeout(f),c(br()))})})}function Wke(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Bc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function xm(e){return e&&typeof e.then=="function"}function EF(e){return xm(e)?e:Promise.resolve(e)}function ba(e,t=-1){let i,r,s,c,f=null;const m=(...b)=>{if(i){r=b,c&&c.reject(br()),c=Sa();const L=c.promise;if(f){const N=f;f=null,N.abort()}return L}if(s=c||Sa(),c=null,t>0){const L=new AbortController;i=EF(e(...b,L.signal));const N=i;_U(t).then(()=>{i===N&&(c?L.abort():f=L)})}else i=1,i=EF(e(...b));const x=()=>{const L=r;r=s=i=f=null,L!=null&&m(...L)},T=i,C=s;return T.then(x,x),T.then(C.resolve,C.reject),C.promise};return m}function Sa(){let e,t;const i=new Promise((s,c)=>{e=s,t=c}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,c)=>qre.setTimeout(()=>r.reject(c),s),r.promise=i,r}function qke(e,t){return e.then(t,t)}async function TF(e){await Promise.resolve(),dr(e)}function Bke(e){return e}function Hke(e){return 1e3*e}function Jke(e){return e}function Zke(e){return .001*e}let Zre=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Kre=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},vE=0,bE=0;const kg={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},wE=["prepare","preRender","render","postRender","update","finish"],_E=[],l0=new Z_;let Yre=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function Qre(){Qf!=null&&(cancelAnimationFrame(Qf),Qf=requestAnimationFrame(Bk))}const K_={frameTasks:l0,willDispatch:!1,clearFrameTasks:Xre,dispatch:$U,executeFrameTasks:ene,reschedule:Qre};function wS(e){const t=new Kre(e);return _E.push(t),K_.willDispatch||(K_.willDispatch=!0,Hy($U)),t}function Xke(e){const t=new Zre(e);return l0.push(t),Qf==null&&(vE=performance.now(),Qf=requestAnimationFrame(Bk)),new Yre(t)}let Qf=null;function Xre(e=!1){l0.forAll(t=>{t.removed=!0}),e&&SU()}function e8e(e){bE=Math.max(0,e)}function Bk(){const e=performance.now();Qf=null,Qf=l0.length>0?requestAnimationFrame(Bk):null,K_.executeFrameTasks(e)}function ene(e){const t=e-vE;vE=e;const i=bE>0?bE:1e3/60,r=Math.max(0,t-i);kg.time=e,kg.frameDuration=i-r;for(let s=0;s<wE.length;s++){const c=performance.now(),f=wE[s];l0.forAll(m=>{var b;m.paused||m.removed||(s===0&&m.ticks++,m.phases[f]&&(kg.elapsedFrameTime=performance.now()-e,kg.deltaTime=m.ticks===0?0:t,(b=m.phases[f])==null||b.call(m,kg)))}),rne[s].record(performance.now()-c)}SU(),nne.record(performance.now()-e)}const i3=new Z_;function SU(){l0.forAll(e=>{e.removed&&i3.push(e)}),l0.removeUnorderedMany(i3.data,i3.length),i3.clear()}function $U(){for(;_E.length;){const e=_E.shift();e.isActive&&e.callback()}K_.willDispatch=!1}function tne(e=1,t){const i=Sa(),r=()=>{Tl(t)?i.reject(br()):e===0?i():(--e,Hy(()=>r()))};return r(),i.promise}function ine(e){return tne(1,e)}async function t8e(){await ine(),await new Promise(e=>requestAnimationFrame(e))}const rne=wE.map(e=>new gU(e)),nne=new gU("total");function sne(e,t){for(const i of e.entries())if(t(i[0]))return!0;return!1}function IF(e,t){if(!t)return e;for(const i of t)e.add(i);return e}function xU(e,t){const i=new Set;return IF(i,e),IF(i,t),i}function EU(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function i8e(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function r8e(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function one(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function n8e(e,t){return one(xU(e,t),EU(e,t))}function MF(e){let t;for(t of e);return t}let ane=0;const s8e=0;function Cy(){return++ane}let _S=class{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new lne(t),kF.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;kF.unregister(this._observerObject),this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){const i=this._accessed;i.includes(t)||i.push(t)}onTrackingEnd(){const t=this._handles,i=this._accessed,r=this._observerObject;for(let s=0;s<i.length;++s)t.push(i[s].observe(r));i.length=0}clear(){const t=this._handles;for(let i=0;i<t.length;++i)t[i].remove();t.length=0}},lne=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=une}};const kF=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function une(){}let Ay=!1;const Y_=[];function TU(e,t){let i=new _S(c),r=null,s=!1;function c(){if(!i||s)return;if(Ay)return void MU(c);const m=r;i.clear(),Ay=!0,s=!0,r=qc(i,e),s=!1,Ay=!1,t(r,m),kU()}function f(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=qc(i,e),s=!1,xt(f)}function IU(e,t){let i=new _S(s),r=null;function s(){t(r,f)}function c(){i&&(i.destroy(),i=null),r=null}function f(){return i?(i.clear(),r=qc(i,e),r):null}return f(),xt(c)}function Hk(e){let t=new _S(r),i=!1;function r(){t&&!i&&(Ay?MU(r):(t.clear(),Ay=!0,i=!0,qc(t,e),i=!1,Ay=!1,kU()))}function s(){t&&(t.destroy(),t=null)}return i=!0,qc(t,e),i=!1,xt(s)}function MU(e){Y_.includes(e)||Y_.unshift(e)}function kU(){for(;Y_.length;)Y_.pop()()}var tb;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(tb||(tb={}));let Nb=class{constructor(){this.uid=Cy(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,c){return this.pool.acquire(tb.Untracked,t,i,r,s,c,zk)}static acquireTracked(t,i,r,s){return this.pool.acquire(tb.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===tb.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,c,f,m){this.uid=Cy(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=c,this.path=f,this.equals=m}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Cy(),this.removed=!0}};Nb.pool=new mU(Nb);const E5=new du,Rc=new Set;let Q_;function X_(e){Rc.delete(e),Rc.add(e),Q_||(Q_=wS(dne))}function cne(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function hne(e){for(const t of Rc.values())t.target===e&&(t.removed=!0)}function dne(){let e=10;for(;Q_&&e--;){Q_=null;const t=pne(),i=E5.acquire();for(const r of t){const s=r.uid;cne(r),s===r.uid&&r.removed&&i.push(r)}for(const r of Rc)r.removed&&(i.push(r),Rc.delete(r));for(const r of i)Nb.pool.release(r);E5.release(i),E5.release(t),SE.forEach(r=>r())}}function pne(){const e=E5.acquire();e.length=Rc.size;let t=0;for(const i of Rc)e[t]=i,++t;return Rc.clear(),e}const SE=new Set;function fne(e){return SE.add(e),xt(()=>SE.delete(e))}function yne(e,t,i){let r=aU(e,t,i,(s,c,f)=>{let m,b,x=IU(()=>p2(s,c),(T,C)=>{var L;((L=s.__accessor__)==null?void 0:L.lifecycle)===to.DESTROYED||m&&m.uid!==b?r.remove():(m||(m=Nb.acquireUntracked(T,f,C,s,c),b=m.uid),X_(m))});return xt(()=>{x.remove(),m&&(m.uid!==b||m.removed||(m.removed=!0,X_(m)),m=null),r=x=null})});return r}function mne(e,t,i){const r=aU(e,t,i,(s,c,f)=>{let m=!1;return TU(()=>p2(s,c),(b,x)=>{s.__accessor__.lifecycle!==to.DESTROYED?m||(m=!0,zk(x,b)||f.call(s,b,x,c,s),m=!1):r.remove()})});return r}function gne(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==to.DESTROYED?r?mne(e,t,i):yne(e,t,i):xt()}function vne(e,t,i){let r,s,c=IU(e,(f,m)=>{r&&r.uid!==s?c.remove():(r||(r=Nb.acquireTracked(f,t,m,i),s=r.uid),X_(r))});return xt(()=>{c.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,X_(r)),r=null),c=null})}function bne(e,t,i){let r=!1;return TU(e,(s,c)=>{r||(r=!0,i(c,s)||t(s,c),r=!1)})}function wne(e,t,i=!1,r=Yz){return i?bne(e,t,r):vne(e,t,r)}function CF(e){return sne(Rc,t=>t.oldValue===e)}function u8e(e,t){for(const[i,r]of e)if(t(r,i))return!0;return!1}function c8e(e,t){for(const[i,r]of e)if(t(r,i))return r;return null}function ib(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function h8e(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Oy=()=>ke.getLogger("esri.core.accessorSupport.ensureTypes");function _ne(e){return e==null?e:new Date(e)}function Sne(e){return e==null?e:!!e}function m2(e){return e==null?e:e.toString()}function pa(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function Jk(e){return e==null?e:Math.round(parseFloat(e))}function CU(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function e4(e,t){return t!=null&&e&&!(t instanceof e)}function AU(e){return e&&"isCollection"in e}function AF(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function $ne(e,t){if(!(t!=null&&t.constructor)||!AU(t.constructor))return $E(e,t)?t:new e(t);const i=AF(e.prototype.itemType),r=AF(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):($E(e,t),t):new e(t):t}function $E(e,t){return!!CU(t)&&(Oy().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+SS(e)+"'"),!0)}function Zk(e,t){return t==null?t:AU(e)?$ne(e,t):e4(e,t)?$E(e,t)?t:new e(t):t}function SS(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const xne=new WeakMap;function Ene(e){switch(e){case Number:return pa;case Oi:return Jk;case Boolean:return Sne;case String:return m2;case Date:return _ne;default:return ib(xne,e,()=>Zk.bind(null,e))}}function wr(e,t){const i=Ene(e);return arguments.length===1?i:i(t)}function jb(e,t,i){return arguments.length===1?jb.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function Tne(e,t){return arguments.length===1?jb(i=>wr(e,i)):jb(i=>wr(e,i),t)}function OU(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>OU(e,t-1,r)):e(i)}function t4(e,t,i){if(arguments.length===2)return c=>t4(e,t,c);if(!i)return i;i=OU(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let c=0;c<r;c++)i=[i];return i}function Ine(e,t,i){return arguments.length===2?t4(r=>wr(e,r),t):t4(r=>wr(e,r),t,i)}function LU(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function xE(e,t){if(arguments.length===2)return xE(e).call(null,t);const i=new Set,r=e.filter(m=>typeof m!="function"),s=e.filter(m=>typeof m=="function");for(const m of e)typeof m!="string"&&typeof m!="number"||i.add(m);let c=null,f=null;return(m,b)=>{if(m==null)return m;const x=typeof m,T=x==="string"||x==="number";return T&&(i.has(m)||s.some(C=>x==="string"&&C===String||x==="number"&&C===Number))||x==="object"&&s.some(C=>!e4(m,C))?m:(T&&r.length?(c||(c=r.map(C=>typeof C=="string"?`'${C}'`:`${C}`).join(", ")),Oy().error("Accessor#set",`'${m}' is not a valid value for this property, only the following values are valid: ${c}`)):typeof m=="object"&&s.length?(f||(f=s.map(C=>SS(C)).join(", ")),Oy().error("Accessor#set",`'${m}' is not a valid value for this property, value must be one of ${f}`)):Oy().error("Accessor#set",`'${m}' is not a valid value for this property`),b&&(b.valid=!1),null)}}function $u(e,t){if(arguments.length===2)return $u(e).call(null,t);const i={},r=[],s=[];for(const b in e.typeMap){const x=e.typeMap[b];i[b]=wr(x),r.push(SS(x)),s.push(b)}const c=()=>`'${r.join("', '")}'`,f=()=>`'${s.join("', '")}'`,m=typeof e.key=="string"?b=>b[e.key]:e.key;return b=>{if(e.base&&!e4(e.base,b)||b==null)return b;const x=m(b)||e.defaultKeyValue,T=i[x];if(!T)return Oy().error("Accessor#set",`Invalid property value, value needs to be one of ${c()}, or a plain object that can autocast (having .type = ${f()})`),null;if(!e4(e.typeMap[x],b))return b;if(typeof e.key=="string"&&!CU(b)){const C={};for(const L in b)L!==e.key&&(C[L]=b[L]);return T(C)}return T(b)}}let Oi=class{};const p8e={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Mne(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function PU(e){switch(e.type){case"native":return wr(e.value);case"array":return jb(PU(e.value));case"one-of":return kne(e);default:return null}}function kne(e){let t=null;return(i,r)=>TE(i,e)?i:(t==null&&(t=EE(e)),Oy().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function EE(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Oi:return"integer";case Date:return"date";default:return SS(e.value)}case"array":return`array of ${EE(e.value)}`;case"one-of":{const t=e.values.map(i=>EE(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function TE(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Oi:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!TE(i,t.value));case"one-of":return t.values.some(i=>TE(e,i))}}function S(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=gS(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&ke.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const c=e.aliasOf;if(c){const b=typeof c=="string"?c:c.source,x=typeof c=="string"?null:c.overridable===!0;let T;s.dependsOn=[b],s.get=function(){let C=ma(this,b);if(typeof C=="function"){T||(T=b.split(".").slice(0,-1).join("."));const L=ma(this,T);L&&(C=C.bind(L))}return C},s.readOnly||(s.set=x?function(C){this._override(i,C)}:function(C){J_(this,b,C)})}const f=e.type,m=e.types;s.cast||(f?s.cast=Cne(f):m&&(Array.isArray(m)?s.cast=jb($u(m[0])):s.cast=$u(m))),$re(s,e),e.range&&(s.cast=Ane(s.cast,e.range))}}function FU(e,t,i){const r=gS(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Cne(e){let t=0,i=e;if(Mne(e))return PU(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(LU(r))return t===0?xE(r):t4(xE(r),t);if(t===1)return Tne(r);if(t>1)return Ine(r,t);const s=e;return s.from?s.from:wr(s)}function Ane(e,t){return i=>{let r=+e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function One(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(c=>{t[c]=s}),delete t[r]}}}let xu=class extends tU{constructor(t,i,r){super(t,i,r)}};xu.prototype.type="warning";function RU(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const IE=()=>ke.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function OF(e,t,i){var r,s;e&&(!i&&!t.read||(r=t.read)!=null&&r.reader||((s=t.read)==null?void 0:s.enabled)===!1||Fne(e)&&un("read.reader",Em(e),t))}function Em(e){var i,r;const t=e.ndimArray??0;if(t>1)return Pne(e);if(t===1)return LF(e);if("type"in e&&jU(e.type)){const s=(r=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,c=LF(typeof s=="function"?{type:s}:{types:s});return(f,m,b)=>{const x=c(f,m,b);return x&&new e.type(x)}}return Kk(e)}function Kk(e){return"type"in e?Lne(e.type):Rne(e.types)}function Lne(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void IE().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const c=new e;return c.read(t,r),c}:e.fromJSON}function NU(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>NU(e,s,i,r-1)):e(t,void 0,i)}function Pne(e){const t=Kk(e),i=NU.bind(null,t),r=e.ndimArray??0;return(s,c,f)=>{if(s==null)return s;s=i(s,f,r);let m=r,b=s;for(;m>0&&Array.isArray(b);)m--,b=b[0];if(b!==void 0)for(let x=0;x<m;x++)s=[s];return s}}function LF(e){const t=Kk(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const f=[];for(const m of i){const b=t(m,void 0,s);b!==void 0&&f.push(b)}return f}const c=t(i,void 0,s);return c!==void 0?[c]:void 0}}function jU(e){if(!RU(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?Yk(t.Type):DU(t.Type))}function Fne(e){return"types"in e?DU(e.types):Yk(e.type)}function Yk(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||jU(e))}function DU(e){for(const t in e.typeMap)if(!Yk(e.typeMap[t]))return!1;return!0}function Rne(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,c,f)=>{if(s==null)return s;const m=typeof s;if(m!=="object")return void IE().error(`Expected JSON value of type 'object' to deserialize, but got '${m}'`);t||(t=Nne(e));const b=e.key;if(typeof b!="string")return;const x=s[b],T=x?t[x]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!T){const L=`Type '${x||"unknown"}' is not supported`;return f!=null&&f.messages&&s&&f.messages.push(new xu(`${i}:unsupported`,L,{definition:s,context:f})),void IE().error(L)}const C=new T;return C.read(s,f),r?r(C):C}}function Nne(e){var i,r;const t={};for(const s in e.typeMap){const c=e.typeMap[s],f=f2(c.prototype);if(typeof e.key=="function")continue;const m=f[e.key];if(!m)continue;(i=m.json)!=null&&i.type&&Array.isArray(m.json.type)&&m.json.type.length===1&&typeof m.json.type[0]=="string"&&(t[m.json.type[0]]=c);const b=(r=m.json)==null?void 0:r.write;if(!(b!=null&&b.writer)){t[s]=c;continue}const x=b.target,T=typeof x=="string"?x:e.key,C={};b.writer(s,C,T),C[T]&&(t[C[T]]=c)}return t}function jne(e){if(e.json||(e.json={}),FF(e.json),RF(e.json),PF(e.json),e.json.origins)for(const t in e.json.origins)FF(e.json.origins[t]),RF(e.json.origins[t]),PF(e.json.origins[t]);return!0}function PF(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function FF(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function RF(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function NF(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&RU(e.type))?t.write.writer=zne:i>1?t.write.writer=Une(i):t.types?Array.isArray(t.types)?t.write.writer=Vne(t.types[0]):t.write.writer=Dne(t.types):t.write.writer=Db}function Dne(e){return(t,i,r,s)=>t?VU(t,e,s)?Db(t,i,r,s):void 0:Db(t,i,r,s)}function VU(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i!=null&&i.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new me(`${r}:unsupported`,s,{definition:e,context:i})),ke.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Vne(e){return(t,i,r,s)=>!t||!Array.isArray(t)?Db(t,i,r,s):Db(t.filter(c=>VU(c,e,s)),i,r,s)}function Db(e,t,i,r){un(i,i4(e,r),t)}function i4(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?r4(e):e}function r4(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function zne(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(c=>i4(c,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[i4(e,r)],un(i,s,t)}function zU(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>zU(r,t,i-1)):i4(e,t)}function Une(e){return(t,i,r,s)=>{let c;if(t===null)c=null;else{c=zU(t,s,e);let f=e,m=c;for(;f>0&&Array.isArray(m);)f--,m=m[0];if(m!==void 0)for(let b=0;b<f;b++)c=[c]}un(r,c,i)}}function Gne(e,t){return Qk(e,"any",t==null?void 0:t.origin)}function ME(e,t){return Qk(e,"read",t==null?void 0:t.origin)}function UU(e,t){return Qk(e,"write",t==null?void 0:t.origin)}function Qk(e,t,i){let r=e==null?void 0:e.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function Wne(e){const t=qne(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?Bne(r):t;OF(s,r,!1),r.types&&!r.write&&e.json.write&&e.json.write.enabled&&(r.write={...e.json.write}),NF(s,r)}OF(t,e.json,!0),NF(t,e.json)}function qne(e){return e.json.types?kE(e.json):e.type?GU(e):kE(e)}function Bne(e){return e.type?GU(e):kE(e)}function GU(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!LU(i);)i=i[0],t++;return{type:i,ndimArray:t}}function kE(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function Hne(e){jne(e)&&(One(e),Wne(e))}const k6=new Set,C6=new Set;function Q(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,Zne(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!k6.has(s.initialize)&&(k6.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!C6.has(s.destroy)&&(C6.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);k6.clear(),C6.clear();const c=class extends t{constructor(...m){if(super(...m),this.constructor===c&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let b=i.length-1;b>=0;b--)i[b].call(this)}}),r.length){let b=!1;const x=this[nU];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!b){b=!0,x.call(this);for(let T=0;T<r.length;T++)r[T].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript(...m)}}};c.__accessorMetadata__=f2(t.prototype),c.prototype.declaredClass=e;const f=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(c,"name",{value:f,configurable:!0}),c}}function Jne(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;It(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function Zne(e){const t=e.prototype,i=f2(t),r={};for(const s of Object.getOwnPropertyNames(i)){const c=i[s];Hne(c),r[s]={enumerable:!0,configurable:!0,get:Jne(s,c),set(f){const m=this.__accessor__;if(m!==void 0){if(!Object.isFrozen(this)){if(m.initialized&&c.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${s}' of ${this.declaredClass}`);if(m.lifecycle===to.CONSTRUCTED&&c.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${s}' of ${this.declaredClass}`);m.set(s,f)}}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:f})}}}Object.defineProperties(e.prototype,r)}var WU,qU;function Kne(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Nh=Symbol("Accessor-Handles"),CE=Symbol("Accessor-Initialized");let ht=class BU{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const c=this;class f extends c{constructor(...b){super(...b),this.inherited=null,s&&s.apply(this,b)}}f2(f.prototype);for(const m in t){const b=t[m];f.prototype[m]=typeof b=="function"?function(...x){const T=this.inherited;let C;this.inherited=function(...L){if(c.prototype[m])return c.prototype[m].apply(this,L)};try{C=b.apply(this,x)}catch(L){throw this.inherited=T,L}return this.inherited=T,C}:t[m]}for(const m in i){const b=Kne(i[m]);S(b)(f.prototype,m)}return Q(r)(f)}constructor(...t){if(this[WU]=null,this[qU]=!1,this.constructor===BU)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Pre(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&this.normalizeCtorArgs&&(i.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const i=this.__accessor__,r=i.ctorArgs||t;i.initialize(),r&&(this.set(r),i.ctorArgs=null),i.constructed(),this.initialize(),this[CE]=!0}initialize(){}[nU](){this[Nh]=tr(this[Nh])}destroy(){var t;this.destroyed||(hne(this),this.__accessor__.destroy(),(t=Vre())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[CE]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===to.DESTROYED||!1}commitProperty(t){ma(this,t)}get(t){return rU(ke.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),ma(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return J_(this,t,i),this}watch(t,i,r){return gne(this,t,i,r)}addHandles(t,i){if(this.destroyed){const s=Array.isArray(t)?t:[t];for(const c of s)c.remove();return}let r=this[Nh];r==null&&(r=this[Nh]=new mre),r.add(t,i)}removeHandles(t){const i=this[Nh];i!=null&&i.remove(t)}removeAllHandles(){const t=this[Nh];t!=null&&t.removeAll()}hasHandles(t){const i=this[Nh];return i!=null&&i.has(t)}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};WU=Nh,qU=CE;let Yne=class HU{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new HU;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ye(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??Gt.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===t})}set(t,i,r){if((r=this._normalizeOrigin(r))===Gt.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(t,new Qne(i,r))}delete(t,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(t))==null?void 0:r.origin)!==i||this._values.delete(t)}has(t,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(t))==null?void 0:r.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===Gt.DEFAULTS?t:Gt.USER}},Qne=class{constructor(t,i){this.value=t,this.origin=i}};function JU(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),Gt.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),Gt.DEFAULTS)})}function Xne(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&vF(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&vF(s,i))return!0;return!1}function ese(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function tse(e,t,i,r,s){let c=ME(t[i],s);ese(c)&&(e[i]=!0);for(const f of Object.getOwnPropertyNames(t))c=ME(t[f],s),Xne(c,i,r)&&(e[f]=!0)}function ise(e,t,i,r){const s=i.metadata,c=Gne(s[t],r),f=c==null?void 0:c.default;if(f===void 0)return;const m=typeof f=="function"?f.call(e,t,r):f;m!==void 0&&i.set(t,m)}const ZU={origin:"service"};function KU(e,t,i=ZU){if(!t||typeof t!="object")return;const r=As(e),s=r.metadata,c={};for(const f of Object.getOwnPropertyNames(t))tse(c,s,f,t,i);r.setDefaultOrigin(i.origin);for(const f of Object.getOwnPropertyNames(c)){const m=ME(s[f],i).read,b=m==null?void 0:m.source;let x;x=b&&typeof b=="string"?p2(t,b):t[f],m!=null&&m.reader&&(x=m.reader.call(e,x,t,i)),x!==void 0&&r.set(f,x)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const f of Object.getOwnPropertyNames(s))c[f]||ise(e,f,r,i)}r.setDefaultOrigin("user")}function YU(e,t,i,r=ZU){var c;const s={...r,messages:[]};i(s),(c=s.messages)==null||c.forEach(f=>{f.type!=="warning"||e.loaded?r!=null&&r.messages&&r.messages.push(f):e.loadWarnings.push(f)})}function rse(e,t,i,r,s){var f,m;const c={};return(m=(f=t.write)==null?void 0:f.writer)==null||m.call(e,r,c,i,s),c}function QU(e,t,i,r,s,c){if(!(r!=null&&r.write))return!1;const f=ma(e,i);if(!s&&r.write.overridePolicy){const m=r.write.overridePolicy.call(e,f,i,c??void 0);m!==void 0&&(s=m)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(c!=null&&c.layerContainerType)&&!s.layerContainerTypes.includes(c.layerContainerType))return!1;if((f===null&&!s.allowNull&&!s.writerEnsuresNonNull||f===void 0)&&s.isRequired){const m=new me("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return m&&(c!=null&&c.messages)?c.messages.push(m):m&&!c&&ke.getLogger("esri.core.accessorSupport.write").error(m.name,m.message),!1}return!(f===void 0||f===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===Gt.DEFAULTS)&&nse(e,i,c,r,f)||!s.ignoreOrigin&&(c!=null&&c.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<kd(c.origin))}function nse(e,t,i,r,s){const c=r.default;if(c===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof c=="function"){if(Array.isArray(s)){const f=c.call(e,t,i??void 0);return o0(f,s)}return!1}return c===s}function sse(e,t,i,r){const s=As(e),c=s.metadata,f=UU(c[t],r);return!!f&&QU(e,s,t,f,i,r)}function XU(e,t,i){var c,f;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return S5(t,e.toJSON(i));const r=As(e),s=r.metadata;for(const m in s){const b=UU(s[m],i);if(!QU(e,r,m,b,void 0,i))continue;const x=ma(e,m),T=rse(e,b,b.write&&typeof b.write.target=="string"?b.write.target:m,x,i);Object.keys(T).length>0&&(t=S5(t,T),(f=(c=i==null?void 0:i.resources)==null?void 0:c.pendingOperations)!=null&&f.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>S5(t,T,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:m,oldOrigin:Cre(r.store.originOf(m)),newOrigin:i.origin}))}return t}const ap=e=>{let t=class extends e{constructor(...i){super(...i);const r=As(this),s=r.store,c=new Yne;r.store=c,JU(r,s,c)}read(i,r){KU(this,i,r)}write(i,r){return XU(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return ose.call(this,i,r)}};return t=g([Q("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function ose(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}function n4(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let $e=class extends ap(ht){};$e=g([Q("esri.core.JSONSupport")],$e);const ase=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,lse={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function AE(e){const t=e==null?void 0:e.match(ase);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let c=null,f=null,m=null;const{devext:b,qaext:x,www:T}=lse;if(r)if(c=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:f,portalHostname:m}=b);break;case"qa":({customBaseUrl:f,portalHostname:m}=x);break;default:return null}else({customBaseUrl:f,portalHostname:m}=T);else switch(i.toLowerCase()){case"devext":({customBaseUrl:f,portalHostname:m}=b);break;case"qaext":({customBaseUrl:f,portalHostname:m}=x);break;case"www":({customBaseUrl:f,portalHostname:m}=T);break;default:return null}return{customBaseUrl:f,isPortal:!1,portalHostname:m,urlKey:c}}function use(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function cse(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function hse(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const dse=()=>ke.getLogger("esri.core.urlUtils"),Tm=ai.request,jF="esri/config: esriConfig.request.proxyUrl is not set.",eG=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,tG=/^\s*http:/i,pse=/^\s*https:/i,fse=/^\s*file:/i,yse=/:\d+$/,mse=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,gse=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),vse=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let Nc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(gse);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(vse),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const r3={},bse=new Nc(ai.applicationUrl);let os=bse;const wse=_se();let Xk=wse;const e8=()=>os,v8e=()=>Xk;function _se(){const e=os.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${os.scheme}://${os.host}${os.port!=null?`:${os.port}`:""}`}${t}`}function Nr(e){if(!e)return null;const t={path:null,query:null},i=new Nc(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.substring(0,r),t.query=t8(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.substring(0,t.path.length-(i.fragment.length+1)))),t}function t8(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let c,f;s<0?(c=decodeURIComponent(r),f=""):(c=decodeURIComponent(r.slice(0,s)),f=decodeURIComponent(r.slice(s+1)));let m=i[c];typeof m=="string"&&(m=i[c]=[m]),Array.isArray(m)?m.push(f):i[c]=f}return i}function Vb(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",c=t==null?void 0:t[i];return c?s+encodeURIComponent(c(r)):Array.isArray(r)?r.map(f=>n4(f)?s+encodeURIComponent(JSON.stringify(f)):s+encodeURIComponent(f)).join("&"):n4(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function Sse(e=!1){let t,i=Tm.proxyUrl;if(typeof e=="string"){t=kse(e);const r=$S(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw dse().warn(jF),new me("urlUtils:proxy-not-set",jF);return t&&OE()&&(i=o8(i)),Nr(i)}function b8e(e){const t=$S(e);let i,r;if(t){const s=i8(t.proxyUrl);i=s.path,r=s.query?t8(s.query):null}if(i){const s=Nr(e);e=i+"?"+s.path;const c=Vb({...r,...s.query});c&&(e=`${e}?${c}`)}return e}const Cg={path:"",query:""};function i8(e){const t=e.indexOf("?");return t!==-1?(Cg.path=e.slice(0,t),Cg.query=e.slice(t+1)):(Cg.path=e,Cg.query=null),Cg}function iG(e){return e=(e=o4(e=Pse(e=i8(e).path),!0)).toLowerCase()}function $se(e){const t={proxyUrl:e.proxyUrl,urlPrefix:iG(e.urlPrefix)},i=Tm.proxyRules,r=t.urlPrefix;let s=i.length;for(let c=0;c<i.length;c++){const f=i[c].urlPrefix;if(r.indexOf(f)===0){if(r.length===f.length)return-1;s=c;break}f.indexOf(r)===0&&(s=c+1)}return i.splice(s,0,t),s}function $S(e){const t=Tm.proxyRules,i=iG(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function xse(e,t){if(!e||!t)return!1;e=s4(e),t=s4(t);const i=AE(e),r=AE(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Zy(e,t,!0)}function rG(e,t){return e=s4(e),t=s4(t),o4(e)===o4(t)}function s4(e){const t=(e=wa(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function nG(e){const t=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r),i=Tm.interceptors;if(i){for(const r of i)if(Array.isArray(r.urls)){if(r.urls.some(t))return r}else if(t(r.urls))return r}return null}function Zy(e,t,i=!1){if(!e||!t)return!1;const r=PE(e),s=PE(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function r8(e){if(typeof e=="string"){if(!Vo(e))return!0;e=PE(e)}if(Zy(e,os))return!0;const t=Tm.trustedServers||[];for(let i=0;i<t.length;i++){const r=Ese(t[i]);for(let s=0;s<r.length;s++)if(Zy(e,r[s]))return!0}return!1}function Ese(e){return r3[e]||(s8(e)||Eu(e)?r3[e]=[new Nc(no(e))]:r3[e]=[new Nc(`http://${e}`),new Nc(`https://${e}`)]),r3[e]}function no(e,t=Xk,i){return Eu(e)?i&&i.preserveProtocolRelative?e:os.scheme==="http"&&os.authority===bl(e).slice(2)?`http:${e}`:`https:${e}`:s8(e)?e:Ky(e[0]==="/"?Lse(t):t,e)}function n8(e,t=Xk,i){if(e==null||!Vo(e))return e;const r=wa(e),s=r.toLowerCase(),c=wa(t).toLowerCase().replace(/\/+$/,""),f=i?wa(i).toLowerCase().replace(/\/+$/,""):null;if(f&&c.indexOf(f)!==0)return e;const m=(C,L,N)=>(N=C.indexOf(L,N))===-1?C.length:N;let b=m(s,"/",s.indexOf("//")+2),x=-1;for(;s.slice(0,b+1)===c.slice(0,b)+"/"&&(x=b+1,b!==s.length);)b=m(s,"/",b+1);if(x===-1||f&&x<f.length)return e;e=r.slice(x);const T=c.slice(x-1).replaceAll(/[^/]+/g,"").length;if(T>0)for(let C=0;C<T;C++)e=`../${e}`;else e=`./${e}`;return e}function wa(e){return e=Nse(e=Rse(e=Fse(e=no(e=e.trim()))))}function Ky(...e){const t=e.filter(Yr);if(!(t!=null&&t.length))return;const i=[];if(Vo(t[0])){const s=t[0],c=s.indexOf("//");c!==-1&&(i.push(s.slice(0,c+1)),Ase(t[0])&&(i[0]+="/"),t[0]=s.slice(c+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,c)=>c?s.concat(c.split("/")):s,[]);for(let s=0;s<r.length;s++){const c=r[s];c===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!c&&s===r.length-1||c&&(c!=="."||i.length===0))&&i.push(c)}return i.join("/")}function bl(e,t=!1){if(e==null||xS(e)||lp(e))return null;let i=e.indexOf("://");if(i===-1&&Eu(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=o4(e,!0)),e}function Vo(e){return Eu(e)||s8(e)}function xS(e){return e!=null&&e.slice(0,5)==="blob:"}function lp(e){return e!=null&&e.slice(0,5)==="data:"}function Tse(e){const t=Yy(e);return t&&t.isBase64?cse(t.data):null}function w8e(e){return hse(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Ise=/^data:(.*?)(;base64)?,(.*)$/;function Yy(e){const t=e.match(Ise);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function sG(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function _8e(e){return(await fetch(e)).blob()}function S8e(e){const t=Tse(e);if(!t)return null;const i=Yy(e);return new Blob([t],{type:i.mediaType})}function $8e(e,t){Mse(e,t)}function Mse(e,t){if(!e)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const r=URL.createObjectURL(e);return i.download=t,i.href=r,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),!0}function Eu(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function s8(e){return e!=null&&eG.test(e)}function kse(e){return e!=null&&pse.test(e)||os.scheme==="https"&&Eu(e)}function Cse(e){return e!=null&&tG.test(e)||os.scheme==="http"&&Eu(e)}function Ase(e){return e!=null&&fse.test(e)}function o8(e){return Eu(e)?`https:${e}`:e.replace(tG,"https:")}function Ose(){return os.scheme==="http"}function OE(){return os.scheme==="https"}function o4(e,t=!1){return Eu(e)?e.slice(2):(e=e.replace(eG,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Lse(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function a8(e){let t=0;if(Vo(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function x8e(e,t){if(!e)return"";const i=Nr(e).path.replace(/\/+$/,""),r=i.substring(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return r;const s=new RegExp(`.(${t.join("|")})$`,"ig");return r.replace(s,"")}function Pse(e){return e.endsWith("/")?e:`${e}/`}function l8(e){return e.replace(/\/+$/,"")}function Fse(e){if(/^https?:\/\//i.test(e)){const t=i8(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Rse(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Nse(e){const t=Tm.httpsDomains;if(!Cse(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),yse.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return Ose()&&r===os.authority&&!mse.test(e)||(OE()&&r===os.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||OE()&&!$S(e))&&(e=o8(e)),e}function LE(e,t,i){if(!(t&&i&&e&&Vo(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),c=e.indexOf(":",r+2),f=Math.min(s<0?e.length:s,c<0?e.length:c);return e.slice(r+2,f).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(f)}`}function PE(e){return typeof e=="string"?new Nc(no(e)):(e.scheme||(e.scheme=os.scheme),e)}function E8e(e){return jse.test(e)}function oG(e,t){const i=Nr(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function aG(e,t,i){const r=Nr(e),s=r.query||{};return s[t]=String(i),`${r.path}?${Vb(s)}`}function A6(e,t){if(!t)return e;const i=Nr(e),r=i.query||{};for(const[c,f]of Object.entries(t))f!=null&&(r[c]=f);const s=Vb(r);return s?`${i.path}?${s}`:i.path}function T8e(e){if(e==null)return null;const t=e.match(lG);return t?t[2]:null}function DF(e){if(e==null)return null;const t=e.match(lG);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function I8e(e){return typeof e=="string"?Yy(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Yy(r.result)),r.onerror=s=>i(s)})}const lG=/([^.]*)\.([^\/]*)$/,jse=/(^data:image\/svg|\.svg$)/i,uG="20240321",cG="9cf5a4b8555fda94595b625a40b922e012baf071";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const hG="4.29";let Et,u8=hG;u8="4.29.10";function M8e(e){Et=e}function k8e(e){const t=Et==null?void 0:Et.findCredential(e);return t!=null&&t.token?aG(e,"token",t.token):e}Ee("host-webworker");const Dse=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function c8(e){const t=bl(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!Dse.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function Vse(e,t,i=!1,r){return new Promise((s,c)=>{if(Tl(r))return void c(VF());let f=()=>{x(),c(new Error(`Unable to load ${t}`))},m=()=>{const T=e;x(),s(T)},b=()=>{if(!e)return;const T=e;x(),T.src="",c(VF())};const x=()=>{Ee("esri-image-decode")||(e.removeEventListener("error",f),e.removeEventListener("load",m)),f=null,m=null,e=null,r!=null&&r.removeEventListener("abort",b),b=null,i&&URL.revokeObjectURL(t)};r!=null&&r.addEventListener("abort",b),Ee("esri-image-decode")?e.decode().then(m,f):(e.addEventListener("error",f),e.addEventListener("load",m))})}function VF(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const dG="Timeout exceeded";function zse(){return new Error(dG)}function C8e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===dG}function Use(e){ai.request.crossOriginNoCorsDomains||(ai.request.crossOriginNoCorsDomains={});const t=ai.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[bl(i)??""]=0:(t[bl("http://"+i)??""]=0,t[bl("https://"+i)??""]=0)}function Gse(e){const t=ai.request.crossOriginNoCorsDomains;if(t){let i=bl(e);if(i)return i=i.toLowerCase(),!Zy(i,e8())&&t[i]<Date.now()-36e5}return!1}async function Wse(e){var s;const t=ai.request.crossOriginNoCorsDomains,i=bl(e);t&&i&&(t[i.toLowerCase()]=Date.now());const r=Nr(e);e=r.path,((s=r.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Ut(e,t){var x;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=t8(t.query.toString().replaceAll("+"," ")));const i=lp(e),r=xS(e);r||i||(e=wa(e));const s={url:e,requestOptions:{...t}};let c=nG(e);if(c){const T=await Qse(c,s);if(T!=null)return{data:T,getAllHeaders:Qy,getHeader:Qy,httpStatus:200,requestOptions:s.requestOptions,url:s.url};c.after||c.error||(c=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(Ee("host-webworker")||Ee("host-node")))throw vu("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw vu("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw vu("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await Zse(),a4)return a4.execute(e,t);const f=new AbortController;Bc(t,()=>f.abort());const m={controller:f,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:c,params:s,redoRequest:!1,useIdentity:hl.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},b=await eoe(m);return(x=c==null?void 0:c.after)==null||x.call(c,b),b}let a4;const hl=ai.request,pG="FormData"in globalThis,qse=new Set([499,498,403,401]),Bse=new Set(["COM_0056","COM_0057","SB_0008"]),Hse=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Qy=()=>null,l4=Symbol();function Jse(e){const t=bl(e);t&&!Ut._corsServers.includes(t)&&Ut._corsServers.push(t)}function zF(e){const t=bl(e);return!t||t.endsWith(".arcgis.com")||Ut._corsServers.includes(t)||r8(t)}function vu(e,t,i,r){let s="Error";const c={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Qy,getHeader:Qy,ssl:!1};if(t instanceof me)return t.details?(t.details=ye(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=c,t;if(t){const f=r&&(()=>Array.from(r.headers)),m=r&&(T=>r.headers.get(T)),b=r==null?void 0:r.status,x=t.message;x&&(s=x),f&&m&&(c.getAllHeaders=f,c.getHeader=m),c.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||b||0,c.subCode=t.subcode,c.messageCode=t.messageCode,typeof t.details=="string"?c.messages=[t.details]:c.messages=t.details,c.raw=l4 in t?t[l4]:t}return cs(t)?br():new me(e,s,c)}async function Zse(){Ee("host-webworker")&&!a4&&(a4=await te(()=>import("./request-DZyGWONd.js"),[]))}async function FE(){Et||await te(()=>import("./IdentityManager-D3asjBnP.js"),__vite__mapDeps([0,1]))}async function Kse(e){var m;const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let c=null,f=null;if(pG&&"HTMLFormElement"in globalThis&&(s instanceof FormData?c=s:s instanceof HTMLFormElement&&(c=new FormData(s))),typeof s=="string"&&(f=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:hl.priority,redirect:"follow",signal:r},(c||f)&&(e.fetchOptions.body=c||f),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(m=i.query)!=null&&m.token||c!=null&&c.get("token")),!e.hasToken&&ai.apiKey&&c8(t)&&(i.query||(i.query={}),i.query.token=ai.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!fG(t)&&!Tl(r)){let b;i.authMode==="immediate"?(await FE(),b=await Et.getCredential(t,{signal:r}),e.credential=b):i.authMode==="no-prompt"?(await FE(),b=await Et.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=b):Et&&(b=Et.findCredential(t)),b&&(e.credentialToken=b.token,e.useSSL=!!b.ssl)}}function fG(e){return Hse.some(t=>t.test(e))}async function Yse(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=xS(t)||lp(t),c=i.responseType||"json",f=s?0:i.timeout!=null?i.timeout:hl.timeout;let m=!1;if(!s){e.useSSL&&(t=o8(t));let L={...i.query};e.credentialToken&&(L.token=e.credentialToken);let N=Vb(L);Ee("esri-url-encodes-apostrophe")&&(N=N.replaceAll("'","%27"));const D=t.length+1+N.length;let G;m=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||D>hl.maxUrlLength;const q=i.useProxy||!!$S(t);if(q){const J=Sse(t);G=J.path,!m&&G.length+1+D>hl.maxUrlLength&&(m=!0),J.query&&(L={...J.query,...L})}if(r.method==="HEAD"&&(m||q)){if(m)throw D>hl.maxUrlLength?vu("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):vu("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(q)throw vu("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(m?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=A6(t,L):(r.body=Vb(L),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=A6(t,L),q&&(e.useProxy=!0,t=`${G}?${t}`),L.token&&pG&&r.body instanceof FormData&&!use(t)&&r.body.set("token",L.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!Zy(t,e8())){if(r8(t))e.withCredentials=!0;else if(Et){const J=Et.findServerInfo(t);J!=null&&J.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(r.credentials="include",Gse(t)&&await Wse(m?A6(t,L):t))}let b,x,T=0,C=!1;f>0&&(T=setTimeout(()=>{C=!0,e.controller.abort()},f));try{if(i.responseType==="native-request-init")x=r,x.url=t;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||m||Xse(i.headers)||!s&&!e.useProxy&&hl.proxyUrl&&!zF(t)){if(Ut._beforeFetch&&await Ut._beforeFetch(t,r),b=await fetch(t,r),Ut._afterFetch&&await Ut._afterFetch(b),e.useProxy||Jse(t),i.responseType==="native")x=b;else if(r.method!=="HEAD")if(b.ok){switch(c){case"array-buffer":x=await b.arrayBuffer();break;case"blob":case"image":x=await b.blob();break;default:x=await b.text()}if(T&&(clearTimeout(T),T=0),c==="json"||c==="xml"||c==="document")if(x)switch(c){case"json":x=JSON.parse(x);break;case"xml":x=UF(x,"application/xml");break;case"document":x=UF(x,"text/html")}else x=null;if(x){if(c==="array-buffer"||c==="blob"){const L=b.headers.get("Content-Type");if(L&&/application\/json|text\/plain/i.test(L)&&x[c==="blob"?"size":"byteLength"]<=750)try{const N=await new Response(x).json();N.error&&(x=N)}catch{}}c==="image"&&x instanceof Blob&&(x=await GF(URL.createObjectURL(x),e,!0))}}else{x=await b.text();try{x=JSON.parse(x)}catch{}}}else x=await GF(t,e)}catch(L){if(L.name==="AbortError")throw C?zse():br("Request canceled");if(!(!b&&L instanceof TypeError&&hl.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||zF(t))throw L;e.redoRequest=!0,$se({proxyUrl:hl.proxyUrl,urlPrefix:bl(t)??""})}finally{T&&clearTimeout(T)}return[b,x]}async function Qse(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=vu("request:interceptor",s,t)}if((r instanceof Error||r instanceof me)&&(i=vu("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function Xse(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function UF(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function eoe(e){var c,f;let t,i;await Kse(e);try{do[t,i]=await Yse(e);while(!await toe(e,t,i))}catch(m){const b=vu("request:server",m,e.params,t);throw b.details.ssl=e.useSSL,(c=e.interceptor)!=null&&c.error&&e.interceptor.error(b),b}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&((f=i.user)!=null&&f.username)&&!r8(r)){const m=bl(r,!0);m&&hl.trustedServers.push(m)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&Use(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Et){const m=Et.findServerInfo(s.server);let b=m==null?void 0:m.owningSystemUrl;if(b){b=b.replace(/\/?$/,"/sharing");const x=Et.findCredential(b,s.userId);x&&Et._getIdenticalSvcIdx(b,x)===-1&&x.resources.unshift(b)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Qy,getHeader:t?m=>t.headers.get(m):Qy,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function toe(e,t,i){var x;if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,c;if(i&&(i.error?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[l4]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[l4]=i,s;let f,m=null;s&&(c=Number(s.code),m=s.hasOwnProperty("subcode")?Number(s.subcode):null,f=s.messageCode,f=f==null?void 0:f.toUpperCase());const b=r.authMode;if(c===403&&(m===4||(x=s.message)!=null&&x.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(b!=="no-prompt"||c===498)&&c!==void 0&&qse.has(c)&&!fG(e.params.url)&&(c!==403||(!f||!Bse.has(f))&&(m==null||m===2&&e.credentialToken))){await FE();try{const T=await Et.getCredential(e.params.url,{error:vu("request:server",s,e.params),prompt:b!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=T,e.credentialToken=T.token,e.useSSL=e.useSSL||T.ssl,!1}catch(T){if(b==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=T}}if(s)throw s;return!0}function GF(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=hl.priority,s.src=e,Vse(s,e,i,r)}Ut._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Ut._beforeFetch=void 0,Ut._afterFetch=void 0;let RE=class yG{constructor(){this._emitter=new yG.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,c){var x;let f=(x=this._listenersMap)==null?void 0:x.get(s);if(!f)return!1;const m=this._target||this;let b=!1;for(const T of f.slice()){const C="deref"in T?T.deref():T;C?C==null||C.call(m,c):b=!0}return b&&(f=f.filter(T=>!("deref"in T)||T.deref()!=null),this._listenersMap.set(s,f)),f.length>0}on(s,c){if(Array.isArray(s)){const m=s.map(b=>this.on(b,c));return Do(m)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const f=this._listenersMap.get(s)||[];return f.push(c),this._listenersMap.set(s,f),xt(()=>{var x;const m=(x=this._listenersMap)==null?void 0:x.get(s),b=(m==null?void 0:m.indexOf(c))??-1;b>=0&&m.splice(b,1)})}once(s,c){const f=this.on(s,m=>{f.remove();const b="deref"in c?c.deref():c;b==null||b.call(null,m)});return f}hasEventListener(s){var f;const c=(f=this._listenersMap)==null?void 0:f.get(s);return c!=null&&c.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(c,f){return this._emitter.emit(c,f)}on(c,f){return this._emitter.on(c,f)}once(c,f){return this._emitter.once(c,f)}hasEventListener(c){return this._emitter.hasEventListener(c)}};return s=g([Q("esri.core.Evented")],s),s};let i=class extends ht{constructor(){super(...arguments),this._emitter=new RE.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([Q("esri.core.Evented")],i),e.EventedAccessor=i})(RE);const Ps=RE;var gi;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(gi||(gi={}));function h8(e){return(t,i)=>{t[i]=e}}let ES=class extends cU{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var Cc;let ioe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},roe=class{constructor(t,i,r,s,c){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=c}};const Xo=new a0(ioe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function O6(e){return e?e instanceof Tc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function L6(e){if(e!=null&&e.length)return e[0]}function noe(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let c=0;for(;c<s&&e[i+c]===t[r+c];)c++;return c}function mG(e,t,i,r){t&&t.forEach((s,c,f)=>{e.push(s),mG(e,i.call(r,s,c,f),i,r)})}const Th=new Set,Ih=new Set,Mh=new Set,P6=new Map;let soe=0,Tc=Cc=class extends Ps.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Cc}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new ES,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:soe++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Cc?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return It(this._observable),this._items}set items(e){this._emitBeforeChanges(gi.ADD)||(this._splice(0,this.length,O6(e)),this._emitAfterChanges(gi.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),xt(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{var c;(c=i())==null||c.call(null,s),r.remove()});return r}add(e,t){if(It(this._observable),this._emitBeforeChanges(gi.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(gi.ADD),this}addMany(e,t=this._items.length){if(It(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(gi.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,O6(e)),this._emitAfterChanges(gi.ADD),this}at(e){if(It(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(It(this._observable),!this.length||this._emitBeforeChanges(gi.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(gi.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return It(this._observable),this._createNewInstance({items:this._items.map(ye)})}concat(...e){It(this._observable);const t=e.map(O6);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(It(this._observable),!this.length||this._emitBeforeChanges(gi.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(gi.REMOVE)}every(e,t){return It(this._observable),this._items.every(e,t)}filter(e,t){let i;return It(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return It(this._observable),this._items.find(e,t)}findIndex(e,t){return It(this._observable),this._items.findIndex(e,t)}flatten(e,t){It(this._observable);const i=[];return mG(i,this,e,t),new Cc(i)}forEach(e,t){return It(this._observable),this._items.forEach(e,t)}getItemAt(e){return It(this._observable),this._items[e]}getNextIndex(e){It(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return It(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return It(this._observable),this._items.indexOf(e,t)}join(e=","){return It(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return It(this._observable),this._items.lastIndexOf(e,t)}map(e,t){It(this._observable);const i=this._items.map(e,t);return new Cc({items:i})}reorder(e,t=this.length-1){It(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(gi.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(gi.MOVE)}return e}}pop(){if(It(this._observable),!this.length||this._emitBeforeChanges(gi.REMOVE))return;const e=L6(this._splice(this.length-1,1));return this._emitAfterChanges(gi.REMOVE),e}push(...e){return It(this._observable),this._emitBeforeChanges(gi.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(gi.ADD)),this.length}reduce(e,t){It(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){It(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return It(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(It(this._observable),e<0||e>=this.length||this._emitBeforeChanges(gi.REMOVE))return;const t=L6(this._splice(e,1));return this._emitAfterChanges(gi.REMOVE),t}removeMany(e){if(It(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(gi.REMOVE))return[];const t=e instanceof Cc?e.toArray():e,i=this._items,r=[],s=t.length;for(let c=0;c<s;c++){const f=t[c],m=i.indexOf(f);if(m>-1){const b=1+noe(t,i,c+1,m+1),x=this._splice(m,b);x&&x.length>0&&r.push.apply(r,x),c+=b-1}}return this._emitAfterChanges(gi.REMOVE),r}reverse(){if(It(this._observable),this._emitBeforeChanges(gi.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(gi.MOVE),this}shift(){if(It(this._observable),!this.length||this._emitBeforeChanges(gi.REMOVE))return;const e=L6(this._splice(0,1));return this._emitAfterChanges(gi.REMOVE),e}slice(e=0,t=this.length){return It(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return It(this._observable),this._items.some(e,t)}sort(e){if(It(this._observable),!this.length||this._emitBeforeChanges(gi.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(gi.MOVE),this}splice(e,t,...i){It(this._observable);const r=(t?gi.REMOVE:0)|(i.length?gi.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return It(this._observable),this._items.slice()}toJSON(){return It(this._observable),this.toArray()}toLocaleString(){return It(this._observable),this._items.toLocaleString()}toString(){return It(this._observable),this._items.toString()}unshift(...e){return It(this._observable),!e.length||this._emitBeforeChanges(gi.ADD)||(this._splice(0,0,e),this._emitAfterChanges(gi.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let c,f;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=wS(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(f=r.splice(e,t),this.hasEventListener("before-remove")){const m=Xo.acquire();m.target=this,m.cancellable=!0;for(let b=0,x=f.length;b<x;b++)c=f[b],m.reset(c),this.emit("before-remove",m),m.defaultPrevented&&(f.splice(b,1),r.splice(e,0,c),e+=1,b-=1,x-=1);Xo.release(m)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const m=Xo.acquire();m.target=this,m.cancellable=!1;const b=f.length;for(let x=0;x<b;x++)m.reset(f[x]),this.emit("after-remove",m);Xo.release(m)}}if(i!=null&&i.length){if(s){const T=[];for(const C of i){const L=s.ensureType(C);L==null&&C!=null||T.push(L)}i=T}const m=this.hasEventListener("before-add"),b=this.hasEventListener("after-add"),x=e===this.length;if(m||b){const T=Xo.acquire();T.target=this,T.cancellable=!0;const C=Xo.acquire();C.target=this,C.cancellable=!1;for(const L of i)m?(T.reset(L),this.emit("before-add",T),T.defaultPrevented||(x?r.push(L):r.splice(e++,0,L),this._set("length",r.length),b&&(C.reset(L),this.emit("after-add",C)))):(x?r.push(L):r.splice(e++,0,L),this._set("length",r.length),C.reset(L),this.emit("after-add",C));Xo.release(C),Xo.release(T)}else{if(x)for(const T of i)r.push(T);else r.splice(e,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||f!=null&&f.length)&&this._notifyChangeEvent(i,f),this.hasEventListener("after-splice")){const m=new roe(this,i,f,e,t);this.emit("after-splice",m)}return f}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Xo.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Xo.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Xo.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Xo.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Th.clear(),Ih.clear(),Mh.clear();for(const{added:b,removed:x}of i){if(b)if(Mh.size===0&&Ih.size===0)for(const T of b)Th.add(T);else for(const T of b)Ih.has(T)?(Mh.add(T),Ih.delete(T)):Mh.has(T)||Th.add(T);if(x)if(Mh.size===0&&Th.size===0)for(const T of x)Ih.add(T);else for(const T of x)Th.has(T)?Th.delete(T):(Mh.delete(T),Ih.add(T))}const r=du.acquire();Th.forEach(b=>{r.push(b)});const s=du.acquire();Ih.forEach(b=>{s.push(b)});const c=this._items,f=t.items,m=du.acquire();if(Mh.forEach(b=>{f.indexOf(b)!==c.indexOf(b)&&m.push(b)}),t.listeners&&(r.length||s.length||m.length)){const b={target:this,added:r,removed:s,moved:m},x=t.listeners.length;for(let T=0;T<x;T++){const C=t.listeners[T];C.removed||C.callback.call(this,b)}}du.release(r),du.release(s),du.release(m)}Th.clear(),Ih.clear(),Mh.clear()}};Tc.ofType=e=>{if(!e)return Cc;if(P6.has(e))return P6.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends Cc{};return g([h8({Type:e,ensureType:typeof e=="function"?wr(e):$u(e)})],i.prototype,"itemType",void 0),i=g([Q(`esri.core.Collection<${t}>`)],i),P6.set(e,i),i},g([S()],Tc.prototype,"_updating",void 0),g([S()],Tc.prototype,"length",void 0),g([S()],Tc.prototype,"items",null),g([S({readOnly:!0})],Tc.prototype,"updating",null),Tc=Cc=g([Q("esri.core.Collection")],Tc);const it=Tc;function u0(e,t,i=it){return t||(t=new i),t===e||(t.removeAll(),ooe(e)?t.addMany(e):e&&t.add(e)),t}function gG(e){return e}function ooe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var gd;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(gd||(gd={}));let aoe=class{constructor(){this._resolver=Sa(),this._status=gd.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=gd.RESOLVED,this._cleanUp()},()=>{this._status=gd.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===gd.RESOLVED}isRejected(){return this._status===gd.REJECTED}isFulfilled(){return this._status!==gd.PENDING}abort(){this._resolver.reject(br())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Sa(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||cs(s)||this._resolver.reject(s)}),t.resolve()}};const g2=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new aoe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([Q("esri.core.Promise")],t),t};let NE=class extends g2(ht){};NE=g([Q("esri.core.Promise")],NE);const loe="not-loaded",uoe="loading",coe="failed",WF="loaded",vG=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=c=>{const f=new Promise((m,b)=>{const x=wU(c,b);this.destroyed&&b(new me("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(m,b).finally(()=>{x&&x.remove()})});if(this.loadStatus===loe){this._set("loadStatus",uoe);const m=this._loadController=new AbortController;s({signal:m.signal})}return r(),f}})),this.when(()=>{this._set("loadStatus",WF),this._loadController=null},r=>{this._set("loadStatus",coe),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Ud(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===WF}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new me("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return g([S({readOnly:!0})],t.prototype,"loaded",null),g([S({readOnly:!0})],t.prototype,"loadError",void 0),g([S({clonable:!1})],t.prototype,"loadStatus",void 0),g([S({type:[xu],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([Q("esri.core.Loadable")],t),t};let iv=class extends vG(NE){};iv=g([Q("esri.core.Loadable")],iv),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=vG,e.isLoadable=t}(iv||(iv={}));const Ma=iv;function hoe(e,t,i){return qk(e.map((r,s)=>t.apply(i,[r,s])))}async function doe(e,t,i){return(await qk(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function d8(e){return{ok:!0,value:e}}function p8(e){return{ok:!1,error:e}}function poe(e){return e!=null&&e.ok===!0?e.value:null}function foe(e){return e!=null&&e.ok===!1?e.error:null}async function f8(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return d8(await e)}catch(t){return p8(t)}}async function yoe(e){try{return d8(await e)}catch(t){return pu(t),p8(t)}}function N8e(e){if(e.ok===!0)return e.value;throw e.error}function y8(e,t){return new jh(e,t)}let jh=class extends ht{get value(){return poe(this._result)}get error(){return foe(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Ud(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=d8(s),this._cleanup()},s=>{this._result=p8(s),this._cleanup()}),this._abortHandle=Bc(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=ks(this._abortHandle),this._abortController=null}};g([S()],jh.prototype,"value",null),g([S()],jh.prototype,"error",null),g([S()],jh.prototype,"finished",null),g([S()],jh.prototype,"promise",void 0),g([S()],jh.prototype,"_result",void 0),jh=g([Q("esri.core.asyncUtils.ReactiveTask")],jh);async function m8(e,t){return await e.load(),moe(e,t)}async function moe(e,t){const i=[],r=(...c)=>{for(const f of c)f!=null&&(Array.isArray(f)?r(...f):it.isCollection(f)?f.forEach(m=>r(m)):Ma.isLoadable(f)&&i.push(f))};t(r);let s=null;if(await doe(i,async c=>{const f=await f8(goe(c)?c.loadAll():c.load());f.ok!==!1||s||(s=f)}),s)throw s.error;return e}function goe(e){return"loadAll"in e&&typeof e.loadAll=="function"}function De(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(c,f)=>{const m=c.constructor.prototype;for(const b of r){const x=FU(c,b,s);x.write&&typeof x.write=="object"||(x.write={}),i&&(x.write.target=i),x.write.writer=m[f]}}}let At=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,c)=>{const f=this.toJSON(r);f!==void 0&&un(c,f,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const i={};for(const r in t)i[t[r]]=r;return i}_getKeysSorted(t){const i=[];for(const r in t)i.push(r);return i.sort(),i}};function kn(){return function(e,t){return new At(e,{ignoreUnknown:!0,...t})}}let g8=class{constructor(t,i,r,s){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r;const c=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*c,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const pr=new g8(6378137,1/298.257223563,3e5,.006694379990137799),bu=new g8(3396190,1/169.8944472236118,23e4),Qd=new g8(1737400,0,0);function z8e(e,t){return Ut(ei(e),t)}function ei(e){if(!ai.assetsPath)throw ke.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new me("assets:path-not-set","config.assetsPath is not set");return Ky(ai.assetsPath,e)}let F6,ve=null;function bG(){return!!ve}function voe(){return!!Ee("esri-wasm")}function wG(){return F6||(F6=te(()=>import("./pe-wasm-DFHx6DUd.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:t=>ei(`esri/geometry/support/${t}`)})).then(e=>{SG(e)}),F6)}var jE,er,DE;(function(e){function t(c,f,m){ve.ensureCache.prepare();const b=Pf(m),x=m===b,T=ve.ensureFloat64(b),C=ve._pe_geog_to_proj(ve.getPointer(c),f,T);return C&&xd(m,f,T,x),C}function i(c,f,m,b){switch(b){case er.PE_TRANSFORM_P_TO_G:return r(c,f,m);case er.PE_TRANSFORM_G_TO_P:return t(c,f,m)}return 0}function r(c,f,m){return s(c,f,m,0)}function s(c,f,m,b){ve.ensureCache.prepare();const x=Pf(m),T=m===x,C=ve.ensureFloat64(x),L=ve._pe_proj_to_geog_center(ve.getPointer(c),f,C,b);return L&&xd(m,f,C,T),L}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(jE||(jE={})),function(e){function t(){e.PE_BUFFER_MAX=ve.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=ve.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=ve.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=ve.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=ve.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=ve.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=ve.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=ve.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=ve.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=ve.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=ve.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=ve.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=ve.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=ve.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=ve.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=ve.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=ve.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=ve.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=ve.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=ve.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=ve.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=ve.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=ve.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=ve.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=ve.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=ve.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=ve.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=ve.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=ve.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=ve.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=ve.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=ve.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(er||(er={})),function(e){const t={},i={},r=N=>{if(N){const D=N.getType();switch(D){case er.PE_TYPE_GEOGCS:N=ve.castObject(N,ve.PeGeogcs);break;case er.PE_TYPE_PROJCS:N=ve.castObject(N,ve.PeProjcs);break;case er.PE_TYPE_GEOGTRAN:N=ve.castObject(N,ve.PeGeogtran);break;default:D&er.PE_TYPE_UNIT&&(N=ve.castObject(N,ve.PeUnit))}}return N};function s(){ve.PeFactory.prototype.initialize(null)}function c(N){return f(er.PE_TYPE_COORDSYS,N)}function f(N,D){let G=null,q=t[N];if(q||(q={},t[N]=q),q.hasOwnProperty(String(D)))G=q[D];else{const J=ve.PeFactory.prototype.factoryByType(N,D);ve.compare(J,ve.NULL)||(G=J,q[D]=G)}return G=r(G),G}function m(N,D){let G=null,q=i[N];if(q||(q={},i[N]=q),q.hasOwnProperty(D))G=q[D];else{const J=ve.PeFactory.prototype.fromString(N,D);ve.compare(J,ve.NULL)||(G=J,q[D]=G)}return G=r(G),G}function b(N){return f(er.PE_TYPE_GEOGCS,N)}function x(N){return f(er.PE_TYPE_GEOGTRAN,N)}function T(N){return ve.PeFactory.prototype.getCode(N)}function C(N){return f(er.PE_TYPE_PROJCS,N)}function L(N){return f(er.PE_TYPE_UNIT,N)}e.initialize=s,e.coordsys=c,e.factoryByType=f,e.fromString=m,e.geogcs=b,e.geogtran=x,e.getCode=T,e.projcs=C,e.unit=L}(DE||(DE={}));let _G=null;var u4,VE,zE,UE,c4,GE,h4,d4,WE;function SG(e){function t(c,f,m){c[f]=m(c[f])}ve=e,er.init(),u4.init(),c4.init(),h4.init(),d4.init(),_G=class extends ve.PeGCSExtent{destroy(){ve.destroy(this)}};const i=[ve.PeDatum,ve.PeGeogcs,ve.PeGeogtran,ve.PeObject,ve.PeParameter,ve.PePrimem,ve.PeProjcs,ve.PeSpheroid,ve.PeUnit];for(const c of i)t(c.prototype,"getName",f=>function(){return f.call(this,new Array(er.PE_NAME_MAX))});for(const c of[ve.PeGeogtran,ve.PeProjcs])t(c.prototype,"getParameters",f=>function(){const m=new Array(er.PE_PARM_MAX);let b=f.call(this);for(let x=0;x<m.length;x++){const T=ve.getValue(b,"*");m[x]=T?ve.wrapPointer(T,ve.PeParameter):null,b+=Int32Array.BYTES_PER_ELEMENT}return m});t(ve.PeHorizon.prototype,"getCoord",c=>function(){const f=this.getSize();if(!f)return null;const m=[];return xd(m,f,c.call(this)),m}),t(ve.PeGTlistExtendedEntry.prototype,"getEntries",c=>{const f=ve._pe_getPeGTlistExtendedGTsSize();return function(){let m=null;const b=c.call(this);if(!ve.compare(b,ve.NULL)){m=[b];const x=this.getSteps();if(x>1){const T=ve.getPointer(b);for(let C=1;C<x;C++)m.push(ve.wrapPointer(T+f*C,ve.PeGTlistExtendedGTs))}}return m}});const r=ve._pe_getPeHorizonSize(),s=c=>function(){let f=this._cache;if(f||(f=new Map,this._cache=f),f.has(c))return f.get(c);let m=null;const b=c.call(this);if(!ve.compare(b,ve.NULL)){m=[b];const x=b.getNump();if(x>1){const T=ve.getPointer(b);for(let C=1;C<x;C++)m.push(ve.wrapPointer(T+r*C,ve.PeHorizon))}}return f.set(c,m),m};t(ve.PeProjcs.prototype,"horizonGcsGenerate",s),t(ve.PeProjcs.prototype,"horizonPcsGenerate",s),ve.PeObject.prototype.toString=function(c=er.PE_STR_OPTS_NONE){ve.ensureCache.prepare();const f=ve.getPointer(this),m=ve.ensureInt8(new Array(er.PE_BUFFER_MAX));return ve.UTF8ToString(ve._pe_object_to_string_ext(f,c,m))}}function Ju(e){if(!e)return;const t=ve.getClass(e);if(!t)return;const i=ve.getCache(t);if(!i)return;const r=ve.getPointer(e);r&&delete i[r]}function n3(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(ve.ensureInt8(r));return i}function Pf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(i=>{t.push(i[0],i[1])})):t=e,t}function xd(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=ve.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let c=0;c<t;c++)s&&(e[c]=new Array(2)),e[c][0]=ve.getValue(i,"double"),e[c][1]=ve.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=ve.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=ve._pe_getPeGTlistExtendedEntrySize()}function r(s,c,f,m,b,x){let T=null;const C=new ve.PeInteger(x);try{const L=ve.PeGTlistExtended.prototype.getGTlist(s,c,f,m,b,C);if((x=C.val)&&(T=[L],x>1)){const N=ve.getPointer(L);for(let D=1;D<x;D++)T.push(ve.wrapPointer(N+t*D,ve.PeGTlistExtendedEntry))}}finally{ve.destroy(C)}return T}e.init=i,e.getGTlist=r})(u4||(u4={})),function(e){function t(i){if(i!=null&&i.length){for(const r of i)Ju(r),r.getEntries().forEach(s=>{Ju(s);const c=s.getGeogtran();Ju(c),c.getParameters().forEach(Ju),[c.getGeogcs1(),c.getGeogcs2()].forEach(f=>{Ju(f);const m=f.getDatum();Ju(m),Ju(m.getSpheroid()),Ju(f.getPrimem()),Ju(f.getUnit())})});ve.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(VE||(VE={})),function(e){function t(i,r,s,c,f){ve.ensureCache.prepare();const m=Pf(s),b=s===m,x=ve.ensureFloat64(m);let T=0;c&&(T=ve.ensureFloat64(c));const C=ve._pe_geog_to_geog(ve.getPointer(i),r,x,T,f);return C&&xd(s,r,x,b),C}e.geogToGeog=t}(zE||(zE={})),function(e){const t=(x,T,C,L,N,D)=>{let G,q;switch(ve.ensureCache.prepare(),x){case"dd":G=ve._pe_geog_to_dd,q=er.PE_DD_MAX;break;case"ddm":G=ve._pe_geog_to_ddm,q=er.PE_DDM_MAX;break;case"dms":G=ve._pe_geog_to_dms,q=er.PE_DMS_MAX}let J=0;T&&(J=ve.getPointer(T));const ne=Pf(L),ue=ve.ensureFloat64(ne),ae=n3(C,q),pe=G(J,C,ue,N,ve.ensureInt32(ae));if(pe)for(let ge=0;ge<C;ge++)D[ge]=ve.UTF8ToString(ae[ge]);return pe},i=(x,T,C,L,N)=>{let D;switch(ve.ensureCache.prepare(),x){case"dd":D=ve._pe_dd_to_geog;break;case"ddm":D=ve._pe_ddm_to_geog;break;case"dms":D=ve._pe_dms_to_geog}let G=0;T&&(G=ve.getPointer(T));const q=L.map(ae=>ve.ensureString(ae)),J=ve.ensureInt32(q),ne=ve.ensureFloat64(new Array(2*C)),ue=D(G,C,J,ne);return ue&&xd(N,C,ne),ue};function r(x,T,C,L,N){return t("dms",x,T,C,L,N)}function s(x,T,C,L){return i("dms",x,T,C,L)}function c(x,T,C,L,N){return t("ddm",x,T,C,L,N)}function f(x,T,C,L){return i("ddm",x,T,C,L)}function m(x,T,C,L,N){return t("dd",x,T,C,L,N)}function b(x,T,C,L){return i("dd",x,T,C,L)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=c,e.ddmToGeog=f,e.geogToDd=m,e.ddToGeog=b}(UE||(UE={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=ve.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=ve.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=ve.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=ve.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=ve.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,c,f,m,b,x,T){ve.ensureCache.prepare();let C=0;s&&(C=ve.getPointer(s));const L=Pf(f),N=ve.ensureFloat64(L),D=n3(c,er.PE_MGRS_MAX),G=ve.ensureInt32(D),q=ve._pe_geog_to_mgrs_extended(C,c,N,m,b,x,G);if(q)for(let J=0;J<c;J++)T[J]=ve.UTF8ToString(D[J]);return q}function r(s,c,f,m,b){ve.ensureCache.prepare();let x=0;s&&(x=ve.getPointer(s));const T=f.map(D=>ve.ensureString(D)),C=ve.ensureInt32(T),L=ve.ensureFloat64(new Array(2*c)),N=ve._pe_mgrs_to_geog_extended(x,c,C,m,L);return N&&xd(b,c,L),N}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(c4||(c4={})),function(e){function t(r,s,c,f,m,b,x){ve.ensureCache.prepare();let T=0;r&&(T=ve.getPointer(r));const C=Pf(c),L=ve.ensureFloat64(C),N=n3(s,er.PE_MGRS_MAX),D=ve.ensureInt32(N),G=ve._pe_geog_to_usng(T,s,L,f,m,b,D);if(G)for(let q=0;q<s;q++)x[q]=ve.UTF8ToString(N[q]);return G}function i(r,s,c,f){ve.ensureCache.prepare();let m=0;r&&(m=ve.getPointer(r));const b=c.map(L=>ve.ensureString(L)),x=ve.ensureInt32(b),T=ve.ensureFloat64(new Array(2*s)),C=ve._pe_usng_to_geog(m,s,x,T);return C&&xd(f,s,T),C}e.geogToUsng=t,e.usngToGeog=i}(GE||(GE={})),function(e){function t(){e.PE_UTM_OPTS_NONE=ve.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=ve.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=ve.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,c,f,m,b){ve.ensureCache.prepare();let x=0;s&&(x=ve.getPointer(s));const T=Pf(f),C=ve.ensureFloat64(T),L=n3(c,er.PE_UTM_MAX),N=ve.ensureInt32(L),D=ve._pe_geog_to_utm(x,c,C,m,N);if(D)for(let G=0;G<c;G++)b[G]=ve.UTF8ToString(L[G]);return D}function r(s,c,f,m,b){ve.ensureCache.prepare();let x=0;s&&(x=ve.getPointer(s));const T=f.map(D=>ve.ensureString(D)),C=ve.ensureInt32(T),L=ve.ensureFloat64(new Array(2*c)),N=ve._pe_utm_to_geog(x,c,C,m,L);return N&&xd(b,c,L),N}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(h4||(h4={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=ve.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=ve.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=ve.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=ve.PePCSInfo.prototype.PE_POLE_POINT}function r(s,c=e.PE_PCSINFO_OPTION_DOMAIN){let f=null,m=null;return t.has(s)&&(m=t.get(s),m[c]&&(f=m[c])),f||(f=ve.PePCSInfo.prototype.generate(s,c),m||(m=[],t.set(s,m)),m[c]=f),f}e.init=i,e.generate=r}(d4||(d4={})),function(e){function t(){return ve.PeVersion.prototype.version_string()}e.versionString=t}(WE||(WE={}));const boe=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return jE},get PeDefs(){return er},get PeFactory(){return DE},get PeGCSExtent(){return _G},get PeGTTransformations(){return zE},get PeGTlistExtended(){return u4},get PeGTlistExtendedEntry(){return VE},get PeNotationDms(){return UE},get PeNotationMgrs(){return c4},get PeNotationUsng(){return GE},get PeNotationUtm(){return h4},get PePCSInfo(){return d4},get PeVersion(){return WE},_init:SG,get _pe(){return ve},isLoaded:bG,isSupported:voe,load:wG},Symbol.toStringTag,{value:"Module"}));var c0;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(c0||(c0={}));let M;const K={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(M=2e3;M<=2045;M++)K[M]=0;for(M=2056;M<=2065;M++)K[M]=0;for(M=2067;M<=2135;M++)K[M]=0;for(M=2137;M<=2154;M++)K[M]=0;for(M=2161;M<=2170;M++)K[M]=0;for(M=2172;M<=2193;M++)K[M]=0;for(M=2195;M<=2198;M++)K[M]=0;for(M=2200;M<=2203;M++)K[M]=0;for(M=2205;M<=2217;M++)K[M]=0;for(M=2222;M<=2224;M++)K[M]=1;for(M=2225;M<=2250;M++)K[M]=2;for(M=2251;M<=2253;M++)K[M]=1;for(M=2257;M<=2264;M++)K[M]=2;for(M=2274;M<=2279;M++)K[M]=2;for(M=2280;M<=2282;M++)K[M]=1;for(M=2283;M<=2289;M++)K[M]=2;for(M=2290;M<=2292;M++)K[M]=0;for(M=2308;M<=2313;M++)K[M]=0;for(M=2315;M<=2491;M++)K[M]=0;for(M=2494;M<=2866;M++)K[M]=0;for(M=2867;M<=2869;M++)K[M]=1;for(M=2870;M<=2888;M++)K[M]=2;for(M=2891;M<=2895;M++)K[M]=2;for(M=2896;M<=2898;M++)K[M]=1;for(M=2902;M<=2908;M++)K[M]=2;for(M=2915;M<=2920;M++)K[M]=2;for(M=2921;M<=2923;M++)K[M]=1;for(M=2924;M<=2930;M++)K[M]=2;for(M=2931;M<=2962;M++)K[M]=0;for(M=2964;M<=2968;M++)K[M]=2;for(M=2969;M<=2973;M++)K[M]=0;for(M=2975;M<=2991;M++)K[M]=0;for(M=2995;M<=3051;M++)K[M]=0;for(M=3054;M<=3079;M++)K[M]=0;for(M=3081;M<=3088;M++)K[M]=0;for(M=3092;M<=3101;M++)K[M]=0;for(M=3106;M<=3138;M++)K[M]=0;for(M=3146;M<=3151;M++)K[M]=0;for(M=3153;M<=3166;M++)K[M]=0;for(M=3168;M<=3172;M++)K[M]=0;for(M=3174;M<=3203;M++)K[M]=0;for(M=3294;M<=3358;M++)K[M]=0;for(M=3367;M<=3403;M++)K[M]=0;for(M=3408;M<=3416;M++)K[M]=0;for(M=3417;M<=3438;M++)K[M]=2;for(M=3441;M<=3446;M++)K[M]=2;for(M=3447;M<=3450;M++)K[M]=0;for(M=3451;M<=3459;M++)K[M]=2;for(M=3460;M<=3478;M++)K[M]=0;for(M=3554;M<=3559;M++)K[M]=0;for(M=3560;M<=3570;M++)K[M]=2;for(M=3571;M<=3581;M++)K[M]=0;for(M=3594;M<=3597;M++)K[M]=0;for(M=3601;M<=3604;M++)K[M]=0;for(M=3637;M<=3639;M++)K[M]=0;for(M=3665;M<=3667;M++)K[M]=0;for(M=3693;M<=3695;M++)K[M]=0;for(M=3701;M<=3727;M++)K[M]=0;for(M=3728;M<=3739;M++)K[M]=2;for(M=3740;M<=3751;M++)K[M]=0;for(M=3753;M<=3760;M++)K[M]=2;for(M=3761;M<=3773;M++)K[M]=0;for(M=3775;M<=3777;M++)K[M]=0;for(M=3779;M<=3781;M++)K[M]=0;for(M=3783;M<=3785;M++)K[M]=0;for(M=3788;M<=3791;M++)K[M]=0;for(M=3797;M<=3802;M++)K[M]=0;for(M=3814;M<=3816;M++)K[M]=0;for(M=3825;M<=3829;M++)K[M]=0;for(M=3832;M<=3841;M++)K[M]=0;for(M=3844;M<=3852;M++)K[M]=0;for(M=3873;M<=3885;M++)K[M]=0;for(M=3890;M<=3893;M++)K[M]=0;for(M=3907;M<=3912;M++)K[M]=0;for(M=3942;M<=3950;M++)K[M]=0;for(M=3968;M<=3970;M++)K[M]=0;for(M=3973;M<=3976;M++)K[M]=0;for(M=3986;M<=3989;M++)K[M]=0;for(M=3994;M<=3997;M++)K[M]=0;for(M=4048;M<=4051;M++)K[M]=0;for(M=4056;M<=4063;M++)K[M]=0;for(M=4093;M<=4096;M++)K[M]=0;for(M=4390;M<=4398;M++)K[M]=0;for(M=4399;M<=4413;M++)K[M]=2;for(M=4418;M<=4433;M++)K[M]=2;for(M=4455;M<=4457;M++)K[M]=2;for(M=4484;M<=4489;M++)K[M]=0;for(M=4491;M<=4554;M++)K[M]=0;for(M=4568;M<=4589;M++)K[M]=0;for(M=4652;M<=4656;M++)K[M]=0;for(M=4766;M<=4800;M++)K[M]=0;for(M=5014;M<=5016;M++)K[M]=0;for(M=5069;M<=5072;M++)K[M]=0;for(M=5105;M<=5130;M++)K[M]=0;for(M=5167;M<=5188;M++)K[M]=0;for(M=5253;M<=5259;M++)K[M]=0;for(M=5269;M<=5275;M++)K[M]=0;for(M=5292;M<=5311;M++)K[M]=0;for(M=5329;M<=5331;M++)K[M]=0;for(M=5343;M<=5349;M++)K[M]=0;for(M=5355;M<=5357;M++)K[M]=0;for(M=5387;M<=5389;M++)K[M]=0;for(M=5459;M<=5463;M++)K[M]=0;for(M=5479;M<=5482;M++)K[M]=0;for(M=5518;M<=5520;M++)K[M]=0;for(M=5530;M<=5539;M++)K[M]=0;for(M=5550;M<=5552;M++)K[M]=0;for(M=5562;M<=5583;M++)K[M]=0;for(M=5623;M<=5625;M++)K[M]=2;for(M=5631;M<=5639;M++)K[M]=0;for(M=5649;M<=5653;M++)K[M]=0;for(M=5663;M<=5680;M++)K[M]=0;for(M=5682;M<=5685;M++)K[M]=0;for(M=5875;M<=5877;M++)K[M]=0;for(M=5896;M<=5899;M++)K[M]=0;for(M=5921;M<=5940;M++)K[M]=0;for(M=6050;M<=6125;M++)K[M]=0;for(M=6244;M<=6275;M++)K[M]=0;for(M=6328;M<=6348;M++)K[M]=0;for(M=6350;M<=6356;M++)K[M]=0;for(M=6366;M<=6372;M++)K[M]=0;for(M=6381;M<=6387;M++)K[M]=0;for(M=6393;M<=6404;M++)K[M]=0;for(M=6480;M<=6483;M++)K[M]=0;for(M=6511;M<=6514;M++)K[M]=0;for(M=6579;M<=6581;M++)K[M]=0;for(M=6619;M<=6624;M++)K[M]=0;for(M=6625;M<=6627;M++)K[M]=2;for(M=6628;M<=6632;M++)K[M]=0;for(M=6634;M<=6637;M++)K[M]=0;for(M=6669;M<=6692;M++)K[M]=0;for(M=6707;M<=6709;M++)K[M]=0;for(M=6720;M<=6723;M++)K[M]=0;for(M=6732;M<=6738;M++)K[M]=0;for(M=6931;M<=6933;M++)K[M]=0;for(M=6956;M<=6959;M++)K[M]=0;for(M=7005;M<=7007;M++)K[M]=0;for(M=7057;M<=7070;M++)K[M]=2;for(M=7074;M<=7082;M++)K[M]=0;for(M=7109;M<=7118;M++)K[M]=0;for(M=7119;M<=7127;M++)K[M]=1;for(M=7374;M<=7376;M++)K[M]=0;for(M=7528;M<=7586;M++)K[M]=0;for(M=7587;M<=7645;M++)K[M]=2;for(M=7692;M<=7696;M++)K[M]=0;for(M=7755;M<=7787;M++)K[M]=0;for(M=7791;M<=7795;M++)K[M]=0;for(M=7799;M<=7801;M++)K[M]=0;for(M=7803;M<=7805;M++)K[M]=0;for(M=7825;M<=7831;M++)K[M]=0;for(M=7845;M<=7859;M++)K[M]=0;for(M=8013;M<=8032;M++)K[M]=0;for(M=8065;M<=8068;M++)K[M]=1;for(M=8518;M<=8529;M++)K[M]=2;for(M=8533;M<=8536;M++)K[M]=2;for(M=8538;M<=8540;M++)K[M]=2;for(M=8677;M<=8679;M++)K[M]=0;for(M=8836;M<=8840;M++)K[M]=0;for(M=8857;M<=8859;M++)K[M]=0;for(M=8908;M<=8910;M++)K[M]=0;for(M=9154;M<=9159;M++)K[M]=0;for(M=9205;M<=9218;M++)K[M]=0;for(M=9271;M<=9273;M++)K[M]=0;for(M=9295;M<=9297;M++)K[M]=0;for(M=9356;M<=9360;M++)K[M]=0;for(M=9404;M<=9407;M++)K[M]=0;for(M=9476;M<=9482;M++)K[M]=0;for(M=9487;M<=9494;M++)K[M]=0;for(M=9697;M<=9699;M++)K[M]=0;for(M=9821;M<=9865;M++)K[M]=0;for(M=10285;M<=10291;M++)K[M]=0;for(M=10314;M<=10317;M++)K[M]=0;for(M=10448;M<=10465;M++)K[M]=0;for(M=11114;M<=11118;M++)K[M]=0;for(M=20004;M<=20032;M++)K[M]=0;for(M=20047;M<=20049;M++)K[M]=0;for(M=20062;M<=20092;M++)K[M]=0;for(M=20135;M<=20138;M++)K[M]=0;for(M=20248;M<=20258;M++)K[M]=0;for(M=20348;M<=20358;M++)K[M]=0;for(M=20436;M<=20440;M++)K[M]=0;for(M=20822;M<=20824;M++)K[M]=0;for(M=20904;M<=20932;M++)K[M]=0;for(M=20934;M<=20936;M++)K[M]=0;for(M=21004;M<=21032;M++)K[M]=0;for(M=21035;M<=21037;M++)K[M]=0;for(M=21095;M<=21097;M++)K[M]=0;for(M=21148;M<=21150;M++)K[M]=0;for(M=21207;M<=21264;M++)K[M]=0;for(M=21307;M<=21364;M++)K[M]=0;for(M=21413;M<=21423;M++)K[M]=0;for(M=21453;M<=21463;M++)K[M]=0;for(M=21473;M<=21483;M++)K[M]=0;for(M=21780;M<=21782;M++)K[M]=0;for(M=21891;M<=21894;M++)K[M]=0;for(M=21896;M<=21899;M++)K[M]=0;for(M=22171;M<=22177;M++)K[M]=0;for(M=22181;M<=22187;M++)K[M]=0;for(M=22191;M<=22197;M++)K[M]=0;for(M=22207;M<=22222;M++)K[M]=0;for(M=22229;M<=22232;M++)K[M]=0;for(M=22234;M<=22236;M++)K[M]=0;for(M=22243;M<=22250;M++)K[M]=0;for(M=22262;M<=22265;M++)K[M]=0;for(M=22307;M<=22322;M++)K[M]=0;for(M=22348;M<=22357;M++)K[M]=0;for(M=22407;M<=22422;M++)K[M]=0;for(M=22462;M<=22465;M++)K[M]=0;for(M=22521;M<=22525;M++)K[M]=0;for(M=22607;M<=22622;M++)K[M]=0;for(M=22641;M<=22646;M++)K[M]=0;for(M=22648;M<=22657;M++)K[M]=0;for(M=22707;M<=22722;M++)K[M]=0;for(M=22762;M<=22765;M++)K[M]=0;for(M=22807;M<=22822;M++)K[M]=0;for(M=22991;M<=22994;M++)K[M]=0;for(M=23028;M<=23038;M++)K[M]=0;for(M=23301;M<=23333;M++)K[M]=2;for(M=23830;M<=23853;M++)K[M]=0;for(M=23866;M<=23872;M++)K[M]=0;for(M=23877;M<=23884;M++)K[M]=0;for(M=23886;M<=23894;M++)K[M]=0;for(M=23946;M<=23948;M++)K[M]=0;for(M=24311;M<=24313;M++)K[M]=0;for(M=24342;M<=24347;M++)K[M]=0;for(M=24370;M<=24374;M++)K[M]=10;for(M=24375;M<=24381;M++)K[M]=0;for(M=24718;M<=24721;M++)K[M]=0;for(M=24817;M<=24821;M++)K[M]=0;for(M=24877;M<=24882;M++)K[M]=0;for(M=24891;M<=24893;M++)K[M]=0;for(M=25391;M<=25395;M++)K[M]=0;for(M=25828;M<=25838;M++)K[M]=0;for(M=26191;M<=26195;M++)K[M]=0;for(M=26391;M<=26393;M++)K[M]=0;for(M=26701;M<=26722;M++)K[M]=0;for(M=26729;M<=26799;M++)K[M]=2;for(M=26801;M<=26803;M++)K[M]=2;for(M=26811;M<=26813;M++)K[M]=2;for(M=26847;M<=26870;M++)K[M]=2;for(M=26891;M<=26899;M++)K[M]=0;for(M=26901;M<=26923;M++)K[M]=0;for(M=26929;M<=26946;M++)K[M]=0;for(M=26948;M<=26998;M++)K[M]=0;for(M=27037;M<=27040;M++)K[M]=0;for(M=27205;M<=27232;M++)K[M]=0;for(M=27258;M<=27260;M++)K[M]=0;for(M=27391;M<=27398;M++)K[M]=0;for(M=27561;M<=27564;M++)K[M]=0;for(M=27571;M<=27574;M++)K[M]=0;for(M=27581;M<=27584;M++)K[M]=0;for(M=27591;M<=27594;M++)K[M]=0;for(M=28191;M<=28193;M++)K[M]=0;for(M=28348;M<=28358;M++)K[M]=0;for(M=28402;M<=28432;M++)K[M]=0;for(M=28462;M<=28492;M++)K[M]=0;for(M=29118;M<=29122;M++)K[M]=0;for(M=29168;M<=29172;M++)K[M]=0;for(M=29177;M<=29185;M++)K[M]=0;for(M=29187;M<=29195;M++)K[M]=0;for(M=29900;M<=29903;M++)K[M]=0;for(M=30161;M<=30179;M++)K[M]=0;for(M=30491;M<=30494;M++)K[M]=0;for(M=30729;M<=30732;M++)K[M]=0;for(M=31251;M<=31259;M++)K[M]=0;for(M=31265;M<=31268;M++)K[M]=0;for(M=31275;M<=31279;M++)K[M]=0;for(M=31281;M<=31297;M++)K[M]=0;for(M=31461;M<=31469;M++)K[M]=0;for(M=31491;M<=31495;M++)K[M]=0;for(M=31917;M<=31922;M++)K[M]=0;for(M=31965;M<=32e3;M++)K[M]=0;for(M=32001;M<=32003;M++)K[M]=2;for(M=32005;M<=32031;M++)K[M]=2;for(M=32033;M<=32060;M++)K[M]=2;for(M=32064;M<=32067;M++)K[M]=2;for(M=32074;M<=32077;M++)K[M]=2;for(M=32081;M<=32086;M++)K[M]=0;for(M=32107;M<=32130;M++)K[M]=0;for(M=32133;M<=32159;M++)K[M]=0;for(M=32164;M<=32167;M++)K[M]=2;for(M=32180;M<=32199;M++)K[M]=0;for(M=32201;M<=32260;M++)K[M]=0;for(M=32301;M<=32360;M++)K[M]=0;for(M=32401;M<=32460;M++)K[M]=0;for(M=32501;M<=32560;M++)K[M]=0;for(M=32601;M<=32662;M++)K[M]=0;for(M=32664;M<=32667;M++)K[M]=2;for(M=32701;M<=32761;M++)K[M]=0;for(M=53001;M<=53004;M++)K[M]=0;for(M=53008;M<=53019;M++)K[M]=0;for(M=53021;M<=53032;M++)K[M]=0;for(M=53034;M<=53037;M++)K[M]=0;for(M=53042;M<=53046;M++)K[M]=0;for(M=53074;M<=53080;M++)K[M]=0;for(M=54001;M<=54004;M++)K[M]=0;for(M=54008;M<=54019;M++)K[M]=0;for(M=54021;M<=54032;M++)K[M]=0;for(M=54034;M<=54037;M++)K[M]=0;for(M=54042;M<=54046;M++)K[M]=0;for(M=54048;M<=54053;M++)K[M]=0;for(M=54074;M<=54080;M++)K[M]=0;for(M=54098;M<=54101;M++)K[M]=0;for(M=102001;M<=102040;M++)K[M]=0;for(M=102042;M<=102063;M++)K[M]=0;for(M=102065;M<=102067;M++)K[M]=0;for(M=102070;M<=102117;M++)K[M]=0;for(M=102122;M<=102216;M++)K[M]=0;for(M=102221;M<=102377;M++)K[M]=0;for(M=102382;M<=102388;M++)K[M]=0;for(M=102389;M<=102398;M++)K[M]=2;for(M=102399;M<=102444;M++)K[M]=0;for(M=102445;M<=102447;M++)K[M]=2;for(M=102448;M<=102458;M++)K[M]=0;for(M=102459;M<=102468;M++)K[M]=2;for(M=102469;M<=102499;M++)K[M]=0;for(M=102500;M<=102519;M++)K[M]=1;for(M=102520;M<=102524;M++)K[M]=0;for(M=102525;M<=102529;M++)K[M]=2;for(M=102530;M<=102588;M++)K[M]=0;for(M=102590;M<=102598;M++)K[M]=0;for(M=102601;M<=102603;M++)K[M]=0;for(M=102605;M<=102628;M++)K[M]=0;for(M=102629;M<=102646;M++)K[M]=2;for(M=102648;M<=102700;M++)K[M]=2;for(M=102701;M<=102703;M++)K[M]=0;for(M=102707;M<=102730;M++)K[M]=2;for(M=102733;M<=102758;M++)K[M]=2;for(M=102767;M<=102900;M++)K[M]=0;for(M=102901;M<=102933;M++)K[M]=2;for(M=102934;M<=102950;M++)K[M]=13;for(M=102951;M<=102955;M++)K[M]=0;for(M=102961;M<=102963;M++)K[M]=0;for(M=102965;M<=102969;M++)K[M]=0;for(M=102971;M<=102973;M++)K[M]=0;for(M=102975;M<=102989;M++)K[M]=0;for(M=102990;M<=102992;M++)K[M]=1;for(M=102997;M<=103002;M++)K[M]=0;for(M=103003;M<=103008;M++)K[M]=2;for(M=103009;M<=103011;M++)K[M]=0;for(M=103012;M<=103014;M++)K[M]=2;for(M=103019;M<=103021;M++)K[M]=0;for(M=103022;M<=103024;M++)K[M]=2;for(M=103029;M<=103031;M++)K[M]=0;for(M=103032;M<=103034;M++)K[M]=2;for(M=103065;M<=103068;M++)K[M]=0;for(M=103074;M<=103076;M++)K[M]=0;for(M=103077;M<=103079;M++)K[M]=1;for(M=103080;M<=103082;M++)K[M]=0;for(M=103083;M<=103085;M++)K[M]=2;for(M=103090;M<=103093;M++)K[M]=0;for(M=103097;M<=103099;M++)K[M]=0;for(M=103100;M<=103102;M++)K[M]=2;for(M=103107;M<=103109;M++)K[M]=0;for(M=103110;M<=103112;M++)K[M]=2;for(M=103113;M<=103116;M++)K[M]=0;for(M=103117;M<=103120;M++)K[M]=2;for(M=103153;M<=103157;M++)K[M]=0;for(M=103158;M<=103162;M++)K[M]=2;for(M=103163;M<=103165;M++)K[M]=0;for(M=103166;M<=103168;M++)K[M]=1;for(M=103169;M<=103171;M++)K[M]=2;for(M=103186;M<=103188;M++)K[M]=0;for(M=103189;M<=103191;M++)K[M]=2;for(M=103192;M<=103195;M++)K[M]=0;for(M=103196;M<=103199;M++)K[M]=2;for(M=103200;M<=103224;M++)K[M]=0;for(M=103225;M<=103227;M++)K[M]=1;for(M=103232;M<=103237;M++)K[M]=0;for(M=103238;M<=103243;M++)K[M]=2;for(M=103244;M<=103246;M++)K[M]=0;for(M=103247;M<=103249;M++)K[M]=2;for(M=103254;M<=103256;M++)K[M]=0;for(M=103257;M<=103259;M++)K[M]=2;for(M=103264;M<=103266;M++)K[M]=0;for(M=103267;M<=103269;M++)K[M]=2;for(M=103300;M<=103375;M++)K[M]=0;for(M=103381;M<=103383;M++)K[M]=0;for(M=103384;M<=103386;M++)K[M]=1;for(M=103387;M<=103389;M++)K[M]=0;for(M=103390;M<=103392;M++)K[M]=2;for(M=103397;M<=103399;M++)K[M]=0;for(M=103400;M<=103471;M++)K[M]=2;for(M=103476;M<=103478;M++)K[M]=0;for(M=103479;M<=103481;M++)K[M]=2;for(M=103486;M<=103488;M++)K[M]=0;for(M=103489;M<=103491;M++)K[M]=2;for(M=103492;M<=103495;M++)K[M]=0;for(M=103496;M<=103499;M++)K[M]=2;for(M=103528;M<=103543;M++)K[M]=0;for(M=103544;M<=103548;M++)K[M]=2;for(M=103549;M<=103551;M++)K[M]=0;for(M=103552;M<=103554;M++)K[M]=1;for(M=103555;M<=103557;M++)K[M]=2;for(M=103558;M<=103560;M++)K[M]=0;for(M=103571;M<=103573;M++)K[M]=0;for(M=103574;M<=103576;M++)K[M]=2;for(M=103577;M<=103580;M++)K[M]=0;for(M=103581;M<=103583;M++)K[M]=2;for(M=103595;M<=103694;M++)K[M]=0;for(M=103696;M<=103699;M++)K[M]=0;for(M=103700;M<=103793;M++)K[M]=2;for(M=103794;M<=103890;M++)K[M]=0;for(M=103891;M<=103896;M++)K[M]=2;for(M=103900;M<=103971;M++)K[M]=2;for(M=103972;M<=103977;M++)K[M]=0;for(M=112e3;M<=112101;M++)K[M]=0;const $G=[102100,102113,3857,3785],woe=[104905,104971],_oe=[4326,...$G,...woe],qF='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',s3=[-20037508342788905e-9,20037508342788905e-9],o3=[-20037508342787e-6,20037508342787e-6],xG={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:s3,origin:o3,dx:1e-5},102100:{wkTemplate:qF,valid:s3,origin:o3,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:s3,origin:o3,dx:1e-5},3857:{wkTemplate:qF,valid:s3,origin:o3,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function cn(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Tu(e)&&Tu(t))return!0;const f=e.latestWkid;if(f!=null&&r===f)return!0;const m=t.latestWkid;return m!=null&&i===m}let s,c;return e.wkt2&&t.wkt2?(s=e.wkt2,c=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,c=t.wkt),!(!s||!c)&&s.toUpperCase()===c.toUpperCase()}function rb(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&xG[t]||null}function BF(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function v2(e){if(!Cd(e))return!1;const{wkid:t}=e;if(t)return K[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Soe(e){return!(EG(e)||TG(e))}function Xy(e){return(e==null?void 0:e.wkid)===4326}function U8e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function G8e(e){return(e==null?void 0:e.wkid)===c0.CGCS2000}function Tu(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&$G.includes(t)}function $oe(e){return(e==null?void 0:e.wkid)===32662}function TS(e){return e===c0.GCSMARS2000||e===c0.GCSMARS2000_SPHERE}function EG(e){return TS(e==null?void 0:e.wkid)}function IS(e){return e===c0.GCSMOON2000}function TG(e){return IS(e==null?void 0:e.wkid)}function xoe(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&_oe.includes(t)}function Cd(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const IG={wkid:4326,wkt:El(xG[4326].wkTemplate,{Central_Meridian:"0.0"})},MG={wkid:102100,latestWkid:3857},Eoe={wkid:32662};function v8(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Toe=v8(pr),b8=v8(bu),w8=v8(Qd),Ioe={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${pr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Moe=b8.wkt.toUpperCase(),koe=w8.wkt.toUpperCase();function _8(e){if(e!=null&&Cd(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(TS(t))return bu;const r=i==null?void 0:i.toUpperCase();if(i&&r===Moe)return bu;if(IS(t)||r&&r===koe)return Qd}return pr}function W8e(e){return TS(e)?bu:IS(e)?Qd:pr}function p4(e){return cn(e,Toe)}function Xd(e){return p4(e)||cn(e,b8)||cn(e,w8)}const q8e=39.37,Coe=pr.radius*Math.PI/200,kG=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Xf=K,CG=/UNIT\[([^\]]+)]/i,Aoe=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Ooe=kn()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Pl=e=>e*e,kh=e=>e*e*e,zb={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Pl(.001)},"square-centimeters":{inBaseUnits:Pl(.01)},"square-decimeters":{inBaseUnits:Pl(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Pl(1e3)},"square-inches":{inBaseUnits:Pl(.0254)},"square-feet":{inBaseUnits:Pl(.3048)},"square-yards":{inBaseUnits:Pl(.9144)},"square-miles":{inBaseUnits:Pl(1609.344)},"square-us-feet":{inBaseUnits:Pl(1200/3937)},acres:{inBaseUnits:.0015625*Pl(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*kh(.001)},"cubic-centimeters":{inBaseUnits:1e3*kh(.01)},"cubic-decimeters":{inBaseUnits:1e3*kh(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*kh(1e3)},"cubic-inches":{inBaseUnits:1e3*kh(.0254)},"cubic-feet":{inBaseUnits:1e3*kh(.3048)},"cubic-yards":{inBaseUnits:1e3*kh(.9144)},"cubic-miles":{inBaseUnits:1e3*kh(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Loe=(()=>{const e={};for(const t in zb)for(const i in zb[t].units)e[i]=t;return e})();function Poe(e,t,i){return e*zb[i].units[t].inBaseUnits}function Foe(e,t,i){return e/zb[i].units[t].inBaseUnits}const B8e=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],AG=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],Roe=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function H8e(e){return e==="imperial"||e==="metric"}function h0(e){const t=Loe[e];if(!t)throw new Error("unknown type");return t}function HF(e,t=null){return t=t||h0(e),zb[t].baseUnit===e}function Jt(e,t,i){if(t===i)return e;const r=h0(t);if(r!==h0(i))throw new Error("incompatible units");const s=HF(t,r)?e:Poe(e,t,r);return HF(i,r)?s:Foe(s,i,r)}function Noe(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function J8e(e){return Noe(e)}function Z8e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function K8e(e,t,i){switch(i){case"metric":return S8(e,t);case"imperial":return x8(e,t);default:return i}}function Y8e(e,t,i){switch(i){case"metric":return $8(e,t);case"imperial":return E8(e,t);default:return i}}function S8(e,t){const i=Jt(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function $8(e,t){const i=Jt(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function x8(e,t){const i=Jt(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function E8(e,t){const i=Jt(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function joe(e,t){const i=Jt(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function Doe(e,t){const i=Jt(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function OG(e,t,i){return Jt(e,t,"meters")/(i*Math.PI/180)}function LG(e){return Ooe.fromJSON(e.toLowerCase())||null}function Ub(e){if(e!=null&&!Soe(e))return 1;const t=Hc(e);return t>1e5?1:t}function PG(e){return Hc(e)>=_8(e).metersPerDegree?"meters":b2(e)}function Hc(e,t=pr.metersPerDegree){return FG(e,!0)??t}function FG(e,t=!1){const i=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(i){if(TS(i))return bu.metersPerDegree;if(IS(i))return Qd.metersPerDegree;s=Xf.values[Xf[i]],!s&&t&&Aoe.has(i)&&(s=Coe)}else r&&(T8(r)?s=JF(kG.exec(r),s):NG(r)&&(s=JF(CG.exec(r),s)));return s}function Q8e(e){return v2(e)?1:Hc(e)}function JF(e,t){return e!=null&&e[1]?RG(e[1]):t}function RG(e){return parseFloat(e.split(",")[1])}function b2(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let r=null;if(t)r=Xf.units[Xf[t]];else if(i){const s=T8(i)?kG:NG(i)?CG:null;if(s){const c=s.exec(i);c!=null&&c[1]&&(r=Uoe(c[1]))}}return r!=null?LG(r):null}function X8e(e){const t=b2(e);return t!=null&&AG.includes(t)?t:null}function Voe(e){const t=PG(e);return t!=null&&AG.includes(t)?t:null}function eCe(e){const t=b2(e);return t==null?null:Roe.get(t)}function NG(e){return/^GEOCCS/i.test(e)}function T8(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const zoe=1e-7;function Uoe(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!Xf.units.includes(i)){const r=RG(e);i=null;const s=Xf.values;for(let c=0;c<s.length;++c)if(Math.abs(r-s[c])<zoe){i=Xf.units[c];break}}return i}function tCe(e){const t=b2(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Goe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Woe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},qoe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Boe=kn()(Goe),Hoe=kn()(Woe),iCe=kn()(qoe);var Rl;let oi=Rl=class extends $e{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return Rl.WebMercator;if(e.wkid===4326)return Rl.WGS84}const t=new Rl;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Xy(this)}get isWebMercator(){return Tu(this)}get isGeographic(){return v2(this)}get isWrappable(){return xoe(this)}get metersPerUnit(){return Hc(this)}get unit(){return b2(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Rl.WGS84)return new Rl(IG);if(this===Rl.WebMercator)return new Rl(MG);const e=new Rl;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ye(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return cn(this,e)}toJSON(e){return this.write(void 0,e)}};oi.GCS_NAD_1927=null,oi.WGS84=null,oi.WebMercator=null,oi.PlateCarree=null,g([S({readOnly:!0})],oi.prototype,"isWGS84",null),g([S({readOnly:!0})],oi.prototype,"isWebMercator",null),g([S({readOnly:!0})],oi.prototype,"isGeographic",null),g([S({readOnly:!0})],oi.prototype,"isWrappable",null),g([S({type:Oi,json:{write:!0}})],oi.prototype,"latestWkid",void 0),g([S({readOnly:!0})],oi.prototype,"metersPerUnit",null),g([S({readOnly:!0})],oi.prototype,"unit",null),g([S({type:Oi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],oi.prototype,"wkid",void 0),g([S({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],oi.prototype,"wkt",void 0),g([De("wkt"),De("web-scene","wkt")],oi.prototype,"writeWkt",null),g([S({type:String,json:{write:!1}})],oi.prototype,"wkt2",void 0),g([S({type:Oi,json:{write:!0}})],oi.prototype,"vcsWkid",void 0),g([S({type:Oi,json:{write:!0}})],oi.prototype,"latestVcsWkid",void 0),g([S()],oi.prototype,"imageCoordinateSystem",void 0),oi=Rl=g([Q("esri.geometry.SpatialReference")],oi),oi.prototype.toJSON.isDefaultToJSON=!0,oi.GCS_NAD_1927=new oi({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),oi.WGS84=new oi(IG),oi.WebMercator=new oi(MG),oi.PlateCarree=new oi(Eoe),Object.freeze&&(Object.freeze(oi.GCS_NAD_1927),Object.freeze(oi.WGS84),Object.freeze(oi.WebMercator),Object.freeze(oi.PlateCarree));const Lt=oi;function Pe(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(c,f)=>{const m=c.constructor.prototype;r.forEach(b=>{const x=FU(c,b,s);x.read&&typeof x.read=="object"||(x.read={}),x.read.reader=m[f],i&&(x.read.source=(x.read.source||[]).concat(i))})}}let Nl=class extends $e{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Lt.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof Lt)return t;if(t!=null){const r=new Lt;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([S()],Nl.prototype,"type",void 0),g([S({readOnly:!0})],Nl.prototype,"cache",null),g([S({readOnly:!0})],Nl.prototype,"extent",null),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Nl.prototype,"hasM",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Nl.prototype,"hasZ",void 0),g([S({type:Lt,json:{write:!0},value:Lt.WGS84})],Nl.prototype,"spatialReference",void 0),g([Pe("spatialReference")],Nl.prototype,"readSpatialReference",null),Nl=g([Q("esri.geometry.Geometry")],Nl);const I0=Nl,Joe=Object.prototype.toString;function Zoe(e){const t="__accessorMetadata__"in e?wr(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Koe.apply(this,i)}}function Koe(e,t,i,r){gS(e,t).cast=r}function Yoe(e){return(t,i)=>{gS(t,e).cast=t[i]}}function bi(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Joe.call(e[0])==="[object Function]"?Zoe(e[0]):e.length===1&&typeof e[0]=="string"?Yoe(e[0]):void 0}function Qoe(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}const Xoe=57.29577951308232,eae=.017453292519943;function ZF(e){return e*Xoe}function KF(e){return e*eae}function nCe(e){return e/pr.radius}function sCe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/pr.radius))}function qE(e){return e.wkid!=null||e.wkt!=null}const R6=[0,0];function f4(e,t,i,r,s){const c=e,f=s;if(f.spatialReference=i,"x"in c&&"x"in f)[f.x,f.y]=t(c.x,c.y,R6,r);else if("xmin"in c&&"xmin"in f)[f.xmin,f.ymin]=t(c.xmin,c.ymin,R6,r),[f.xmax,f.ymax]=t(c.xmax,c.ymax,R6,r);else if("paths"in c&&"paths"in f||"rings"in c&&"rings"in f){const m="paths"in c?c.paths:c.rings,b=[];let x;for(let T=0;T<m.length;T++){const C=m[T];x=[],b.push(x);for(let L=0;L<C.length;L++)x.push(t(C[L][0],C[L][1],[0,0],r)),C[L].length>2&&x[L].push(C[L][2]),C[L].length>3&&x[L].push(C[L][3])}"paths"in f?f.paths=b:f.rings=b}else if("points"in c&&"points"in f){const m=c.points,b=[];for(let x=0;x<m.length;x++)b[x]=t(m[x][0],m[x][1],[0,0],r),m[x].length>2&&b[x].push(m[x][2]),m[x].length>3&&b[x].push(m[x][3]);f.points=b}return s}function T5(e,t){const i=e&&(qE(e)?e:e.spatialReference),r=t&&(qE(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!cn(r,i)||Tu(r)&&Xy(i)||Tu(i)&&Xy(r))}function jG(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(qE(t)?t:t.spatialReference);return T5(i,r)?cn(i,r)?ye(e):Tu(r)?f4(e,by,Lt.WebMercator,!1,ye(e)):Xy(r)?f4(e,nb,Lt.WGS84,!1,ye(e)):null:null}function by(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=KF(t);return i[0]=KF(e)*pr.radius,i[1]=pr.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function nb(e,t,i=[0,0],r=!1){const s=ZF(e/pr.radius);return i[0]=r?s:s-360*Math.floor((s+180)/360),i[1]=ZF(Math.PI/2-2*Math.atan(Math.exp(-t/pr.radius))),i}function sb(e,t=!1,i=ye(e)){return f4(e,by,Lt.WebMercator,t,i)}function wy(e,t=!1,i=ye(e)){return f4(e,nb,Lt.WGS84,t,i)}var I5;const Ag=[0,0];function YF(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let gs=I5=class extends I0{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let c;if(Array.isArray(e))c=e,s=t,e=c[0],t=c[1],i=c[2],r=c[3];else if(e&&typeof e=="object"){if(c=e,e=c.x!=null?c.x:c.longitude,t=c.y!=null?c.y:c.latitude,i=c.z,r=c.m,(s=c.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Lt(s)),c.longitude!=null||c.latitude!=null){if(c.longitude==null)ke.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(c.latitude==null)ke.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!c.declaredClass&&s&&s.isWebMercator){const m=by(c.longitude,c.latitude,Ag);e=m[0],t=m[1]}}}else YF(i)?(s=i,i=null):YF(r)&&(s=r,r=null);const f={x:e,y:t};return f.x==null&&f.y!=null?ke.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):f.y==null&&f.x!=null&&ke.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(f.spatialReference=s),i!=null&&(f.z=i),r!=null&&(f.m=r),f}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:i}=this;if(e){if(e.isWebMercator)return nb(t,i,Ag)[1];if(e.isGeographic)return i}return null}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",by(i,e,Ag)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:i}=this;if(i){if(i.isWebMercator)return nb(e,t,Ag)[0];if(i.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",by(e,t,Ag)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new I5;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return I5.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:c}=this,{z:f,m}=e;let{x:b,y:x,spatialReference:T}=e;if(!c.equals(T))if(c.isWebMercator&&T.isWGS84)[b,x]=by(b,x),T=c;else{if(!c.isWGS84||!T.isWebMercator)return!1;[b,x]=nb(b,x),T=c}return t===b&&i===x&&r===f&&s===m&&c.wkid===T.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=rb(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let c;return t>r?(c=Math.ceil(Math.abs(t-r)/s),t-=c*s):t<i&&(c=Math.ceil(Math.abs(t-i)/s),t+=c*s),this._set("x",t),this}distance(e){return Qoe(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([S({readOnly:!0})],gs.prototype,"cache",null),g([S({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],gs.prototype,"hasM",null),g([S({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],gs.prototype,"hasZ",null),g([S({type:Number})],gs.prototype,"latitude",null),g([S({type:Number})],gs.prototype,"longitude",null),g([S({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),bi(e=>isNaN(e)?e:pa(e))],gs.prototype,"x",void 0),g([De("x")],gs.prototype,"writeX",null),g([Pe("x")],gs.prototype,"readX",null),g([S({type:Number,json:{write:!0}})],gs.prototype,"y",void 0),g([S({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],gs.prototype,"z",void 0),g([S({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],gs.prototype,"m",void 0),gs=I5=g([Q("esri.geometry.Point")],gs),gs.prototype.toJSON.isDefaultToJSON=!0;const Hi=gs,N6=[0,0];function DG(e,t){return t!=null&&Es(e,t.x,t.y,t.z)}function oCe(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!em(e,i))return!1;return!0}function tae(e,t){const{xmin:i,ymin:r,zmin:s,xmax:c,ymax:f,zmax:m}=t;return e.hasZ&&t.hasZ?Es(e,i,r,s)&&Es(e,i,f,s)&&Es(e,c,f,s)&&Es(e,c,r,s)&&Es(e,i,r,m)&&Es(e,i,f,m)&&Es(e,c,f,m)&&Es(e,c,r,m):Es(e,i,r)&&Es(e,i,f)&&Es(e,c,f)&&Es(e,c,r)}function em(e,t){return Es(e,t[0],t[1])}function iae(e,t){return Es(e,t[0],t[1],t[2])}function Es(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function rae(e,t){return N6[1]=t.y,N6[0]=t.x,nae(e,N6)}function nae(e,t){return VG(e.rings,t)}function VG(e,t){if(!e)return!1;if(sae(e))return QF(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=QF(i,e[r],t);return i}function sae(e){return!Array.isArray(e[0][0])}function QF(e,t,i){const[r,s]=i;let c=e,f=0;for(let m=0,b=t.length;m<b;m++){f++,f===b&&(f=0);const[x,T]=t[m],[C,L]=t[f];(T<s&&L>=s||L<s&&T>=s)&&x+(s-T)/(L-T)*(C-x)<r&&(c=!c)}return c}function oae(e,t){return DG(e,t)}function aae(e,t){const i=e.hasZ&&t.hasZ;let r,s,c;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(c=t.zmin,e.zmax<c)return!1}else if(c=e.zmin,t.zmax<c)return!1}return!0}function lae(e,t){const{points:i,hasZ:r}=t,s=r?iae:em;for(const c of i)if(s(e,c))return!0;return!1}const d0=[0,0],p0=[0,0],f0=[0,0],y0=[0,0],uae=[d0,p0,f0,y0],zG=[[f0,d0],[d0,p0],[p0,y0],[y0,f0]];function cae(e,t){return hae(e,t.rings)}function hae(e,t){d0[0]=e.xmin,d0[1]=e.ymax,p0[0]=e.xmax,p0[1]=e.ymax,f0[0]=e.xmin,f0[1]=e.ymin,y0[0]=e.xmax,y0[1]=e.ymin;for(const i of uae)if(VG(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(em(e,r))return!0;for(let s=1;s<i.length;s++){const c=i[s];if(em(e,c)||UG(r,c,zG))return!0;r=c}}return!1}function dae(e,t){d0[0]=e.xmin,d0[1]=e.ymax,p0[0]=e.xmax,p0[1]=e.ymax,f0[0]=e.xmin,f0[1]=e.ymin,y0[0]=e.xmax,y0[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(em(e,s))return!0;for(let c=1;c<r.length;c++){const f=r[c];if(em(e,f)||UG(s,f,zG))return!0;s=f}}return!1}const bn=[0,0];function pae(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const c=i[s],f=i[s+1];for(let m=t+1;m<e.length;m++)for(let b=0;b<e[m].length-1;b++){const x=e[m][b],T=e[m][b+1];if(BE(c,f,x,T,bn)&&!(bn[0]===c[0]&&bn[1]===c[1]||bn[0]===x[0]&&bn[1]===x[1]||bn[0]===f[0]&&bn[1]===f[1]||bn[0]===T[0]&&bn[1]===T[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let c=r-1;s===0&&(c=r-2);const f=i[s],m=i[s+1];for(let b=s+2;b<c;b++){const x=i[b],T=i[b+1];if(BE(f,m,x,T,bn)&&!(bn[0]===f[0]&&bn[1]===f[1]||bn[0]===x[0]&&bn[1]===x[1]||bn[0]===m[0]&&bn[1]===m[1]||bn[0]===T[0]&&bn[1]===T[1]))return!0}}}return!1}function UG(e,t,i){for(let r=0;r<i.length;r++)if(BE(e,t,i[r][0],i[r][1]))return!0;return!1}function BE(e,t,i,r,s){const[c,f]=e,[m,b]=t,[x,T]=i,[C,L]=r,N=C-x,D=c-x,G=m-c,q=L-T,J=f-T,ne=b-f,ue=q*G-N*ne;if(ue===0)return!1;const ae=(N*J-q*D)/ue,pe=(G*J-ne*D)/ue;return ae>=0&&ae<=1&&pe>=0&&pe<=1&&(s&&(s[0]=c+ae*(m-c),s[1]=f+ae*(b-f)),!0)}function fae(e){switch(e){case"esriGeometryEnvelope":case"extent":return aae;case"esriGeometryMultipoint":case"multipoint":return lae;case"esriGeometryPoint":case"point":return oae;case"esriGeometryPolygon":case"polygon":return cae;case"esriGeometryPolyline":case"polyline":return dae}}var ia;function yae(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ch(e,t,i){return t==null?i:i==null?t:e(t,i)}let rn=ia=class extends I0{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return yae(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Lt.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??Lt.WGS84}}static fromBounds(e,t){return new ia({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new ia({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Hi({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ia;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&T5(t,i)&&(e=t.isWebMercator?sb(e):wy(e,!0)),e.type==="point"?DG(this,e):e.type==="extent"&&tae(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&T5(t,i)&&(e=t.isWebMercator?sb(e):wy(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!cn(t,i)&&T5(t,i)&&(e=t.isWebMercator?sb(e):wy(e,!0)),fae(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ch(Math.min,this.zmin,e.zmin),this.zmax=Ch(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ch(Math.min,this.mmin,e.mmin),this.mmax=Ch(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ch(Math.max,this.zmin,e.zmin),this.zmax=Ch(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ch(Math.max,this.mmin,e.mmin),this.mmax=Ch(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=rb(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?wy(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=this._normalizeX(r.x,e).x),this.spatialReference=new Lt(El((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,c=this.xmax;return s>=i&&s<=r&&c>=i&&c<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??rb(r);if(s==null)return this;const c=this._getParts(s).map(b=>b.extent);if(c.length<2)return c[0]||this;if(c.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return c;let f=!0,m=!0;return c.forEach(b=>{b.hasZ||(f=!1),b.hasM||(m=!1)}),{rings:c.map(b=>{const x=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(f){const T=(b.zmax-b.zmin)/2;for(let C=0;C<x.length;C++)x[C].push(T)}if(m){const T=(b.mmax-b.mmin)/2;for(let C=0;C<x.length;C++)x[C].push(T)}return x}),hasZ:f,hasM:m,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:c,spatialReference:f}=this,m=this.width,b=this.xmin,x=this.xmax;let T;e=e||rb(f);const[C,L]=e.valid;T=this._normalizeX(this.xmin,e);const N=T.x,D=T.frameId;T=this._normalizeX(this.xmax,e);const G=T.x,q=T.frameId,J=N===G&&m>0;if(m>2*L){const ne=new ia(b<x?N:G,s,L,c,f),ue=new ia(C,s,b<x?G:N,c,f),ae=new ia(0,s,L,c,f),pe=new ia(C,s,0,c,f),ge=[],Ae=[];ne.contains(ae)&&ge.push(D),ne.contains(pe)&&Ae.push(D),ue.contains(ae)&&ge.push(q),ue.contains(pe)&&Ae.push(q);for(let Ce=D+1;Ce<q;Ce++)ge.push(Ce),Ae.push(Ce);t.push({extent:ne,frameIds:[D]},{extent:ue,frameIds:[q]},{extent:ae,frameIds:ge},{extent:pe,frameIds:Ae})}else N>G||J?t.push({extent:new ia(N,s,L,c,f),frameIds:[D]},{extent:new ia(C,s,G,c,f),frameIds:[q]}):t.push({extent:new ia(N,s,G,c,f),frameIds:[D]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let c=0;c<t.length;c++)t[c].extent.set(s)}return t}_normalizeX(e,t){const[i,r]=t.valid,s=2*r;let c,f=0;return e>r?(c=Math.ceil(Math.abs(e-r)/s),e-=c*s,f=c):e<i&&(c=Math.ceil(Math.abs(e-i)/s),e+=c*s,f=-c),{x:e,frameId:f}}};g([S({readOnly:!0})],rn.prototype,"cache",null),g([S({readOnly:!0})],rn.prototype,"center",null),g([S({readOnly:!0})],rn.prototype,"extent",null),g([S({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],rn.prototype,"hasM",null),g([S({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],rn.prototype,"hasZ",null),g([S({readOnly:!0})],rn.prototype,"height",null),g([S({readOnly:!0})],rn.prototype,"width",null),g([S({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],rn.prototype,"xmin",void 0),g([S({type:Number,json:{write:!0}})],rn.prototype,"ymin",void 0),g([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],rn.prototype,"mmin",void 0),g([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],rn.prototype,"zmin",void 0),g([S({type:Number,json:{write:!0}})],rn.prototype,"xmax",void 0),g([S({type:Number,json:{write:!0}})],rn.prototype,"ymax",void 0),g([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],rn.prototype,"mmax",void 0),g([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],rn.prototype,"zmax",void 0),rn=ia=g([Q("esri.geometry.Extent")],rn),rn.prototype.toJSON.isDefaultToJSON=!0;const rr=rn;let ob;var Pz,Fz;const mae=((Pz=globalThis.esriConfig)==null?void 0:Pz.locale)??((Fz=globalThis.dojoConfig)==null?void 0:Fz.locale);function GG(){var e;return mae??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Cs(){return ob===void 0&&(ob=GG()),ob}function gae(e=Cs()){const t=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const ab=[];function WG(e){return ab.push(e),xt(()=>ab.splice(ab.indexOf(e),1))}const HE=[];function I8(e){return HE.push(e),xt(()=>ab.splice(HE.indexOf(e),1))}function vae(){const e=GG();ob!==e&&(ob=e,[...HE].forEach(t=>{t.call(null,e)}),[...ab].forEach(t=>{t.call(null,e)}))}var Rz;(Rz=globalThis.addEventListener)==null||Rz.call(globalThis,"languagechange",vae);let a3;function bae(e){return a3&&!a3.destroyed||(a3=e()),a3}var JE;const wae=new At({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ra=JE=class extends ht{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new JE({categories:this.categories?ye(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(f=>Array.isArray(f)?JSON.stringify(f):f));let r="";if(this.extent){const f=jG(this.extent,Lt.WGS84);f!=null&&(r=`${f.xmin},${f.ymin},${f.xmax},${f.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const c={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(c.sortField=this.sortField.split(",").map(f=>wae.toJSON(f.trim())).join(","),c.sortOrder=this.sortOrder),{query:{...t,...c}}}};g([S()],ra.prototype,"categories",void 0),g([S()],ra.prototype,"disableExtraQuery",void 0),g([S({type:rr})],ra.prototype,"extent",void 0),g([S()],ra.prototype,"filter",void 0),g([S()],ra.prototype,"num",void 0),g([S()],ra.prototype,"query",void 0),g([S()],ra.prototype,"sortField",void 0),g([S()],ra.prototype,"sortOrder",null),g([S()],ra.prototype,"start",void 0),ra=JE=g([Q("esri.portal.PortalQueryParams")],ra);const fu=ra;var ZE;let Ur=ZE=class extends $e{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new me("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new ZE;return t.sourceJSON=e,t.read(e),t}queryItems(e,t){let i=wr(fu,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new fu,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new fu,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const c=new fu;return c.disableExtraQuery=!0,c.num=1,c.query=s,i.queryGroups(c,t)}throw new me("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],c=new fu;return c.num=1,c.query=`typekeywords:"${e}"`,s.queryItems(c,t)}throw new me("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const c=s==null?void 0:s.categorySchema;return c!=null&&c.length?c:[]}):[])}};g([S()],Ur.prototype,"access",void 0),g([S({type:Date})],Ur.prototype,"created",void 0),g([S()],Ur.prototype,"description",void 0),g([S()],Ur.prototype,"id",void 0),g([S()],Ur.prototype,"isInvitationOnly",void 0),g([S({type:Date})],Ur.prototype,"modified",void 0),g([S()],Ur.prototype,"owner",void 0),g([S()],Ur.prototype,"portal",void 0),g([S()],Ur.prototype,"snippet",void 0),g([S()],Ur.prototype,"sortField",void 0),g([S()],Ur.prototype,"sortOrder",void 0),g([S()],Ur.prototype,"sourceJSON",void 0),g([S()],Ur.prototype,"tags",void 0),g([S()],Ur.prototype,"thumbnail",void 0),g([S({readOnly:!0})],Ur.prototype,"thumbnailUrl",null),g([S()],Ur.prototype,"title",void 0),g([S({readOnly:!0})],Ur.prototype,"url",null),Ur=ZE=g([Q("esri.portal.PortalGroup")],Ur);const KE=Ur;let Wp=class extends ht{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([S()],Wp.prototype,"nextQueryParams",void 0),g([S()],Wp.prototype,"queryParams",void 0),g([S()],Wp.prototype,"results",void 0),g([S()],Wp.prototype,"total",void 0),Wp=g([Q("esri.portal.PortalQueryResult")],Wp);const _ae=Wp;let Yu=class extends $e{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new me("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([S({type:Date})],Yu.prototype,"created",void 0),g([S()],Yu.prototype,"id",void 0),g([S()],Yu.prototype,"portal",void 0),g([S()],Yu.prototype,"title",void 0),g([S({readOnly:!0})],Yu.prototype,"url",null),g([S()],Yu.prototype,"username",void 0),Yu=g([Q("esri.portal.PortalFolder")],Yu);const Sae=Yu;var YE;let Gi=YE=class extends $e{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,r=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let c=this.userContentUrl;return r&&(c+="/"+(typeof r=="string"?r:r.id)),this.portal.request(c+"/addItem",s).then(f=>(t.id=f.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",i=e.map(r=>r.id);if(i.length){const r={method:"post",query:{items:i.join(",")}};return this.portal.request(t,r).then(()=>{e.forEach(s=>{s.id=null,s.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=Sae.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=KE.fromJSON(i);return r.portal=this.portal,r}):[],t})}fetchItems(e){const t=e??{};let i,r=this.userContentUrl??"";return t.folder&&(r+="/"+t.folder.id),te(()=>Promise.resolve().then(()=>HG),void 0).then(({default:s})=>{i=s;const c={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(r,{query:c})}).then(s=>{let c;return s!=null&&s.items?(c=s.items.map(f=>{const m=i.fromJSON(f);return m.portal=this.portal,m}),Promise.all(c.map(f=>f.load())).catch(f=>f).then(()=>({items:c,nextStart:s.nextStart,total:s.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new KE({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new me("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new me("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new YE;return t.sourceJSON=e,t.read(e),t}};g([S()],Gi.prototype,"access",void 0),g([S({type:Date})],Gi.prototype,"created",void 0),g([S()],Gi.prototype,"culture",void 0),g([S()],Gi.prototype,"description",void 0),g([S()],Gi.prototype,"email",void 0),g([S()],Gi.prototype,"favGroupId",void 0),g([S()],Gi.prototype,"fullName",void 0),g([S({type:Date})],Gi.prototype,"modified",void 0),g([S()],Gi.prototype,"orgId",void 0),g([S()],Gi.prototype,"portal",void 0),g([S()],Gi.prototype,"preferredView",void 0),g([S()],Gi.prototype,"privileges",void 0),g([S()],Gi.prototype,"region",void 0),g([S()],Gi.prototype,"role",void 0),g([S()],Gi.prototype,"roleId",void 0),g([S()],Gi.prototype,"sourceJSON",void 0),g([S()],Gi.prototype,"thumbnail",void 0),g([S({readOnly:!0})],Gi.prototype,"thumbnailUrl",null),g([S()],Gi.prototype,"units",void 0),g([S({readOnly:!0})],Gi.prototype,"userContentUrl",null),g([S({readOnly:!0})],Gi.prototype,"url",null),g([S()],Gi.prototype,"username",void 0),g([S()],Gi.prototype,"userType",void 0),Gi=YE=g([Q("esri.portal.PortalUser")],Gi);const M8=Gi;var xo;let l3;const XF={PortalGroup:()=>Promise.resolve({default:KE}),PortalItem:()=>te(()=>Promise.resolve().then(()=>HG),void 0),PortalUser:()=>Promise.resolve({default:M8})};let We=xo=class extends ap(Ma){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ai.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){eR.unregister(this),this.defaultBasemap=tr(this.defaultBasemap),this.defaultDevBasemap=tr(this.defaultDevBasemap),this.defaultVectorBasemap=tr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=ks(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)ai.request.trustedServers.includes(t)||ai.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=M8.fromJSON(e),t.portal=this),t}load(e){const t=te(()=>Promise.resolve().then(()=>Xae),void 0).then(({default:i})=>{dr(e),l3=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var r;if(Et){const s=Et;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==xo.AUTH_MODE_AUTO&&this.authMode!==xo.AUTH_MODE_NO_PROMPT||((r=this._esriIdCredentialCreateHandle)==null||r.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",$ae(new WeakRef(this))),eR.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await te(async()=>{const{default:i}=await import("./ElevationLayer-_nCNlfFu.js");return{default:i}},__vite__mapDeps([2,3,4,5,6,7,8,9]))).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Tl(e)?Promise.reject(br()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new fu;if(i.num=100,i.sortField="title",t&&t.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return Tl(e)?Promise.reject(br()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Cs();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Cs();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return bae(()=>new xo)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Cs().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=wr(fu,t),c=f=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(m=>{const b=s.clone();return b.start=m.nextStart,new _ae({nextQueryParams:b,queryParams:s,total:m.total,results:xo._resultsToTypedArray(f,{portal:this},m,r)})}).then(m=>Promise.all(m.results.map(b=>typeof b.when=="function"?b.when():m)).then(()=>m,b=>(pu(b),m)));return i&&XF[i]?XF[i]().then(({default:f})=>(dr(r),c(f))):c()}signIn(){if(this.authMode===xo.AUTH_MODE_ANONYMOUS||this.authMode===xo.AUTH_MODE_NO_PROMPT&&!Et)return Promise.reject(new me("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Et?Et.getCredential(this.restUrl,{prompt:this.authMode!==xo.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=xo._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(c=>typeof c.when=="function"?c.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===xo.AUTH_MODE_ANONYMOUS||this.authMode===xo.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:c=!1,method:f="auto",responseType:m="json",signal:b}=t,x={authMode:r,body:s,cacheBust:c,method:f,query:i,responseType:m,timeout:0,signal:b};return t.withCredentials&&(x.withCredentials=!0),Ut(this._normalizeSSL(e),x).then(T=>T.data)}toJSON(){throw new me("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new xo({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new me("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new fu;i.query=e||(ai.apiKey&&c8(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const c=await s.queryItems(i,t);return c.total?c.results.filter(f=>f.type==="Web Map").map(f=>new l3({portalItem:f})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];const r=new fu({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const c=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=c.sortField||"name",r.sortOrder=c.sortOrder||"desc";const f=await c.queryItems(r,t);return f.total?f.results.filter(m=>m.type==="Web Scene").map(m=>new l3({portalItem:m})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=l3.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s=[];if(i){const c=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(f=>{const m=Object.assign(e?e.fromJSON(f):f,t);return typeof m.load=="function"&&m.load(c),m}))}else s=[];return s}};We.AUTH_MODE_ANONYMOUS="anonymous",We.AUTH_MODE_AUTO="auto",We.AUTH_MODE_IMMEDIATE="immediate",We.AUTH_MODE_NO_PROMPT="no-prompt",g([S()],We.prototype,"access",void 0),g([S()],We.prototype,"allSSL",void 0),g([S()],We.prototype,"authMode",void 0),g([S()],We.prototype,"authorizedCrossOriginDomains",void 0),g([Pe("authorizedCrossOriginDomains")],We.prototype,"readAuthorizedCrossOriginDomains",null),g([S()],We.prototype,"basemapGalleryGroupQuery",void 0),g([S({json:{name:"3DBasemapGalleryGroupQuery"}})],We.prototype,"basemapGalleryGroupQuery3D",void 0),g([S()],We.prototype,"bingKey",void 0),g([S()],We.prototype,"canListApps",void 0),g([S()],We.prototype,"canListData",void 0),g([S()],We.prototype,"canListPreProvisionedItems",void 0),g([S()],We.prototype,"canProvisionDirectPurchase",void 0),g([S()],We.prototype,"canSearchPublic",void 0),g([S()],We.prototype,"canShareBingPublic",void 0),g([S()],We.prototype,"canSharePublic",void 0),g([S()],We.prototype,"canSignInArcGIS",void 0),g([S()],We.prototype,"canSignInIDP",void 0),g([S()],We.prototype,"colorSetsGroupQuery",void 0),g([S()],We.prototype,"commentsEnabled",void 0),g([S({type:Date})],We.prototype,"created",void 0),g([S()],We.prototype,"credential",void 0),g([S()],We.prototype,"culture",void 0),g([S()],We.prototype,"currentVersion",void 0),g([S()],We.prototype,"customBaseUrl",void 0),g([S()],We.prototype,"defaultBasemap",void 0),g([Pe("defaultBasemap")],We.prototype,"readDefaultBasemap",null),g([S()],We.prototype,"defaultDevBasemap",void 0),g([Pe("defaultDevBasemap")],We.prototype,"readDefaultDevBasemap",null),g([S({type:rr})],We.prototype,"defaultExtent",void 0),g([S()],We.prototype,"defaultVectorBasemap",void 0),g([Pe("defaultVectorBasemap")],We.prototype,"readDefaultVectorBasemap",null),g([S()],We.prototype,"description",void 0),g([S()],We.prototype,"devBasemapGalleryGroupQuery",void 0),g([S()],We.prototype,"eueiEnabled",void 0),g([S({readOnly:!0})],We.prototype,"extraQuery",null),g([S()],We.prototype,"featuredGroups",void 0),g([S()],We.prototype,"featuredItemsGroupQuery",void 0),g([S()],We.prototype,"galleryTemplatesGroupQuery",void 0),g([S()],We.prototype,"layoutGroupQuery",void 0),g([S()],We.prototype,"livingAtlasGroupQuery",void 0),g([S()],We.prototype,"hasCategorySchema",void 0),g([S()],We.prototype,"helpBase",void 0),g([S()],We.prototype,"helperServices",void 0),g([S()],We.prototype,"helpMap",void 0),g([S()],We.prototype,"homePageFeaturedContent",void 0),g([S()],We.prototype,"homePageFeaturedContentCount",void 0),g([S()],We.prototype,"httpPort",void 0),g([S()],We.prototype,"httpsPort",void 0),g([S()],We.prototype,"id",void 0),g([S()],We.prototype,"ipCntryCode",void 0),g([S({readOnly:!0})],We.prototype,"isOrganization",null),g([S()],We.prototype,"isPortal",void 0),g([S()],We.prototype,"isReadOnly",void 0),g([S({readOnly:!0})],We.prototype,"itemPageUrl",null),g([S()],We.prototype,"layerTemplatesGroupQuery",void 0),g([S()],We.prototype,"maxTokenExpirationMinutes",void 0),g([S({type:Date})],We.prototype,"modified",void 0),g([S()],We.prototype,"name",void 0),g([S()],We.prototype,"portalHostname",void 0),g([S()],We.prototype,"portalMode",void 0),g([S()],We.prototype,"portalProperties",void 0),g([S()],We.prototype,"region",void 0),g([S({readOnly:!0})],We.prototype,"restUrl",null),g([S()],We.prototype,"rotatorPanels",void 0),g([S()],We.prototype,"showHomePageDescription",void 0),g([S()],We.prototype,"sourceJSON",void 0),g([S()],We.prototype,"staticImagesUrl",void 0),g([S({json:{name:"2DStylesGroupQuery"}})],We.prototype,"stylesGroupQuery2d",void 0),g([S({json:{name:"stylesGroupQuery"}})],We.prototype,"stylesGroupQuery3d",void 0),g([S()],We.prototype,"supportsHostedServices",void 0),g([S()],We.prototype,"symbolSetsGroupQuery",void 0),g([S()],We.prototype,"templatesGroupQuery",void 0),g([S()],We.prototype,"thumbnail",void 0),g([S({readOnly:!0})],We.prototype,"thumbnailUrl",null),g([S()],We.prototype,"units",void 0),g([S()],We.prototype,"url",void 0),g([S()],We.prototype,"urlKey",void 0),g([Pe("urlKey")],We.prototype,"readUrlKey",null),g([S()],We.prototype,"user",void 0),g([Pe("user")],We.prototype,"readUser",null),g([S()],We.prototype,"use3dBasemaps",void 0),g([S()],We.prototype,"useStandardizedQuery",void 0),g([S()],We.prototype,"useVectorBasemaps",void 0),g([S()],We.prototype,"vectorBasemapGalleryGroupQuery",void 0),We=xo=g([Q("esri.portal.Portal")],We);const Xr=We,eR=new FinalizationRegistry(e=>{e.remove()});function $ae(e){const t=Et;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let Qu=class extends ht{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){t!=null&&Vo(t)?ke.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new me("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-Dmt6pHqI.js"),[]);return await r(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}_normalizePath(t,i){return t==null?t:(t=t.replace(/^\/+/,""),i!=null&&Vo(t)&&(t=n8(t,i.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};g([S()],Qu.prototype,"portalItem",void 0),g([S({type:String,value:null})],Qu.prototype,"path",null),g([bi("path")],Qu.prototype,"_castPath",null),g([S({type:String,readOnly:!0})],Qu.prototype,"url",null),g([S({type:String,readOnly:!0})],Qu.prototype,"cdnUrl",null),g([S({type:String,readOnly:!0})],Qu.prototype,"itemRelativeUrl",null),Qu=g([Q("esri.portal.PortalItemResource")],Qu);const xae=Qu;let rv=class extends ht{constructor(t){super(t),this.created=null,this.rating=null}};g([S()],rv.prototype,"created",void 0),g([S()],rv.prototype,"rating",void 0),rv=g([Q("esri.portal.PortalRating")],rv);const j6=rv;function ep(e,t){var r;const i=(r=t==null?void 0:t.url)==null?void 0:r.path;if(e&&i&&(e=no(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=n8(e,t.portalItem.itemUrl);s!=null&&Eae.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=QE(e,t==null?void 0:t.portal))&&MS.test(e)?C8(e):e}function w2(e,t,i=Gb.YES){var s,c;if((e=e&&MS.test(e)?BG(e):e)==null)return e;!Vo(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let r=no(e);if(t){const f=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((c=t.url)==null?void 0:c.path);if(f){const m=QE(f,t.portal),b=QE(r,t.portal);r=n8(b,m,m),r!=null&&r!==b&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=qG(r,t==null?void 0:t.portal),Vo(r)&&(r=wa(r)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Vo(r)&&!lp(r)&&i===Gb.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function k8(e,t,i){return ep(e,i)}function m0(e,t,i,r){const s=w2(e,r);s!==void 0&&(t[i]=s)}const MS=/\/items\/([^\/]+)\/resources\/(.*)/,Eae=/^\.\/resources\//;function Tae(e){const t=(e==null?void 0:e.match(MS))??null;return(t==null?void 0:t[1])??null}function Iae(e){const t=(e==null?void 0:e.match(MS))??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:f,extension:m}=DF(i);return{prefix:null,filename:f,extension:m}}const{path:s,extension:c}=DF(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:c}}function qG(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?LE(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function QE(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=e8();return Zy(r,`${r.scheme}://${i}`)?LE(e,t.portalHostname,i):LE(e,i,t.portalHostname)}function C8(e){if(!e)return e||null;let t=e;return t&&Et&&!Et.findCredential(t)&&(t=Et._normalizeAGOLorgDomain(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function BG(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Et&&!Et.findCredential(t)&&(t=Et._normalizeAGOLorgDomain(t)),t}var Gb;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Gb||(Gb={}));const hCe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Gb},ensureMainOnlineDomain:qG,fromCDNUrl:BG,fromJSON:ep,itemIdFromResourceUrl:Tae,prefixAndFilenameFromResourceUrl:Iae,read:k8,toCDNUrl:C8,toJSON:w2,write:m0},Symbol.toStringTag,{value:"Module"}));var qp;const Mae=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),kae=new Set(["KML","GeoJson","CSV"]);let Rt=qp=class extends ap(Ma){static from(e){return Zk(qp,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new rr(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var N;const e=((N=this.type)==null?void 0:N.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,c=!1,f=!1,m=!1,b=!1,x=!1,T=!1,C=!1,L=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(c=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(f=t.includes("Table"),m=t.includes("Route Layer"),b=t.includes("Markup"),x=t.includes("Spatiotemporal"),T=t.includes("UtilityNetwork"),s=x&&f?"spatiotemporaltable":f?"table":m?"routelayer":b?"markup":x?"spatiotemporal":T?"utilitynetwork":c?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(x=t.includes("Spatiotemporal"),C=t.includes("Relational"),s=x||C?"mapimages":c||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):s=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?s="maps":e==="web scene"?s=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?s="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?s="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?s="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?s="datafiles":e==="360 vr experience"?s="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?s="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?s="addindesktop":e==="pdf"?s="pdf":e==="microsoft word"?s="word":e==="microsoft excel"?s="excel":e==="microsoft powerpoint"?s="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?s="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?s="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?s="layersgray":e==="scene package"?s="scenepackage":e==="3dtiles package"?s="3dtileslayerpackage":e==="3dtiles service"?s="3dtileslayer":e==="mobile scene package"?s="mobilescenepackage":e==="tile package"||e==="compact tile package"?s="tilepackage":e==="task file"?s="taskfile":e==="report template"?s="report-template":e==="statistical data collection"?s="statisticaldatacollection":e==="insights workbook"?s="workbook":e==="insights model"?s="insightsmodel":e==="insights page"?s="insightspage":e==="insights theme"?s="insightstheme":e==="hub initiative"?s="hubinitiative":e==="hub page"?s="hubpage":e==="hub site application"?s="hubsite":e==="hub event"?s="hubevent":e==="hub project"?s="hubproject":e==="relational database connection"?s="relationaldatabaseconnection":e==="big data file share"?s="datastorecollection":e==="image collection"?s="imagecollection":e==="desktop style"?s="desktopstyle":e==="style"?s="style":e==="dashboard"?s="dashboard":e==="raster function template"?s="rasterprocessingtemplate":e==="vector tile package"?s="vectortilepackage":e==="ortho mapping project"?s="orthomappingproject":e==="ortho mapping template"?s="orthomappingtemplate":e==="solution"?s="solutions":e==="geopackage"?s="geopackage":e==="deep learning package"?s="deeplearningpackage":e==="real time analytic"?s="realtimeanalytics":e==="big data analytic"?s="bigdataanalytics":e==="feed"?s="feed":e==="excalibur imagery project"?s="excaliburimageryproject":e==="notebook"?s="notebook":e==="storymap"?s="storymap":e==="survey123 add in"?s="survey123addin":e==="mission"?s="mission":e==="mission report"?s="missionreport":e==="mission template"?s="missiontemplate":e==="quickcapture project"?s="quickcaptureproject":e==="pro report"?s="proreport":e==="pro report template"?s="proreporttemplate":e==="urban model"?s="urbanmodel":e==="web experience"?s="experiencebuilder":e==="web experience template"?s="webexperiencetemplate":e==="experience builder widget"?s="experiencebuilderwidget":e==="experience builder widget package"?s="experiencebuilderwidgetpackage":e==="workflow"?s="workflow":e==="kernel gateway connection"?s="kernelgatewayconnection":e==="insights script"?s="insightsscript":e==="hub initiative template"?s="hubinitiativetemplate":e==="storymap theme"?s="storymaptheme":e==="knowledge graph"?s="knowledgegraph":e==="knowledge studio project"?s="knowledgestudio":e==="native application"?s="nativeapp":e==="native application installer"?s="nativeappinstaller":e==="web link chart"?s="linkchart":e==="knowledge graph web investigation"?s="investigation":e==="ogcfeatureserver"?s="features":e==="pro project"?s="proproject":e==="insights workbook package"?s="insightsworkbookpackage":e==="apache parquet"?s="apacheparquet":e==="notebook code snippets"||e==="notebook code snippet library"?s="notebookcodesnippets":e==="suitability model"?s="suitabilitymodel":e==="esri classifier definition"?s="classifierdefinition":e==="esri classification schema"?s="classificationschema":e==="insights data engineering workbook"?s="dataengineeringworkbook":e==="insights data engineering model"?s="dataengineeringmodel":e==="deep learning studio project"?s="deeplearningproject":e==="discussion"?s="discussion":e==="allsource project"?s="allsourceproject":e==="api key"?s="apikey":e==="data pipeline"?s="datapipelines":e==="group layer"?(L=t.includes("Map"),s=L?"layergroup2d":"layergroup"):s=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",s?ei(i+s+r+".png"):null}get isLayer(){return this.type!=null&&Mae.has(this.type)}get itemCdnUrl(){return C8(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,r,s;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Xr.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof j6&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new j6({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:ye(this.applicationProxies),avgRating:this.avgRating,categories:ye(this.categories),created:ye(this.created),culture:this.culture,description:this.description,extent:ye(this.extent),groupCategories:ye(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ye(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ye(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ye(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ye(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new qp({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var i;const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]=(i=e[r])==null?void 0:i.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new j6(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},qp)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new me("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new me("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:s,tags:c,title:f}=e||{},m={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:c==null?void 0:c.join(","),title:f}},{itemId:b}=await t.request(`${i}/copy`,m);return new qp({id:b,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")lp(t)?r.query={data:t}:r.query={url:no(t)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",t,i):s.append("file",t),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new me("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await te(()=>import("./resourceUtils-Dmt6pHqI.js"),[]);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-Dmt6pHqI.js"),[]);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await te(()=>import("./resourceUtils-Dmt6pHqI.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new me("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await te(()=>import("./resourceUtils-Dmt6pHqI.js"),[]);return t(this,e)}resourceFromPath(e){return new xae({portalItem:this,path:e})}toJSON(){var i,r;const e=this.extent,t={accessInformation:this.accessInformation,categories:ye(this.categories),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ye(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ye(this.typeKeywords),url:this.url};return ure(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new qp({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};g([S({type:["private","shared","org","public"]})],Rt.prototype,"access",void 0),g([S()],Rt.prototype,"accessInformation",void 0),g([S({type:String})],Rt.prototype,"apiKey",void 0),g([S({json:{read:{source:"appProxies"}}})],Rt.prototype,"applicationProxies",void 0),g([S()],Rt.prototype,"avgRating",void 0),g([S()],Rt.prototype,"categories",void 0),g([S({type:Date})],Rt.prototype,"created",void 0),g([S()],Rt.prototype,"culture",void 0),g([S()],Rt.prototype,"description",void 0),g([S({readOnly:!0})],Rt.prototype,"displayName",null),g([S({type:rr})],Rt.prototype,"extent",void 0),g([Pe("extent")],Rt.prototype,"readExtent",null),g([S()],Rt.prototype,"groupCategories",void 0),g([S({readOnly:!0})],Rt.prototype,"iconUrl",null),g([S()],Rt.prototype,"id",void 0),g([S({readOnly:!0})],Rt.prototype,"isLayer",null),g([S({type:Boolean,readOnly:!0})],Rt.prototype,"isOrgItem",void 0),g([S()],Rt.prototype,"itemControl",void 0),g([S({readOnly:!0})],Rt.prototype,"itemPageUrl",null),g([S({readOnly:!0})],Rt.prototype,"itemUrl",null),g([S()],Rt.prototype,"licenseInfo",void 0),g([S({type:Date})],Rt.prototype,"modified",void 0),g([S()],Rt.prototype,"name",void 0),g([S()],Rt.prototype,"numComments",void 0),g([S()],Rt.prototype,"numRatings",void 0),g([S()],Rt.prototype,"numViews",void 0),g([S()],Rt.prototype,"owner",void 0),g([S()],Rt.prototype,"ownerFolder",void 0),g([S({type:Xr})],Rt.prototype,"portal",void 0),g([S()],Rt.prototype,"screenshots",void 0),g([S()],Rt.prototype,"size",void 0),g([S()],Rt.prototype,"snippet",void 0),g([S()],Rt.prototype,"sourceJSON",void 0),g([S({type:String})],Rt.prototype,"sourceUrl",void 0),g([S({type:String})],Rt.prototype,"spatialReference",void 0),g([S()],Rt.prototype,"tags",void 0),g([S()],Rt.prototype,"thumbnail",void 0),g([S({readOnly:!0})],Rt.prototype,"thumbnailUrl",null),g([S()],Rt.prototype,"title",void 0),g([S()],Rt.prototype,"type",void 0),g([S()],Rt.prototype,"typeKeywords",void 0),g([S({type:String,json:{read(e,t){var i;if(kae.has(t.type)){const r=(i=this.portal)==null?void 0:i.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],Rt.prototype,"url",void 0),g([S({readOnly:!0})],Rt.prototype,"userItemUrl",null),Rt=qp=g([Q("esri.portal.PortalItem")],Rt);const Gd=Rt,HG=Object.freeze(Object.defineProperty({__proto__:null,default:Gd},Symbol.toStringTag,{value:"Module"})),tR=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Cae={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function iR(e){return e in Cae}const nv=[],Ly=new Map;function rR(e){for(const t of Ly.keys())JG(e.pattern,t)&&Ly.delete(t)}function Aae(e){return nv.includes(e)||(rR(e),nv.unshift(e)),xt(()=>{const t=nv.indexOf(e);t>-1&&(nv.splice(t,1),rR(e))})}async function A8(e){const t=Cs();Ly.has(e)||Ly.set(e,Lae(e,t));const i=Ly.get(e);return i&&await Pae.add(i),i}function Oae(e){if(!tR.test(e))return null;const t=tR.exec(e);if(t===null)return null;const[,i,r]=t,s=i+(r?"-"+r.toUpperCase():"");return iR(s)?s:iR(i)?i:null}async function Lae(e,t){const i=[];for(const r of nv)if(JG(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(s){i.push(s)}throw i.length?new me("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new me("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function JG(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}I8(()=>{Ly.clear()});const Pae=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Sa())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Fae(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await A8("esri/t9n/basemaps");return i[e]||i[t]}const tm={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return ei("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return ei("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return ei("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return ei("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return ei("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return ei("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return ei("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return ei("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return ei("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return ei("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return ei("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return ei("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return ei("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return ei("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return ei("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return ei("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},Rae=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let Dh=class extends ht{constructor(t){super(t),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=Cs().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const i=gae(t);return i==="pt"?"pt-BR":i&&Rae.has(i)?i:"global"}};g([S()],Dh.prototype,"id",void 0),g([S()],Dh.prototype,"language",void 0),g([S()],Dh.prototype,"places",void 0),g([S()],Dh.prototype,"serviceUrl",void 0),g([S()],Dh.prototype,"worldview",void 0),Dh=g([Q("esri.support.BasemapStyle")],Dh);const Nae=Dh;function pCe(e){return Dae(e)||jae(e)}function lb(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function fCe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function yCe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function mCe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function gCe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function jae(e){return(e==null?void 0:e.type)==="scene"}function sv(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function vCe(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function Dae(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function bCe(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function wCe(e){return e!=null&&"type"in e&&e.type==="group"}const _Ce={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function ZG(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function SCe(e){return e==="IntegratedMeshLayer"||e==="IntegratedMesh3DTilesLayer"}function Vae(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function $Ce(e){return(e==null?void 0:e.type)==="voxel"}function xCe(e){return(e==null?void 0:e.type)==="imagery-tile"}function ECe(e){return(e==null?void 0:e.parent)!=null&&"declaredClass"in e.parent&&e.parent.declaredClass==="esri.Basemap"&&e.parent.baseLayers.includes(e)}function kS(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function TCe(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function ICe(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const i=e.activeLayer.tileMatrixSets;if(i)return i}return null}async function O8(e,t){const i=Et==null?void 0:Et.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.substring(0,r)}/rest/info`,c=t!=null?t.signal:null,{data:f}=await Ut(s,{query:{f:"json"},responseType:"json",signal:c});return(f==null?void 0:f.owningSystemUrl)||null}function zae(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function e0(e){return e!=null&&typeof e=="object"&&"isTable"in e&&!!e.isTable}function g0(e){return zae(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Uae(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function KG(e){return!!Uae(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Gae=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Wae=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function qae(e){return e.layerContainerType==="basemap"?Gae:e.layerContainerType==="operational-layers"?Wae:null}function Bae(e,t){if(t.restrictedWebMapWriting){const i=qae(t);return i==null||i.has(e.type)&&!kS(e)}return!0}function Hae(e,t){var i;if(t)if(kS(e)){const r=d2("featureCollection.layers",t),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&nR(e,s)}else e.type!=="group"&&nR(e,t)}function nR(e,t){"maxScale"in e&&(t.maxScale=r4(e.maxScale)??void 0),"minScale"in e&&(t.minScale=r4(e.minScale)??void 0)}function Jae(e,t){if(Hae(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=r4(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(kS(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function XE(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i!=null&&i.messages&&i.messages.push(new me("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(kS(e)&&!e.isTable)t=e.resourceInfo;else if(Bae(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&Jae(e,t=ye(t)),t}var ov;let Zae=0;const Kae="esri.Basemap";let Eo=ov=class extends ap(Ma){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Zae++,this.baseLayers=new it,this.referenceLayers=new it;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&ke.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>t(r.item)),this.referenceLayers.on("after-add",r=>t(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{ke.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=tr(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",u0(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(s=>{const c=XE(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);c!=null&&r.push(c)}),this.referenceLayers.forEach(s=>{const c=XE(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);c!=null&&(s.type!=="scene"&&(c.isReference=!0),r.push(c))})),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",u0(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return m8(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>W_(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>W_(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new ov({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const s=ye(r);return s.url&&Eu(s.url)&&(s.url=`https:${s.url}`),s.templateUrl&&Eu(s.templateUrl)&&(s.templateUrl=`https:${s.templateUrl}`),s})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;dr(e);const s=[];if(t){const c=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,c,e)),t.data.id&&!t.data.title){const f=t.data.id;s.push(Fae(f).then(m=>{m&&this.read({title:m},t.context)}))}}else i?s.push(this._loadFromItem(i,e)):r&&s.push(this._loadFromStylesService(r,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,i){var b,x;const r=(b=this.resourceInfo)==null?void 0:b.context,s=((x=this.portalItem)==null?void 0:x.portal)||(r==null?void 0:r.portal)||null,c=Qae[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:f}=await te(async()=>{const{populateOperationalLayers:T}=await import("./layersCreator-CuLCReBy.js");return{populateOperationalLayers:T}},__vite__mapDeps([10,11,12,13])),m=[];if(dr(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const T={context:{...r,origin:c,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},C=D=>c==="web-scene"&&D.layerType==="ArcGISSceneServiceLayer"||D.isReference,L=f(this.baseLayers,e.baseMapLayers.filter(D=>!C(D)),T);m.push(L);const N=f(this.referenceLayers,e.baseMapLayers.filter(C),T);m.push(N)}await Promise.allSettled(m)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),s=Nr(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:Yae[e.type||""]??"web-map",portal:e.portal||Xr.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Xr.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}async _loadFromStylesService(e,t){const i=`${e.serviceUrl}/${e.id}`,r=(await Ut(i,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview},signal:t==null?void 0:t.signal})).data,s=Nr(i);return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}static fromId(e){const t=tm[e];return t?t.itemId?new ov({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):ov.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};g([S({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:it}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],Eo.prototype,"baseLayers",null),g([S({type:String,json:{origins:{"web-scene":{write:!0}}}})],Eo.prototype,"id",void 0),g([S({type:Gd})],Eo.prototype,"portalItem",void 0),g([S()],Eo.prototype,"referenceLayers",null),g([S({readOnly:!0})],Eo.prototype,"resourceInfo",void 0),g([S({type:Lt})],Eo.prototype,"spatialReference",void 0),g([S({type:Nae})],Eo.prototype,"style",void 0),g([S()],Eo.prototype,"thumbnailUrl",void 0),g([S({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Eo.prototype,"title",void 0),g([De("title")],Eo.prototype,"writeTitle",null),Eo=ov=g([Q(Kae)],Eo);const Yae={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},Qae={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},ub=Eo,Xae=Object.freeze(Object.defineProperty({__proto__:null,default:ub},Symbol.toStringTag,{value:"Module"})),y4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function YG(e){return!!y4[e]||!!y4[e.toLowerCase()]}function L8(e){return y4[e]??y4[e.toLowerCase()]}function ele(e){return[...L8(e)]}function D6(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function QG(e,t,i,r=1){const s=(e%360+360)%360/360,c=i<=.5?i*(t+1):i+t-i*t,f=2*i-c;return[Math.round(255*D6(f,c,s+1/3)),Math.round(255*D6(f,c,s)),Math.round(255*D6(f,c,s-1/3)),r]}function tle(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,c=t?e.length===9:e.length===5;let f=+("0x"+e.substr(1));if(isNaN(f))return null;const m=[0,0,0,1];let b;return c&&(b=f&r,f>>=i,m[3]=s*b/255),b=f&r,f>>=i,m[2]=s*b,b=f&r,f>>=i,m[1]=s*b,b=f&r,f>>=i,m[0]=s*b,m}function Je(){return[0,0,0]}function $a(e){return[e[0],e[1],e[2]]}function lo(e,t,i){return[e,t,i]}function ile(e,t=Je()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function rle(e,t){return new Float64Array(e,t,3)}function XG(){return Je()}function eW(){return lo(1,1,1)}function tW(){return lo(1,0,0)}function iW(){return lo(0,1,0)}function rW(){return lo(0,0,1)}const nle=XG(),nW=eW(),sle=tW(),ole=iW(),sW=rW();Object.freeze(Object.defineProperty({__proto__:null,ONES:nW,UNIT_X:sle,UNIT_Y:ole,UNIT_Z:sW,ZEROS:nle,clone:$a,create:Je,createView:rle,fromArray:ile,fromValues:lo,ones:eW,unitX:tW,unitY:iW,unitZ:rW,zeros:XG},Symbol.toStringTag,{value:"Module"}));let P8=1e-6;function Nn(){return P8}function ale(e){P8=e}const CS=Math.random,lle=Math.PI/180,ule=180/Math.PI;function cle(e){return e*lle}function hle(e){return e*ule}function dle(e,t){return Math.abs(e-t)<=P8*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:CS,equals:dle,getEpsilon:Nn,setEpsilon:ale,toDegree:hle,toRadian:cle},Symbol.toStringTag,{value:"Module"}));function Os(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function Iu(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _r(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function xa(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function fr(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function oW(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function aW(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function ple(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function fle(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function yle(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function mle(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function gle(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function vle(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function ble(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function En(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ln(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function Im(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}function v0(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return i*i+r*r+s*s}function AS(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function wle(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function _le(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function jn(e,t){const i=t[0],r=t[1],s=t[2];let c=i*i+r*r+s*s;return c>0&&(c=1/Math.sqrt(c),e[0]=t[0]*c,e[1]=t[1]*c,e[2]=t[2]*c),e}function Xt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function co(e,t,i){const r=t[0],s=t[1],c=t[2],f=i[0],m=i[1],b=i[2];return e[0]=s*b-c*m,e[1]=c*f-r*b,e[2]=r*m-s*f,e}function _2(e,t,i,r){const s=t[0],c=t[1],f=t[2];return e[0]=s+r*(i[0]-s),e[1]=c+r*(i[1]-c),e[2]=f+r*(i[2]-f),e}function Sle(e,t,i,r,s,c){const f=c*c,m=f*(2*c-3)+1,b=f*(c-2)+c,x=f*(c-1),T=f*(3-2*c);return e[0]=t[0]*m+i[0]*b+r[0]*x+s[0]*T,e[1]=t[1]*m+i[1]*b+r[1]*x+s[1]*T,e[2]=t[2]*m+i[2]*b+r[2]*x+s[2]*T,e}function $le(e,t,i,r,s,c){const f=1-c,m=f*f,b=c*c,x=m*f,T=3*c*m,C=3*b*f,L=b*c;return e[0]=t[0]*x+i[0]*T+r[0]*C+s[0]*L,e[1]=t[1]*x+i[1]*T+r[1]*C+s[1]*L,e[2]=t[2]*x+i[2]*T+r[2]*C+s[2]*L,e}function xle(e,t){t=t||1;const i=CS,r=2*i()*Math.PI,s=2*i()-1,c=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(r)*c,e[1]=Math.sin(r)*c,e[2]=s*t,e}function lW(e,t,i){const r=t[0],s=t[1],c=t[2];return e[0]=i[0]*r+i[4]*s+i[8]*c+i[12],e[1]=i[1]*r+i[5]*s+i[9]*c+i[13],e[2]=i[2]*r+i[6]*s+i[10]*c+i[14],e}function Ele(e,t,i){const r=t[0],s=t[1],c=t[2];return e[0]=r*i[0]+s*i[3]+c*i[6],e[1]=r*i[1]+s*i[4]+c*i[7],e[2]=r*i[2]+s*i[5]+c*i[8],e}function Tle(e,t,i){const r=i[0],s=i[1],c=i[2],f=i[3],m=t[0],b=t[1],x=t[2],T=s*x-c*b,C=c*m-r*x,L=r*b-s*m,N=s*L-c*C,D=c*T-r*L,G=r*C-s*T,q=2*f;return e[0]=m+T*q+2*N,e[1]=b+C*q+2*D,e[2]=x+L*q+2*G,e}function Ile(e,t,i,r){const s=[],c=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],c[0]=s[0],c[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),c[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=c[0]+i[0],e[1]=c[1]+i[1],e[2]=c[2]+i[2],e}function Mle(e,t,i,r){const s=[],c=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],c[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),c[1]=s[1],c[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=c[0]+i[0],e[1]=c[1]+i[1],e[2]=c[2]+i[2],e}function kle(e,t,i,r){const s=[],c=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],c[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),c[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),c[2]=s[2],e[0]=c[0]+i[0],e[1]=c[1]+i[1],e[2]=c[2]+i[2],e}function Cle(e,t){jn(sR,e),jn(oR,t);const i=Xt(sR,oR);return i>1?0:i<-1?Math.PI:Math.acos(i)}const sR=Je(),oR=Je();function Ale(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ni(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function uW(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],c=t[0],f=t[1],m=t[2],b=Nn();return Math.abs(i-c)<=b*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-f)<=b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(s-m)<=b*Math.max(1,Math.abs(s),Math.abs(m))}function Ole(e,t,i){const r=i[0]-t[0],s=i[1]-t[1],c=i[2]-t[2];let f=r*r+s*s+c*c;return f>0?(f=1/Math.sqrt(f),e[0]=r*f,e[1]=s*f,e[2]=c*f,e):(e[0]=0,e[1]=0,e[2]=0,e)}const so=fr,Lle=oW,Ple=aW,Fle=Im,Rle=v0,Nle=Os,m4=AS,MCe=Object.freeze(Object.defineProperty({__proto__:null,abs:yle,add:xa,angle:Cle,bezier:$le,ceil:ple,copy:Iu,cross:co,direction:Ole,dist:Fle,distance:Im,div:Ple,divide:aW,dot:Xt,equals:uW,exactEquals:Ni,floor:fle,hermite:Sle,inverse:_le,len:Nle,length:Os,lerp:_2,max:vle,min:gle,mul:Lle,multiply:oW,negate:wle,normalize:jn,random:xle,rotateX:Ile,rotateY:Mle,rotateZ:kle,round:ble,scale:En,scaleAndAdd:ln,set:_r,sign:mle,sqrDist:Rle,sqrLen:m4,squaredDistance:v0,squaredLength:AS,str:Ale,sub:so,subtract:fr,transformMat3:Ele,transformMat4:lW,transformQuat:Tle},Symbol.toStringTag,{value:"Module"})),aR=new Float32Array(1);function kCe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Rn(e,t,i){return Math.min(Math.max(e,t),i)}function CCe(e,t){return t===0?0:Math.round(e/t)*t}function ACe(e){return(e&e-1)==0}function OCe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function LCe(e){return 10**Math.ceil(Math.LOG10E*Math.log(e))}function jle(e,t,i){return e+(t-e)*i}function PCe(e,t,i,r,s){return jle(r,s,(e-t)/(i-t))}function Dle(e){return e*Math.PI/180}function Vle(e){return 180*e/Math.PI}function FCe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function OS(e){return Math.acos(Rn(e,-1,1))}function F8(e){return Math.asin(Rn(e,-1,1))}function M5(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}const g4=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function eT(e){return g4.setFloat64(0,e),g4.getBigInt64(0)}function zle(e){return g4.setBigInt64(0,e),g4.getFloat64(0)}const k5=BigInt("1000000"),Ule=cW(1);function cW(e){const t=eT(e=Math.abs(e)),i=zle(t<=k5?k5:t-k5);return Math.abs(e-i)}function RCe(e,t,i=Ule){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&cW(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=eT(e),s=eT(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>k5)}function NCe(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),s=Math.abs(e),c=Math.abs(t);if(e===0||t===0||s<1e-12&&c<1e-12){if(r>.01*i)return!1}else if(r/(s+c)>i)return!1;return!0}function jCe(e){return hW(Math.max(-uR,Math.min(e,uR)))}function hW(e){return aR[0]=e,aR[0]}function DCe(e,t,i){const r=Rn((i-e)/(t-e),0,1);return r*r*(3-2*r)}function lR(e,t){const i=Os(e),r=F8(e[2]/i),s=Math.atan2(e[1]/i,e[0]/i);return _r(t,i,r,s),t}function VCe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(M5(t,1)&&M5(i,1)&&M5(r,1))}function zCe(e,t){return(e%t+t)%t}const uR=hW(34028234663852886e22);function u3(e){return Rn(Jk(e),0,255)}function c3(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function h3(e,t){const i=e.toString(16).padStart(2,"0");return t?i.substring(0,1):i}let tT=class nn{static blendColors(t,i,r,s=new nn){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),c=r[1];if(c==="rgb"&&s.length===3||c==="rgba"&&s.length===4){const f=s[0];if(f.charAt(f.length-1)==="%"){const m=s.map(b=>2.56*parseFloat(b));return s.length===4&&(m[3]=parseFloat(s[3])),nn.fromArray(m,i)}return nn.fromArray(s.map(m=>parseFloat(m)),i)}if(c==="hsl"&&s.length===3||c==="hsla"&&s.length===4)return nn.fromArray(QG(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new nn){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.substring(1,2),16),s=parseInt(t.substring(2,3),16),c=parseInt(t.substring(3,4),16),f=t.length===5?15:parseInt(t.substring(4),16);return nn.fromArray([r+16*r,s+16*s,c+16*c,(f+16*f)/255],i)}case 7:case 9:{const r=parseInt(t.substring(1,3),16),s=parseInt(t.substring(3,5),16),c=parseInt(t.substring(5,7),16),f=t.length===7?255:parseInt(t.substring(7),16);return nn.fromArray([r,s,c,f/255],i)}default:return null}}static fromArray(t,i=new nn){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=YG(t)?L8(t):null;return r&&nn.fromArray(r,i)||nn.fromRgb(t,i)||nn.fromHex(t,i)}static fromJSON(t){return t!=null?new nn([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?nn.fromString(t,this):Array.isArray(t)?nn.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof nn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,r=(t==null?void 0:t.digits)??6,s=r===3||r===4,c=r===4||r===8,f=`#${h3(this.r,s)}${h3(this.g,s)}${h3(this.b,s)}${c?h3(Math.round(255*this.a),s):""}`;return i?f.toUpperCase():f}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=nn.AlphaMode.ALWAYS){const i=u3(this.r),r=u3(this.g),s=u3(this.b);return t===nn.AlphaMode.ALWAYS||this.a!==1?[i,r,s,u3(255*this.a)]:[i,r,s]}clone(){return new nn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(c3(this.r,0,255)),this.g=Math.round(c3(this.g,0,255)),this.b=Math.round(c3(this.b,0,255)),this.a=c3(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};tT.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(tT);const ot=tT;function UCe(e){}function Gle(e){return()=>e}function at(e,t={}){const i=e instanceof At?e:new At(e,t),r={type:(t==null?void 0:t.ignoreUnknown)??1?i.apiValues:String,json:{type:i.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:i.read},write:{writer:i.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(r.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(r.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(r.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(r.nonNullable=t.nonNullable),S(r)}var iT;let C5=iT=class extends $e{constructor(e){super(e),this.type="none"}clone(){return new iT({type:this.type})}};g([at({none:"none",stayAbove:"stay-above"})],C5.prototype,"type",void 0),C5=iT=g([Q("esri.ground.NavigationConstraint")],C5);function LS(e){const t=Jk(100*(1-e));return Math.max(0,Math.min(t,100))}function Wb(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var rT;let Xu=rT=class extends ap(Ma){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new it;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ke.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{cs(e)||ke.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)tr(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",u0(e,this._get("layers")))}writeLayers(e,t,i,r){const s=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(c=>{if("write"in c){const f={};Gle(c)().write(f,r)&&s.push(f)}else r!=null&&r.messages&&r.messages.push(new me("layer:unsupported",`Layers (${c.title}, ${c.id}) of type '${c.declaredClass}' cannot be persisted in the ground`,{layer:c}))})),t.layers=s}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return m8(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-JC1Nox43.js"),__vite__mapDeps([14,15,5]));dr(t);const r=new i,s=this.layers.filter(cR).toArray();return r.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-JC1Nox43.js"),__vite__mapDeps([14,15,5]));dr(t);const r=new i,s=this.layers.filter(cR).toArray();return r.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:ye(this.surfaceColor),navigationConstraint:ye(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new rT({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=(t==null?void 0:t.origin)||"web-scene",s=(t==null?void 0:t.portal)||null,c=(t==null?void 0:t.url)||null,{populateOperationalLayers:f}=await te(async()=>{const{populateOperationalLayers:b}=await import("./layersCreator-CuLCReBy.js");return{populateOperationalLayers:b}},__vite__mapDeps([10,11,12,13]));dr(i);const m=[];if(e.layers&&Array.isArray(e.layers)){const b={context:{origin:r,url:c,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};m.push(f(this.layers,e.layers,b))}await Promise.allSettled(m)}};function Wle(e){return e&&"createElevationSampler"in e}function cR(e){return e.type==="elevation"||Wle(e)}g([S({json:{read:!1}})],Xu.prototype,"layers",null),g([De("layers")],Xu.prototype,"writeLayers",null),g([S({readOnly:!0})],Xu.prototype,"resourceInfo",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Oi,read:{reader:Wb,source:"transparency"},write:{writer:(e,t)=>{t.transparency=LS(e)},target:"transparency"}}})],Xu.prototype,"opacity",void 0),g([S({type:ot,json:{type:[Oi],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Xu.prototype,"surfaceColor",void 0),g([S({type:C5,json:{write:!0}})],Xu.prototype,"navigationConstraint",void 0),Xu=rT=g([Q("esri.Ground")],Xu);const v4=Xu;let T1=class extends it{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(Hk(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i,this.length)}_createNewInstance(t){return new it(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const c=this.indexOf(s,t);c>=0?c!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const c=this.getChildrenFunction(s);if(Array.isArray(c))for(const f of c)t=this._processCollection(t,f);else t=this._processCollection(t,c)}}return t}};g([S()],T1.prototype,"getCollections",void 0),g([S()],T1.prototype,"getChildrenFunction",void 0),g([S()],T1.prototype,"itemFilterFunction",void 0),T1=g([Q("esri.core.CollectionFlattener")],T1);const nT=T1;function qb(e){var t,i;return!(!(e&&typeof e=="object"&&"loaded"in e&&e.loaded&&((i=(t=g0(e))==null?void 0:t.operations)!=null&&i.supportsEditing)&&"type"in e)||"editingEnabled"in e&&!KG(e))}const qle=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Ble="screenUtils.toPt: input not recognized!",dW=96;function ls(e){return e?e/72*dW:0}function zo(e){return e?72*e/dW:0}function si(e){if(typeof e=="string"){const t=e.match(qle);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",c=r==="px"?zo(i):i;return s?-c:c}return console.warn(Ble),null}return e}function b4(e=0,t=0){return{x:e,y:t}}function pW(e=0,t=0){return[e,t]}function fW(e=0,t=0){return[e,t]}function WCe(e=0,t=0,i=0){return[e,t,i]}function qCe(e){return e}function BCe(e){return e}function HCe(e){return e}function JCe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function PS(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Hle(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jle(e,t,i,r,s,c,f,m,b,x,T,C,L,N,D,G){const q=new Float32Array(16);return q[0]=e,q[1]=t,q[2]=i,q[3]=r,q[4]=s,q[5]=c,q[6]=f,q[7]=m,q[8]=b,q[9]=x,q[10]=T,q[11]=C,q[12]=L,q[13]=N,q[14]=D,q[15]=G,q}function Zle(e,t){return new Float32Array(e,t,16)}const Kle=PS();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Kle,clone:Hle,create:PS,createView:Zle,fromValues:Jle},Symbol.toStringTag,{value:"Module"}));function Yle(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function up(e,t,i,r,s,c,f,m,b,x,T,C,L,N,D,G,q){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=c,e[5]=f,e[6]=m,e[7]=b,e[8]=x,e[9]=T,e[10]=C,e[11]=L,e[12]=N,e[13]=D,e[14]=G,e[15]=q,e}function FS(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cp(e,t){if(e===t){const i=t[1],r=t[2],s=t[3],c=t[6],f=t[7],m=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=c,e[11]=t[14],e[12]=s,e[13]=f,e[14]=m}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Qle(e,t){return yW(e,t)||FS(e),e}function yW(e,t){const i=t[0],r=t[1],s=t[2],c=t[3],f=t[4],m=t[5],b=t[6],x=t[7],T=t[8],C=t[9],L=t[10],N=t[11],D=t[12],G=t[13],q=t[14],J=t[15],ne=i*m-r*f,ue=i*b-s*f,ae=i*x-c*f,pe=r*b-s*m,ge=r*x-c*m,Ae=s*x-c*b,Ce=T*G-C*D,qe=T*q-L*D,Ge=T*J-N*D,Ue=C*q-L*G,et=C*J-N*G,nt=L*J-N*q;let Qe=ne*nt-ue*et+ae*Ue+pe*Ge-ge*qe+Ae*Ce;return Qe?(Qe=1/Qe,e[0]=(m*nt-b*et+x*Ue)*Qe,e[1]=(s*et-r*nt-c*Ue)*Qe,e[2]=(G*Ae-q*ge+J*pe)*Qe,e[3]=(L*ge-C*Ae-N*pe)*Qe,e[4]=(b*Ge-f*nt-x*qe)*Qe,e[5]=(i*nt-s*Ge+c*qe)*Qe,e[6]=(q*ae-D*Ae-J*ue)*Qe,e[7]=(T*Ae-L*ae+N*ue)*Qe,e[8]=(f*et-m*Ge+x*Ce)*Qe,e[9]=(r*Ge-i*et-c*Ce)*Qe,e[10]=(D*ge-G*ae+J*ne)*Qe,e[11]=(C*ae-T*ge-N*ne)*Qe,e[12]=(m*qe-f*Ue-b*Ce)*Qe,e[13]=(i*Ue-r*qe+s*Ce)*Qe,e[14]=(G*ue-D*pe-q*ne)*Qe,e[15]=(T*pe-C*ue+L*ne)*Qe,e):null}function Xle(e,t){const i=t[0],r=t[1],s=t[2],c=t[3],f=t[4],m=t[5],b=t[6],x=t[7],T=t[8],C=t[9],L=t[10],N=t[11],D=t[12],G=t[13],q=t[14],J=t[15];return e[0]=m*(L*J-N*q)-C*(b*J-x*q)+G*(b*N-x*L),e[1]=-(r*(L*J-N*q)-C*(s*J-c*q)+G*(s*N-c*L)),e[2]=r*(b*J-x*q)-m*(s*J-c*q)+G*(s*x-c*b),e[3]=-(r*(b*N-x*L)-m*(s*N-c*L)+C*(s*x-c*b)),e[4]=-(f*(L*J-N*q)-T*(b*J-x*q)+D*(b*N-x*L)),e[5]=i*(L*J-N*q)-T*(s*J-c*q)+D*(s*N-c*L),e[6]=-(i*(b*J-x*q)-f*(s*J-c*q)+D*(s*x-c*b)),e[7]=i*(b*N-x*L)-f*(s*N-c*L)+T*(s*x-c*b),e[8]=f*(C*J-N*G)-T*(m*J-x*G)+D*(m*N-x*C),e[9]=-(i*(C*J-N*G)-T*(r*J-c*G)+D*(r*N-c*C)),e[10]=i*(m*J-x*G)-f*(r*J-c*G)+D*(r*x-c*m),e[11]=-(i*(m*N-x*C)-f*(r*N-c*C)+T*(r*x-c*m)),e[12]=-(f*(C*q-L*G)-T*(m*q-b*G)+D*(m*L-b*C)),e[13]=i*(C*q-L*G)-T*(r*q-s*G)+D*(r*L-s*C),e[14]=-(i*(m*q-b*G)-f*(r*q-s*G)+D*(r*b-s*m)),e[15]=i*(m*L-b*C)-f*(r*L-s*C)+T*(r*b-s*m),e}function eue(e){const t=e[0],i=e[1],r=e[2],s=e[3],c=e[4],f=e[5],m=e[6],b=e[7],x=e[8],T=e[9],C=e[10],L=e[11],N=e[12],D=e[13],G=e[14],q=e[15];return(t*f-i*c)*(C*q-L*G)-(t*m-r*c)*(T*q-L*D)+(t*b-s*c)*(T*G-C*D)+(i*m-r*f)*(x*q-L*N)-(i*b-s*f)*(x*G-C*N)+(r*b-s*m)*(x*D-T*N)}function mW(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=t[4],b=t[5],x=t[6],T=t[7],C=t[8],L=t[9],N=t[10],D=t[11],G=t[12],q=t[13],J=t[14],ne=t[15];let ue=i[0],ae=i[1],pe=i[2],ge=i[3];return e[0]=ue*r+ae*m+pe*C+ge*G,e[1]=ue*s+ae*b+pe*L+ge*q,e[2]=ue*c+ae*x+pe*N+ge*J,e[3]=ue*f+ae*T+pe*D+ge*ne,ue=i[4],ae=i[5],pe=i[6],ge=i[7],e[4]=ue*r+ae*m+pe*C+ge*G,e[5]=ue*s+ae*b+pe*L+ge*q,e[6]=ue*c+ae*x+pe*N+ge*J,e[7]=ue*f+ae*T+pe*D+ge*ne,ue=i[8],ae=i[9],pe=i[10],ge=i[11],e[8]=ue*r+ae*m+pe*C+ge*G,e[9]=ue*s+ae*b+pe*L+ge*q,e[10]=ue*c+ae*x+pe*N+ge*J,e[11]=ue*f+ae*T+pe*D+ge*ne,ue=i[12],ae=i[13],pe=i[14],ge=i[15],e[12]=ue*r+ae*m+pe*C+ge*G,e[13]=ue*s+ae*b+pe*L+ge*q,e[14]=ue*c+ae*x+pe*N+ge*J,e[15]=ue*f+ae*T+pe*D+ge*ne,e}function tue(e,t,i){const r=i[0],s=i[1],c=i[2];if(t===e)e[12]=t[0]*r+t[4]*s+t[8]*c+t[12],e[13]=t[1]*r+t[5]*s+t[9]*c+t[13],e[14]=t[2]*r+t[6]*s+t[10]*c+t[14],e[15]=t[3]*r+t[7]*s+t[11]*c+t[15];else{const f=t[0],m=t[1],b=t[2],x=t[3],T=t[4],C=t[5],L=t[6],N=t[7],D=t[8],G=t[9],q=t[10],J=t[11];e[0]=f,e[1]=m,e[2]=b,e[3]=x,e[4]=T,e[5]=C,e[6]=L,e[7]=N,e[8]=D,e[9]=G,e[10]=q,e[11]=J,e[12]=f*r+T*s+D*c+t[12],e[13]=m*r+C*s+G*c+t[13],e[14]=b*r+L*s+q*c+t[14],e[15]=x*r+N*s+J*c+t[15]}return e}function iue(e,t,i){const r=i[0],s=i[1],c=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*c,e[9]=t[9]*c,e[10]=t[10]*c,e[11]=t[11]*c,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function rue(e,t,i,r){let s,c,f,m,b,x,T,C,L,N,D,G,q,J,ne,ue,ae,pe,ge,Ae,Ce,qe,Ge,Ue,et=r[0],nt=r[1],Qe=r[2],Tt=Math.sqrt(et*et+nt*nt+Qe*Qe);return Tt<Nn()?null:(Tt=1/Tt,et*=Tt,nt*=Tt,Qe*=Tt,s=Math.sin(i),c=Math.cos(i),f=1-c,m=t[0],b=t[1],x=t[2],T=t[3],C=t[4],L=t[5],N=t[6],D=t[7],G=t[8],q=t[9],J=t[10],ne=t[11],ue=et*et*f+c,ae=nt*et*f+Qe*s,pe=Qe*et*f-nt*s,ge=et*nt*f-Qe*s,Ae=nt*nt*f+c,Ce=Qe*nt*f+et*s,qe=et*Qe*f+nt*s,Ge=nt*Qe*f-et*s,Ue=Qe*Qe*f+c,e[0]=m*ue+C*ae+G*pe,e[1]=b*ue+L*ae+q*pe,e[2]=x*ue+N*ae+J*pe,e[3]=T*ue+D*ae+ne*pe,e[4]=m*ge+C*Ae+G*Ce,e[5]=b*ge+L*Ae+q*Ce,e[6]=x*ge+N*Ae+J*Ce,e[7]=T*ge+D*Ae+ne*Ce,e[8]=m*qe+C*Ge+G*Ue,e[9]=b*qe+L*Ge+q*Ue,e[10]=x*qe+N*Ge+J*Ue,e[11]=T*qe+D*Ge+ne*Ue,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function nue(e,t,i){const r=Math.sin(i),s=Math.cos(i),c=t[4],f=t[5],m=t[6],b=t[7],x=t[8],T=t[9],C=t[10],L=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=c*s+x*r,e[5]=f*s+T*r,e[6]=m*s+C*r,e[7]=b*s+L*r,e[8]=x*s-c*r,e[9]=T*s-f*r,e[10]=C*s-m*r,e[11]=L*s-b*r,e}function sue(e,t,i){const r=Math.sin(i),s=Math.cos(i),c=t[0],f=t[1],m=t[2],b=t[3],x=t[8],T=t[9],C=t[10],L=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=c*s-x*r,e[1]=f*s-T*r,e[2]=m*s-C*r,e[3]=b*s-L*r,e[8]=c*r+x*s,e[9]=f*r+T*s,e[10]=m*r+C*s,e[11]=b*r+L*s,e}function oue(e,t,i){const r=Math.sin(i),s=Math.cos(i),c=t[0],f=t[1],m=t[2],b=t[3],x=t[4],T=t[5],C=t[6],L=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=c*s+x*r,e[1]=f*s+T*r,e[2]=m*s+C*r,e[3]=b*s+L*r,e[4]=x*s-c*r,e[5]=T*s-f*r,e[6]=C*s-m*r,e[7]=L*s-b*r,e}function aue(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lue(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gW(e,t,i){if(t===0)return FS(e);let r,s,c,f=i[0],m=i[1],b=i[2],x=Math.sqrt(f*f+m*m+b*b);return x<Nn()?null:(x=1/x,f*=x,m*=x,b*=x,r=Math.sin(t),s=Math.cos(t),c=1-s,e[0]=f*f*c+s,e[1]=m*f*c+b*r,e[2]=b*f*c-m*r,e[3]=0,e[4]=f*m*c-b*r,e[5]=m*m*c+s,e[6]=b*m*c+f*r,e[7]=0,e[8]=f*b*c+m*r,e[9]=m*b*c-f*r,e[10]=b*b*c+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function uue(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cue(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hue(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vW(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=r+r,b=s+s,x=c+c,T=r*m,C=r*b,L=r*x,N=s*b,D=s*x,G=c*x,q=f*m,J=f*b,ne=f*x;return e[0]=1-(N+G),e[1]=C+ne,e[2]=L-J,e[3]=0,e[4]=C-ne,e[5]=1-(T+G),e[6]=D+q,e[7]=0,e[8]=L+J,e[9]=D-q,e[10]=1-(T+N),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function due(e,t){const i=pue,r=-t[0],s=-t[1],c=-t[2],f=t[3],m=t[4],b=t[5],x=t[6],T=t[7],C=r*r+s*s+c*c+f*f;return C>0?(i[0]=2*(m*f+T*r+b*c-x*s)/C,i[1]=2*(b*f+T*s+x*r-m*c)/C,i[2]=2*(x*f+T*c+m*s-b*r)/C):(i[0]=2*(m*f+T*r+b*c-x*s),i[1]=2*(b*f+T*s+x*r-m*c),i[2]=2*(x*f+T*c+m*s-b*r)),vW(e,t,i),e}const pue=Je();function fue(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yue(e,t){const i=t[0],r=t[1],s=t[2],c=t[4],f=t[5],m=t[6],b=t[8],x=t[9],T=t[10];return e[0]=Math.sqrt(i*i+r*r+s*s),e[1]=Math.sqrt(c*c+f*f+m*m),e[2]=Math.sqrt(b*b+x*x+T*T),e}function mue(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function gue(e,t,i,r){const s=t[0],c=t[1],f=t[2],m=t[3],b=s+s,x=c+c,T=f+f,C=s*b,L=s*x,N=s*T,D=c*x,G=c*T,q=f*T,J=m*b,ne=m*x,ue=m*T,ae=r[0],pe=r[1],ge=r[2];return e[0]=(1-(D+q))*ae,e[1]=(L+ue)*ae,e[2]=(N-ne)*ae,e[3]=0,e[4]=(L-ue)*pe,e[5]=(1-(C+q))*pe,e[6]=(G+J)*pe,e[7]=0,e[8]=(N+ne)*ge,e[9]=(G-J)*ge,e[10]=(1-(C+D))*ge,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function vue(e,t,i,r,s){const c=t[0],f=t[1],m=t[2],b=t[3],x=c+c,T=f+f,C=m+m,L=c*x,N=c*T,D=c*C,G=f*T,q=f*C,J=m*C,ne=b*x,ue=b*T,ae=b*C,pe=r[0],ge=r[1],Ae=r[2],Ce=s[0],qe=s[1],Ge=s[2],Ue=(1-(G+J))*pe,et=(N+ae)*pe,nt=(D-ue)*pe,Qe=(N-ae)*ge,Tt=(1-(L+J))*ge,ri=(q+ne)*ge,yt=(D+ue)*Ae,Oe=(q-ne)*Ae,dt=(1-(L+G))*Ae;return e[0]=Ue,e[1]=et,e[2]=nt,e[3]=0,e[4]=Qe,e[5]=Tt,e[6]=ri,e[7]=0,e[8]=yt,e[9]=Oe,e[10]=dt,e[11]=0,e[12]=i[0]+Ce-(Ue*Ce+Qe*qe+yt*Ge),e[13]=i[1]+qe-(et*Ce+Tt*qe+Oe*Ge),e[14]=i[2]+Ge-(nt*Ce+ri*qe+dt*Ge),e[15]=1,e}function bue(e,t){const i=t[0],r=t[1],s=t[2],c=t[3],f=i+i,m=r+r,b=s+s,x=i*f,T=r*f,C=r*m,L=s*f,N=s*m,D=s*b,G=c*f,q=c*m,J=c*b;return e[0]=1-C-D,e[1]=T+J,e[2]=L-q,e[3]=0,e[4]=T-J,e[5]=1-x-D,e[6]=N+G,e[7]=0,e[8]=L+q,e[9]=N-G,e[10]=1-x-C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function wue(e,t,i,r,s,c,f){const m=1/(i-t),b=1/(s-r),x=1/(c-f);return e[0]=2*c*m,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*c*b,e[6]=0,e[7]=0,e[8]=(i+t)*m,e[9]=(s+r)*b,e[10]=(f+c)*x,e[11]=-1,e[12]=0,e[13]=0,e[14]=f*c*2*x,e[15]=0,e}function _ue(e,t,i,r,s){const c=1/Math.tan(t/2);let f;return e[0]=c/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(f=1/(r-s),e[10]=(s+r)*f,e[14]=2*s*r*f):(e[10]=-1,e[14]=-2*r),e}function Sue(e,t,i,r){const s=Math.tan(t.upDegrees*Math.PI/180),c=Math.tan(t.downDegrees*Math.PI/180),f=Math.tan(t.leftDegrees*Math.PI/180),m=Math.tan(t.rightDegrees*Math.PI/180),b=2/(f+m),x=2/(s+c);return e[0]=b,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x,e[6]=0,e[7]=0,e[8]=-(f-m)*b*.5,e[9]=(s-c)*x*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function $ue(e,t,i,r,s,c,f){const m=1/(t-i),b=1/(r-s),x=1/(c-f);return e[0]=-2*m,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*b,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*x,e[11]=0,e[12]=(t+i)*m,e[13]=(s+r)*b,e[14]=(f+c)*x,e[15]=1,e}function xue(e,t,i,r){const s=t[0],c=t[1],f=t[2];let m=s-i[0],b=c-i[1],x=f-i[2];const T=Nn();if(Math.abs(m)<T&&Math.abs(b)<T&&Math.abs(x)<T)return void FS(e);let C=1/Math.sqrt(m*m+b*b+x*x);m*=C,b*=C,x*=C;const L=r[0],N=r[1],D=r[2];let G=N*x-D*b,q=D*m-L*x,J=L*b-N*m;C=Math.sqrt(G*G+q*q+J*J),C?(C=1/C,G*=C,q*=C,J*=C):(G=0,q=0,J=0);let ne=b*J-x*q,ue=x*G-m*J,ae=m*q-b*G;C=Math.sqrt(ne*ne+ue*ue+ae*ae),C?(C=1/C,ne*=C,ue*=C,ae*=C):(ne=0,ue=0,ae=0),e[0]=G,e[1]=ne,e[2]=m,e[3]=0,e[4]=q,e[5]=ue,e[6]=b,e[7]=0,e[8]=J,e[9]=ae,e[10]=x,e[11]=0,e[12]=-(G*s+q*c+J*f),e[13]=-(ne*s+ue*c+ae*f),e[14]=-(m*s+b*c+x*f),e[15]=1}function Eue(e,t,i,r){const s=t[0],c=t[1],f=t[2],m=r[0],b=r[1],x=r[2];let T=s-i[0],C=c-i[1],L=f-i[2],N=T*T+C*C+L*L;N>0&&(N=1/Math.sqrt(N),T*=N,C*=N,L*=N);let D=b*L-x*C,G=x*T-m*L,q=m*C-b*T;return N=D*D+G*G+q*q,N>0&&(N=1/Math.sqrt(N),D*=N,G*=N,q*=N),e[0]=D,e[1]=G,e[2]=q,e[3]=0,e[4]=C*q-L*G,e[5]=L*D-T*q,e[6]=T*G-C*D,e[7]=0,e[8]=T,e[9]=C,e[10]=L,e[11]=0,e[12]=s,e[13]=c,e[14]=f,e[15]=1,e}function Tue(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Iue(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Mue(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function bW(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function kue(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Cue(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function Aue(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Oue(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],c=e[3],f=e[4],m=e[5],b=e[6],x=e[7],T=e[8],C=e[9],L=e[10],N=e[11],D=e[12],G=e[13],q=e[14],J=e[15],ne=t[0],ue=t[1],ae=t[2],pe=t[3],ge=t[4],Ae=t[5],Ce=t[6],qe=t[7],Ge=t[8],Ue=t[9],et=t[10],nt=t[11],Qe=t[12],Tt=t[13],ri=t[14],yt=t[15],Oe=Nn();return Math.abs(i-ne)<=Oe*Math.max(1,Math.abs(i),Math.abs(ne))&&Math.abs(r-ue)<=Oe*Math.max(1,Math.abs(r),Math.abs(ue))&&Math.abs(s-ae)<=Oe*Math.max(1,Math.abs(s),Math.abs(ae))&&Math.abs(c-pe)<=Oe*Math.max(1,Math.abs(c),Math.abs(pe))&&Math.abs(f-ge)<=Oe*Math.max(1,Math.abs(f),Math.abs(ge))&&Math.abs(m-Ae)<=Oe*Math.max(1,Math.abs(m),Math.abs(Ae))&&Math.abs(b-Ce)<=Oe*Math.max(1,Math.abs(b),Math.abs(Ce))&&Math.abs(x-qe)<=Oe*Math.max(1,Math.abs(x),Math.abs(qe))&&Math.abs(T-Ge)<=Oe*Math.max(1,Math.abs(T),Math.abs(Ge))&&Math.abs(C-Ue)<=Oe*Math.max(1,Math.abs(C),Math.abs(Ue))&&Math.abs(L-et)<=Oe*Math.max(1,Math.abs(L),Math.abs(et))&&Math.abs(N-nt)<=Oe*Math.max(1,Math.abs(N),Math.abs(nt))&&Math.abs(D-Qe)<=Oe*Math.max(1,Math.abs(D),Math.abs(Qe))&&Math.abs(G-Tt)<=Oe*Math.max(1,Math.abs(G),Math.abs(Tt))&&Math.abs(q-ri)<=Oe*Math.max(1,Math.abs(q),Math.abs(ri))&&Math.abs(J-yt)<=Oe*Math.max(1,Math.abs(J),Math.abs(yt))}function Lue(e){const t=Nn(),i=e[0],r=e[1],s=e[2],c=e[4],f=e[5],m=e[6],b=e[8],x=e[9],T=e[10];return Math.abs(1-(i*i+c*c+b*b))<=t&&Math.abs(1-(r*r+f*f+x*x))<=t&&Math.abs(1-(s*s+m*m+T*T))<=t}function Pue(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const Fue=mW,Rue=bW;Object.freeze(Object.defineProperty({__proto__:null,add:Mue,adjoint:Xle,copy:Yle,determinant:eue,equals:Oue,exactEquals:Aue,frob:Iue,fromQuat:bue,fromQuat2:due,fromRotation:gW,fromRotationTranslation:vW,fromRotationTranslationScale:gue,fromRotationTranslationScaleOrigin:vue,fromScaling:lue,fromTranslation:aue,fromXRotation:uue,fromYRotation:cue,fromZRotation:hue,frustum:wue,getRotation:mue,getScaling:yue,getTranslation:fue,hasIdentityRotation:Pue,identity:FS,invert:yW,invertOrIdentity:Qle,isOrthoNormal:Lue,lookAt:xue,mul:Fue,multiply:mW,multiplyScalar:kue,multiplyScalarAndAdd:Cue,ortho:$ue,perspective:_ue,perspectiveFromFieldOfView:Sue,rotate:rue,rotateX:nue,rotateY:sue,rotateZ:oue,scale:iue,set:up,str:Tue,sub:Rue,subtract:bW,targetTo:Eue,translate:tue,transpose:cp},Symbol.toStringTag,{value:"Module"}));const Nue=(e,t)=>{const i=up(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return cp(i,i)},jue=(e,t)=>{const i=up(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return cp(i,i)},Due=(e,t)=>{const i=1-t,r=up(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return cp(r,r)},Vue=(e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),s=up(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return cp(s,s)},zue=(e,t)=>{const i=1-2*t,r=up(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return cp(r,r)},Uue=(e,t)=>{const i=up(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return cp(i,i)},Gue=(e,t)=>{const i=1-t,r=up(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return cp(r,r)};let wW=class _W{constructor(t,i,r){this.strength=t,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(t,i,r){this.strength=eo(t.strength,i.strength,r),this.radius=eo(t.radius,i.radius,r),this.threshold=eo(t.threshold,i.threshold,r)}clone(){return new _W(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:cb(this.radius),strength:this.strength,threshold:this.threshold}}},SW=class $W{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,r){this.radius=Math.round(eo(t.radius,i.radius,r))}clone(){return new $W(this.radius)}toJSON(){return{type:"blur",radius:cb(this.radius)}}},sT=class xW{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.amount=eo(t.amount,i.amount,r),this._updateMatrix()}clone(){return new xW(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||PS();switch(this.type){case"brightness":this._colorMatrix=Nue(t,this.amount);break;case"contrast":this._colorMatrix=jue(t,this.amount);break;case"grayscale":this._colorMatrix=Due(t,this.amount);break;case"invert":this._colorMatrix=zue(t,this.amount);break;case"saturate":this._colorMatrix=Uue(t,this.amount);break;case"sepia":this._colorMatrix=Gue(t,this.amount)}}},EW=class TW{constructor(t,i,r,s){this.offsetX=t,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(t,i,r){this.offsetX=eo(t.offsetX,i.offsetX,r),this.offsetY=eo(t.offsetY,i.offsetY,r),this.blurRadius=eo(t.blurRadius,i.blurRadius,r),this.color[0]=Math.round(eo(t.color[0],i.color[0],r)),this.color[1]=Math.round(eo(t.color[1],i.color[1],r)),this.color[2]=Math.round(eo(t.color[2],i.color[2],r)),this.color[3]=eo(t.color[3],i.color[3],r)}clone(){return new TW(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:cb(this.offsetX),yoffset:cb(this.offsetY),blurRadius:cb(this.blurRadius),color:t}}},IW=class MW{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.angle=eo(t.angle,i.angle,r),this._updateMatrix()}clone(){return new MW(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||PS();this._colorMatrix=Vue(t,this.angle)}},kW=class CW{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,r){this.amount=eo(t.amount,i.amount,r)}clone(){return new CW(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function eo(e,t,i){return e+(t-e)*i}function cb(e){return Math.round(1e3*zo(e))/1e3}function Wue(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new sT(e.type,0);case"saturate":case"brightness":case"contrast":return new sT(e.type,1);case"opacity":return new kW(1);case"hue-rotate":return new IW(0);case"blur":return new SW(0);case"drop-shadow":return new EW(0,0,0,[...L8("transparent")]);case"bloom":return new wW(0,0,1)}}function que(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((r,s)=>r.type===i[s].type)}function Bue(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let s=r.length;s<i.length;s++)r.push(Wue(i[s]))}function Hue(e){const t=e[0];return!!t&&"type"in t}function Jue(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}const hR=()=>ke.getLogger("esri.support.basemapUtils");function Zue(){return{}}function Kue(e){for(const t in e){const i=e[t];tr(i),delete e[t]}}function AW(e,t){let i;if(typeof e=="string"){const r=e in tm,s=!r&&e.includes("/");if(!r&&!s){const c=Object.entries(tm).filter(([f,m])=>ai.apiKey&&!m.classic||!ai.apiKey&&(m.classic||m.is3d)).map(([f])=>`"${f}"`).sort().join(", ");return hR().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${c}`),null}t&&(i=t[e]),i||(i=r?ub.fromId(e):new ub({style:{id:e}}),t&&(t[e]=i))}else i=wr(ub,e);return i!=null&&i.destroyed&&(hR().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function ZCe(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(i=>i.type==="scene")}function KCe(e){var t,i;return!!((i=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&i.some(r=>r.toLowerCase()==="beta"))}function YCe(e,t){var i,r,s,c;return((r=(i=e.basemap)==null?void 0:i.referenceLayers)==null?void 0:r.some(f=>f.uid===t))||((c=(s=e.basemap)==null?void 0:s.baseLayers)==null?void 0:c.some(f=>f.uid===t))}function QCe(e,t=null){const i=AW(e);if(!i)return null;const r=i.clone();return t&&(r.baseLayers=dR(r.baseLayers,t.baseLayers),r.referenceLayers=dR(r.referenceLayers,t.referenceLayers)),r}function Yue(e){let t=null;const i=oT(e),r=!(i!=null&&i.baseLayers.length);for(const s in tm){const c=LW(i,OW(tm[s]),{mustMatchReferences:r});if(c==="equal"){t=s;break}c==="base-layers-equal"&&(t=s)}return t}function XCe(e,t){var i,r;return e===t||((i=e==null?void 0:e.portalItem)==null?void 0:i.id)!=null&&e.portalItem.id===((r=t==null?void 0:t.portalItem)==null?void 0:r.id)?!0:LW(oT(e),oT(t),{mustMatchReferences:!0})==="equal"}function dR(e,t){const i=new it;return e.forEach(r=>{const s=t.find(c=>c.type!=="scene"&&PW(aT(r),aT(c)))||r;i.includes(s)?i.push(r):i.push(s)}),i}function eAe(e){return!!(e!=null&&e.baseLayers.concat(e.referenceLayers).some(Que))}function Que(e){if(pR(e.url))return!0;if(e.type==="vector-tile")for(const t in e.sourceNameToSource){const i=e.sourceNameToSource[t];if(pR(i==null?void 0:i.sourceUrl))return!0}return!1}function tAe(e,t){var c;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const i=t.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?(c=i.tileInfo)==null?void 0:c.spatialReference:i.spatialReference]).filter(Boolean),s=e.spatialReference;return s?{spatialReference:r.find(f=>s.equals(f))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}const Xue=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function pR(e){if(!e)return!1;const t=new Nc(no(e));return!!t.authority&&Xue.test(t.authority)}function oT(e){return e?!e.loaded&&e.resourceInfo?OW(e.resourceInfo.data):{baseLayers:fR(e.baseLayers),referenceLayers:fR(e.referenceLayers)}:null}function fR(e){return(it.isCollection(e)?e.toArray():e).map(aT)}function aT(e){var t,i;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:FW("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(r=>({id:r.id,visible:r.visible})),activeLayerId:e.type==="wmts"?(i=e.activeLayer)==null?void 0:i.id:void 0}}function yR(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function OW(e){return e?{baseLayers:mR((e.baseMapLayers??[]).filter(t=>!yR(t))),referenceLayers:mR((e.baseMapLayers??[]).filter(t=>yR(t)))}:null}function mR(e){return e.map(t=>ece(t))}function ece(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:FW(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function LW(e,t,i){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":gR(e.baseLayers,t.baseLayers)?gR(e.referenceLayers,t.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function gR(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!PW(e[i],t[i]))return!1;return!0}function PW(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!Jue(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let i=0;i<e.sublayers.length;i++){const r=e.sublayers.at(i),s=t.sublayers.at(i);if((r==null?void 0:r.id)!==(s==null?void 0:s.id)||(r==null?void 0:r.visible)!==(s==null?void 0:s.visible))return!1}}return!0}function FW(e){return e?wa(e).replace(/^\s*https?:/i,"").toLowerCase():""}function iAe(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const i=Yue(e);return i?tm[i].thumbnailUrl:Gk(e.baseLayers,tce)}function tce(e){var t;return"portalItem"in e?(t=e.portalItem)==null?void 0:t.thumbnailUrl:void 0}function ice(e){return new nT({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function rAe(e){for(const t of e.values())t==null||t.destroy();e.clear()}const vR={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function rce(e){let t=null;if(typeof e=="string")if(e in vR){const i=vR[e];t=new v4({resourceInfo:{data:{layers:[i]}}})}else ke.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=wr(v4,e);return t}function im(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var lT;function bR(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function nce(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Vh=lT=class extends I0{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):nce(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=(s=i.points)==null?void 0:s[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new rr,i=this.hasZ,r=this.hasM,s=i?3:2,c=e[0],f=bR(Math.min),m=bR(Math.max);let b,x,T,C,[L,N]=c,[D,G]=c;for(let q=0,J=e.length;q<J;q++){const ne=e[q],[ue,ae]=ne;if(L=f(L,ue),N=f(N,ae),D=m(D,ue),G=m(G,ae),i&&ne.length>2){const pe=ne[2];b=f(b,pe),T=m(T,pe)}if(r&&ne.length>s){const pe=ne[s];x=f(x,pe),C=m(C,pe)}}return t.xmin=L,t.ymin=N,t.xmax=D,t.ymax=G,t.spatialReference=this.spatialReference,i?(t.zmin=b,t.zmax=T):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=x,t.mmax=C):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ye(this.points)}addPoint(e){return im(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ye(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new lT(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Hi(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Hi(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(im(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([S({readOnly:!0})],Vh.prototype,"cache",null),g([S()],Vh.prototype,"extent",null),g([S({type:[[Number]],json:{write:{isRequired:!0}}})],Vh.prototype,"points",void 0),g([De("points")],Vh.prototype,"writePoints",null),Vh=lT=g([Q("esri.geometry.Multipoint")],Vh),Vh.prototype.toJSON.isDefaultToJSON=!0;const Mm=Vh;function nAe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function sce(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Wd;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Wd||(Wd={}));function wR(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice(0);if(e.type==="polyline")return e.paths.slice(0);if(e.type==="multipoint")return e.points.slice(0);if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,c=!1;return r.forEach(f=>{f.hasZ&&(s=!0),f.hasM&&(c=!0)}),r.map(f=>{const m=[[f.xmin,f.ymin],[f.xmin,f.ymax],[f.xmax,f.ymax],[f.xmax,f.ymin],[f.xmin,f.ymin]];if(s&&f.hasZ){const b=.5*(f.zmax-f.zmin);for(let x=0;x<m.length;x++)m[x].push(b)}if(c&&f.hasM){const b=.5*(f.mmax-f.mmin);for(let x=0;x<m.length;x++)m[x].push(b)}return m})}return null}function RS(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function RW(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function sAe(e,t,i,r){return oce(e,t,i[r],i[r+1])}function oce(e,t,i,r){const[s,c]=t,[f,m]=i,[b,x]=r,T=b-f,C=x-m,L=T*T+C*C,N=(s-f)*T+(c-m)*C,D=Math.min(1,Math.max(0,N/L));return e[0]=f+T*D,e[1]=m+C*D,e}function oAe(e,t,i,r,s,c){let f=i,m=r,b=s-f,x=c-m;if(b!==0||x!==0){const T=((e-f)*b+(t-m)*x)/(b*b+x*x);T>1?(f=s,m=c):T>0&&(f+=b*T,m+=x*T)}return b=e-f,x=t-m,b*b+x*x}function NW(e,t){return RW(e,t,.5)}function aAe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=RS(e[r],e[r+1]);return i}function lAe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const c=RS(e[s],e[s+1]);if(t-r<c){const f=(t-r)/c;return RW(e[s],e[s+1],f)}r+=c}return e[i-1]}function jW(e,t=Wd.X,i=Wd.Y){let r=0;const s=e.length;let c=e[0];for(let f=0;f<s-1;f++){const m=e[f+1];r+=(m[t]-c[t])*(m[i]+c[i]),c=m}return r>=0}function ace(e){const t=e.length;return t>2&&o0(e[0],e[t-1])}function uAe(e){if("rings"in e&&(lce(e),e.rings.length>0&&!jW(e.rings[0])))for(const t of e.rings)t.reverse()}function lce(e){if("rings"in e)for(const t of e.rings)ace(t)||t.push(t[0].slice())}function cAe(e){return e.type!=="polygon"&&e.type!=="polyline"||uce(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function uce(e,t){const i=rb(t);if(!i)return;const r=i.valid[0],s=i.valid[1],c=s-r;for(const f of e){let m=1/0,b=-1/0;for(const T of f){const C=cce(T[0],r,s);m=Math.min(m,C),b=Math.max(b,C),T[0]=C}const x=b-m;c-x<x&&f.forEach(T=>{T[0]<0&&(T[0]+=c)})}}function cce(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function hAe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,c)=>s.length===r[c].length)}function dAe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function hce(e){return e?dce(e.rings,e.hasZ??!1):null}function dce(e,t){if(!(e!=null&&e.length))return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let c=0,f=e.length;c<f;c++){const m=DW(e[c],t,s);m&&r.push(m)}if(r.sort((c,f)=>{let m=c[2]-f[2];return m===0&&t&&(m=c[4]-f[4]),m}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const c=e[0]&&e[0].length?pce(e[0],t):null;if(!c)return null;i[0]=c[0],i[1]=c[1],t&&c.length>2&&(i[2]=c[2])}return i}function DW(e,t,i){let r=0,s=0,c=0,f=0,m=0;const b=e.length?e[0][0]:0,x=e.length?e[0][1]:0,T=e.length&&t?e[0][2]:0;for(let L=0;L<e.length;L++){const N=e[L],D=e[(L+1)%e.length],[G,q,J]=N,ne=G-b,ue=q-x,[ae,pe,ge]=D,Ae=ae-b,Ce=pe-x,qe=ne*Ce-Ae*ue;if(f+=qe,r+=(ne+Ae)*qe,s+=(ue+Ce)*qe,t&&N.length>2&&D.length>2){const Ge=J-T,Ue=ge-T,et=ne*Ue-Ae*Ge;c+=(Ge+Ue)*et,m+=et}G<i[0]&&(i[0]=G),G>i[1]&&(i[1]=G),q<i[2]&&(i[2]=q),q>i[3]&&(i[3]=q),t&&(J<i[4]&&(i[4]=J),J>i[5]&&(i[5]=J))}if(f>0&&(f*=-1),m>0&&(m*=-1),!f)return null;f*=.5,m*=.5;const C=[r/(6*f)+b,s/(6*f)+x,f];return t&&(i[4]===i[5]||m===0?(C[3]=(i[4]+i[5])/2,C[4]=0):(C[3]=c/(6*m)+T,C[4]=m)),C}function pAe(e,t){let i=0,r=0,s=0;e.nextPoint();const c=e.pathSize?e.x:0,f=e.pathSize?e.y:0;for(let m=0;m<e.pathSize;m++){e.seekInPath(m);const b=[e.x,e.y];e.seekInPath((m+1)%e.pathSize);const x=[e.x,e.y],[T,C]=b,L=T-c,N=C-f,[D,G]=x,q=D-c,J=G-f,ne=L*J-q*N;s+=ne,i+=(L+q)*ne,r+=(N+J)*ne,T<t[0]&&(t[0]=T),T>t[1]&&(t[1]=T),C<t[2]&&(t[2]=C),C>t[3]&&(t[3]=C)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+c,r/(6*s)+f,s]):null}function pce(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,c=0,f=0,m=0;for(let b=0,x=e.length;b<x-1;b++){const T=e[b],C=e[b+1];if(T&&C){i[0]=T[0],i[1]=T[1],r[0]=C[0],r[1]=C[1],t&&T.length>2&&C.length>2&&(i[2]=T[2],r[2]=C[2]);const L=RS(i,r);if(L){s+=L;const N=NW(T,C);c+=L*N[0],f+=L*N[1],t&&N.length>2&&(m+=L*N[2])}}}return s>0?t?[c/s,f/s,m/s]:[c/s,f/s]:e.length?e[0]:null}function fce(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],c=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const f=DW(sce(e),e.hasZ,c);f&&s.push(f)}if(s.sort((f,m)=>{let b=f[2]-m[2];return b===0&&t&&(b=f[4]-m[4]),b}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<c[0]||r[0]>c[1]||r[1]<c[2]||r[1]>c[3]||t&&(r[2]<c[4]||r[2]>c[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const f=e.pathSize?yce(e):null;if(!f)return null;r[0]=f[0],r[1]=f[1],t&&f.length>2&&(r[2]=f[2])}return r}function yce(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,c=0,f=0,m=0;if(e.nextPoint()){let b=e.x,x=e.y,T=e.z;for(;e.nextPoint();){const C=e.x,L=e.y,N=e.z;i[0]=b,i[1]=x,r[0]=C,r[1]=L,t&&(i[2]=T,r[2]=N);const D=RS(i,r);if(D){s+=D;const G=NW(i,r);c+=D*G[0],f+=D*G[1],t&&G.length>2&&(m+=D*G[2])}b=C,x=L,T=N}}return s>0?t?[c/s,f/s,m/s]:[c/s,f/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const mce=1e-6;function fAe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<mce){const s=fce(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)vce(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const gce=1/3;function vce(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let c,f=i.x-r,m=i.y-s,b=0,x=0;for(;i.nextPoint();)b=i.x-r,x=i.y-s,c=.5*gce*(b*m-x*f),e[0]+=c*(f+b),e[1]+=c*(m+x),f=b,m=x;const T=i.getCurrentRingArea(),C=[r,s];return C[0]-=t[0],C[1]-=t[1],C[0]*=T,C[1]*=T,e[0]+=C[0],e[1]+=C[1],e}function km(e=bce){return[e[0],e[1],e[2],e[3]]}function yAe(e){return[e[0],e[1],e[2],e[3]]}function R8(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function mAe(e,t,i,r,s=km()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function gAe(e,t=km()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function vAe(e,t){return new rr({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function bAe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function wAe(e,t,i){if(t!=null)if("length"in t)uT(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else R8(i,e)}function _Ae(e,t,i=e){const r=t.length;let s=e[0],c=e[1],f=e[2],m=e[3];for(let b=0;b<r;b++){const x=t[b];s=Math.min(s,x[0]),c=Math.min(c,x[1]),f=Math.max(f,x[0]),m=Math.max(m,x[1])}return i[0]=s,i[1]=c,i[2]=f,i[3]=m,i}function SAe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function NS(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function jS(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function $Ae(e){return NS(e)*jS(e)}function xAe(e){return NS(e)>0&&jS(e)>0}function EAe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function TAe(e,t){return VW(e,t[0],t[1])}function IAe(e,t){const i=t[3],r=.5*(e[0]+e[2]),s=Math.abs(t[0]-r),c=.5*(e[2]-e[0]);if(s>i+c)return!1;const f=.5*(e[1]+e[3]),m=.5*(e[3]-e[1]),b=Math.abs(t[1]-f);if(b>i+m)return!1;if(s<c||b<m)return!0;const x=s-c,T=b-m;return x*x+T*T<=i*i}function MAe(e,t,i){const r=e[0],s=e[1],c=e[2],f=e[3],{x:m,y:b}=t,{x,y:T}=i,C=(q,J)=>(T-b)*q+(m-x)*J+(x*b-m*T)<0,L=C(r,f),N=C(c,f),D=C(c,s),G=C(r,s);return!(L===N&&N===D&&D===G&&G===L||m<r&&x<r||m>c&&x>c||b>f&&T>f||b<s&&T<s)}function kAe(e,t){return VW(e,t.x,t.y)}function VW(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function CAe(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function AAe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function OAe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function LAe(e,t,i){if(t==null)return R8(i,e);const r=t[0],s=t[1],c=t[2],f=t[3];return i[0]=Rn(e[0],r,c),i[1]=Rn(e[1],s,f),i[2]=Rn(e[2],r,c),i[3]=Rn(e[3],s,f),i}function PAe(e,t){const i=(e[0]+e[2])/2,r=(e[1]+e[3])/2,s=Math.max(Math.abs(t[0]-i)-NS(e)/2,0),c=Math.max(Math.abs(t[1]-r)-jS(e)/2,0);return Math.sqrt(s*s+c*c)}function FAe(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function RAe(e,t,i=e){return i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i}function NAe(e){return e?R8(e,_R):km(_R)}function uT(e){return e!=null&&e.length===4}function jAe(e){return!(NS(e)!==0&&isFinite(e[0])||jS(e)!==0&&isFinite(e[1]))}function DAe(e,t){return uT(e)&&uT(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const VAe=[-1/0,-1/0,1/0,1/0],_R=[1/0,1/0,-1/0,-1/0],bce=[0,0,0,0];function zW(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function UW(e){return e.points!==void 0}function GW(e){return e.x!==void 0&&e.y!==void 0}function WW(e){return e.paths!==void 0}function qW(e){return e.rings!==void 0}function BW(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const Ad=BW(Math.min),Od=BW(Math.max);function zAe(e,t){return WW(t)?rm(e,t.paths,!1,!1):qW(t)?rm(e,t.rings,!1,!1):UW(t)?N8(e,t.points,!1,!1,!1,!1):zW(t)?HW(e,t):(GW(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function UAe(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const c=wce(e);t=Math.min(c[0],t),r=Math.min(c[1],r),i=Math.max(c[2],i),s=Math.max(c[3],s)}return km([t,r,i,s])}function wce(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return km([t,r,i,s])}function GAe(e,t){return WW(t)?rm(e,t.paths,!0,!1):qW(t)?rm(e,t.rings,!0,!1):UW(t)?N8(e,t.points,!0,!1,!0,!1):zW(t)?HW(e,t,!0,!1,!0,!1):(GW(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function rm(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let c,f,m,b,[x,T]=t[0][0],[C,L]=t[0][0];for(let N=0;N<t.length;N++){const D=t[N];for(let G=0;G<D.length;G++){const q=D[G],[J,ne]=q;if(x=Ad(x,J),T=Ad(T,ne),C=Od(C,J),L=Od(L,ne),i&&q.length>2){const ue=q[2];c=Ad(c,ue),f=Od(f,ue)}if(r&&q.length>s){const ue=q[s];m=Ad(c,ue),b=Od(f,ue)}}}return i?r?(e[0]=x,e[1]=T,e[2]=c,e[3]=m,e[4]=C,e[5]=L,e[6]=f,e[7]=b,e.length=8,e):(e[0]=x,e[1]=T,e[2]=c,e[3]=C,e[4]=L,e[5]=f,e.length=6,e):r?(e[0]=x,e[1]=T,e[2]=m,e[3]=C,e[4]=L,e[5]=b,e.length=6,e):(e[0]=x,e[1]=T,e[2]=C,e[3]=L,e.length=4,e)}function HW(e,t,i,r,s,c){const f=t.xmin,m=t.xmax,b=t.ymin,x=t.ymax;let T=t.zmin,C=t.zmax,L=t.mmin,N=t.mmax;return s?(T=T||0,C=C||0,c?(L=L||0,N=N||0,e[0]=f,e[1]=b,e[2]=T,e[3]=L,e[4]=m,e[5]=x,e[6]=C,e[7]=N,e):(e[0]=f,e[1]=b,e[2]=T,e[3]=m,e[4]=x,e[5]=C,e)):c?(L=L||0,N=N||0,e[0]=f,e[1]=b,e[2]=L,e[3]=m,e[4]=x,e[5]=N,e):(e[0]=f,e[1]=b,e[2]=m,e[3]=x,e)}function N8(e,t,i,r,s,c){const f=i?3:2,m=r&&c,b=i&&s;if(!t.length||!t[0].length)return null;let x,T,C,L,[N,D]=t[0],[G,q]=t[0];for(let J=0;J<t.length;J++){const ne=t[J],[ue,ae]=ne;if(N=Ad(N,ue),D=Ad(D,ae),G=Od(G,ue),q=Od(q,ae),b&&ne.length>2){const pe=ne[2];x=Ad(x,pe),T=Od(T,pe)}if(m&&ne.length>f){const pe=ne[f];C=Ad(x,pe),L=Od(T,pe)}}return s?(x=x||0,T=T||0,c?(C=C||0,L=L||0,e[0]=N,e[1]=D,e[2]=x,e[3]=C,e[4]=G,e[5]=q,e[6]=T,e[7]=L,e):(e[0]=N,e[1]=D,e[2]=x,e[3]=G,e[4]=q,e[5]=T,e)):c?(C=C||0,L=L||0,e[0]=N,e[1]=D,e[2]=C,e[3]=G,e[4]=q,e[5]=L,e):(e[0]=N,e[1]=D,e[2]=G,e[3]=q,e)}function _ce(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Sce(e){return e.points!==void 0}function $ce(e){return e.x!==void 0&&e.y!==void 0}function xce(e){return e.paths!==void 0}function Ece(e){return e.rings!==void 0}const j8=[];function JW(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function ZW(e,t,i,r,s,c){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:c}}function KW(e,t,i,r,s,c){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:c}}function YW(e,t,i,r,s,c,f,m){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:c,zmax:f,mmax:m}}function D8(e,t=!1,i=!1){return t?i?YW(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):ZW(e[0],e[1],e[2],e[3],e[4],e[5]):i?KW(e[0],e[1],e[2],e[3],e[4],e[5]):JW(e[0],e[1],e[2],e[3])}function WAe(e){return e?_ce(e)?e:$ce(e)?Ice(e):Ece(e)?QW(e):xce(e)?XW(e):Sce(e)?Tce(e):null:null}function Tce(e){const{hasZ:t,hasM:i,points:r}=e;return D8(N8(j8,r,t??!1,i??!1),t,i)}function Ice(e){const{x:t,y:i,z:r,m:s}=e,c=s!=null;return r!=null?c?YW(t,i,r,s,t,i,r,s):ZW(t,i,r,t,i,r):c?KW(t,i,s,t,i,s):JW(t,i,t,i)}function QW(e){const{hasZ:t,hasM:i,rings:r}=e,s=rm(j8,r,t??!1,i??!1);return s?D8(s,t,i):null}function XW(e){const{hasZ:t,hasM:i,paths:r}=e,s=rm(j8,r,t??!1,i??!1);return s?D8(s,t,i):null}var A5;function SR(e){return!Array.isArray(e[0])}let jl=A5=class extends I0{static fromExtent(e){const t=e.clone().normalize(),i=e.spatialReference;let r=!1,s=!1;for(const f of t)f.hasZ&&(r=!0),f.hasM&&(s=!0);const c={rings:t.map(f=>{const m=[[f.xmin,f.ymin],[f.xmin,f.ymax],[f.xmax,f.ymax],[f.xmax,f.ymin],[f.xmin,f.ymin]];if(r&&f.hasZ){const b=f.zmin+.5*(f.zmax-f.zmin);for(let x=0;x<m.length;x++)m[x].push(b)}if(s&&f.hasM){const b=f.mmin+.5*(f.mmax-f.mmin);for(let x=0;x<m.length;x++)m[x].push(b)}return m}),spatialReference:i};return r&&(c.hasZ=!0),s&&(c.hasM=!0),new A5(c)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var f,m;let i,r,s=null,c=null;return e&&!Array.isArray(e)?(s=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),i=e.hasZ,r=e.hasM):s=e,s=s||[],t=t||Lt.WGS84,s.length&&((f=s[0])==null?void 0:f[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),c=(m=s[0])==null?void 0:m[0],c&&(i===void 0&&r===void 0?(i=c.length>2,r=c.length>3):i===void 0?i=r?c.length>3:c.length>2:r===void 0&&(r=i?c.length>3:c.length>2)),{rings:s,spatialReference:t,hasZ:i,hasM:r}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=hce(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Hi;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=QW(this);if(!t)return null;const i=new rr(t);return i.spatialReference=e,i}get isSelfIntersecting(){return pae(this.rings)}writeRings(e,t){t.rings=ye(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(SR(e)){const r=[];for(let s=0,c=e.length;s<c;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new A5;return e.spatialReference=this.spatialReference,e.rings=ye(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,c,f,m],[b,x,T,C])=>s===b&&c===x&&(f==null&&T==null||f===T)&&(m==null&&C==null||m===C);for(let s=0;s<this.rings.length;s++){const c=this.rings[s],f=e.rings[s];if(!o0(c,f,r))return!1}return!0}contains(e){if(!e)return!1;const t=jG(e,this.spatialReference);return rae(this,t??e)}isClockwise(e){let t;return t=SR(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e,jW(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Hi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Hi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Hi(i[0],i[1],i[2],i[3],this.spatialReference):new Hi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(im(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Hi(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Hi(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(im(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([S({readOnly:!0})],jl.prototype,"cache",null),g([S({readOnly:!0})],jl.prototype,"centroid",null),g([S({readOnly:!0})],jl.prototype,"extent",null),g([S({readOnly:!0})],jl.prototype,"isSelfIntersecting",null),g([S({type:[[[Number]]],json:{write:{isRequired:!0}}})],jl.prototype,"rings",void 0),g([De("rings")],jl.prototype,"writeRings",null),jl=A5=g([Q("esri.geometry.Polygon")],jl),jl.prototype.toJSON.isDefaultToJSON=!0;const wl=jl;var cT;function Mce(e){return!Array.isArray(e[0])}let zh=cT=class extends I0{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var f,m;let i,r,s=null,c=null;return e&&!Array.isArray(e)?(s=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),i=e.hasZ,r=e.hasM):s=e,s=s||[],t=t||Lt.WGS84,s.length&&((f=s[0])==null?void 0:f[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),c=(m=s[0])==null?void 0:m[0],c&&(i===void 0&&r===void 0?(i=c.length>2,r=!1):i===void 0?i=!r&&c.length>3:r===void 0&&(r=!i&&c.length>3)),{paths:s,spatialReference:t,hasZ:i,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=XW(this);if(!t)return null;const i=new rr(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=ye(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(Mce(e)){const r=[];for(let s=0,c=e.length;s<c;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new cT;return e.spatialReference=this.spatialReference,e.paths=ye(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Hi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Hi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Hi(i[0],i[1],i[2],i[3],this.spatialReference):new Hi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(im(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Hi(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Hi(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(im(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([S({readOnly:!0})],zh.prototype,"cache",null),g([S({readOnly:!0})],zh.prototype,"extent",null),g([S({type:[[[Number]]],json:{write:{isRequired:!0}}})],zh.prototype,"paths",void 0),g([De("paths")],zh.prototype,"writePaths",null),zh=cT=g([Q("esri.geometry.Polyline")],zh),zh.prototype.toJSON.isDefaultToJSON=!0;const M0=zh,kce=kn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),$R=kn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function eq(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function tq(e){return e.points!==void 0}function iq(e){return e.x!==void 0&&e.y!==void 0}function rq(e){return e.paths!==void 0}function hb(e){return e.rings!==void 0}function Jc(e){return e==null?null:e instanceof I0?e:iq(e)?Hi.fromJSON(e):rq(e)?M0.fromJSON(e):hb(e)?wl.fromJSON(e):tq(e)?Mm.fromJSON(e):eq(e)?rr.fromJSON(e):null}function V8(e){return e?iq(e)?"esriGeometryPoint":rq(e)?"esriGeometryPolyline":hb(e)?"esriGeometryPolygon":eq(e)?"esriGeometryEnvelope":tq(e)?"esriGeometryMultipoint":null:null}const Cce={esriGeometryPoint:Hi,esriGeometryPolyline:M0,esriGeometryPolygon:wl,esriGeometryEnvelope:rr,esriGeometryMultipoint:Mm};function Ace(e){return e&&Cce[e]||null}const hp={base:I0,key:"type",typeMap:{extent:rr,multipoint:Mm,point:Hi,polyline:M0,polygon:wl}};$u(hp);let nq=0;const dp=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+nq++})}};return t=g([Q("esri.core.Identifiable")],t),t},qAe=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:nq++})}};return t=g([Q("esri.core.NumericIdentifiable")],t),t};let xR=class extends dp(class{}){};xR=g([Q("esri.core.Identifiable")],xR);async function Oce(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await te(async()=>{const{fromItem:r}=await import("./portalLayers-BspRslh8.js").then(s=>s.p);return{fromItem:r}},__vite__mapDeps([11,12,13]));try{return await i(t)}catch(r){const s=t&&t.portalItem,c=(s==null?void 0:s.id)||"unset",f=s&&s.portal&&s.portal.url||ai.portalUrl;throw ke.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+f+"', id: '"+c+"')",r),r}}let Lce=0,Gr=class extends Ps.EventedMixin(dp(Ma)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new rr(-180,-90,180,90,Lt.WGS84),this.id=Date.now().toString(16)+"-layer-"+Lce++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Lt.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await te(async()=>{const{fromUrl:r}=await import("./arcgisLayers-B0bzLYmi.js");return{fromUrl:r}},__vite__mapDeps([16,12,17,13]))).fromUrl(i)}static fromPortalItem(t){return Oce(t)}initialize(){this.when().catch(t=>{cs(t)||ke.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Nr(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Ut(t,{query:{f:"json"},responseType:"json"})).data;throw new me("layer:no-attribution-data","Layer does not have attribution data")}};g([S({type:String})],Gr.prototype,"attributionDataUrl",void 0),g([S({type:rr})],Gr.prototype,"fullExtent",void 0),g([S({readOnly:!0})],Gr.prototype,"hasAttributionData",null),g([S({type:String,clonable:!1})],Gr.prototype,"id",void 0),g([S({type:Boolean,nonNullable:!0})],Gr.prototype,"legendEnabled",void 0),g([S({type:["show","hide","hide-children"]})],Gr.prototype,"listMode",void 0),g([S({type:Number,range:{min:0,max:1},nonNullable:!0})],Gr.prototype,"opacity",void 0),g([S({clonable:!1})],Gr.prototype,"parent",void 0),g([S({readOnly:!0})],Gr.prototype,"parsedUrl",null),g([S({type:Boolean,readOnly:!0})],Gr.prototype,"persistenceEnabled",void 0),g([S({type:Boolean})],Gr.prototype,"popupEnabled",void 0),g([S({type:Boolean})],Gr.prototype,"attributionVisible",void 0),g([S({type:Lt})],Gr.prototype,"spatialReference",void 0),g([S({type:String})],Gr.prototype,"title",void 0),g([S({readOnly:!0,json:{read:!1}})],Gr.prototype,"type",void 0),g([S()],Gr.prototype,"url",void 0),g([S({type:Boolean,nonNullable:!0})],Gr.prototype,"visible",void 0),Gr=g([Q("esri.layers.Layer")],Gr);const z8=Gr;function hT(e,t,i){let r,s;if(e)for(let c=0,f=e.length;c<f;c++){if(r=e.at(c),(r==null?void 0:r[t])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=hT(r.layers,t,i),s))return s}}const Pce=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new it;const r=f=>{f.parent&&"remove"in f.parent&&f.parent.remove(f)},s=f=>{f.parent=this,this.layerAdded(f),f.type!=="elevation"&&f.type!=="base-elevation"||ke.getLogger(this).error(`Layer 'title:${f.title}, id:${f.id}' of type '${f.type}' is not supported as an operational layer and will therefore be ignored.`)},c=f=>{f.parent=null,this.layerRemoved(f)};this.addHandles([this.layers.on("before-add",f=>r(f.item)),this.layers.on("after-add",f=>s(f.item)),this.layers.on("after-remove",f=>c(f.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",u0(i,this._get("layers")))}add(i,r){const s=this.layers;if(r=s.getNextIndex(r),i instanceof z8){const c=i;c.parent===this?this.reorder(c,r):s.add(c,r)}else xm(i)?i.then(c=>{this.destroyed||this.add(c,r)}):ke.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const s=this.layers;let c=s.getNextIndex(r);i.slice().forEach(f=>{f.parent!==this?(s.add(f,c),c+=1):this.reorder(f,c)})}findLayerById(i){return hT(this.layers,"id",i)}findLayerByUid(i){return hT(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return g([S()],t.prototype,"layers",null),t=g([Q("esri.support.LayersMixin")],t),t};function dT(e,t,i){if(e)for(let r=0,s=e.length;r<s;r++){const c=e.at(r);if(c[t]===i)return c;if((c==null?void 0:c.type)==="group"){const f=dT(c.tables,t,i);if(f)return f}}}const Fce=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new it,this.addHandles([this.tables.on("after-add",r=>{const s=r.item;s.parent&&s.parent!==this&&"tables"in s.parent&&s.parent.tables.remove(s),s.parent=this,s.type!=="feature"&&ke.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",u0(i,this._get("tables")))}findTableById(i){return dT(this.tables,"id",i)}findTableByUid(i){return dT(this.tables,"uid",i)}};return g([S()],t.prototype,"tables",null),t=g([Q("esri.support.TablesMixin")],t),t};let Ga=class extends Fce(Pce(Ps.EventedMixin(ht))){constructor(t){super(t),this.allLayers=new nT({getCollections:()=>{var i,r,s;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(s=this.basemap)==null?void 0:s.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=ice(this),this.basemap=null,this.editableLayers=new nT({getCollections:()=>[this.allLayers],itemFilterFunction:qb}),this.ground=new v4,this._basemapCache=Zue()}destroy(){Kue(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=tr(this.basemap),tr(this.ground),this._set("ground",null)}castBasemap(t){return AW(t,this._basemapCache)}castGround(t){return rce(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};g([S({readOnly:!0,dependsOn:[]})],Ga.prototype,"allLayers",void 0),g([S({readOnly:!0})],Ga.prototype,"allTables",void 0),g([S({type:ub,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Ga.prototype,"basemap",void 0),g([bi("basemap")],Ga.prototype,"castBasemap",null),g([S({readOnly:!0})],Ga.prototype,"editableLayers",void 0),g([S({type:v4,nonNullable:!0})],Ga.prototype,"ground",void 0),g([bi("ground")],Ga.prototype,"castGround",null),g([S()],Ga.prototype,"undoRedo",void 0),Ga=g([Q("esri.Map")],Ga);const Rce=Ga,ti=e=>{let t=class extends e{clone(){var b;const i=As(this);mS(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,c={},f=new Map;for(const x in r){const T=r[x],C=s==null?void 0:s.originOf(x),L=T.clonable;if(T.readOnly||L===!1||C!==Gt.USER&&C!==Gt.DEFAULTS&&C!==Gt.WEB_MAP&&C!==Gt.WEB_SCENE)continue;const N=this[x];let D=null;D=typeof L=="function"?L(N):L==="reference"?N:dE(N),N!=null&&D==null||(C===Gt.DEFAULTS?f.set(x,D):c[x]=D)}const m=new(Object.getPrototypeOf(this)).constructor(c);if(f.size){const x=(b=As(m))==null?void 0:b.store;if(x)for(const[T,C]of f)x.set(T,C,Gt.DEFAULTS)}return m}};return t=g([Q("esri.core.Clonable")],t),t};let pT=class extends ti(ht){};pT=g([Q("esri.core.Clonable")],pT);let Bp=class extends pT{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};g([S({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bp.prototype,"row",void 0),g([S({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bp.prototype,"column",void 0),g([S({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bp.prototype,"rows",void 0),g([S({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bp.prototype,"columns",void 0),Bp=g([Q("esri.CameraLayout")],Bp);const sq=Bp;let DS=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}ndiff(t,i=0){return Math.ceil((t-i)/this.range)*this.range+i}_normalize(t,i,r,s=0,c=!1){return(r-=s)<t?r+=this.ndiff(t-r):r>i&&(r-=this.ndiff(r-i)),c&&r===i&&(r=t),r+s}normalize(t,i=0,r=!1){return this._normalize(this.min,this.max,t,i,r)}clamp(t,i=0){return Rn(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+this.ndiff(t-i,r)}minimalMonotonic(t,i,r){return this._normalize(t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,s=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(s)?r:s}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function U8(e){for(const t in e){const i=e[t];i instanceof Function&&(e[t]=i.bind(e))}return e}const oq=U8(new DS(0,2*Math.PI)),Nce=U8(new DS(-Math.PI,Math.PI)),G8=U8(new DS(0,360));let Dl=class extends ti($e){constructor(...t){super(...t),this.position=new Hi([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new sq}normalizeCtorArgs(t,i,r,s){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const c={position:t};return i!=null&&(c.heading=i),r!=null&&(c.tilt=r),s!=null&&(c.fov=s),c}return t}writePosition(t,i,r,s){const c=t.clone();c.x=pa(t.x||0),c.y=pa(t.y||0),c.z=t.hasZ?pa(t.z||0):t.z,i[r]=c.write({},s)}readPosition(t,i){const r=new Hi;return r.read(t,i),r.x=pa(r.x||0),r.y=pa(r.y||0),r.z=r.hasZ?pa(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};g([S({type:Hi,json:{write:{isRequired:!0}}})],Dl.prototype,"position",void 0),g([De("position")],Dl.prototype,"writePosition",null),g([Pe("position")],Dl.prototype,"readPosition",null),g([S({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),bi(e=>G8.normalize(pa(e)))],Dl.prototype,"heading",void 0),g([S({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),bi(e=>Rn(pa(e),-180,180))],Dl.prototype,"tilt",void 0),g([S({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Dl.prototype,"fov",void 0),g([S({type:sq,nonNullable:!0,json:{read:!1,write:!1}})],Dl.prototype,"layout",void 0),Dl=g([Q("esri.Camera")],Dl);const jce=Dl;var fT;let Uh=fT=class extends $e{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new fT({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};function V6(){return{enabled:!this.camera}}g([S({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:V6}}}}})],Uh.prototype,"rotation",void 0),g([bi("rotation")],Uh.prototype,"castRotation",null),g([S({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:V6}}}}})],Uh.prototype,"scale",void 0),g([S({types:hp,json:{read:Jc,write:!0,origins:{"web-scene":{read:Jc,write:{overridePolicy:V6}}}}})],Uh.prototype,"targetGeometry",void 0),g([S({type:jce,json:{write:!0}})],Uh.prototype,"camera",void 0),Uh=fT=g([Q("esri.Viewpoint")],Uh);const b0=Uh;let Dce=class aq{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(yE),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new aq,r=this._originStores[Gt.DEFAULTS];r&&r.forEach((s,c)=>{i.set(c,ye(s),Gt.DEFAULTS)});for(let s=Gt.SERVICE;s<yE;s++){const c=this._originStores[s];c&&c.forEach((f,m)=>{t&&t.has(m)||i.set(m,ye(f),s)})}return i}get(t,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,r=Gt.USER){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const c=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),c!==i}return!1}delete(t,i=Gt.USER){const r=this._originStores[i];if(!r)return;const s=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let c=i-1;c>=0;c--){const f=this._originStores[c];if(f&&f.has(t)){this._values.set(t,f.get(t)),this._propertyOriginMap.set(t,c);break}}}return s}has(t,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(t),c=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,i),c!==s}originOf(t){return this._propertyOriginMap.get(t)||Gt.DEFAULTS}forEach(t){this._values.forEach(t)}};const lq=e=>{let t=class extends e{constructor(...i){super(...i);const r=As(this),s=r.store,c=new Dce;r.store=c,JU(r,s,c)}read(i,r){KU(this,i,r)}getAtOrigin(i,r){const s=z6(this),c=kd(r);if(typeof i=="string")return s.get(i,c);const f={};return i.forEach(m=>{f[m]=s.get(m,c)}),f}originOf(i){return B_(this.originIdOf(i))}originIdOf(i){return z6(this).originOf(i)}revert(i,r){const s=z6(this),c=kd(r),f=As(this);let m;m=typeof i=="string"?i==="*"?s.keys(c):[i]:i,m.forEach(b=>{f.invalidate(b),s.revert(b,c),f.commit(b)})}};return t=g([Q("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function z6(e){return As(e).store}let ER=class extends lq(ht){};ER=g([Q("esri.core.ReadOnlyMultiOriginJSONSupport")],ER);const Vce=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,r="user"){return U6(this).delete(i,kd(r))}write(i,r){return XU(this,i=i||{},r),i}setAtOrigin(i,r,s){As(this).setAtOrigin(i,r,kd(s))}removeOrigin(i){const r=U6(this),s=kd(i),c=r.keys(s);for(const f of c)r.originOf(f)===s&&r.set(f,r.get(f,s),Gt.USER)}updateOrigin(i,r){const s=U6(this),c=kd(r),f=ma(this,i);for(let m=c+1;m<yE;++m)s.delete(i,m);s.set(i,f,c)}toJSON(i){return this.write({},i)}};return t=g([Q("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function U6(e){return As(e).store}const VS=e=>{let t=class extends Vce(lq(e)){constructor(...i){super(...i)}};return t=g([Q("esri.core.MultiOriginJSONSupport")],t),t};let yT=class extends VS(ht){};yT=g([Q("esri.core.MultiOriginJSONSupport")],yT);function Ze(e,t,i={}){return W8(e,t,i,cq)}function _l(e,t,i={}){return W8(e,t,i,hq)}function W8(e,t,i={},r){let s=null;const c=i.once?(f,m)=>{r(f)&&(ks(s),t(f,m))}:(f,m)=>{r(f)&&t(f,m)};if(s=wne(e,c,i.sync,i.equals),i.initial){const f=e();c(f,f)}return s}function Zr(e,t,i,r={}){let s=null,c=null,f=null;function m(){var T;s&&c&&(c.remove(),(T=r.onListenerRemove)==null||T.call(r,s),s=null,c=null)}function b(T){r.once&&r.once&&ks(f),i(T)}const x=Ze(e,(T,C)=>{var L;m(),vS(T)&&(s=T,c=y2(T,t,b),(L=r.onListenerAdd)==null||L.call(r,T))},{sync:r.sync,initial:!0});return f=xt(()=>{x.remove(),m()}),f}function zce(e,t){return uq(e,null,t)}function Fn(e,t){return uq(e,hq,t)}function uq(e,t,i){if(Tl(i))return Promise.reject(br());const r=e();if(t!=null&&t(r))return Promise.resolve(r);let s=null;function c(){s=ks(s)}return new Promise((f,m)=>{s=Do([Bc(i,()=>{c(),m(br())}),W8(e,b=>{c(),f(b)},{sync:!1,once:!0},t??cq)])})}function cq(e){return!0}function hq(e){return!!e}function Uce(e,t,i={}){let r=!1;const s=Ze(e,(c,f)=>{r||t(c,f)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function dq(e,t){const i=new it,r=Zr(e,"after-splice",({added:s,start:c,deleteCount:f})=>{const m=i.splice(c,f);for(const b of m)b.remove();if(s!=null&&s.length){const b=s.map(t);i.addMany(b,c)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function pq(e,t){const i=new it,r=dq(e,m=>y8(async b=>{const x=await t(m,b);if(Tl(b))throw x.remove(),br();return x})),s=()=>null,c=async m=>{const b=await m.promise,x=r.indexOf(m);x<0||i.splice(x,1,b)};i.addMany(r.items.map(s));for(const m of r)ky(c(m));const f=r.on("after-splice",({added:m,start:b,deleteCount:x})=>{const T=i.splice(b,x);for(const C of T)C==null||C.remove();if(m!=null&&m.length){i.addMany(m.map(s),b);for(const C of m)ky(c(C))}});return i.addHandles([sU(r),f]),i}const Mu={sync:!0},Ri={initial:!0},Is={sync:!0,initial:!0},tOe=Object.freeze(Object.defineProperty({__proto__:null,autorun:Hk,initial:Ri,mapCollection:dq,mapCollectionAsync:pq,on:Zr,once:zce,pausable:Uce,sync:Mu,syncAndInitial:Is,watch:Ze,when:_l,whenOnce:Fn},Symbol.toStringTag,{value:"Module"}));async function fq(e,t){const{WhereClause:i}=await te(()=>import("./WhereClause-BU9DyVxJ.js").then(r=>r.W),[]);return i.create(e,t)}function zS(e,t){return e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}const TR=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class k0 extends Error{}class Gce extends k0{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Wce extends k0{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class qce extends k0{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class _y extends k0{}class yq extends k0{constructor(t){super(`Invalid unit ${t}`)}}class io extends k0{}class Ah extends k0{constructor(){super("Zone is an abstract class")}}const tt="numeric",Il="short",Uo="long",w4={year:tt,month:tt,day:tt},mq={year:tt,month:Il,day:tt},Bce={year:tt,month:Il,day:tt,weekday:Il},gq={year:tt,month:Uo,day:tt},vq={year:tt,month:Uo,day:tt,weekday:Uo},bq={hour:tt,minute:tt},wq={hour:tt,minute:tt,second:tt},_q={hour:tt,minute:tt,second:tt,timeZoneName:Il},Sq={hour:tt,minute:tt,second:tt,timeZoneName:Uo},$q={hour:tt,minute:tt,hourCycle:"h23"},xq={hour:tt,minute:tt,second:tt,hourCycle:"h23"},Eq={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:Il},Tq={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:Uo},Iq={year:tt,month:tt,day:tt,hour:tt,minute:tt},Mq={year:tt,month:tt,day:tt,hour:tt,minute:tt,second:tt},kq={year:tt,month:Il,day:tt,hour:tt,minute:tt},Cq={year:tt,month:Il,day:tt,hour:tt,minute:tt,second:tt},Hce={year:tt,month:Il,day:tt,weekday:Il,hour:tt,minute:tt},Aq={year:tt,month:Uo,day:tt,hour:tt,minute:tt,timeZoneName:Il},Oq={year:tt,month:Uo,day:tt,hour:tt,minute:tt,second:tt,timeZoneName:Il},Lq={year:tt,month:Uo,day:tt,weekday:Uo,hour:tt,minute:tt,timeZoneName:Uo},Pq={year:tt,month:Uo,day:tt,weekday:Uo,hour:tt,minute:tt,second:tt,timeZoneName:Uo};class C0{get type(){throw new Ah}get name(){throw new Ah}get ianaName(){return this.name}get isUniversal(){throw new Ah}offsetName(t,i){throw new Ah}formatOffset(t,i){throw new Ah}offset(t){throw new Ah}equals(t){throw new Ah}get isValid(){throw new Ah}}let G6=null;class US extends C0{static get instance(){return G6===null&&(G6=new US),G6}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Gq(t,i,r)}formatOffset(t,i){return db(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let O5={};function Jce(e){return O5[e]||(O5[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),O5[e]}const Zce={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Kce(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,c,f,m,b,x,T]=r;return[f,s,c,m,b,x,T]}function Yce(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:c,value:f}=i[s],m=Zce[c];c==="era"?r[m]=f:jt(m)||(r[m]=parseInt(f,10))}return r}let d3={};class ho extends C0{static create(t){return d3[t]||(d3[t]=new ho(t)),d3[t]}static resetCache(){d3={},O5={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ho.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Gq(t,i,r,this.name)}formatOffset(t,i){return db(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=Jce(this.name);let[s,c,f,m,b,x,T]=r.formatToParts?Yce(r,i):Kce(r,i);m==="BC"&&(s=-Math.abs(s)+1);const L=WS({year:s,month:c,day:f,hour:b===24?0:b,minute:x,second:T,millisecond:0});let N=+i;const D=N%1e3;return N-=D>=0?D:1e3+D,(L-N)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let IR={};function Qce(e,t={}){const i=JSON.stringify([e,t]);let r=IR[i];return r||(r=new Intl.ListFormat(e,t),IR[i]=r),r}let mT={};function gT(e,t={}){const i=JSON.stringify([e,t]);let r=mT[i];return r||(r=new Intl.DateTimeFormat(e,t),mT[i]=r),r}let vT={};function Xce(e,t={}){const i=JSON.stringify([e,t]);let r=vT[i];return r||(r=new Intl.NumberFormat(e,t),vT[i]=r),r}let bT={};function ehe(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let c=bT[s];return c||(c=new Intl.RelativeTimeFormat(e,t),bT[s]=c),c}let av=null;function the(){return av||(av=new Intl.DateTimeFormat().resolvedOptions().locale,av)}let MR={};function ihe(e){let t=MR[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,MR[e]=t}return t}function rhe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=gT(e).resolvedOptions(),s=e}catch{const b=e.substring(0,i);r=gT(b).resolvedOptions(),s=b}const{numberingSystem:c,calendar:f}=r;return[s,c,f]}}function nhe(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function she(e){const t=[];for(let i=1;i<=12;i++){const r=Xe.utc(2009,i,1);t.push(e(r))}return t}function ohe(e){const t=[];for(let i=1;i<=7;i++){const r=Xe.utc(2016,11,13+i);t.push(e(r))}return t}function p3(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function ahe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class lhe{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:c,...f}=r;if(!i||Object.keys(f).length>0){const m={useGrouping:!1,...r};r.padTo>0&&(m.minimumIntegerDigits=r.padTo),this.inf=Xce(t,m)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):J8(t,3);return Hr(i,this.padTo)}}}class uhe{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const f=-1*(t.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;t.offset!==0&&ho.create(m).valid?(s=m,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const c={...this.opts};c.timeZone=c.timeZone||s,this.dtf=gT(i,c)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class che{constructor(t,i,r){this.opts={style:"long",...r},!i&&zq()&&(this.rtf=ehe(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):Che(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const hhe={firstDay:1,minimalDays:4,weekend:[6,7]};class Fi{static fromOpts(t){return Fi.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,c=!1){const f=t||Or.defaultLocale,m=f||(c?"en-US":the()),b=i||Or.defaultNumberingSystem,x=r||Or.defaultOutputCalendar,T=wT(s)||Or.defaultWeekSettings;return new Fi(m,b,x,T,f)}static resetCache(){av=null,mT={},vT={},bT={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return Fi.create(t,i,r,s)}constructor(t,i,r,s,c){const[f,m,b]=rhe(t);this.locale=f,this.numberingSystem=i||m||null,this.outputCalendar=r||b||null,this.weekSettings=s,this.intl=nhe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ahe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Fi.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,wT(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return p3(this,t,Bq,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=she(c=>this.extract(c,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return p3(this,t,Zq,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=ohe(c=>this.extract(c,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return p3(this,void 0,()=>Kq,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Xe.utc(2016,11,13,9),Xe.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return p3(this,t,Yq,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Xe.utc(-40,1,1),Xe.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),c=s.formatToParts(),f=c.find(m=>m.type.toLowerCase()===r);return f?f.value:null}numberFormatter(t={}){return new lhe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new uhe(t,this.intl,i)}relFormatter(t={}){return new che(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Qce(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Uq()?ihe(this.locale):hhe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let W6=null;class Pr extends C0{static get utcInstance(){return W6===null&&(W6=new Pr(0)),W6}static instance(t){return t===0?Pr.utcInstance:new Pr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Pr(qS(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${db(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${db(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return db(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class dhe extends C0{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ed(e,t){if(jt(e)||e===null)return t;if(e instanceof C0)return e;if(yhe(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?US.instance:i==="utc"||i==="gmt"?Pr.utcInstance:Pr.parseSpecifier(i)||ho.create(e)}else return t0(e)?Pr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new dhe(e)}let kR=()=>Date.now(),CR="system",AR=null,OR=null,LR=null,PR=60,FR,RR=null;class Or{static get now(){return kR}static set now(t){kR=t}static set defaultZone(t){CR=t}static get defaultZone(){return Ed(CR,US.instance)}static get defaultLocale(){return AR}static set defaultLocale(t){AR=t}static get defaultNumberingSystem(){return OR}static set defaultNumberingSystem(t){OR=t}static get defaultOutputCalendar(){return LR}static set defaultOutputCalendar(t){LR=t}static get defaultWeekSettings(){return RR}static set defaultWeekSettings(t){RR=wT(t)}static get twoDigitCutoffYear(){return PR}static set twoDigitCutoffYear(t){PR=t%100}static get throwOnInvalid(){return FR}static set throwOnInvalid(t){FR=t}static resetCaches(){Fi.resetCache(),ho.resetCache()}}class yl{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Fq=[0,31,59,90,120,151,181,212,243,273,304,334],Rq=[0,31,60,91,121,152,182,213,244,274,305,335];function ga(e,t){return new yl("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function q8(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function Nq(e,t,i){return i+(S2(e)?Rq:Fq)[t-1]}function jq(e,t){const i=S2(e)?Rq:Fq,r=i.findIndex(c=>c<t),s=t-i[r];return{month:r+1,day:s}}function B8(e,t){return(e-t+7)%7+1}function _4(e,t=4,i=1){const{year:r,month:s,day:c}=e,f=Nq(r,s,c),m=B8(q8(r,s,c),i);let b=Math.floor((f-m+14-t)/7),x;return b<1?(x=r-1,b=Bb(x,t,i)):b>Bb(r,t,i)?(x=r+1,b=1):x=r,{weekYear:x,weekNumber:b,weekday:m,...BS(e)}}function NR(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:c}=e,f=B8(q8(r,1,t),i),m=Py(r);let b=s*7+c-f-7+t,x;b<1?(x=r-1,b+=Py(x)):b>m?(x=r+1,b-=Py(r)):x=r;const{month:T,day:C}=jq(x,b);return{year:x,month:T,day:C,...BS(e)}}function q6(e){const{year:t,month:i,day:r}=e,s=Nq(t,i,r);return{year:t,ordinal:s,...BS(e)}}function jR(e){const{year:t,ordinal:i}=e,{month:r,day:s}=jq(t,i);return{year:t,month:r,day:s,...BS(e)}}function DR(e,t){if(!jt(e.localWeekday)||!jt(e.localWeekNumber)||!jt(e.localWeekYear)){if(!jt(e.weekday)||!jt(e.weekNumber)||!jt(e.weekYear))throw new _y("Cannot mix locale-based week fields with ISO-based week fields");return jt(e.localWeekday)||(e.weekday=e.localWeekday),jt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),jt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function phe(e,t=4,i=1){const r=GS(e.weekYear),s=va(e.weekNumber,1,Bb(e.weekYear,t,i)),c=va(e.weekday,1,7);return r?s?c?!1:ga("weekday",e.weekday):ga("week",e.weekNumber):ga("weekYear",e.weekYear)}function fhe(e){const t=GS(e.year),i=va(e.ordinal,1,Py(e.year));return t?i?!1:ga("ordinal",e.ordinal):ga("year",e.year)}function Dq(e){const t=GS(e.year),i=va(e.month,1,12),r=va(e.day,1,S4(e.year,e.month));return t?i?r?!1:ga("day",e.day):ga("month",e.month):ga("year",e.year)}function Vq(e){const{hour:t,minute:i,second:r,millisecond:s}=e,c=va(t,0,23)||t===24&&i===0&&r===0&&s===0,f=va(i,0,59),m=va(r,0,59),b=va(s,0,999);return c?f?m?b?!1:ga("millisecond",s):ga("second",r):ga("minute",i):ga("hour",t)}function jt(e){return typeof e>"u"}function t0(e){return typeof e=="number"}function GS(e){return typeof e=="number"&&e%1===0}function yhe(e){return typeof e=="string"}function mhe(e){return Object.prototype.toString.call(e)==="[object Date]"}function zq(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Uq(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ghe(e){return Array.isArray(e)?e:[e]}function VR(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const c=[t(s),s];return r&&i(r[0],c[0])===r[0]?r:c},null)[1]}function vhe(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function nm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wT(e){if(e==null)return null;if(typeof e!="object")throw new io("Week settings must be an object");if(!va(e.firstDay,1,7)||!va(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!va(t,1,7)))throw new io("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function va(e,t,i){return GS(e)&&e>=t&&e<=i}function bhe(e,t){return e-t*Math.floor(e/t)}function Hr(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function vd(e){if(!(jt(e)||e===null||e===""))return parseInt(e,10)}function Fp(e){if(!(jt(e)||e===null||e===""))return parseFloat(e)}function H8(e){if(!(jt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function J8(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function S2(e){return e%4===0&&(e%100!==0||e%400===0)}function Py(e){return S2(e)?366:365}function S4(e,t){const i=bhe(t-1,12)+1,r=e+(t-i)/12;return i===2?S2(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function WS(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function zR(e,t,i){return-B8(q8(e,1,t),i)+t-1}function Bb(e,t=4,i=1){const r=zR(e,t,i),s=zR(e+1,t,i);return(Py(e)-r+s)/7}function _T(e){return e>99?e:e>Or.twoDigitCutoffYear?1900+e:2e3+e}function Gq(e,t,i,r=null){const s=new Date(e),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(c.timeZone=r);const f={timeZoneName:t,...c},m=new Intl.DateTimeFormat(i,f).formatToParts(s).find(b=>b.type.toLowerCase()==="timezonename");return m?m.value:null}function qS(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function Wq(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new io(`Invalid unit value ${e}`);return t}function $4(e,t){const i={};for(const r in e)if(nm(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=Wq(s)}return i}function db(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Hr(i,2)}:${Hr(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Hr(i,2)}${Hr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function BS(e){return vhe(e,["hour","minute","second","millisecond"])}const whe=["January","February","March","April","May","June","July","August","September","October","November","December"],qq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_he=["J","F","M","A","M","J","J","A","S","O","N","D"];function Bq(e){switch(e){case"narrow":return[..._he];case"short":return[...qq];case"long":return[...whe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Hq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Jq=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],She=["M","T","W","T","F","S","S"];function Zq(e){switch(e){case"narrow":return[...She];case"short":return[...Jq];case"long":return[...Hq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Kq=["AM","PM"],$he=["Before Christ","Anno Domini"],xhe=["BC","AD"],Ehe=["B","A"];function Yq(e){switch(e){case"narrow":return[...Ehe];case"short":return[...xhe];case"long":return[...$he];default:return null}}function The(e){return Kq[e.hour<12?0:1]}function Ihe(e,t){return Zq(t)[e.weekday-1]}function Mhe(e,t){return Bq(t)[e.month-1]}function khe(e,t){return Yq(t)[e.year<0?0:1]}function Che(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&c){const C=e==="days";switch(t){case 1:return C?"tomorrow":`next ${s[e][0]}`;case-1:return C?"yesterday":`last ${s[e][0]}`;case 0:return C?"today":`this ${s[e][0]}`}}const f=Object.is(t,-0)||t<0,m=Math.abs(t),b=m===1,x=s[e],T=r?b?x[1]:x[2]||x[1]:b?s[e][0]:e;return f?`${m} ${T} ago`:`in ${m} ${T}`}function UR(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const Ahe={D:w4,DD:mq,DDD:gq,DDDD:vq,t:bq,tt:wq,ttt:_q,tttt:Sq,T:$q,TT:xq,TTT:Eq,TTTT:Tq,f:Iq,ff:kq,fff:Aq,ffff:Lq,F:Mq,FF:Cq,FFF:Oq,FFFF:Pq};class as{static create(t,i={}){return new as(t,i)}static parseFormat(t){let i=null,r="",s=!1;const c=[];for(let f=0;f<t.length;f++){const m=t.charAt(f);m==="'"?(r.length>0&&c.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||m===i?r+=m:(r.length>0&&c.push({literal:/^\s+$/.test(r),val:r}),r=m,i=m)}return r.length>0&&c.push({literal:s||/^\s+$/.test(r),val:r}),c}static macroTokenToFormatOpts(t){return Ahe[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Hr(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(N,D)=>this.loc.extract(t,N,D),f=N=>t.isOffsetFixed&&t.offset===0&&N.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,N.format):"",m=()=>r?The(t):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),b=(N,D)=>r?Mhe(t,N):c(D?{month:N}:{month:N,day:"numeric"},"month"),x=(N,D)=>r?Ihe(t,N):c(D?{weekday:N}:{weekday:N,month:"long",day:"numeric"},"weekday"),T=N=>{const D=as.macroTokenToFormatOpts(N);return D?this.formatWithSystemDefault(t,D):N},C=N=>r?khe(t,N):c({era:N},"era"),L=N=>{switch(N){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return m();case"d":return s?c({day:"numeric"},"day"):this.num(t.day);case"dd":return s?c({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return x("short",!0);case"cccc":return x("long",!0);case"ccccc":return x("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return x("short",!1);case"EEEE":return x("long",!1);case"EEEEE":return x("narrow",!1);case"L":return s?c({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?c({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return b("short",!0);case"LLLL":return b("long",!0);case"LLLLL":return b("narrow",!0);case"M":return s?c({month:"numeric"},"month"):this.num(t.month);case"MM":return s?c({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return b("short",!1);case"MMMM":return b("long",!1);case"MMMMM":return b("narrow",!1);case"y":return s?c({year:"numeric"},"year"):this.num(t.year);case"yy":return s?c({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?c({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?c({year:"numeric"},"year"):this.num(t.year,6);case"G":return C("short");case"GG":return C("long");case"GGGGG":return C("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return T(N)}};return UR(as.parseFormat(i),L)}formatDurationFromString(t,i){const r=b=>{switch(b[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=b=>x=>{const T=r(x);return T?this.num(b.get(T),x.length):x},c=as.parseFormat(i),f=c.reduce((b,{literal:x,val:T})=>x?b:b.concat(T),[]),m=t.shiftTo(...f.map(r).filter(b=>b));return UR(c,s(m))}}const Qq=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cm(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Am(...e){return t=>e.reduce(([i,r,s],c)=>{const[f,m,b]=c(t,s);return[{...i,...f},m||r,b]},[{},null,1]).slice(0,2)}function Om(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function Xq(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=vd(t[i+s]);return[r,null,i+s]}}const eB=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ohe=`(?:${eB.source}?(?:\\[(${Qq.source})\\])?)?`,Z8=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,tB=RegExp(`${Z8.source}${Ohe}`),K8=RegExp(`(?:T${tB.source})?`),Lhe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Phe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Fhe=/(\d{4})-?(\d{3})/,Rhe=Xq("weekYear","weekNumber","weekDay"),Nhe=Xq("year","ordinal"),jhe=/(\d{4})-(\d\d)-(\d\d)/,iB=RegExp(`${Z8.source} ?(?:${eB.source}|(${Qq.source}))?`),Dhe=RegExp(`(?: ${iB.source})?`);function Fy(e,t,i){const r=e[t];return jt(r)?i:vd(r)}function Vhe(e,t){return[{year:Fy(e,t),month:Fy(e,t+1,1),day:Fy(e,t+2,1)},null,t+3]}function Lm(e,t){return[{hours:Fy(e,t,0),minutes:Fy(e,t+1,0),seconds:Fy(e,t+2,0),milliseconds:H8(e[t+3])},null,t+4]}function $2(e,t){const i=!e[t]&&!e[t+1],r=qS(e[t+1],e[t+2]),s=i?null:Pr.instance(r);return[{},s,t+3]}function x2(e,t){const i=e[t]?ho.create(e[t]):null;return[{},i,t+1]}const zhe=RegExp(`^T?${Z8.source}$`),Uhe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ghe(e){const[t,i,r,s,c,f,m,b,x]=e,T=t[0]==="-",C=b&&b[0]==="-",L=(N,D=!1)=>N!==void 0&&(D||N&&T)?-N:N;return[{years:L(Fp(i)),months:L(Fp(r)),weeks:L(Fp(s)),days:L(Fp(c)),hours:L(Fp(f)),minutes:L(Fp(m)),seconds:L(Fp(b),b==="-0"),milliseconds:L(H8(x),C)}]}const Whe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Y8(e,t,i,r,s,c,f){const m={year:t.length===2?_T(vd(t)):vd(t),month:qq.indexOf(i)+1,day:vd(r),hour:vd(s),minute:vd(c)};return f&&(m.second=vd(f)),e&&(m.weekday=e.length>3?Hq.indexOf(e)+1:Jq.indexOf(e)+1),m}const qhe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Bhe(e){const[,t,i,r,s,c,f,m,b,x,T,C]=e,L=Y8(t,s,r,i,c,f,m);let N;return b?N=Whe[b]:x?N=0:N=qS(T,C),[L,new Pr(N)]}function Hhe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Jhe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Zhe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Khe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GR(e){const[,t,i,r,s,c,f,m]=e;return[Y8(t,s,r,i,c,f,m),Pr.utcInstance]}function Yhe(e){const[,t,i,r,s,c,f,m]=e;return[Y8(t,m,i,r,s,c,f),Pr.utcInstance]}const Qhe=Cm(Lhe,K8),Xhe=Cm(Phe,K8),ede=Cm(Fhe,K8),tde=Cm(tB),rB=Am(Vhe,Lm,$2,x2),ide=Am(Rhe,Lm,$2,x2),rde=Am(Nhe,Lm,$2,x2),nde=Am(Lm,$2,x2);function sde(e){return Om(e,[Qhe,rB],[Xhe,ide],[ede,rde],[tde,nde])}function ode(e){return Om(Hhe(e),[qhe,Bhe])}function ade(e){return Om(e,[Jhe,GR],[Zhe,GR],[Khe,Yhe])}function lde(e){return Om(e,[Uhe,Ghe])}const ude=Am(Lm);function cde(e){return Om(e,[zhe,ude])}const hde=Cm(jhe,Dhe),dde=Cm(iB),pde=Am(Lm,$2,x2);function fde(e){return Om(e,[hde,rB],[dde,pde])}const WR="Invalid Duration",nB={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},yde={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...nB},ea=146097/400,c1=146097/4800,mde={years:{quarters:4,months:12,weeks:ea/7,days:ea,hours:ea*24,minutes:ea*24*60,seconds:ea*24*60*60,milliseconds:ea*24*60*60*1e3},quarters:{months:3,weeks:ea/28,days:ea/4,hours:ea*24/4,minutes:ea*24*60/4,seconds:ea*24*60*60/4,milliseconds:ea*24*60*60*1e3/4},months:{weeks:c1/7,days:c1,hours:c1*24,minutes:c1*24*60,seconds:c1*24*60*60,milliseconds:c1*24*60*60*1e3},...nB},Uf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],gde=Uf.slice(0).reverse();function Oh(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new pi(r)}function sB(e,t){let i=t.milliseconds??0;for(const r of gde.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function qR(e,t){const i=sB(e,t)<0?-1:1;Uf.reduceRight((r,s)=>{if(jt(t[s]))return r;if(r){const c=t[r]*i,f=e[s][r],m=Math.floor(c/f);t[s]+=m*i,t[r]-=m*f*i}return s},null),Uf.reduce((r,s)=>{if(jt(t[s]))return r;if(r){const c=t[r]%1;t[r]-=c,t[s]+=c*e[r][s]}return s},null)}function vde(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class pi{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?mde:yde;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Fi.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return pi.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new io(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new pi({values:$4(t,pi.normalizeUnit),loc:Fi.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(t0(t))return pi.fromMillis(t);if(pi.isDuration(t))return t;if(typeof t=="object")return pi.fromObject(t);throw new io(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=lde(t);return r?pi.fromObject(r,i):pi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=cde(t);return r?pi.fromObject(r,i):pi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new io("need to specify a reason the Duration is invalid");const r=t instanceof yl?t:new yl(t,i);if(Or.throwOnInvalid)throw new qce(r);return new pi({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new yq(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?as.create(this.loc,r).formatDurationFromString(this,t):WR}toHuman(t={}){if(!this.isValid)return WR;const i=Uf.map(r=>{const s=this.values[r];return jt(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=J8(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Xe.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?sB(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=pi.fromDurationLike(t),r={};for(const s of Uf)(nm(i.values,s)||nm(this.values,s))&&(r[s]=i.get(s)+this.get(s));return Oh(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=pi.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=Wq(t(this.values[r],r));return Oh(this,{values:i},!0)}get(t){return this[pi.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...$4(t,pi.normalizeUnit)};return Oh(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const f={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return Oh(this,f)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return qR(this.matrix,t),Oh(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=vde(this.normalize().shiftToAll().toObject());return Oh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(f=>pi.normalizeUnit(f));const i={},r={},s=this.toObject();let c;for(const f of Uf)if(t.indexOf(f)>=0){c=f;let m=0;for(const x in r)m+=this.matrix[x][f]*r[x],r[x]=0;t0(s[f])&&(m+=s[f]);const b=Math.trunc(m);i[f]=b,r[f]=(m*1e3-b*1e3)/1e3}else t0(s[f])&&(r[f]=s[f]);for(const f in r)r[f]!==0&&(i[c]+=f===c?r[f]:r[f]/this.matrix[c][f]);return qR(this.matrix,i),Oh(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Oh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of Uf)if(!i(this.values[r],t.values[r]))return!1;return!0}}const h1="Invalid Interval";function bde(e,t){return!e||!e.isValid?Ir.invalid("missing or invalid start"):!t||!t.isValid?Ir.invalid("missing or invalid end"):t<e?Ir.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Ir{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new io("need to specify a reason the Interval is invalid");const r=t instanceof yl?t:new yl(t,i);if(Or.throwOnInvalid)throw new Wce(r);return new Ir({invalid:r})}static fromDateTimes(t,i){const r=Lg(t),s=Lg(i),c=bde(r,s);return c??new Ir({start:r,end:s})}static after(t,i){const r=pi.fromDurationLike(i),s=Lg(t);return Ir.fromDateTimes(s,s.plus(r))}static before(t,i){const r=pi.fromDurationLike(i),s=Lg(t);return Ir.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let c,f;try{c=Xe.fromISO(r,i),f=c.isValid}catch{f=!1}let m,b;try{m=Xe.fromISO(s,i),b=m.isValid}catch{b=!1}if(f&&b)return Ir.fromDateTimes(c,m);if(f){const x=pi.fromISO(s,i);if(x.isValid)return Ir.after(c,x)}else if(b){const x=pi.fromISO(r,i);if(x.isValid)return Ir.before(m,x)}}return Ir.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?Ir.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Lg).filter(f=>this.contains(f)).sort((f,m)=>f.toMillis()-m.toMillis()),r=[];let{s}=this,c=0;for(;s<this.e;){const f=i[c]||this.e,m=+f>+this.e?this.e:f;r.push(Ir.fromDateTimes(s,m)),s=m,c+=1}return r}splitBy(t){const i=pi.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,c;const f=[];for(;r<this.e;){const m=this.start.plus(i.mapUnits(b=>b*s));c=+m>+this.e?this.e:m,f.push(Ir.fromDateTimes(r,c)),r=c,s+=1}return f}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:Ir.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Ir.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,c)=>s.s-c.s).reduce(([s,c],f)=>c?c.overlaps(f)||c.abutsStart(f)?[s,c.union(f)]:[s.concat([c]),f]:[s,f],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],c=t.map(b=>[{time:b.s,type:"s"},{time:b.e,type:"e"}]),f=Array.prototype.concat(...c),m=f.sort((b,x)=>b.time-x.time);for(const b of m)r+=b.type==="s"?1:-1,r===1?i=b.time:(i&&+i!=+b.time&&s.push(Ir.fromDateTimes(i,b.time)),i=null);return Ir.merge(s)}difference(...t){return Ir.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:h1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=w4,i={}){return this.isValid?as.create(this.s.loc.clone(i),t).formatInterval(this):h1}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:h1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:h1}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:h1}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:h1}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):pi.invalid(this.invalidReason)}mapEndpoints(t){return Ir.fromDateTimes(t(this.s),t(this.e))}}class f3{static hasDST(t=Or.defaultZone){const i=Xe.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return ho.isValidZone(t)}static normalizeZone(t){return Ed(t,Or.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||Fi.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||Fi.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||Fi.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:c="gregory"}={}){return(s||Fi.create(i,r,c)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:c="gregory"}={}){return(s||Fi.create(i,r,c)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Fi.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Fi.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Fi.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Fi.create(i,null,"gregory").eras(t)}static features(){return{relative:zq(),localeWeek:Uq()}}}function BR(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(pi.fromMillis(r).as("days"))}function wde(e,t,i){const r=[["years",(b,x)=>x.year-b.year],["quarters",(b,x)=>x.quarter-b.quarter+(x.year-b.year)*4],["months",(b,x)=>x.month-b.month+(x.year-b.year)*12],["weeks",(b,x)=>{const T=BR(b,x);return(T-T%7)/7}],["days",BR]],s={},c=e;let f,m;for(const[b,x]of r)i.indexOf(b)>=0&&(f=b,s[b]=x(e,t),m=c.plus(s),m>t?(s[b]--,e=c.plus(s),e>t&&(m=e,s[b]--,e=c.plus(s))):e=m);return[e,s,m,f]}function _de(e,t,i,r){let[s,c,f,m]=wde(e,t,i);const b=t-s,x=i.filter(C=>["hours","minutes","seconds","milliseconds"].indexOf(C)>=0);x.length===0&&(f<t&&(f=s.plus({[m]:1})),f!==s&&(c[m]=(c[m]||0)+b/(f-s)));const T=pi.fromObject(c,r);return x.length>0?pi.fromMillis(b,r).shiftTo(...x).plus(T):T}const Q8={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},HR={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Sde=Q8.hanidec.replace(/[\[|\]]/g,"").split("");function $de(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(Q8.hanidec)!==-1)t+=Sde.indexOf(e[i]);else for(const s in HR){const[c,f]=HR[s];r>=c&&r<=f&&(t+=r-c)}}return parseInt(t,10)}else return t}function Ra({numberingSystem:e},t=""){return new RegExp(`${Q8[e||"latn"]}${t}`)}const xde="missing Intl.DateTimeFormat.formatToParts support";function $i(e,t=i=>i){return{regex:e,deser:([i])=>t($de(i))}}const Ede="",oB=`[ ${Ede}]`,aB=new RegExp(oB,"g");function Tde(e){return e.replace(/\./g,"\\.?").replace(aB,oB)}function JR(e){return e.replace(/\./g,"").replace(aB," ").toLowerCase()}function Na(e,t){return e===null?null:{regex:RegExp(e.map(Tde).join("|")),deser:([i])=>e.findIndex(r=>JR(i)===JR(r))+t}}function ZR(e,t){return{regex:e,deser:([,i,r])=>qS(i,r),groups:t}}function y3(e){return{regex:e,deser:([t])=>t}}function Ide(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Mde(e,t){const i=Ra(t),r=Ra(t,"{2}"),s=Ra(t,"{3}"),c=Ra(t,"{4}"),f=Ra(t,"{6}"),m=Ra(t,"{1,2}"),b=Ra(t,"{1,3}"),x=Ra(t,"{1,6}"),T=Ra(t,"{1,9}"),C=Ra(t,"{2,4}"),L=Ra(t,"{4,6}"),N=q=>({regex:RegExp(Ide(q.val)),deser:([J])=>J,literal:!0}),G=(q=>{if(e.literal)return N(q);switch(q.val){case"G":return Na(t.eras("short"),0);case"GG":return Na(t.eras("long"),0);case"y":return $i(x);case"yy":return $i(C,_T);case"yyyy":return $i(c);case"yyyyy":return $i(L);case"yyyyyy":return $i(f);case"M":return $i(m);case"MM":return $i(r);case"MMM":return Na(t.months("short",!0),1);case"MMMM":return Na(t.months("long",!0),1);case"L":return $i(m);case"LL":return $i(r);case"LLL":return Na(t.months("short",!1),1);case"LLLL":return Na(t.months("long",!1),1);case"d":return $i(m);case"dd":return $i(r);case"o":return $i(b);case"ooo":return $i(s);case"HH":return $i(r);case"H":return $i(m);case"hh":return $i(r);case"h":return $i(m);case"mm":return $i(r);case"m":return $i(m);case"q":return $i(m);case"qq":return $i(r);case"s":return $i(m);case"ss":return $i(r);case"S":return $i(b);case"SSS":return $i(s);case"u":return y3(T);case"uu":return y3(m);case"uuu":return $i(i);case"a":return Na(t.meridiems(),0);case"kkkk":return $i(c);case"kk":return $i(C,_T);case"W":return $i(m);case"WW":return $i(r);case"E":case"c":return $i(i);case"EEE":return Na(t.weekdays("short",!1),1);case"EEEE":return Na(t.weekdays("long",!1),1);case"ccc":return Na(t.weekdays("short",!0),1);case"cccc":return Na(t.weekdays("long",!0),1);case"Z":case"ZZ":return ZR(new RegExp(`([+-]${m.source})(?::(${r.source}))?`),2);case"ZZZ":return ZR(new RegExp(`([+-]${m.source})(${r.source})?`),2);case"z":return y3(/[a-z_+-/]{1,256}?/i);case" ":return y3(/[^\S\n\r]/);default:return N(q)}})(e)||{invalidReason:xde};return G.token=e,G}const kde={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Cde(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const b=/^\s+$/.test(s);return{literal:!b,val:b?" ":s}}const c=t[r];let f=r;r==="hour"&&(t.hour12!=null?f=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?f="hour12":f="hour24":f=i.hour12?"hour12":"hour24");let m=kde[f];if(typeof m=="object"&&(m=m[c]),m)return{literal:!1,val:m}}function Ade(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function Ode(e,t,i){const r=e.match(t);if(r){const s={};let c=1;for(const f in i)if(nm(i,f)){const m=i[f],b=m.groups?m.groups+1:1;!m.literal&&m.token&&(s[m.token.val[0]]=m.deser(r.slice(c,c+b))),c+=b}return[r,s]}else return[r,{}]}function Lde(e){const t=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return jt(e.z)||(i=ho.create(e.z)),jt(e.Z)||(i||(i=new Pr(e.Z)),r=e.Z),jt(e.q)||(e.M=(e.q-1)*3+1),jt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),jt(e.u)||(e.S=H8(e.u)),[Object.keys(e).reduce((c,f)=>{const m=t(f);return m&&(c[m]=e[f]),c},{}),i,r]}let B6=null;function Pde(){return B6||(B6=Xe.fromMillis(1555555555555)),B6}function Fde(e,t){if(e.literal)return e;const i=as.macroTokenToFormatOpts(e.val),r=cB(i,t);return r==null||r.includes(void 0)?e:r}function lB(e,t){return Array.prototype.concat(...e.map(i=>Fde(i,t)))}function uB(e,t,i){const r=lB(as.parseFormat(i),e),s=r.map(f=>Mde(f,e)),c=s.find(f=>f.invalidReason);if(c)return{input:t,tokens:r,invalidReason:c.invalidReason};{const[f,m]=Ade(s),b=RegExp(f,"i"),[x,T]=Ode(t,b,m),[C,L,N]=T?Lde(T):[null,null,void 0];if(nm(T,"a")&&nm(T,"H"))throw new _y("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:b,rawMatches:x,matches:T,result:C,zone:L,specificOffset:N}}}function Rde(e,t,i){const{result:r,zone:s,specificOffset:c,invalidReason:f}=uB(e,t,i);return[r,s,c,f]}function cB(e,t){if(!e)return null;const r=as.create(t,e).dtFormatter(Pde()),s=r.formatToParts(),c=r.resolvedOptions();return s.map(f=>Cde(f,e,c))}const H6="Invalid DateTime",KR=864e13;function m3(e){return new yl("unsupported zone",`the zone "${e.name}" is not supported`)}function J6(e){return e.weekData===null&&(e.weekData=_4(e.c)),e.weekData}function Z6(e){return e.localWeekData===null&&(e.localWeekData=_4(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Rp(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Xe({...i,...t,old:i})}function hB(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const c=i.offset(r);return s===c?[r,s]:[e-Math.min(s,c)*60*1e3,Math.max(s,c)]}function g3(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function L5(e,t,i){return hB(WS(e),t,i)}function YR(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,c={...e.c,year:r,month:s,day:Math.min(e.c.day,S4(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},f=pi.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),m=WS(c);let[b,x]=hB(m,i,e.zone);return f!==0&&(b+=f,x=e.zone.offset(b)),{ts:b,o:x}}function Og(e,t,i,r,s,c){const{setZone:f,zone:m}=i;if(e&&Object.keys(e).length!==0||t){const b=t||m,x=Xe.fromObject(e,{...i,zone:b,specificOffset:c});return f?x:x.setZone(m)}else return Xe.invalid(new yl("unparsable",`the input "${s}" can't be parsed as ${r}`))}function v3(e,t,i=!0){return e.isValid?as.create(Fi.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function K6(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Hr(e.c.year,i?6:4),t?(r+="-",r+=Hr(e.c.month),r+="-",r+=Hr(e.c.day)):(r+=Hr(e.c.month),r+=Hr(e.c.day)),r}function QR(e,t,i,r,s,c){let f=Hr(e.c.hour);return t?(f+=":",f+=Hr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(f+=":")):f+=Hr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(f+=Hr(e.c.second),(e.c.millisecond!==0||!r)&&(f+=".",f+=Hr(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!c?f+="Z":e.o<0?(f+="-",f+=Hr(Math.trunc(-e.o/60)),f+=":",f+=Hr(Math.trunc(-e.o%60))):(f+="+",f+=Hr(Math.trunc(e.o/60)),f+=":",f+=Hr(Math.trunc(e.o%60)))),c&&(f+="["+e.zone.ianaName+"]"),f}const dB={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Nde={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jde={ordinal:1,hour:0,minute:0,second:0,millisecond:0},pB=["year","month","day","hour","minute","second","millisecond"],Dde=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Vde=["year","ordinal","hour","minute","second","millisecond"];function zde(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new yq(e);return t}function XR(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return zde(e)}}function eN(e,t){const i=Ed(t.zone,Or.defaultZone),r=Fi.fromObject(t),s=Or.now();let c,f;if(jt(e.year))c=s;else{for(const x of pB)jt(e[x])&&(e[x]=dB[x]);const m=Dq(e)||Vq(e);if(m)return Xe.invalid(m);const b=i.offset(s);[c,f]=L5(e,b,i)}return new Xe({ts:c,zone:i,loc:r,o:f})}function tN(e,t,i){const r=jt(i.round)?!0:i.round,s=(f,m)=>(f=J8(f,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(f,m)),c=f=>i.calendary?t.hasSame(e,f)?0:t.startOf(f).diff(e.startOf(f),f).get(f):t.diff(e,f).get(f);if(i.unit)return s(c(i.unit),i.unit);for(const f of i.units){const m=c(f);if(Math.abs(m)>=1)return s(m,f)}return s(e>t?-0:0,i.units[i.units.length-1])}function iN(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}class Xe{constructor(t){const i=t.zone||Or.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new yl("invalid input"):null)||(i.isValid?null:m3(i));this.ts=jt(t.ts)?Or.now():t.ts;let s=null,c=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,c]=[t.old.c,t.old.o];else{const m=i.offset(this.ts);s=g3(this.ts,m),r=Number.isNaN(s.year)?new yl("invalid input"):null,s=r?null:s,c=r?null:m}this._zone=i,this.loc=t.loc||Fi.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=c,this.isLuxonDateTime=!0}static now(){return new Xe({})}static local(){const[t,i]=iN(arguments),[r,s,c,f,m,b,x]=i;return eN({year:r,month:s,day:c,hour:f,minute:m,second:b,millisecond:x},t)}static utc(){const[t,i]=iN(arguments),[r,s,c,f,m,b,x]=i;return t.zone=Pr.utcInstance,eN({year:r,month:s,day:c,hour:f,minute:m,second:b,millisecond:x},t)}static fromJSDate(t,i={}){const r=mhe(t)?t.valueOf():NaN;if(Number.isNaN(r))return Xe.invalid("invalid input");const s=Ed(i.zone,Or.defaultZone);return s.isValid?new Xe({ts:r,zone:s,loc:Fi.fromObject(i)}):Xe.invalid(m3(s))}static fromMillis(t,i={}){if(t0(t))return t<-KR||t>KR?Xe.invalid("Timestamp out of range"):new Xe({ts:t,zone:Ed(i.zone,Or.defaultZone),loc:Fi.fromObject(i)});throw new io(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(t0(t))return new Xe({ts:t*1e3,zone:Ed(i.zone,Or.defaultZone),loc:Fi.fromObject(i)});throw new io("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=Ed(i.zone,Or.defaultZone);if(!r.isValid)return Xe.invalid(m3(r));const s=Fi.fromObject(i),c=$4(t,XR),{minDaysInFirstWeek:f,startOfWeek:m}=DR(c,s),b=Or.now(),x=jt(i.specificOffset)?r.offset(b):i.specificOffset,T=!jt(c.ordinal),C=!jt(c.year),L=!jt(c.month)||!jt(c.day),N=C||L,D=c.weekYear||c.weekNumber;if((N||T)&&D)throw new _y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(L&&T)throw new _y("Can't mix ordinal dates with month/day");const G=D||c.weekday&&!N;let q,J,ne=g3(b,x);G?(q=Dde,J=Nde,ne=_4(ne,f,m)):T?(q=Vde,J=jde,ne=q6(ne)):(q=pB,J=dB);let ue=!1;for(const Ge of q){const Ue=c[Ge];jt(Ue)?ue?c[Ge]=J[Ge]:c[Ge]=ne[Ge]:ue=!0}const ae=G?phe(c,f,m):T?fhe(c):Dq(c),pe=ae||Vq(c);if(pe)return Xe.invalid(pe);const ge=G?NR(c,f,m):T?jR(c):c,[Ae,Ce]=L5(ge,x,r),qe=new Xe({ts:Ae,zone:r,o:Ce,loc:s});return c.weekday&&N&&t.weekday!==qe.weekday?Xe.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${qe.toISO()}`):qe}static fromISO(t,i={}){const[r,s]=sde(t);return Og(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=ode(t);return Og(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=ade(t);return Og(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(jt(t)||jt(i))throw new io("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:c=null}=r,f=Fi.fromOpts({locale:s,numberingSystem:c,defaultToEN:!0}),[m,b,x,T]=Rde(f,t,i);return T?Xe.invalid(T):Og(m,b,r,`format ${i}`,t,x)}static fromString(t,i,r={}){return Xe.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=fde(t);return Og(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new io("need to specify a reason the DateTime is invalid");const r=t instanceof yl?t:new yl(t,i);if(Or.throwOnInvalid)throw new Gce(r);return new Xe({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=cB(t,Fi.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return lB(as.parseFormat(t),Fi.fromObject(i)).map(s=>s.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?J6(this).weekYear:NaN}get weekNumber(){return this.isValid?J6(this).weekNumber:NaN}get weekday(){return this.isValid?J6(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Z6(this).weekday:NaN}get localWeekNumber(){return this.isValid?Z6(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Z6(this).weekYear:NaN}get ordinal(){return this.isValid?q6(this.c).ordinal:NaN}get monthShort(){return this.isValid?f3.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?f3.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?f3.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?f3.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=WS(this.c),s=this.zone.offset(r-t),c=this.zone.offset(r+t),f=this.zone.offset(r-s*i),m=this.zone.offset(r-c*i);if(f===m)return[this];const b=r-f*i,x=r-m*i,T=g3(b,f),C=g3(x,m);return T.hour===C.hour&&T.minute===C.minute&&T.second===C.second&&T.millisecond===C.millisecond?[Rp(this,{ts:b}),Rp(this,{ts:x})]:[this]}get isInLeapYear(){return S2(this.year)}get daysInMonth(){return S4(this.year,this.month)}get daysInYear(){return this.isValid?Py(this.year):NaN}get weeksInWeekYear(){return this.isValid?Bb(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Bb(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=as.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(Pr.instance(t),i)}toLocal(){return this.setZone(Or.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=Ed(t,Or.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const c=t.offset(this.ts),f=this.toObject();[s]=L5(f,c,t)}return Rp(this,{ts:s,zone:t})}else return Xe.invalid(m3(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Rp(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=$4(t,XR),{minDaysInFirstWeek:r,startOfWeek:s}=DR(i,this.loc),c=!jt(i.weekYear)||!jt(i.weekNumber)||!jt(i.weekday),f=!jt(i.ordinal),m=!jt(i.year),b=!jt(i.month)||!jt(i.day),x=m||b,T=i.weekYear||i.weekNumber;if((x||f)&&T)throw new _y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new _y("Can't mix ordinal dates with month/day");let C;c?C=NR({..._4(this.c,r,s),...i},r,s):jt(i.ordinal)?(C={...this.toObject(),...i},jt(i.day)&&(C.day=Math.min(S4(C.year,C.month),C.day))):C=jR({...q6(this.c),...i});const[L,N]=L5(C,this.o,this.zone);return Rp(this,{ts:L,o:N})}plus(t){if(!this.isValid)return this;const i=pi.fromDurationLike(t);return Rp(this,YR(this,i))}minus(t){if(!this.isValid)return this;const i=pi.fromDurationLike(t).negate();return Rp(this,YR(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=pi.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const c=this.loc.getStartOfWeek(),{weekday:f}=this;f<c&&(r.weekNumber=this.weekNumber-1),r.weekday=c}else r.weekday=1;if(s==="quarters"){const c=Math.ceil(this.month/3);r.month=(c-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?as.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):H6}toLocaleString(t=w4,i={}){return this.isValid?as.create(this.loc.clone(i),t).formatDateTime(this):H6}toLocaleParts(t={}){return this.isValid?as.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:c=!1}={}){if(!this.isValid)return null;const f=t==="extended";let m=K6(this,f);return m+="T",m+=QR(this,f,i,r,s,c),m}toISODate({format:t="extended"}={}){return this.isValid?K6(this,t==="extended"):null}toISOWeekDate(){return v3(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:c=!1,format:f="extended"}={}){return this.isValid?(s?"T":"")+QR(this,f==="extended",i,t,r,c):null}toRFC2822(){return v3(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return v3(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?K6(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),v3(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():H6}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return pi.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},c=ghe(i).map(pi.normalizeUnit),f=t.valueOf()>this.valueOf(),m=f?this:t,b=f?t:this,x=_de(m,b,c,s);return f?x.negate():x}diffNow(t="milliseconds",i={}){return this.diff(Xe.now(),t,i)}until(t){return this.isValid?Ir.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),c=this.setZone(t.zone,{keepLocalTime:!0});return c.startOf(i,r)<=s&&s<=c.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Xe.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],c=t.unit;return Array.isArray(t.unit)&&(s=t.unit,c=void 0),tN(i,this.plus(r),{...t,numeric:"always",units:s,unit:c})}toRelativeCalendar(t={}){return this.isValid?tN(t.base||Xe.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Xe.isDateTime))throw new io("min requires all arguments be DateTimes");return VR(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Xe.isDateTime))throw new io("max requires all arguments be DateTimes");return VR(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:c=null}=r,f=Fi.fromOpts({locale:s,numberingSystem:c,defaultToEN:!0});return uB(f,t,i)}static fromStringExplain(t,i,r={}){return Xe.fromFormatExplain(t,i,r)}static get DATE_SHORT(){return w4}static get DATE_MED(){return mq}static get DATE_MED_WITH_WEEKDAY(){return Bce}static get DATE_FULL(){return gq}static get DATE_HUGE(){return vq}static get TIME_SIMPLE(){return bq}static get TIME_WITH_SECONDS(){return wq}static get TIME_WITH_SHORT_OFFSET(){return _q}static get TIME_WITH_LONG_OFFSET(){return Sq}static get TIME_24_SIMPLE(){return $q}static get TIME_24_WITH_SECONDS(){return xq}static get TIME_24_WITH_SHORT_OFFSET(){return Eq}static get TIME_24_WITH_LONG_OFFSET(){return Tq}static get DATETIME_SHORT(){return Iq}static get DATETIME_SHORT_WITH_SECONDS(){return Mq}static get DATETIME_MED(){return kq}static get DATETIME_MED_WITH_SECONDS(){return Cq}static get DATETIME_MED_WITH_WEEKDAY(){return Hce}static get DATETIME_FULL(){return Aq}static get DATETIME_FULL_WITH_SECONDS(){return Oq}static get DATETIME_HUGE(){return Lq}static get DATETIME_HUGE_WITH_SECONDS(){return Pq}}function Lg(e){if(Xe.isDateTime(e))return e;if(e&&e.valueOf&&t0(e.valueOf()))return Xe.fromJSDate(e);if(e&&typeof e=="object")return Xe.fromObject(e);throw new io(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const ku="system",w0="unknown",po="UTC",Ude=Intl.DateTimeFormat().resolvedOptions().timeZone,Gde="shortOffset";function Wde(e){return"timeZoneIANA"in e}function qde(e){return e.startsWith("UTC")}function x4(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?P5(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?Bde(i):null}}}}}function P5(e,t=ku){return e?Wde(e)?e.timeZoneIANA:Hde(e,t):t}function Bde(e){return{timeZoneIANA:e}}function Hde(e,t=ku){if(!e||!TR.has(e.timeZone))return t;const i=TR.get(e.timeZone);return qde(e.timeZone)||e.respectsDaylightSaving?i:Jde(i)}function Jde(e){const t=Xe.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Pr.instance(-i).formatOffset(0,"narrow")}`}function fB(e,t,i,r,s){if(t&&s==="date")return{timeZone:po,timeZoneName:void 0};const c=r.timeStyle||r.hour,f=i===w0;return{timeZone:f?s==="timestamp-offset"?void 0:e??po:i,timeZoneName:f&&c?Gde:void 0}}const Zde={year:void 0,month:void 0,day:void 0,weekday:void 0},Kde={hour:void 0,minute:void 0,second:void 0},yB={timeZone:po},Fl={year:"numeric",month:"numeric",day:"numeric"},Pg={year:"numeric",month:"long",day:"numeric"},Fg={year:"numeric",month:"short",day:"numeric"},Rg={year:"numeric",month:"long",weekday:"long",day:"numeric"},bd={hour:"numeric",minute:"numeric"},Hp={...bd,second:"numeric"},mB={hourCycle:"h23"},Ng={...bd,...mB},jg={...Hp,...mB},gB={"short-date":Fl,"short-date-short-time":{...Fl,...bd},"short-date-short-time-24":{...Fl,...Ng},"short-date-long-time":{...Fl,...Hp},"short-date-long-time-24":{...Fl,...jg},"short-date-le":Fl,"short-date-le-short-time":{...Fl,...bd},"short-date-le-short-time-24":{...Fl,...Ng},"short-date-le-long-time":{...Fl,...Hp},"short-date-le-long-time-24":{...Fl,...jg},"long-month-day-year":Pg,"long-month-day-year-short-time":{...Pg,...bd},"long-month-day-year-short-time-24":{...Pg,...Ng},"long-month-day-year-long-time":{...Pg,...Hp},"long-month-day-year-long-time-24":{...Pg,...jg},"day-short-month-year":Fg,"day-short-month-year-short-time":{...Fg,...bd},"day-short-month-year-short-time-24":{...Fg,...Ng},"day-short-month-year-long-time":{...Fg,...Hp},"day-short-month-year-long-time-24":{...Fg,...jg},"long-date":Rg,"long-date-short-time":{...Rg,...bd},"long-date-short-time-24":{...Rg,...Ng},"long-date-long-time":{...Rg,...Hp},"long-date-long-time-24":{...Rg,...jg},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":bd,"long-time":Hp},Yde=kn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),vB={ar:"ar-u-nu-latn-ca-gregory"};let ST=new WeakMap;const HS=gB["short-date-short-time"];function Qde(e){let t=ST.get(e);if(!t){const i=Cs(),r=vB[i]||i,s=X8(e.timeZone??ku),c={...e,timeZone:s};t=new Intl.DateTimeFormat(r,c),ST.set(e,t)}return t}function yu(e){return gB[e]}function oo(e,t=HS){return Qde(t).format(e)}function bB(e,t=HS){return oo(new Date(e),{...t,...yB,...Kde})}function wB(e,t=HS){return oo(new Date(`1970-01-01T${e}Z`),{...t,...yB,...Zde})}function _B(e,t=HS){if(t.timeZone)return oo(new Date(e),t);const i=Xe.fromISO(e,{setZone:!0}),r=Cs(),s=vB[r]??r,c=i.offset===0?po:t.timeZone,f={...t,timeZone:c};return i.toLocaleString(f,{locale:s})}function X8(e){switch(e){case ku:return Ude;case w0:return po;default:return e}}I8(()=>{ST=new WeakMap});const Xde={ar:"ar-u-nu-latn"};let F5=new WeakMap,SB={};function epe(e){const t=e||SB;if(!F5.has(t)){const i=Cs(),r=Xde[Cs()]||i;F5.set(t,new Intl.NumberFormat(r,e))}return F5.get(t)}function E4(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Ea(e,t){return Object.is(e,-0)&&(e=0),epe(t).format(e)}I8(()=>{F5=new WeakMap,SB={}});const $B=()=>ke.getLogger("esri.intl.substitute");function jc(e,t,i={}){const{format:r={}}=i;return El(e,s=>tpe(s,t,r))}function tpe(e,t,i){let r,s;const c=e.indexOf(":");if(c===-1?r=e.trim():(r=e.slice(0,c).trim(),s=e.slice(c+1).trim()),!r)return"";const f=d2(r,t);if(f==null)return"";const m=(s?i==null?void 0:i[s]:null)??(i==null?void 0:i[r]);return m?ipe(f,m):s?rpe(f,s):eC(f)}function ipe(e,t){switch(t.type){case"date":return oo(e,t.intlOptions);case"number":return Ea(e,t.intlOptions);default:return $B().warn("missing format descriptor for key {key}"),eC(e)}}function rpe(e,t){switch(t.toLowerCase()){case"dateformat":return oo(e);case"numberformat":return Ea(e);default:return $B().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?oo(e):/^numberformat/i.test(t)?Ea(e):eC(e)}}function eC(e){switch(typeof e){case"string":return e;case"number":return Ea(e);case"boolean":return""+e;default:return e instanceof Date?oo(e):""}}async function npe(e,t,i,r){const s=t.exec(i);if(!s)throw new me("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const c=s[1]?`${s[1]}/`:"",f=s[2],m=Oae(r),b=`${c}${f}.json`,x=m?`${c}${f}_${m}.json`:b;let T;try{T=await rN(e(x))}catch(C){if(x===b)throw new me("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:C});try{T=await rN(e(b))}catch(L){throw new me("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:L})}}return T}async function rN(e){if(nN.fetchBundleAsset!=null)return nN.fetchBundleAsset(e);const t=await Ut(e,{responseType:"text"});return JSON.parse(t.data)}let spe=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?c=>new URL(c,new URL(r,window.location.href)).href:r instanceof URL?c=>new URL(c,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,i){return npe(this.getAssetUrl,this.matcher,t,i)}};function ope(e){return new spe(e)}const nN={};Aae(ope({pattern:"esri/",location:ei}));function Jp(e){return typeof e=="number"}function sm(e){return typeof e=="string"||e instanceof String}const ape=po,$T={date:null,time:null,timeZoneOffset:null},lpe=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),E2="yyyy-MM-dd",xB="TT";var Ry;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(Ry||(Ry={}));const upe=[Ry.HMS_MS,Ry.HMS,Ry.HM,xB],lv="latn",rOe=new Set(["date-only","time-only","timestamp-offset"]),cpe=e=>"valueAsDate"in e;function _0(e){return{locale:Cs(),numberingSystem:lv,zone:e??ape}}function EB(e,t){return e===null?null:Xe.fromMillis(e,_0(t))}function R5(e,t){if(e==null||!sm(e)||e===""){if(t){const r=Xe.local().setZone(t);return{date:null,time:null,timeZoneOffset:r.isValid?r.offset.toString():null}}return $T}const i=Xe.fromISO(e,{setZone:!0});return{date:i.toFormat(E2,_0()),time:i.toFormat(Ry.HMS_MS,_0()),timeZoneOffset:i.offset.toString()}}function Y6(e,t){if(e==null||!Jp(e)||isNaN(e))return $T;const i=EB(e,t);return i?{date:i.toFormat(E2,_0(t)),time:i.toFormat(xB,_0(t))}:$T}function tC(e){switch(e.type){case"date":default:return yu("short-date-short-time");case"date-only":return yu("short-date");case"time-only":return yu("short-time");case"timestamp-offset":return{...yu("short-date-short-time"),timeZone:void 0,timeZoneName:"short"}}}function TB(e,t,i){if(!e||t==null)return null;switch(e.type){case"date":return oo(t,i);case"date-only":return bB(t,i);case"time-only":return wB(t,i);case"timestamp-offset":return _B(t,i);default:return null}}function hpe(e){const{dateComponent:t,defaultTimeZone:i,timeComponent:r,timeZoneComponent:s,oldValue:c}=e;if(!(t!=null&&t.value)||!(r!=null&&r.value))return null;const{year:f,month:m,day:b}=Xe.fromFormat(t.value,E2),{hour:x,minute:T,second:C,millisecond:L}=xT(r,po)??Xe.now(),N=R5(c,i),D=(s==null?void 0:s.value)!=null?parseInt(s.value,10):N.timeZoneOffset!=null?parseInt(N.timeZoneOffset,10):new Date().getTimezoneOffset(),G=Pr.instance(D),q=Xe.fromObject({year:f,month:m,day:b,hour:x,minute:T,second:C,millisecond:L},{zone:G});return q.isValid?q.toISO({includeOffset:!0}):null}function dpe(e){const{dateComponent:t,timeComponent:i,timeZone:r,max:s,min:c,oldValue:f}=e,m=xT(t,r);let b=!!e.applyRange;if(!m)return null;let x=null;if((i==null?void 0:i.value)!=null){const C=xT(i,r),L=Date.now(),N=s!=null&&s<L?s:L,D=Xe.fromMillis(N,_0(r)),G=m||D,{year:q,month:J,day:ne}=G,{hour:ue,minute:ae,second:pe,millisecond:ge}=C||D;x=G.set({year:q,month:J,day:ne,hour:ue,minute:ae,second:pe,millisecond:ge})}else{const C=EB(oN({value:f??Date.now(),max:s,min:c}),r),{year:L,month:N,day:D}=m,{hour:G,minute:q,second:J,millisecond:ne}=C;b=!0,x=m.set({year:L,month:N,day:D,hour:G,minute:q,second:J,millisecond:ne})}if(!x.isValid)return null;const T=x.toMillis();return b?oN({value:T,max:s,min:c}):T}function xT(e,t){if((e==null?void 0:e.value)==null||Array.isArray(e.value))return null;let i=null;return i=cpe(e)?Xe.fromFormat(e.value,E2,_0(t)):Ny(e.value),i!=null&&i.isValid?i:null}function sN(e){const{max:t,min:i,value:r}=e;return!isNaN(r)&&!(t!=null&&r>t)&&!(i!=null&&r<i)}function oN(e){const{max:t,min:i,value:r}=e;return t!=null&&i!=null?Rn(r,i,t):t!=null&&r>t?t:i!=null&&r<i?i:r}function ET(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new me("invalid time-only field",`Cannot parse valid time-only field value from ${e}`);const i=t.split(":"),r=new Array(3);for(let s=0;s<3;s++){const c=i.at(s)??"";r[s]=c.padStart(2,"0")}return r.join(":")}function ppe(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return ET(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function fpe(e){return!!e&&typeof e=="object"&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function pb(e){if(!e||!sm(e))return null;const t=Xe.fromFormat(e,E2);return t.isValid?t:null}function Ny(e){return e&&sm(e)?Gk(upe,t=>{const i=Xe.fromFormat(e,t);return i.isValid?i:null})??null:null}function fb(e){if(!e||!sm(e))return null;const t=Xe.fromISO(e);return t.isValid?t:null}function ype(e){const{type:t,range:i,value:r}=e;if(r==null||!i||r===i.min||r===i.max)return!0;if(t==="date")return sN({value:r,min:i.min,max:i.max});const{rawMax:s,rawMin:c}=i;let f=null,m=null,b=null;switch(t){case"date-only":f=pb(s),m=pb(c),b=pb(r);break;case"time-only":f=Ny(s),m=Ny(c),b=Ny(r);break;case"timestamp-offset":f=fb(s),m=fb(c),b=fb(r)}return!b||sN({value:b.valueOf(),min:m==null?void 0:m.valueOf(),max:f==null?void 0:f.valueOf()})}var tp;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(tp||(tp={}));const mpe=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function gpe(e){return e!=null&&mpe.has(e.type)}function IB(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function MB(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function kB(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function CB(e,t){const i=e==null?void 0:e.domain;if(!i)return null;switch(i.type){case"range":{const{min:r,max:s}=Sy(e);if(r!=null&&+t<r||s!=null&&+t>s)return tp.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(r=>r==null||r.code!==t))return tp.INVALID_CODED_VALUE}return null}function Sy(e,t){const i=t??(e==null?void 0:e.domain);if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,c=gpe(e);return IB(e)||kB(e)||MB(e)?{...AB(e,s,r),isInteger:c}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:c}}function AB(e,t,i){var r,s,c,f,m,b;return IB(e)?{min:(r=pb(i))==null?void 0:r.toMillis(),max:(s=pb(t))==null?void 0:s.toMillis(),rawMin:i,rawMax:t}:kB(e)?{min:(c=Ny(i))==null?void 0:c.toMillis(),max:(f=Ny(t))==null?void 0:f.toMillis(),rawMin:i,rawMax:t}:MB(e)?{min:(m=fb(i))==null?void 0:m.toMillis(),max:(b=fb(t))==null?void 0:b.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}const vpe=()=>ke.getLogger("esri.support.arcadeOnDemand");let Q6;function Cu(){return Q6||(Q6=(async()=>{const e=await te(()=>import("./arcadeUtils-DeX64lhZ.js").then(t=>t.aK),__vite__mapDeps([18,19,20,21,22,23,24]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Q6}const nOe=(e,t,i)=>iC.create(e,t,i,null,["$feature","$view"],[]),bpe=(e,t,i)=>iC.create(e,t,i,null,["$feature","$view"],[]),wpe=(e,t,i,r)=>iC.create(e,t,i,r,["$feature","$view"],[]);let iC=class OB{constructor(t,i,r,s,c,f,m){this.services=null,this.script=t,this.evaluate=s;const b=Array.isArray(f)?f:f==null?void 0:f.fields;this.fields=b??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=c,this._spatialReference=m,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,r,s,c,f){const{arcade:m,Feature:b,Dictionary:x}=await Cu(),T=Lt.fromJSON(i);let C;try{C=m.parseScript(t,f)}catch(Ce){return vpe().error(new me("arcade-bad-expression","Failed to parse arcade script",{script:t,error:Ce})),null}const L=c.reduce((Ce,qe)=>({...Ce,[qe]:null}),{});let N=null;s!=null&&(N=new x(s),N.immutable=!0,L.$config=null);const D=m.scriptUsesGeometryEngine(C),G=D&&m.enableGeometrySupport(),q=m.scriptUsesFeatureSet(C)&&m.enableFeatureSetSupport(),J=m.scriptIsAsync(C),ne=J&&m.enableAsyncSupport(),ue={vars:L,spatialReference:T,useAsync:!!ne};await Promise.all([G,q,ne]);const ae=new Set;await m.loadDependentModules(ae,C,null,J,D);const pe=new x;pe.immutable=!1,pe.setField("scale",0);const ge=m.compileScript(C,ue),Ae=(Ce,qe)=>{var Ue;const Ge=(Ue=Ce.$view)==null?void 0:Ue.timeZone;return"$view"in Ce&&Ce.$view&&(pe.setField("scale",typeof Ce.$view=="object"&&"scale"in Ce.$view?Ce.$view.scale:void 0),Ce.$view=pe),N&&(Ce.$config=N),ge({vars:Ce,spatialReference:T,services:qe,timeZone:Ge})};return new OB(t,m,C,Ae,new b,r,T)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const _pe=/^([0-9_])/,Spe=/[^a-z0-9_\u0080-\uffff]+/gi;function $pe(e){return e==null?null:e.trim().replaceAll(Spe,"_").replace(_pe,"F$1")||null}const xpe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Epe=["field","normalizationField"];function aN(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(lN(xpe,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)lN(Epe,r,t)}}function lN(e,t,i){if(e)for(const r of e){const s=d2(r,t),c=s&&typeof s!="function"&&i.get(s);c&&un(r,c.name,t)}}function LB(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const X6=new Set;function A0(e,t){return e&&t?(X6.clear(),Hb(X6,e,t),Array.from(X6).sort()):[]}function Hb(e,t,i){var r;if(i)if((r=t==null?void 0:t.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of i)Go(e,t,s);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const s of i)s!=null&&e.add(s)}}function Go(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function sOe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function oOe(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=A0(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Ls(e,t,i){var c;if(!i)return;const{arcadeUtils:r}=await Cu(),s=r.extractFieldNames(i,(c=t==null?void 0:t.fields)==null?void 0:c.map(f=>f.name));for(const f of s)Go(e,t,f)}async function PB(e,t,i){if(i&&i!=="1=1"){const r=await fq(i,t);if(!r.isStandardized)throw new me("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Hb(e,t,r.fieldNames)}}function rC({displayField:e,fields:t}){return e||(t!=null&&t.length?ex(t,"name-or-title")||ex(t,"unique-identifier")||ex(t,"type-or-category")||Tpe(t):null)}function Tpe(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function ex(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function aOe(e,t){var r;if(!t)return;const i=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function Ipe(e,t,i){i.onStatisticExpression?Ls(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function lOe(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(Mpe(e,t,s)),i.fields&&r.push(...i.fields.map(async c=>Ipe(e,t.fieldsIndex,c))),await Promise.all(r)}async function Mpe(e,t,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(c=>Ls(e,t.fieldsIndex,c.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const c of s)c.type==="expression"&&c.expressionInfo&&r.push(Ls(e,t.fieldsIndex,c.expressionInfo.expression));await Promise.all(r)}async function uOe(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&Hb(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Hb(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await PB(e,t.fieldsIndex,i.where))}async function cOe(e,t,i){t&&i&&await Promise.all(i.map(r=>kpe(e,t,r)))}async function kpe(e,t,i){t&&i&&(i.valueExpression?await Ls(e,t.fieldsIndex,i.valueExpression):i.field&&Go(e,t.fieldsIndex,i.field))}function hOe(e){return e?A0(e.fieldsIndex,FB(e)):[]}function Cpe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?A0(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const Ape=new Set(["oid","global-id","guid"]),Ope=new Set(["oid","global-id"]),Lpe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Ppe(e){const t=new Set;nC(e).forEach(r=>t.add(r)),Cpe(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function FB(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:c}=t;return[i,r,s,c].filter(Boolean)}function nC(e){return FB(e).map(t=>t.toLowerCase())}function Fpe(e,t){var i;return e.editable&&!Ape.has(e.type)&&!nC(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function RB(e,t){var r;const i=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||Ppe(t).includes(i)||Ope.has(e.type)||Lpe.some(s=>s.test(i)))}async function dOe(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i!=null&&i.length&&await Promise.all(i.map(s=>Rpe(e,r,s)))}async function Rpe(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Ls(e,t,r.expression);else{const c=r.expression.match(/{[^}]*}/g);c&&c.forEach(f=>{Go(e,t,f.slice(1,-1))})}await PB(e,t,s)}function Npe(e){const t=e.defaultValue;return t!==void 0&&DB(e,t)?t:e.nullable?null:void 0}function pOe(e){const t=typeof e=="string"?{type:e}:e;return T4(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function NB(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function jpe(e){return e===null||NB(e)}function Dpe(e){return e===null||Number.isInteger(e)}function jB(e){return e!=null&&typeof e=="string"}function Vpe(e){return e===null||jB(e)}function zpe(){return!0}function DB(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Dpe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?jpe:NB;break;case"string":case"esriFieldTypeString":i=e.nullable?Vpe:jB;break;default:i=zpe}return arguments.length===1?i:i(t)}const Upe=["integer","small-integer","big-integer"],Gpe=["single","double"],Wpe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],qpe=["esriFieldTypeSingle","esriFieldTypeDouble"],VB=new Set([...Upe,...Wpe]),Bpe=new Set([...Gpe,...qpe]),Hpe=xU(VB,Bpe);function Jpe(e){return e!=null&&VB.has(e.type)}function jy(e){return e!=null&&Hpe.has(e.type)}function T4(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function sC(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function Zpe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function Kpe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Jb(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function uN(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function cN(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function fOe(e,t){return zB(e,t)===null}var om,am;function yOe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function zB(e,t){return e==null||e.nullable&&t===null?null:jy(e)&&!Ype(e.type,Number(t))?om.OUT_OF_RANGE:DB(e,t)?e.domain?CB(e,t):null:am.INVALID_TYPE}function Ype(e,t){const i=typeof e=="string"?oC(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function Qpe(e,t){return Sy(e,t)||(jy(e)?oC(e.type):void 0)}function oC(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Xpe;case"esriFieldTypeInteger":case"integer":return efe;case"esriFieldTypeBigInteger":case"big-integer":return tfe;case"esriFieldTypeSingle":case"single":return ife;case"esriFieldTypeDouble":case"double":return rfe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(om||(om={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(am||(am={}));const Xpe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},efe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},tfe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ife={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},rfe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function mOe(e,t,i){switch(e){case tp.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case tp.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case am.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case om.OUT_OF_RANGE:{const{min:r,max:s}=oC(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function UB(e,t){return!nfe(e,t,null)}function nfe(e,t,i){if(!(t!=null&&t.attributes)||!e){if(i!=null)for(const c of e??[])i.add(c);return!0}const r=new Set(Object.keys(t.attributes));let s=!1;for(const c of e)if(!r.has(c)){if(s=!0,i==null)break;i.add(c)}return s}function TT(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let N5=class extends $e{constructor(t){super(t),this.type=null}};g([S({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],N5.prototype,"type",void 0),N5=g([Q("esri.popup.content.Content")],N5);const pp=N5;var IT;let Zp=IT=class extends pp{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new IT({description:this.description,displayType:this.displayType,title:this.title})}};g([S({type:String,json:{write:!0}})],Zp.prototype,"description",void 0),g([S({type:["auto","preview","list"],json:{write:!0}})],Zp.prototype,"displayType",void 0),g([S({type:String,json:{write:!0}})],Zp.prototype,"title",void 0),g([S({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Zp.prototype,"type",void 0),Zp=IT=g([Q("esri.popup.content.AttachmentsContent")],Zp);const Zb=Zp;var MT;let Kp=MT=class extends pp{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new MT({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ye(this.outFields):null})}};g([S()],Kp.prototype,"creator",void 0),g([S()],Kp.prototype,"destroyer",void 0),g([S()],Kp.prototype,"outFields",void 0),g([S({type:["custom"],readOnly:!0})],Kp.prototype,"type",void 0),Kp=MT=g([Q("esri.popup.content.CustomContent")],Kp);const sfe=Kp;var kT;let I1=kT=class extends $e{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new kT({title:this.title,expression:this.expression})}};g([S({type:String,json:{write:!0}})],I1.prototype,"title",void 0),g([S({type:String,json:{write:!0}})],I1.prototype,"expression",void 0),g([S({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],I1.prototype,"returnType",void 0),I1=kT=g([Q("esri.popup.ElementExpressionInfo")],I1);const ofe=I1;var CT;let uv=CT=class extends pp{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new CT({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};g([S({type:ofe,json:{write:!0}})],uv.prototype,"expressionInfo",void 0),g([S({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],uv.prototype,"type",void 0),uv=CT=g([Q("esri.popup.content.ExpressionContent")],uv);const aC=uv;let M1=class extends ti($e){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([at(Yde)],M1.prototype,"dateFormat",void 0),g([S({type:Boolean,json:{write:!0}})],M1.prototype,"digitSeparator",void 0),g([S({type:Oi,json:{write:!0}})],M1.prototype,"places",void 0),M1=g([Q("esri.popup.support.FieldInfoFormat")],M1);const j5=M1;var AT;let Wa=AT=class extends $e{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new AT({fieldName:this.fieldName,format:this.format?ye(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([S({type:String,json:{write:!0}})],Wa.prototype,"fieldName",void 0),g([S({type:j5,json:{write:!0}})],Wa.prototype,"format",void 0),g([S({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Wa.prototype,"isEditable",void 0),g([S({type:String,json:{write:!0}})],Wa.prototype,"label",void 0),g([at(new At({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Wa.prototype,"stringFieldOption",void 0),g([S({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Wa.prototype,"statisticType",void 0),g([S({type:String,json:{write:!0}})],Wa.prototype,"tooltip",void 0),g([S({type:Boolean,json:{write:!0}})],Wa.prototype,"visible",void 0),Wa=AT=g([Q("esri.popup.FieldInfo")],Wa);const lC=Wa;var OT;let ec=OT=class extends pp{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new OT(ye({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([S({type:Object,json:{write:!0}})],ec.prototype,"attributes",void 0),g([S({type:String,json:{write:!0}})],ec.prototype,"description",void 0),g([S({type:[lC]})],ec.prototype,"fieldInfos",void 0),g([De("fieldInfos")],ec.prototype,"writeFieldInfos",null),g([S({type:String,json:{write:!0}})],ec.prototype,"title",void 0),g([S({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],ec.prototype,"type",void 0),ec=OT=g([Q("esri.popup.content.FieldsContent")],ec);const Kb=ec;let Yp=class extends $e{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([S({type:String,json:{write:!0}})],Yp.prototype,"altText",void 0),g([S({type:String,json:{write:!0}})],Yp.prototype,"caption",void 0),g([S({type:String,json:{write:!0}})],Yp.prototype,"title",void 0),g([S({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Yp.prototype,"type",void 0),Yp=g([Q("esri.popup.content.mixins.MediaInfo")],Yp);const uC=Yp;var LT;let Qp=LT=class extends ht{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new LT({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([S()],Qp.prototype,"color",void 0),g([S()],Qp.prototype,"fieldName",void 0),g([S()],Qp.prototype,"tooltip",void 0),g([S()],Qp.prototype,"value",void 0),Qp=LT=g([Q("esri.popup.content.support.ChartMediaInfoValueSeries")],Qp);const afe=Qp;var PT;let Gh=PT=class extends $e{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new PT({colors:ye(this.colors),fields:ye(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};g([S({type:[ot],json:{type:[[Oi]],write:!0}})],Gh.prototype,"colors",void 0),g([S({type:[String],json:{write:!0}})],Gh.prototype,"fields",void 0),g([S({type:String,json:{write:!0}})],Gh.prototype,"normalizeField",void 0),g([S({type:[afe],json:{read:!1}})],Gh.prototype,"series",void 0),g([S({type:String,json:{write:!0}})],Gh.prototype,"tooltipField",void 0),Gh=PT=g([Q("esri.popup.content.support.ChartMediaInfoValue")],Gh);const lfe=Gh;let cv=class extends uC{constructor(t){super(t),this.type=null,this.value=null}};g([S({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],cv.prototype,"type",void 0),g([S({type:lfe,json:{write:!0}})],cv.prototype,"value",void 0),cv=g([Q("esri.popup.content.mixins.ChartMediaInfo")],cv);const JS=cv,ZS=kn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var FT;let D5=FT=class extends JS{constructor(e){super(e),this.type="bar-chart"}clone(){return new FT({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};g([S({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ZS.write}})],D5.prototype,"type",void 0),D5=FT=g([Q("esri.popup.content.BarChartMediaInfo")],D5);const GB=D5;var RT;let V5=RT=class extends JS{constructor(e){super(e),this.type="column-chart"}clone(){return new RT({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};g([S({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ZS.write}})],V5.prototype,"type",void 0),V5=RT=g([Q("esri.popup.content.ColumnChartMediaInfo")],V5);const WB=V5;var NT;let hv=NT=class extends $e{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new NT({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([S({type:String,json:{write:!0}})],hv.prototype,"linkURL",void 0),g([S({type:String,json:{write:!0}})],hv.prototype,"sourceURL",void 0),hv=NT=g([Q("esri.popup.content.support.ImageMediaInfoValue")],hv);const ufe=hv;var jT;let k1=jT=class extends uC{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new jT({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};g([S({type:Number,json:{write:!0}})],k1.prototype,"refreshInterval",void 0),g([S({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],k1.prototype,"type",void 0),g([S({type:ufe,json:{write:!0}})],k1.prototype,"value",void 0),k1=jT=g([Q("esri.popup.content.ImageMediaInfo")],k1);const qB=k1;var DT;let z5=DT=class extends JS{constructor(e){super(e),this.type="line-chart"}clone(){return new DT({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};g([S({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ZS.write}})],z5.prototype,"type",void 0),z5=DT=g([Q("esri.popup.content.LineChartMediaInfo")],z5);const BB=z5;var VT;let U5=VT=class extends JS{constructor(e){super(e),this.type="pie-chart"}clone(){return new VT({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};g([S({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ZS.write}})],U5.prototype,"type",void 0),U5=VT=g([Q("esri.popup.content.PieChartMediaInfo")],U5);const HB=U5,JB={base:uC,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":GB,"column-chart":WB,"line-chart":BB,"pie-chart":HB,image:qB}};var zT;let qa=zT=class extends pp{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?qB.fromJSON(t):t.type==="barchart"?GB.fromJSON(t):t.type==="columnchart"?WB.fromJSON(t):t.type==="linechart"?BB.fromJSON(t):t.type==="piechart"?HB.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new zT(ye({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([S()],qa.prototype,"activeMediaInfoIndex",void 0),g([S({type:Object,json:{write:!0}})],qa.prototype,"attributes",void 0),g([S({type:String,json:{write:!0}})],qa.prototype,"description",void 0),g([S({types:[JB]})],qa.prototype,"mediaInfos",void 0),g([Pe("mediaInfos")],qa.prototype,"readMediaInfos",null),g([De("mediaInfos")],qa.prototype,"writeMediaInfos",null),g([S({type:String,json:{write:!0}})],qa.prototype,"title",void 0),g([S({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],qa.prototype,"type",void 0),qa=zT=g([Q("esri.popup.content.MediaContent")],qa);const I4=qa;var UT;let dv=UT=class extends $e{constructor(e){super(e),this.field=null,this.order=null}clone(){return new UT({field:this.field,order:this.order})}};g([S({type:String,json:{write:!0}})],dv.prototype,"field",void 0),g([S({type:["asc","desc"],json:{write:!0}})],dv.prototype,"order",void 0),dv=UT=g([Q("esri.popup.support.RelatedRecordsInfoFieldOrder")],dv);const cC=dv;let Vl=class extends ti(pp){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([S({type:String,json:{write:!0}})],Vl.prototype,"description",void 0),g([S({type:Number,json:{type:Oi,write:!0}})],Vl.prototype,"displayCount",void 0),g([S({type:["list"],json:{write:!0}})],Vl.prototype,"displayType",void 0),g([S({type:[cC],json:{write:!0}})],Vl.prototype,"orderByFields",void 0),g([S({type:Number,json:{type:Oi,write:!0}})],Vl.prototype,"relationshipId",void 0),g([S({type:String,json:{write:!0}})],Vl.prototype,"title",void 0),g([S({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Vl.prototype,"type",void 0),Vl=g([Q("esri.popup.content.RelationshipContent")],Vl);const M4=Vl;var GT;let pv=GT=class extends pp{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new GT({text:this.text})}};g([S({type:String,json:{write:!0}})],pv.prototype,"text",void 0),g([S({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],pv.prototype,"type",void 0),pv=GT=g([Q("esri.popup.content.TextContent")],pv);const k4=pv,cfe={base:null,key:"type",typeMap:{attachment:Zb,media:I4,text:k4,expression:aC,field:Kb,relationship:M4}};var WT;let Xp=WT=class extends $e{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new WT({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([S({type:String,json:{write:!0}})],Xp.prototype,"name",void 0),g([S({type:String,json:{write:!0}})],Xp.prototype,"title",void 0),g([S({type:String,json:{write:!0}})],Xp.prototype,"expression",void 0),g([S({type:["string","number"],json:{write:!0}})],Xp.prototype,"returnType",void 0),Xp=WT=g([Q("esri.popup.ExpressionInfo")],Xp);const hfe=Xp;var qT;let fv=qT=class extends $e{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new qT({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([S({type:Boolean,json:{write:!0}})],fv.prototype,"returnTopmostRaster",void 0),g([S({type:Boolean,json:{write:!0}})],fv.prototype,"showNoDataRecords",void 0),fv=qT=g([Q("esri.popup.LayerOptions")],fv);const dfe=fv;var BT;let yv=BT=class extends $e{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new BT({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ye(this.orderByFields):null})}};g([S({type:Boolean,json:{write:!0}})],yv.prototype,"showRelatedRecords",void 0),g([S({type:[cC],json:{write:!0}})],yv.prototype,"orderByFields",void 0),yv=BT=g([Q("esri.popup.RelatedRecordsInfo")],yv);const pfe=yv;var HT;let na=HT=class extends dp(ht){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new HT({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([S()],na.prototype,"active",void 0),g([S()],na.prototype,"className",void 0),g([S()],na.prototype,"disabled",void 0),g([S()],na.prototype,"icon",void 0),g([S()],na.prototype,"id",void 0),g([S()],na.prototype,"indicator",void 0),g([S()],na.prototype,"title",void 0),g([S()],na.prototype,"type",void 0),g([S()],na.prototype,"visible",void 0),na=HT=g([Q("esri.support.actions.ActionBase")],na);const T2=na;var JT;let G5=JT=class extends T2{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new JT({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([S()],G5.prototype,"image",void 0),G5=JT=g([Q("esri.support.Action.ActionButton")],G5);const ZB=G5;var ZT;let mv=ZT=class extends T2{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new ZT({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([S()],mv.prototype,"image",void 0),g([S()],mv.prototype,"value",void 0),mv=ZT=g([Q("esri.support.Action.ActionToggle")],mv);const KB=mv,Dg="relationships/",hN="expression/",ffe=it.ofType({key:"type",defaultKeyValue:"button",base:T2,typeMap:{button:ZB,toggle:KB}}),yfe={base:pp,key:"type",typeMap:{media:I4,custom:sfe,text:k4,attachments:Zb,fields:Kb,expression:aC,relationship:M4}},mfe=new Set(["attachments","fields","media","text","expression","relationship"]);let sn=class extends ti($e){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>$u(yfe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||xm(t)?t:(ke.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeContent(t,i,r,s){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(c=>mfe.has(c.type)).map(c=>c==null?void 0:c.toJSON(s)),i.popupElements.forEach(c=>{c.type==="attachments"?this._writeAttachmentContent(i):c.type==="media"?this._writeMediaContent(c,i):c.type==="text"?this._writeTextContent(c,i):c.type==="relationship"&&this._writeRelationshipContent(c,i)})):i.description=t}writeFieldInfos(t,i,r,s){const{content:c}=this,f=Array.isArray(c)?c:null;if(t){const m=f?f.filter(x=>x.type==="fields"):[],b=m.length&&m.every(x=>{var T;return(T=x.fieldInfos)==null?void 0:T.length});i.fieldInfos=t.filter(Boolean).map(x=>{const T=x.toJSON(s);return b&&(T.visible=!1),T})}if(f)for(const m of f)m.type==="fields"&&this._writeFieldsContent(m,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Hb(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ye(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const c=i.fieldInfos.find(f=>f.fieldName.toLowerCase()===s.fieldName.toLowerCase());c?c.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var c,f;const r=((c=t.orderByFields)==null?void 0:c.map(m=>this._toFieldOrderJSON(m,t.relationshipId)))||[],s=[...((f=i.relatedRecordsInfo)==null?void 0:f.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ye(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(c=>c.type==="media"?(c.mediaInfos||!i||s.mediaInfos||(c.mediaInfos=i,s.mediaInfos=!0),I4.fromJSON(c)):c.type==="text"?(c.text||!t||s.description||(c.text=t,s.description=!0),k4.fromJSON(c)):c.type==="attachments"?Zb.fromJSON(c):c.type==="fields"?Kb.fromJSON(c):c.type==="expression"?aC.fromJSON(c):c.type==="relationship"?M4.fromJSON(c):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!(i!=null&&i.startsWith(Dg)))return null;const s=i.replace(Dg,"").split("/");if(s.length!==2)return null;const c=parseInt(s[0],10),f=s[1];return typeof c=="number"&&f?M4.fromJSON({relationshipId:c,orderByFields:[{field:f,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${Dg}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const c=[];t?c.push(new k4({text:t})):c.push(new Kb),Array.isArray(i)&&i.length&&c.push(I4.fromJSON({mediaInfos:i})),r&&c.push(Zb.fromJSON({displayType:"auto"}));const{showRelatedRecords:f,orderByFields:m}=s;return f&&(m!=null&&m.length)&&m.forEach(b=>{const x=this._toRelationshipContent(b);x&&c.push(x)}),c.length?c:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,c)=>[...s,...this._getMediaInfoFields(c)],[])]}return i==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,c=s||{},{fields:f,normalizeField:m,tooltipField:b,sourceURL:x,linkURL:T}=c,C=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(x),...this._extractFieldNames(T),...f??[]];return m&&C.push(m),b&&C.push(b),C}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>Ls(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(i=>i.visible===void 0||!!i.visible).map(i=>i.fieldName).filter(i=>!i.startsWith(Dg)&&!i.startsWith(hN)):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,c=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||typeof t!="string")return[];const i=/{[^}]*}/g,r=t.match(i);if(!r)return[];const s=/\{(\w+):.+\}/,c=r.filter(f=>!(f.indexOf(`{${Dg}`)===0||f.indexOf(`{${hN}`)===0)).map(f=>f.replace(s,"{$1}"));return c?c.map(f=>f.slice(1,-1)):[]}};g([S({type:ffe})],sn.prototype,"actions",void 0),g([S()],sn.prototype,"content",void 0),g([bi("content")],sn.prototype,"castContent",null),g([Pe("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],sn.prototype,"readContent",null),g([De("content",{popupElements:{type:it.ofType(cfe)},showAttachments:{type:Boolean},mediaInfos:{type:it.ofType(JB)},description:{type:String},relatedRecordsInfo:{type:pfe}})],sn.prototype,"writeContent",null),g([S({type:[hfe],json:{write:!0}})],sn.prototype,"expressionInfos",void 0),g([S({type:[lC]})],sn.prototype,"fieldInfos",void 0),g([De("fieldInfos")],sn.prototype,"writeFieldInfos",null),g([S({type:dfe})],sn.prototype,"layerOptions",void 0),g([De("layerOptions")],sn.prototype,"writeLayerOptions",null),g([S({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],sn.prototype,"lastEditInfoEnabled",void 0),g([S()],sn.prototype,"outFields",void 0),g([S()],sn.prototype,"overwriteActions",void 0),g([S()],sn.prototype,"returnGeometry",void 0),g([S({json:{type:String}})],sn.prototype,"title",void 0),g([De("title")],sn.prototype,"writeTitle",null),sn=g([Q("esri.PopupTemplate")],sn);const I2=sn,dN=new At({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let gfe=0,C1=class extends $e{constructor(t){super(t),this.id="sym"+gfe++,this.type=null,this.color=new ot([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([S({type:dN.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:dN.write}}})],C1.prototype,"type",void 0),g([S({type:ot,json:{write:{allowNull:!0}}})],C1.prototype,"color",void 0),g([Pe("color")],C1.prototype,"readColor",null),C1=g([Q("esri.symbols.Symbol")],C1);const yo=C1;var KT;let Wh=KT=class extends yo{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(c=>{const f=c.valueExpressionInfo;return f?Ls(e,t,f.expression):null});await Promise.all(s)}}}clone(){return new KT({data:ye(this.data)})}hash(){return eU(JSON.stringify(this.data)).toString()}};g([S({json:{write:!1}})],Wh.prototype,"color",void 0),g([S({json:{write:!0}})],Wh.prototype,"data",void 0),g([Pe("data",["symbol"])],Wh.prototype,"readData",null),g([De("data",{})],Wh.prototype,"writeData",null),g([at({CIMSymbolReference:"cim"},{readOnly:!0})],Wh.prototype,"type",void 0),Wh=KT=g([Q("esri.symbols.CIMSymbol")],Wh);const M2=Wh;let A1=class extends $e{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([S({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],A1.prototype,"enabled",void 0),g([De("enabled")],A1.prototype,"writeEnabled",null),g([S({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],A1.prototype,"type",void 0),A1=g([Q("esri.symbols.Symbol3DLayer")],A1);const Nu=A1;function vfe(e,t){const i=t.transparency!=null?Wb(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new ot([r[0]||0,r[1]||0,r[2]||0,i]):null}function bfe(e,t){t.color=e.toJSON().slice(0,3);const i=LS(e.a);i!==0&&(t.transparency=i)}const fp={type:ot,json:{type:[Oi],default:null,read:{source:["color","transparency"],reader:vfe},write:{target:{color:{type:[Oi]},transparency:{type:Oi}},writer:bfe}}},Au={type:Number,cast:si,json:{write:!0}};let ef=class extends $e{constructor(t){super(t),this.color=new ot([0,0,0,1]),this.extensionLength=0,this.size=zo(1)}clone(){}cloneProperties(){return{color:ye(this.color),size:this.size,extensionLength:this.extensionLength}}};g([S({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ef.prototype,"type",void 0),g([S(fp)],ef.prototype,"color",void 0),g([S({...Au,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],ef.prototype,"extensionLength",void 0),g([S(Au)],ef.prototype,"size",void 0),ef=g([Q("esri.symbols.edges.Edges3D")],ef);const hC=ef;var YT;let W5=YT=class extends hC{constructor(e){super(e),this.type="sketch"}clone(){return new YT(this.cloneProperties())}};g([at({sketch:"sketch"},{readOnly:!0})],W5.prototype,"type",void 0),W5=YT=g([Q("esri.symbols.edges.SketchEdges3D")],W5);const wfe=W5;var QT;let q5=QT=class extends hC{constructor(e){super(e),this.type="solid"}clone(){return new QT(this.cloneProperties())}};g([at({solid:"solid"},{readOnly:!0})],q5.prototype,"type",void 0),q5=QT=g([Q("esri.symbols.support.SolidEdges3D")],q5);const _fe=q5,YB={types:{key:"type",base:hC,typeMap:{solid:_fe,sketch:wfe}},json:{write:!0}};var XT;let Wo=XT=class extends $e{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new XT(e)}};g([S(fp)],Wo.prototype,"color",void 0),Wo=XT=g([Q("esri.symbols.support.Symbol3DMaterial")],Wo);var eI;let qh=eI=class extends Nu{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new eI({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};g([at({Extrude:"extrude"},{readOnly:!0})],qh.prototype,"type",void 0),g([S({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],qh.prototype,"size",void 0),g([S({type:Wo,json:{write:!0}})],qh.prototype,"material",void 0),g([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],qh.prototype,"castShadows",void 0),g([S(YB)],qh.prototype,"edges",void 0),qh=eI=g([Q("esri.symbols.ExtrudeSymbol3DLayer")],qh);const QB=qh;let gv=class extends yo{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],gv.prototype,"type",void 0),g([S({type:Number,cast:si,json:{write:!0}})],gv.prototype,"width",void 0),gv=g([Q("esri.symbols.LineSymbol")],gv);const Sfe=gv,$fe=["begin","end","begin-end"],XB=["arrow","circle","square","diamond","cross","x"];var tI;let zl=tI=class extends $e{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){(r==null?void 0:r.origin)==="web-map"||(t[i]=e)}clone(){return new tI({color:ye(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};g([S({type:["begin","end","begin-end"],json:{write:!0}})],zl.prototype,"placement",void 0),g([at({"line-marker":"line-marker"},{readOnly:!0}),S({json:{origins:{"web-map":{write:!1}}}})],zl.prototype,"type",void 0),g([S({type:XB})],zl.prototype,"style",void 0),g([De("style")],zl.prototype,"writeStyle",null),g([S({type:ot,value:null,json:{write:{allowNull:!0}}})],zl.prototype,"color",null),g([Pe("color")],zl.prototype,"readColor",null),g([De("color")],zl.prototype,"writeColor",null),zl=tI=g([Q("esri.symbols.LineSymbolMarker")],zl);const xfe=zl;var iI;const tx=new At({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let tc=iI=class extends Sfe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,c){if(e&&typeof e!="string")return e;const f={};return e!=null&&(f.style=e),t!=null&&(f.color=t),i!=null&&(f.width=si(i)),r!=null&&(f.cap=r),s!=null&&(f.join=s),c!=null&&(f.miterLimit=si(c)),f}clone(){var e;return new iI({color:ye(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],tc.prototype,"type",void 0),g([S({type:tx.apiValues,json:{read:tx.read,write:tx.write}})],tc.prototype,"style",void 0),g([S({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],tc.prototype,"cap",void 0),g([S({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],tc.prototype,"join",void 0),g([S({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":xfe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],tc.prototype,"marker",void 0),g([S({type:Number,json:{read:!1,write:!1}})],tc.prototype,"miterLimit",void 0),tc=iI=g([Q("esri.symbols.SimpleLineSymbol")],tc);const mo=tc,Efe=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));let vv=class extends yo{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};g([S({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":mo}},json:{default:null,write:!0}})],vv.prototype,"outline",void 0),g([S({type:["simple-fill","picture-fill"],readOnly:!0})],vv.prototype,"type",void 0),vv=g([Q("esri.symbols.FillSymbol")],vv);const eH=vv;let B5=class extends $e{constructor(t){super(t)}clone(){}};g([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],B5.prototype,"type",void 0),B5=g([Q("esri.symbols.patterns.LinePattern3D")],B5);const tH=B5,Tfe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var rI;const Ife=kn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let bv=rI=class extends tH{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new rI(e)}};g([S({type:["style"]})],bv.prototype,"type",void 0),g([at(Ife),S({type:Tfe})],bv.prototype,"style",void 0),bv=rI=g([Q("esri.symbols.patterns.LineStylePattern3D")],bv);const dC=bv;let H5=class extends $e{constructor(t){super(t)}clone(){}};g([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],H5.prototype,"type",void 0),H5=g([Q("esri.symbols.patterns.Pattern3D")],H5);const iH=H5,Mfe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var nI;let wv=nI=class extends iH{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new nI(e)}};g([S({type:["style"]})],wv.prototype,"type",void 0),g([S({type:Mfe,json:{read:!0,write:!0}})],wv.prototype,"style",void 0),wv=nI=g([Q("esri.symbols.patterns.StylePattern3D")],wv);const rH=wv,kfe={types:{key:"type",base:iH,typeMap:{style:rH}},json:{write:!0}},nH={types:{key:"type",base:tH,typeMap:{style:dC}},json:{write:!0}},yb=new ot("white");new ot("black");const Cfe=new ot([255,255,255,0]);function Afe(e){return e.r===0&&e.g===0&&e.b===0}var sI;let mb=sI=class extends Wo{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new sI(e)}};g([at({multiply:"multiply",replace:"replace",tint:"tint"})],mb.prototype,"colorMixMode",void 0),mb=sI=g([Q("esri.symbols.support.Symbol3DFillMaterial")],mb);function pC(e=Pfe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function KS(e,t,i,r,s,c,f=pC()){return f[0]=e,f[1]=t,f[2]=i,f[3]=r,f[4]=s,f[5]=c,f}function COe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new rr(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function AOe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function OOe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function LOe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function POe(e,t,i=0,r=t.length/3){let s=e[0],c=e[1],f=e[2],m=e[3],b=e[4],x=e[5];for(let T=0;T<r;T++)s=Math.min(s,t[i+3*T]),c=Math.min(c,t[i+3*T+1]),f=Math.min(f,t[i+3*T+2]),m=Math.max(m,t[i+3*T]),b=Math.max(b,t[i+3*T+1]),x=Math.max(x,t[i+3*T+2]);e[0]=s,e[1]=c,e[2]=f,e[3]=m,e[4]=b,e[5]=x}function FOe(e,t,i){const r=t.length;let s=e[0],c=e[1],f=e[2],m=e[3],b=e[4],x=e[5];if(i)for(let T=0;T<r;T++){const C=t[T];s=Math.min(s,C[0]),c=Math.min(c,C[1]),f=Math.min(f,C[2]),m=Math.max(m,C[0]),b=Math.max(b,C[1]),x=Math.max(x,C[2])}else for(let T=0;T<r;T++){const C=t[T];s=Math.min(s,C[0]),c=Math.min(c,C[1]),m=Math.max(m,C[0]),b=Math.max(b,C[1])}e[0]=s,e[1]=c,e[2]=f,e[3]=m,e[4]=b,e[5]=x}function ROe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function k2(e){return e[0]>=e[3]?0:e[3]-e[0]}function C2(e){return e[1]>=e[4]?0:e[4]-e[1]}function A2(e){return e[2]>=e[5]?0:e[5]-e[2]}function NOe(e){const t=k2(e),i=A2(e),r=C2(e);return Math.sqrt(t*t+i*i+r*r)}function jOe(e,t=[0,0,0]){return t[0]=e[0]+k2(e)/2,t[1]=e[1]+C2(e)/2,t[2]=e[2]+A2(e)/2,t}function DOe(e,t=[0,0,0]){return t[0]=k2(e),t[1]=C2(e),t[2]=A2(e),t}function VOe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function zOe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]}function Ofe(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function UOe(e,t){return t==null||Ofe(e,t)}function GOe(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function WOe(e,t,i=e){const r=e[0]+k2(e)/2,s=e[1]+C2(e)/2,c=e[2]+A2(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=c+(e[2]-c)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=c+(e[5]-c)*t,i}function qOe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function BOe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function HOe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function Lfe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function JOe(e){return e?Lfe(e,fN):pC(fN)}function ZOe(e,t){return t||(t=km()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function KOe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function YOe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function pN(e){return e.length===6}function QOe(e){return k2(e)===0&&C2(e)===0&&A2(e)===0}function XOe(e,t,i){if(e==null||t==null)return e===t;if(!pN(e)||!pN(t))return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function eLe(e,t,i,r,s,c){return KS(e,t,i,r,s,c,Ffe)}const tLe=[-1/0,-1/0,-1/0,1/0,1/0,1/0],fN=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Pfe=[0,0,0,0,0,0],Ffe=pC();function iLe(e,{isPrimitive:t,width:i,depth:r,height:s}){const c=t?10:1;if(i==null&&s==null&&r==null)return[c*e[0],c*e[1],c*e[2]];const f=lo(i,r,s);let m;for(let b=0;b<3;b++){const x=f[b];if(x!=null){m=x/e[b];break}}for(let b=0;b<3;b++)f[b]==null&&(f[b]=e[b]*m);return f}const Rfe=KS(-.5,-.5,-.5,.5,.5,.5),Nfe=KS(-.5,-.5,0,.5,.5,1),jfe=KS(-.5,-.5,0,.5,.5,.5);function rLe(e){switch(e){case"sphere":case"cube":case"diamond":return Rfe;case"cylinder":case"cone":case"inverted-cone":return Nfe;case"tetrahedron":return jfe;default:return}}const fC=["butt","square","round"],Dfe=[...fC,"none"],sH=["miter","bevel","round"];var oI;let tf=oI=class extends $e{constructor(e){super(e),this.color=new ot([0,0,0,1]),this.size=zo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new oI(e)}};g([S(fp)],tf.prototype,"color",void 0),g([S(Au)],tf.prototype,"size",void 0),g([S(nH)],tf.prototype,"pattern",void 0),g([S({type:fC,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],tf.prototype,"patternCap",void 0),tf=oI=g([Q("esri.symbols.support.Symbol3DOutline")],tf);var J5;let ic=J5=class extends Nu{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new J5(e)}static fromSimpleFillSymbol(e){var r,s,c;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new dC({style:e.outline.style}):null,i={size:((r=e.outline)==null?void 0:r.width)??0,color:(((s=e.outline)==null?void 0:s.color)??yb).clone(),pattern:t};return t&&((c=e.outline)!=null&&c.cap)&&(i.patternCap=e.outline.cap),new J5({material:new mb({color:(e.color??Cfe).clone()}),pattern:e.style&&e.style!=="solid"?new rH({style:e.style}):null,outline:i})}};g([at({Fill:"fill"},{readOnly:!0})],ic.prototype,"type",void 0),g([S({type:mb,json:{write:!0}})],ic.prototype,"material",void 0),g([S(kfe)],ic.prototype,"pattern",void 0),g([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ic.prototype,"castShadows",void 0),g([S({type:tf,json:{write:!0}})],ic.prototype,"outline",void 0),g([S(YB)],ic.prototype,"edges",void 0),ic=J5=g([Q("esri.symbols.FillSymbol3DLayer")],ic);const Pm=ic,Vfe=["none","underline","line-through"],zfe=["normal","italic","oblique"],Ufe=["normal","lighter","bold","bolder"],oH={type:Number,cast:e=>{const t=pa(e);return t===0?1:Rn(t,.1,4)},nonNullable:!0},Gfe=["left","right","center"],Wfe=["baseline","top","middle","bottom"],aH={type:Gfe,nonNullable:!0},lH={type:Wfe,nonNullable:!0},nLe=8;var aI;let rc=aI=class extends $e{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return si(e)}clone(){return new aI({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([S({type:Vfe,json:{default:"none",write:!0}})],rc.prototype,"decoration",void 0),g([S({type:String,json:{write:!0}})],rc.prototype,"family",void 0),g([S({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],rc.prototype,"size",void 0),g([bi("size")],rc.prototype,"castSize",null),g([S({type:zfe,json:{default:"normal",write:!0}})],rc.prototype,"style",void 0),g([S({type:Ufe,json:{default:"normal",write:!0}})],rc.prototype,"weight",void 0),rc=aI=g([Q("esri.symbols.Font")],rc);const YS=rc;var lI;const qfe=kn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let rf=lI=class extends $e{constructor(e){super(e)}readHref(e,t,i){return e?ep(e,i):t.dataURI}writeHref(e,t,i,r){e&&(lp(e)?t.dataURI=e:(t.href=w2(e,r),Vo(t.href)&&(t.href=wa(t.href))))}clone(){return new lI({href:this.href,primitive:this.primitive})}};g([S({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],rf.prototype,"href",void 0),g([Pe("href")],rf.prototype,"readHref",null),g([De("href",{href:{type:String},dataURI:{type:String}})],rf.prototype,"writeHref",null),g([at(qfe)],rf.prototype,"primitive",void 0),rf=lI=g([Q("esri.symbols.support.IconSymbol3DLayerResource")],rf);const Bfe="circle";var uI;let $y=uI=class extends ht{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new uI({x:this.x,y:this.y})}};g([S({type:Number})],$y.prototype,"x",void 0),g([S({type:Number})],$y.prototype,"y",void 0),$y=uI=g([Q("esri.symbols.support.Symbol3DAnchorPosition2D")],$y);var cI;let _v=cI=class extends $e{constructor(e){super(e),this.color=new ot([0,0,0,1]),this.size=zo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new cI(e)}};g([S(fp)],_v.prototype,"color",void 0),g([S(Au)],_v.prototype,"size",void 0),_v=cI=g([Q("esri.symbols.support.Symbol3DIconOutline")],_v);var O1;const uH="esri.symbols.IconSymbol3DLayer";let Ul=O1=class extends Nu{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new O1({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||yb,i=yN(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||yb).clone()}:null;return new O1({size:e.size,resource:{primitive:Jfe(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||Afe(e.color)?yb:e.color,i=yN(e);return new O1({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new O1({resource:{href:sG({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function yN(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=mN(e.xoffset),s=mN(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function mN(e){return isFinite(e)?e:0}g([S({type:Wo,json:{write:!0}})],Ul.prototype,"material",void 0),g([S({type:rf,json:{write:!0}})],Ul.prototype,"resource",void 0),g([at({Icon:"icon"},{readOnly:!0})],Ul.prototype,"type",void 0),g([S(Au)],Ul.prototype,"size",void 0),g([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),S({json:{default:"center"}})],Ul.prototype,"anchor",void 0),g([S({type:$y,json:{type:[Number],read:{reader:e=>new $y({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Ul.prototype,"anchorPosition",void 0),g([S({type:_v,json:{write:!0}})],Ul.prototype,"outline",void 0),Ul=O1=g([Q(uH)],Ul);const Hfe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Jfe(e){return Hfe[e]||(ke.getLogger(uH).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Gf=Ul;let nf=class extends ti($e){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],nf.prototype,"type",void 0),g([S({type:$fe,json:{default:"begin-end",write:!0}})],nf.prototype,"placement",void 0),g([S({type:XB,json:{default:"arrow",write:!0}})],nf.prototype,"style",void 0),g([S({type:ot,json:{type:[Oi],default:null,write:!0}})],nf.prototype,"color",void 0),nf=g([Q("esri.symbols.LineStyleMarker3D")],nf);const hI=nf;var Z5;let Gl=Z5=class extends Nu{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=zo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Z5(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??zo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new dC({style:e.style}):null,material:new Wo({color:(e.color||yb).clone()}),marker:e.marker?new hI({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new Z5(t)}};g([S({type:Wo,json:{write:!0}})],Gl.prototype,"material",void 0),g([at({Line:"line"},{readOnly:!0})],Gl.prototype,"type",void 0),g([S({type:sH,json:{write:!0,default:"miter"}})],Gl.prototype,"join",void 0),g([S({type:fC,json:{write:!0,default:"butt"}})],Gl.prototype,"cap",void 0),g([S(Au)],Gl.prototype,"size",void 0),g([S(nH)],Gl.prototype,"pattern",void 0),g([S({types:{key:"type",base:hI,typeMap:{style:hI}},json:{write:!0}})],Gl.prototype,"marker",void 0),Gl=Z5=g([Q("esri.symbols.LineSymbol3DLayer")],Gl);const O2=Gl;var dI;const Zfe=kn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Sv=dI=class extends $e{clone(){return new dI({href:this.href,primitive:this.primitive})}};g([S({type:String,json:{read:k8,write:m0}})],Sv.prototype,"href",void 0),g([at(Zfe)],Sv.prototype,"primitive",void 0),Sv=dI=g([Q("esri.symbols.support.ObjectSymbol3DLayerResource")],Sv);const Kfe="sphere";var pI;let Ff=pI=class extends ht{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new pI({x:this.x,y:this.y,z:this.z})}};g([S({type:Number})],Ff.prototype,"x",void 0),g([S({type:Number})],Ff.prototype,"y",void 0),g([S({type:Number})],Ff.prototype,"z",void 0),Ff=pI=g([Q("esri.symbols.support.Symbol3DAnchorPosition3D")],Ff);var fI;let Kn=fI=class extends Nu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new fI({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([S({type:Wo,json:{write:!0}})],Kn.prototype,"material",void 0),g([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Kn.prototype,"castShadows",void 0),g([S({type:Sv,json:{write:!0}})],Kn.prototype,"resource",void 0),g([at({Object:"object"},{readOnly:!0})],Kn.prototype,"type",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"width",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"height",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"depth",void 0),g([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),S({json:{default:"origin"}})],Kn.prototype,"anchor",void 0),g([S({type:Ff,json:{type:[Number],read:{reader:e=>new Ff({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Kn.prototype,"anchorPosition",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"heading",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"tilt",void 0),g([S({type:Number,json:{write:!0}})],Kn.prototype,"roll",void 0),g([S({readOnly:!0})],Kn.prototype,"isPrimitive",null),Kn=fI=g([Q("esri.symbols.ObjectSymbol3DLayer")],Kn);const yC=Kn;var yI;let vs=yI=class extends Nu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new yI({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([S({type:Wo,json:{write:!0}})],vs.prototype,"material",void 0),g([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],vs.prototype,"castShadows",void 0),g([at({Path:"path"},{readOnly:!0})],vs.prototype,"type",void 0),g([S({type:["circle","quad"],json:{write:!0,default:"circle"}})],vs.prototype,"profile",void 0),g([S({type:sH,json:{write:!0,default:"miter"}})],vs.prototype,"join",void 0),g([S({type:Dfe,json:{write:!0,default:"butt"}})],vs.prototype,"cap",void 0),g([S({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],vs.prototype,"width",void 0),g([Pe("width",["width","size","height"])],vs.prototype,"readWidth",null),g([S({type:Number,json:{write:!0}})],vs.prototype,"height",void 0),g([Pe("height",["height","size","width"])],vs.prototype,"readHeight",null),g([S({type:["center","bottom","top"],json:{write:!0,default:"center"}})],vs.prototype,"anchor",void 0),g([S({type:["heading","all"],json:{write:!0,default:"all"}})],vs.prototype,"profileRotation",void 0),vs=yI=g([Q("esri.symbols.PathSymbol3DLayer")],vs);const mC=vs;var mI;let xy=mI=class extends $e{constructor(){super(...arguments),this.color=new ot([0,0,0,1]),this.size=0}clone(){const e={color:ye(this.color),size:this.size};return new mI(e)}};g([S(fp)],xy.prototype,"color",void 0),g([S(Au)],xy.prototype,"size",void 0),xy=mI=g([Q("esri.symbols.support.Symbol3DHalo")],xy);let gb=class extends ti($e){constructor(t){super(t),this.color=null}};g([S(fp)],gb.prototype,"color",void 0),gb=g([Q("esri.symbols.support.Symbol3DTextBackground")],gb);var K5;let Bs=K5=class extends Nu{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new K5({enabled:this.enabled,font:this.font&&ye(this.font),halo:this.halo&&ye(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ye(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new K5({font:e.font!=null?e.font.clone():new YS,halo:Yfe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Wo({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new gb({color:e.backgroundColor.clone()}):null})}};function Yfe(e,t){return e&&t!=null&&t>0?new xy({color:ye(e),size:t}):null}g([S({type:YS,json:{write:!0}})],Bs.prototype,"font",null),g([De("font")],Bs.prototype,"writeFont",null),g([S({type:xy,json:{write:!0}})],Bs.prototype,"halo",void 0),g([S({...aH,json:{default:"center",write:!0}})],Bs.prototype,"horizontalAlignment",void 0),g([S({...oH,json:{default:1,write:!0}})],Bs.prototype,"lineHeight",void 0),g([S({type:Wo,json:{write:!0}})],Bs.prototype,"material",void 0),g([S({type:gb,json:{write:!0}})],Bs.prototype,"background",void 0),g([S(Au)],Bs.prototype,"size",null),g([S({type:String,json:{write:!0}})],Bs.prototype,"text",void 0),g([at({Text:"text"},{readOnly:!0})],Bs.prototype,"type",void 0),g([S({...lH,json:{default:"baseline",write:!0}})],Bs.prototype,"verticalAlignment",void 0),Bs=K5=g([Q("esri.symbols.TextSymbol3DLayer")],Bs);const Fm=Bs;var gI;let Bh=gI=class extends Nu{constructor(e){super(e),this.color=vI.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new gI({color:ye(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([S({type:ot,nonNullable:!0,json:{type:[Oi],write:(e,t,i)=>t[i]=e.toArray(ot.AlphaMode.UNLESS_OPAQUE),default:()=>vI.clone(),defaultEquals:e=>e.toCss(!0)===vI.toCss(!0)}})],Bh.prototype,"color",void 0),g([at({Water:"water"},{readOnly:!0})],Bh.prototype,"type",void 0),g([S({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Bh.prototype,"waterbodySize",void 0),g([S({type:Number,json:{write:!0,default:null}})],Bh.prototype,"waveDirection",void 0),g([S({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Bh.prototype,"waveStrength",void 0),Bh=gI=g([Q("esri.symbols.WaterSymbol3DLayer")],Bh);const vI=new ot([0,119,190]),cH=Bh;var bI;let sf=bI=class extends ht{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new bI({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([S({type:String})],sf.prototype,"name",void 0),g([S({type:String})],sf.prototype,"styleUrl",void 0),g([S({type:String})],sf.prototype,"styleName",void 0),g([S({type:Xr})],sf.prototype,"portal",void 0),sf=bI=g([Q("esri.symbols.support.StyleOrigin")],sf);const Yb=sf;var wI;let i0=wI=class extends ht{constructor(){super(...arguments),this.url=""}clone(){return new wI({url:this.url})}};g([S({type:String})],i0.prototype,"url",void 0),i0=wI=g([Q("esri.symbols.support.Thumbnail")],i0);const hH={icon:Gf,object:yC,line:O2,path:mC,fill:Pm,extrude:QB,text:Fm,water:cH},Qfe=it.ofType({base:Nu,key:"type",typeMap:hH,errorContext:"symbol-layer"});let Wl=class extends yo{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||it;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&ke.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){u0(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=ep(t.styleUrl,r);return new Yb({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new Yb({portal:(r==null?void 0:r.portal)||Xr.getDefault(),styleName:t.styleName,name:t.name});r!=null&&r.messages&&r.messages.push(new xu("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let c=w2(t.styleUrl,s);Vo(c)&&(c=wa(c)),i.styleOrigin={styleUrl:c,name:t.name}}else t.styleName&&t.name&&(t.portal&&(s!=null&&s.portal)&&!rG(t.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new xu("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Nu||t&&hH[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([S({json:{read:!1,write:!1}})],Wl.prototype,"color",null),g([S({type:Qfe,nonNullable:!0,json:{write:!0}}),bi(gG)],Wl.prototype,"symbolLayers",null),g([S({type:Yb})],Wl.prototype,"styleOrigin",void 0),g([Pe("styleOrigin")],Wl.prototype,"readStyleOrigin",null),g([De("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Wl.prototype,"writeStyleOrigin",null),g([S({type:i0,json:{read:!1}})],Wl.prototype,"thumbnail",void 0),g([S({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Wl.prototype,"type",void 0),Wl=g([Q("esri.symbols.Symbol3D")],Wl);const Rm=Wl;let $v=class extends $e{constructor(t){super(t),this.visible=!0}clone(){}};g([S({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],$v.prototype,"type",void 0),g([S({readOnly:!0})],$v.prototype,"visible",void 0),$v=g([Q("esri.symbols.callouts.Callout3D")],$v);const dH=$v;var _I;let Y5=_I=class extends $e{constructor(e){super(e),this.color=new ot("white")}clone(){return new _I({color:ye(this.color)})}};g([S(fp)],Y5.prototype,"color",void 0),Y5=_I=g([Q("esri.symbols.callouts.LineCallout3DBorder")],Y5);const Xfe=Y5;var SI;let Hh=SI=class extends dH{constructor(e){super(e),this.type="line",this.color=new ot([0,0,0,1]),this.size=zo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new SI({color:ye(this.color),size:this.size,border:ye(this.border)})}};g([at({line:"line"})],Hh.prototype,"type",void 0),g([S(fp)],Hh.prototype,"color",void 0),g([S(Au)],Hh.prototype,"size",void 0),g([S({type:Xfe,json:{write:!0}})],Hh.prototype,"border",void 0),g([S({readOnly:!0})],Hh.prototype,"visible",null),Hh=SI=g([Q("esri.symbols.callouts.LineCallout3D")],Hh);const pH=Hh;function gC(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function fH(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!gC(e)}function uLe(e){return e.type==="point-3d"||e.type==="label-3d"}function cLe(e){return e.horizontalAlignment==="center"}const yH={types:{key:"type",base:dH,typeMap:{line:pH}},json:{write:!0}};var $I;let L1=$I=class extends $e{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new $I({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([S(Au)],L1.prototype,"screenLength",void 0),g([S({type:Number,nonNullable:!0,json:{write:!0,default:0}})],L1.prototype,"minWorldLength",void 0),g([S({type:Number,json:{write:!0}})],L1.prototype,"maxWorldLength",void 0),L1=$I=g([Q("esri.symbols.support.Symbol3DVerticalOffset")],L1);const vC=L1;var Q5;const mH=it.ofType({base:null,key:"type",typeMap:{text:Fm}});let Jh=Q5=class extends Rm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new mH,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return fH(this)}hasVisibleVerticalOffset(){return gC(this)}clone(){return new Q5({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail),callout:ye(this.callout),verticalOffset:ye(this.verticalOffset)})}static fromTextSymbol(e){return new Q5({symbolLayers:new it([Fm.fromTextSymbol(e)])})}};g([S({type:vC,json:{write:!0}})],Jh.prototype,"verticalOffset",void 0),g([S(yH)],Jh.prototype,"callout",void 0),g([S({json:{read:!1,write:!1}})],Jh.prototype,"styleOrigin",void 0),g([S({type:mH})],Jh.prototype,"symbolLayers",void 0),g([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],Jh.prototype,"type",void 0),Jh=Q5=g([Q("esri.symbols.LabelSymbol3D")],Jh);const QS=Jh;var X5;const gH=it.ofType({base:null,key:"type",typeMap:{line:O2,path:mC}}),e0e=it.ofType({base:null,key:"type",typeMap:{line:O2,path:mC}});let xv=X5=class extends Rm{constructor(e){super(e),this.symbolLayers=new gH,this.type="line-3d"}clone(){return new X5({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleLineSymbol(e){return new X5({symbolLayers:new it([O2.fromSimpleLineSymbol(e)])})}};g([S({type:gH,json:{type:e0e}})],xv.prototype,"symbolLayers",void 0),g([at({LineSymbol3D:"line-3d"},{readOnly:!0})],xv.prototype,"type",void 0),xv=X5=g([Q("esri.symbols.LineSymbol3D")],xv);const XS=xv;let Zh=class extends yo{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([S({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Zh.prototype,"angle",void 0),g([S({type:["simple-marker","picture-marker"],readOnly:!0})],Zh.prototype,"type",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Zh.prototype,"xoffset",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Zh.prototype,"yoffset",void 0),g([S({type:Number,cast:e=>e==="auto"?e:si(e),json:{write:!0}})],Zh.prototype,"size",void 0),Zh=g([Q("esri.symbols.MarkerSymbol")],Zh);const vH=Zh;var e_;const bH=it.ofType({base:null,key:"type",typeMap:{fill:Pm}});let Ev=e_=class extends Rm{constructor(e){super(e),this.symbolLayers=new bH,this.type="mesh-3d"}clone(){return new e_({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleFillSymbol(e){return new e_({symbolLayers:new it([Pm.fromSimpleFillSymbol(e)])})}};g([S({type:bH})],Ev.prototype,"symbolLayers",void 0),g([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ev.prototype,"type",void 0),Ev=e_=g([Q("esri.symbols.MeshSymbol3D")],Ev);const L2=Ev;function t0e(e,t,i){return t.imageData?sG({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):wH(t.url,i)}function wH(e,t){if(!Vo(e)){const i=r0e(t);if(i)return Ky(i,"images",e)}return ep(e,t)}function i0e(e,t,i,r){if(lp(e)){const s=Yy(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&m0(i.url,t,"url",r)}else m0(e,t,"url",r)}const _H={json:{read:{source:["imageData","url"],reader:t0e},write:{writer(e,t,i,r){i0e(e,t,this.source,r)}}}},SH={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=wH(t.url,i)),r}}}};function r0e(e){var s,c;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(c=e.url)==null?void 0:c.path:null}var xI;let sa=xI=class extends eH{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=si(i)),r!=null&&(s.height=si(r)),s}clone(){const e=new xI({color:ye(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ye(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([at({esriPFS:"picture-fill"},{readOnly:!0})],sa.prototype,"type",void 0),g([S(_H)],sa.prototype,"url",void 0),g([S({type:Number,json:{write:!0}})],sa.prototype,"xscale",void 0),g([S({type:Number,json:{write:!0}})],sa.prototype,"yscale",void 0),g([S({type:Number,cast:si,json:{write:!0}})],sa.prototype,"width",void 0),g([S({type:Number,cast:si,json:{write:!0}})],sa.prototype,"height",void 0),g([S({type:Number,cast:si,json:{write:!0}})],sa.prototype,"xoffset",void 0),g([S({type:Number,cast:si,json:{write:!0}})],sa.prototype,"yoffset",void 0),g([S(SH)],sa.prototype,"source",void 0),sa=xI=g([Q("esri.symbols.PictureFillSymbol")],sa);const $H=sa;var EI;let Ba=EI=class extends vH{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=si(t)),i!=null&&(r.height=si(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new EI({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ye(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([S({json:{write:!1}})],Ba.prototype,"color",void 0),g([at({esriPMS:"picture-marker"},{readOnly:!0})],Ba.prototype,"type",void 0),g([S(_H)],Ba.prototype,"url",void 0),g([S(SH)],Ba.prototype,"source",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Ba.prototype,"height",void 0),g([Pe("height",["height","size"])],Ba.prototype,"readHeight",null),g([S({type:Number,cast:si,json:{write:!0}})],Ba.prototype,"width",void 0),g([S({json:{write:!1}})],Ba.prototype,"size",void 0),Ba=EI=g([Q("esri.symbols.PictureMarkerSymbol")],Ba);const e9=Ba;var of;const xH=it.ofType({base:null,key:"type",typeMap:{icon:Gf,object:yC,text:Fm}});let af=of=class extends Rm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new xH,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return fH(this)}hasVisibleVerticalOffset(){return gC(this)}clone(){return new of({verticalOffset:ye(this.verticalOffset),callout:ye(this.callout),styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new of({symbolLayers:new it([Gf.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new of({symbolLayers:new it([Gf.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var r,s;if(((s=(r=e.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new of(i!=null&&i.callout?{symbolLayers:new it([Gf.fromCIMSymbol(e)]),callout:new pH({size:.5,color:new ot([0,0,0])}),verticalOffset:new vC({screenLength:40})}:{symbolLayers:new it([Gf.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new of({symbolLayers:new it([Fm.fromTextSymbol(e)])})}};g([S({type:vC,json:{write:!0}})],af.prototype,"verticalOffset",void 0),g([S(yH)],af.prototype,"callout",void 0),g([S({type:xH,json:{origins:{"web-scene":{write:!0}}}})],af.prototype,"symbolLayers",void 0),g([at({PointSymbol3D:"point-3d"},{readOnly:!0})],af.prototype,"type",void 0),af=of=g([Q("esri.symbols.PointSymbol3D")],af);const Wf=af;var Tv;const EH=it.ofType({base:null,key:"type",typeMap:{extrude:QB,fill:Pm,icon:Gf,line:O2,object:yC,text:Fm,water:cH}});let Iv=Tv=class extends Rm{constructor(e){super(e),this.symbolLayers=new EH,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Rb(ke.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Rb(ke.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Zr(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Mu))}clone(){return new Tv({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromJSON(e){var i;const t=new Tv;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Tv({symbolLayers:new it([Pm.fromSimpleFillSymbol(e)])})}};g([S({type:EH,json:{write:!0}})],Iv.prototype,"symbolLayers",void 0),g([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Iv.prototype,"type",void 0),Iv=Tv=g([Q("esri.symbols.PolygonSymbol3D")],Iv);const P2=Iv;var TI;const ix=new At({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let lf=TI=class extends eH{constructor(...e){super(...e),this.color=new ot([0,0,0,.25]),this.outline=new mo,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new TI({color:ye(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([S()],lf.prototype,"color",void 0),g([S()],lf.prototype,"outline",void 0),g([at({esriSFS:"simple-fill"},{readOnly:!0})],lf.prototype,"type",void 0),g([S({type:ix.apiValues,json:{read:ix.read,write:ix.write}})],lf.prototype,"style",void 0),lf=TI=g([Q("esri.symbols.SimpleFillSymbol")],lf);const Qc=lf,n0e=Object.freeze(Object.defineProperty({__proto__:null,default:Qc},Symbol.toStringTag,{value:"Module"}));var II;const rx=new At({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ql=II=class extends vH{constructor(...e){super(...e),this.color=new ot([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new mo}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=si(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new II({angle:this.angle,color:ye(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};g([S()],ql.prototype,"color",void 0),g([De("color")],ql.prototype,"writeColor",null),g([at({esriSMS:"simple-marker"},{readOnly:!0})],ql.prototype,"type",void 0),g([S()],ql.prototype,"size",void 0),g([S({type:rx.apiValues,json:{read:rx.read,write:rx.write}})],ql.prototype,"style",void 0),g([S({type:String,json:{write:!0}})],ql.prototype,"path",null),g([S({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":mo}},json:{default:null,write:!0}})],ql.prototype,"outline",void 0),ql=II=g([Q("esri.symbols.SimpleMarkerSymbol")],ql);const Ta=ql,s0e=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"}));var MI;let Yi=MI=class extends yo{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new YS,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return si(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new MI({angle:this.angle,backgroundColor:ye(this.backgroundColor),borderLineColor:ye(this.borderLineColor),borderLineSize:this.borderLineSize,color:ye(this.color),font:this.font&&this.font.clone(),haloColor:ye(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([S({type:ot,json:{write:!0}})],Yi.prototype,"backgroundColor",void 0),g([S({type:ot,json:{write:!0}})],Yi.prototype,"borderLineColor",void 0),g([S({type:Number,json:{write:!0},cast:si})],Yi.prototype,"borderLineSize",void 0),g([S({type:YS,json:{write:!0}})],Yi.prototype,"font",void 0),g([S({...aH,json:{write:!0}})],Yi.prototype,"horizontalAlignment",void 0),g([S({type:Boolean,json:{write:!0}})],Yi.prototype,"kerning",void 0),g([S({type:ot,json:{write:!0}})],Yi.prototype,"haloColor",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Yi.prototype,"haloSize",void 0),g([S({type:Boolean,json:{write:!0}})],Yi.prototype,"rightToLeft",void 0),g([S({type:Boolean,json:{write:!0}})],Yi.prototype,"rotated",void 0),g([S({type:String,json:{write:!0}})],Yi.prototype,"text",void 0),g([at({esriTS:"text"},{readOnly:!0})],Yi.prototype,"type",void 0),g([S({...lH,json:{write:!0}})],Yi.prototype,"verticalAlignment",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Yi.prototype,"xoffset",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Yi.prototype,"yoffset",void 0),g([S({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Yi.prototype,"angle",void 0),g([S({type:Number,json:{write:!0}})],Yi.prototype,"width",void 0),g([S({type:Number})],Yi.prototype,"lineWidth",void 0),g([De("lineWidth")],Yi.prototype,"writeLineWidth",null),g([bi("lineWidth")],Yi.prototype,"castLineWidth",null),g([S(oH)],Yi.prototype,"lineHeight",void 0),g([De("lineHeight")],Yi.prototype,"writeLineHeight",null),Yi=MI=g([Q("esri.symbols.TextSymbol")],Yi);const Nm=Yi;var kI;let Ha=kI=class extends yo{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Xr.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new kI({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=t!=null?t.cache:null,r=i?this._fetchCacheKey:null;if(i!=null){const m=r&&i.get(r);if(m)return m.clone()}const{resolveWebStyleSymbol:s}=await te(()=>Promise.resolve().then(()=>Y9e),void 0);dr(t);const c=s(this,{portal:this.portal},e,t);c.catch(m=>{ke.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",m)});const f=await c;return e==="webRef"&&f.type==="point-3d"||e==="cimRef"&&f.type==="cim"?(i!=null&&i.set(r,f.clone()),f):null}};g([S({json:{write:!1}})],Ha.prototype,"color",void 0),g([S({type:String,json:{write:!0}})],Ha.prototype,"styleName",void 0),g([S({type:Xr,json:{write:!1}})],Ha.prototype,"portal",void 0),g([S({type:String,json:{read:k8,write:m0}})],Ha.prototype,"styleUrl",void 0),g([S({type:i0,json:{read:!1}})],Ha.prototype,"thumbnail",void 0),g([S({type:String,json:{write:!0}})],Ha.prototype,"name",void 0),g([at({styleSymbolReference:"web-style"},{readOnly:!0})],Ha.prototype,"type",void 0),g([S()],Ha.prototype,"_fetchCacheKey",null),Ha=kI=g([Q("esri.symbols.WebStyleSymbol")],Ha);const O0=Ha;function t9(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function ip(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const ml={base:yo,key:"type",typeMap:{"simple-fill":Qc,"picture-fill":$H,"picture-marker":e9,"simple-line":mo,"simple-marker":Ta,text:Nm,"label-3d":QS,"line-3d":XS,"mesh-3d":L2,"point-3d":Wf,"polygon-3d":P2,"web-style":O0,cim:M2},errorContext:"symbol"},o0e={base:yo,key:"type",typeMap:{"picture-marker":e9,"simple-marker":Ta,text:Nm,"web-style":O0,cim:M2},errorContext:"symbol"},a0e=Em({types:ml}),TH={base:yo,key:"type",typeMap:{"simple-fill":Qc,"picture-fill":$H,"picture-marker":e9,"simple-line":mo,"simple-marker":Ta,text:Nm,"line-3d":XS,"mesh-3d":L2,"point-3d":Wf,"polygon-3d":P2,"web-style":O0,cim:M2},errorContext:"symbol"},l0e={base:yo,key:"type",typeMap:{text:Nm,"label-3d":QS},errorContext:"symbol"},gN={base:yo,key:"type",typeMap:{"line-3d":XS,"mesh-3d":L2,"point-3d":Wf,"polygon-3d":P2,"web-style":O0,cim:M2},errorContext:"symbol"},u0e={base:yo,key:"type",typeMap:{"label-3d":QS},errorContext:"symbol"},IH=$u(ml);var CI;function c0e(e){if(!e)return null;const t={};for(const i in e){const r=Jc(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function h0e(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let bs=CI=class extends ti($e){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Cy(),configurable:!0})}normalizeCtorArgs(e,t,i,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:r}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new CI({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:h0e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:n4(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}};g([S({value:null,json:{read:c0e}})],bs.prototype,"aggregateGeometries",null),g([S({value:null})],bs.prototype,"attributes",null),g([S({value:null,types:hp,json:{read:Jc}})],bs.prototype,"geometry",null),g([S({type:Boolean})],bs.prototype,"isAggregate",void 0),g([S({clonable:"reference"})],bs.prototype,"layer",void 0),g([S({clonable:"reference"})],bs.prototype,"origin",void 0),g([S({type:I2})],bs.prototype,"popupTemplate",void 0),g([S({clonable:"reference"})],bs.prototype,"sourceLayer",void 0),g([S({value:null,types:ml})],bs.prototype,"symbol",null),g([S({type:Boolean,value:!0})],bs.prototype,"visible",null),bs=CI=g([Q("esri.Graphic")],bs),function(e){e.generateUID=Cy}(bs||(bs={}));const Dn=bs;var AI;let Mv=AI=class extends $e{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new AI({minValue:this.minValue,maxValue:this.maxValue})}};g([S({type:Number,json:{write:!0}})],Mv.prototype,"minValue",void 0),g([S({type:Number,json:{write:!0}})],Mv.prototype,"maxValue",void 0),Mv=AI=g([Q("esri.renderer.support.AuthoringInfoClassBreakInfo")],Mv);var OI;let wd=OI=class extends $e{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new OI({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:ye(this.classBreakInfos)})}};g([S({type:String,json:{write:!0}})],wd.prototype,"field",void 0),g([S({type:String,json:{write:!0}})],wd.prototype,"normalizationField",void 0),g([S({type:String,json:{write:!0}})],wd.prototype,"label",void 0),g([S({type:[Mv],json:{write:!0}})],wd.prototype,"classBreakInfos",void 0),wd=OI=g([Q("esri.renderers.support.AuthoringInfoFieldInfo")],wd);var LI;const b3=new At({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),w3=new At({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),vN={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},bN=["high-to-low","above-and-below","centered-on","extremes"],wN=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],_N=["seconds","minutes","hours","days","months","years"];let Hs=LI=class extends $e{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new LI({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};g([S({types:vN,json:{write:!0}})],Hs.prototype,"endTime",void 0),g([bi("endTime")],Hs.prototype,"castEndTime",null),g([S({type:String,json:{write:!0}})],Hs.prototype,"field",void 0),g([S({type:Number,json:{write:!0}})],Hs.prototype,"maxSliderValue",void 0),g([S({type:Number,json:{write:!0}})],Hs.prototype,"minSliderValue",void 0),g([S({types:vN,json:{write:!0}})],Hs.prototype,"startTime",void 0),g([bi("startTime")],Hs.prototype,"castStartTime",null),g([S({type:b3.apiValues,value:null,json:{type:b3.jsonValues,read:b3.read,write:b3.write}})],Hs.prototype,"style",null),g([S({type:wN,value:null,json:{type:wN,origins:{"web-scene":{type:bN,write:{writer:(e,t)=>{bN.includes(e)&&(t.theme=e)}}}},write:!0}})],Hs.prototype,"theme",null),g([S({type:w3.apiValues,json:{type:w3.jsonValues,read:w3.read,write:w3.write}})],Hs.prototype,"type",void 0),g([S({type:_N,json:{type:_N,write:!0}})],Hs.prototype,"units",void 0),Hs=LI=g([Q("esri.renderers.support.AuthoringInfoVisualVariable")],Hs);const d0e=Hs;let t_=class extends $e{constructor(t){super(t),this.type=null}};g([S({readOnly:!0,json:{read:!1,write:!0}})],t_.prototype,"type",void 0),t_=g([Q("esri.rest.support.ColorRamp")],t_);const bC=t_;var PI;let uf=PI=class extends bC{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new PI({fromColor:ye(this.fromColor),toColor:ye(this.toColor),algorithm:this.algorithm})}};g([at({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],uf.prototype,"algorithm",void 0),g([S({type:ot,json:{type:[Oi],write:!0}})],uf.prototype,"fromColor",void 0),g([S({type:ot,json:{type:[Oi],write:!0}})],uf.prototype,"toColor",void 0),g([S({type:["algorithmic"]})],uf.prototype,"type",void 0),uf=PI=g([Q("esri.rest.support.AlgorithmicColorRamp")],uf);const wC=uf;var FI;let kv=FI=class extends bC{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new FI({colorRamps:ye(this.colorRamps)})}};g([S({type:[wC],json:{write:!0}})],kv.prototype,"colorRamps",void 0),g([S({type:["multipart"]})],kv.prototype,"type",void 0),kv=FI=g([Q("esri.rest.support.MultipartColorRamp")],kv);const MH=kv,p0e={key:"type",base:bC,typeMap:{algorithmic:wC,multipart:MH}};function f0e(e){return e!=null&&e.type?e.type==="algorithmic"?wC.fromJSON(e):e.type==="multipart"?MH.fromJSON(e):null:null}var RI;const Np=new At({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),_3=new At({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),SN=new At({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),$N=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],y0e=["high-to-low","above-and-below","above","below","90-10"],m0e=["flow-line","wave-front"],g0e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let gr=RI=class extends $e{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?f0e(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new RI({classificationMethod:this.classificationMethod,colorRamp:ye(this.colorRamp),fadeRatio:ye(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(0),field1:ye(this.field1),field2:ye(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};g([S({type:Np.apiValues,value:null,json:{type:Np.jsonValues,read:Np.read,write:Np.write,origins:{"web-document":{default:"manual",type:Np.jsonValues,read:Np.read,write:Np.write}}}})],gr.prototype,"classificationMethod",null),g([S({types:p0e,json:{write:!0}})],gr.prototype,"colorRamp",void 0),g([Pe("colorRamp")],gr.prototype,"readColorRamp",null),g([S({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],gr.prototype,"fadeRatio",void 0),g([S({type:[String],value:null,json:{write:!0}})],gr.prototype,"fields",null),g([S({type:wd,value:null,json:{write:!0}})],gr.prototype,"field1",null),g([S({type:wd,value:null,json:{write:!0}})],gr.prototype,"field2",null),g([S({type:m0e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],gr.prototype,"flowTheme",null),g([S({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],gr.prototype,"focus",null),g([S({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],gr.prototype,"isAutoGenerated",void 0),g([S({type:Number,value:null,json:{type:Oi,write:!0}})],gr.prototype,"numClasses",null),g([S({type:$N,json:{type:$N,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],gr.prototype,"lengthUnit",void 0),g([S({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],gr.prototype,"maxSliderValue",void 0),g([S({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],gr.prototype,"minSliderValue",void 0),g([S({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],gr.prototype,"statistics",null),g([S({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],gr.prototype,"standardDeviationInterval",null),g([S({type:_3.apiValues,value:null,json:{type:_3.jsonValues,read:_3.read,write:_3.write,origins:{"web-scene":{type:SN.jsonValues,write:{writer:SN.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],gr.prototype,"type",null),g([S({type:[d0e],json:{write:!0}})],gr.prototype,"visualVariables",void 0),g([S({type:g0e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],gr.prototype,"univariateSymbolStyle",null),g([S({type:y0e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],gr.prototype,"univariateTheme",null),gr=RI=g([Q("esri.renderers.support.AuthoringInfo")],gr);const _C=gr,nx=new At({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Cv=class extends $e{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};g([S({type:_C,json:{write:!0}})],Cv.prototype,"authoringInfo",void 0),g([S({type:nx.apiValues,readOnly:!0,json:{type:nx.jsonValues,read:!1,write:{writer:nx.write,ignoreOrigin:!0}}})],Cv.prototype,"type",void 0),Cv=g([Q("esri.renderers.Renderer")],Cv);const Xc=Cv;function v0e(e){var t,i;return((i=(t=e.match(b0e))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const b0e=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var NI;let Dy=NI=class extends $e{constructor(){super(...arguments),this.title=null}clone(){return new NI({title:this.title})}};g([S({type:String,json:{write:!0}})],Dy.prototype,"title",void 0),Dy=NI=g([Q("esri.renderers.support.LegendOptions")],Dy);var jI;let i_=jI=class extends Dy{constructor(){super(...arguments),this.showLegend=null}clone(){return new jI({title:this.title,showLegend:this.showLegend})}};g([S({type:Boolean,json:{write:!0}})],i_.prototype,"showLegend",void 0),i_=jI=g([Q("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],i_);const kH=i_,sx=new At({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Ja=class extends $e{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ke.getLogger(this).error(".field: field must be a string value"),null):m2(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};g([S()],Ja.prototype,"index",void 0),g([S({type:sx.apiValues,readOnly:!0,json:{read:sx.read,write:sx.write}})],Ja.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],Ja.prototype,"field",void 0),g([bi("field")],Ja.prototype,"castField",null),g([S({type:String,json:{write:!0}})],Ja.prototype,"valueExpression",void 0),g([S({type:String,json:{write:!0}})],Ja.prototype,"valueExpressionTitle",void 0),g([S({readOnly:!0})],Ja.prototype,"arcadeRequired",null),g([S({type:kH,json:{write:!0}})],Ja.prototype,"legendOptions",void 0),Ja=g([Q("esri.renderers.visualVariables.VisualVariable")],Ja);const F2=Ja;var DI;let cf=DI=class extends $e{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new DI({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};g([S({type:ot,json:{type:[Oi],write:!0}})],cf.prototype,"color",void 0),g([S({type:String,json:{write:!0}})],cf.prototype,"label",void 0),g([S({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],cf.prototype,"value",void 0),g([De("value")],cf.prototype,"writeValue",null),cf=DI=g([Q("esri.renderers.visualVariables.support.ColorStop")],cf);const w0e=cf;var VI;let hf=VI=class extends F2{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new VI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};g([S({readOnly:!0})],hf.prototype,"cache",null),g([S({type:["color"],json:{type:["colorInfo"]}})],hf.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],hf.prototype,"normalizationField",void 0),g([S({type:[w0e],json:{write:!0}})],hf.prototype,"stops",null),hf=VI=g([Q("esri.renderers.visualVariables.ColorVariable")],hf);const CH=hf;var zI;let Kh=zI=class extends $e{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Wb(t.transparency)}writeOpacity(e,t,i){t[i]=LS(e)}clone(){return new zI({label:this.label,opacity:this.opacity,value:this.value})}};g([S({type:String,json:{write:!0}})],Kh.prototype,"label",void 0),g([S({type:Number,json:{type:Oi,write:{target:"transparency"}}})],Kh.prototype,"opacity",void 0),g([Pe("opacity",["transparency"])],Kh.prototype,"readOpacity",null),g([De("opacity")],Kh.prototype,"writeOpacity",null),g([S({type:Number,json:{write:!0}})],Kh.prototype,"value",void 0),Kh=zI=g([Q("esri.renderers.visualVariables.support.OpacityStop")],Kh);const _0e=Kh;var UI;let df=UI=class extends F2{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new UI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};g([S({readOnly:!0})],df.prototype,"cache",null),g([S({type:["opacity"],json:{type:["transparencyInfo"]}})],df.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],df.prototype,"normalizationField",void 0),g([S({type:[_0e],json:{write:!0}})],df.prototype,"stops",null),df=UI=g([Q("esri.renderers.visualVariables.OpacityVariable")],df);const AH=df;var GI;let nc=GI=class extends F2{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,r){if(r!=null&&r.messages){const s=`visualVariables[${this.index}]`;r.messages.push(new me("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpressionTitle",context:r}))}}clone(){var e;return new GI({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};g([S({readOnly:!0})],nc.prototype,"cache",null),g([S({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],nc.prototype,"axis",void 0),g([S({type:["rotation"],json:{type:["rotationInfo"]}})],nc.prototype,"type",void 0),g([S({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],nc.prototype,"rotationType",void 0),g([S({type:String,json:{write:!0}})],nc.prototype,"valueExpressionTitle",void 0),g([De("web-scene","valueExpressionTitle")],nc.prototype,"writeValueExpressionTitleWebScene",null),nc=GI=g([Q("esri.renderers.visualVariables.RotationVariable")],nc);const OH=nc;var WI;let Yh=WI=class extends $e{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new WI({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};g([S({type:String,json:{write:!0}})],Yh.prototype,"label",void 0),g([S({type:Number,cast:si,json:{write:!0}})],Yh.prototype,"size",void 0),g([S({type:Number,json:{write:!0}})],Yh.prototype,"value",void 0),g([S({type:Boolean,json:{write:!1}})],Yh.prototype,"useMinValue",void 0),g([S({type:Boolean,json:{write:!1}})],Yh.prototype,"useMaxValue",void 0),Yh=WI=g([Q("esri.renderers.visualVariables.support.SizeStop")],Yh);const r_=Yh;var qI;let n_=qI=class extends kH{constructor(){super(...arguments),this.customValues=null}clone(){var e;return new qI({title:this.title,showLegend:this.showLegend,customValues:(e=this.customValues)==null?void 0:e.slice(0)})}};g([S({type:[Number],json:{write:!0}})],n_.prototype,"customValues",void 0),n_=qI=g([Q("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],n_);const S0e=n_;var Dc,Jr;function Ey(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Qb(e){return e!=null&&!isNaN(e)&&isFinite(e)}function LH(e){return e.valueExpression?Dc.Expression:e.field&&typeof e.field=="string"?Dc.Field:Dc.Unknown}function PH(e,t){const i=t||LH(e),r=e.valueUnit||"unknown";return i===Dc.Unknown?Jr.Constant:e.stops?Jr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Jr.ClampedLinear:r==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Jr.Proportional:Jr.Additive:Jr.Identity:Jr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Dc||(Dc={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Jr||(Jr={}));const R2={unknown:1,inches:Jt(1,"meters","inches"),feet:Jt(1,"meters","feet"),"us-feet":Jt(1,"meters","us-feet"),yards:Jt(1,"meters","yards"),miles:Jt(1,"meters","miles"),"nautical-miles":Jt(1,"meters","nautical-miles"),millimeters:Jt(1,"meters","millimeters"),centimeters:Jt(1,"meters","centimeters"),decimeters:Jt(1,"meters","decimeters"),meters:Jt(1,"meters","meters"),kilometers:Jt(1,"meters","kilometers"),"decimal-degrees":1/OG(1,"meters",pr.radius)},rp=()=>ke.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),xN=new Dn,s_=Math.PI,FH=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function RH(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(D=>D.type==="color"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void rp().warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s=typeof t=="number",c=s?null:t,f=c==null?void 0:c.attributes;let m=s?t:null;const b=r.field,{ipData:x,hasExpression:T}=r.cache;let C=r.cache.compiledFunc;if(!b&&!T){const D=r.stops;return D&&D[0]&&D[0].color}if(typeof m!="number")if(T){if((i==null?void 0:i.arcade)==null)return void rp().error("Use of arcade expressions requires an arcade context");const D={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},G=i.arcade.arcadeUtils,q=G.getViewInfo(D),J=G.createExecContext(c,q,i.timeZone);if(!C){const ne=G.createSyntaxTree(r.valueExpression);C=G.createFunction(ne),r.cache.compiledFunc=C}m=G.executeFunction(C,J)}else f&&(m=f[b]);const L=r.normalizationField,N=f!=null&&L!=null?parseFloat(f[L]):void 0;if(m!=null&&(!L||s||!isNaN(N)&&N!==0)){isNaN(N)||s||(m/=N);const D=$C(m,x);if(D){const G=D[0],q=D[1],J=G===q?r.stops[G].color:ot.blendColors(r.stops[G].color,r.stops[q].color,D[2],i!=null?i.color:void 0);return new ot(J)}}}function NH(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(D=>D.type==="opacity"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void rp().warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const s=typeof t=="number",c=s?null:t,f=c==null?void 0:c.attributes;let m=s?t:null;const b=r.field,{ipData:x,hasExpression:T}=r.cache;let C=r.cache.compiledFunc;if(!b&&!T){const D=r.stops;return D&&D[0]&&D[0].opacity}if(typeof m!="number")if(T){if((i==null?void 0:i.arcade)==null)return void rp().error("Use of arcade expressions requires an arcade context");const D={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},G=i.arcade.arcadeUtils,q=G.getViewInfo(D),J=G.createExecContext(c,q,i.timeZone);if(!C){const ne=G.createSyntaxTree(r.valueExpression);C=G.createFunction(ne),r.cache.compiledFunc=C}m=G.executeFunction(C,J)}else f&&(m=f[b]);const L=r.normalizationField,N=f!=null&&L!=null?parseFloat(f[L]):void 0;if(m!=null&&(!L||s||!isNaN(N)&&N!==0)){isNaN(N)||s||(m/=N);const D=$C(m,x);if(D){const G=D[0],q=D[1];if(G===q)return r.stops[G].opacity;{const J=r.stops[G].opacity;return J+(r.stops[q].opacity-J)*D[2]}}}}function SC(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(N=>N.type==="rotation"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void rp().warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const s=r.axis||"heading",c=s==="heading"&&r.rotationType==="arithmetic"?90:0,f=s==="heading"&&r.rotationType==="arithmetic"?-1:1,m=typeof t=="number"?null:t,b=m==null?void 0:m.attributes,x=r.field,{hasExpression:T}=r.cache;let C=r.cache.compiledFunc,L=0;if(!x&&!T)return L;if(T){if((i==null?void 0:i.arcade)==null)return void rp().error("Use of arcade expressions requires an arcade context");const N={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},D=i.arcade.arcadeUtils,G=D.getViewInfo(N),q=D.createExecContext(m,G,i.timeZone);if(!C){const J=D.createSyntaxTree(r.valueExpression);C=D.createFunction(J),r.cache.compiledFunc=C}L=D.executeFunction(C,q)}else b&&(L=b[x]||0);return L=typeof L!="number"||isNaN(L)?null:c+f*L,L}function $0e(e,t,i){const r=typeof t=="number",s=r?null:t,c=s==null?void 0:s.attributes;let f=r?t:null;const{isScaleDriven:m}=e.cache;let b=e.cache.compiledFunc;if(m){const T=i!=null?i.scale:void 0,C=i!=null?i.view:void 0;f=T==null||C==="3d"?x0e(e):T}else if(!r)switch(e.inputValueType){case Dc.Expression:{if((i==null?void 0:i.arcade)==null)return void rp().error("Use of arcade expressions requires an arcade context");const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},C=i.arcade.arcadeUtils,L=C.getViewInfo(T),N=C.createExecContext(s,L,i.timeZone);if(!b){const D=C.createSyntaxTree(e.valueExpression);b=C.createFunction(D),e.cache.compiledFunc=b}f=C.executeFunction(b,N);break}case Dc.Field:c&&(f=c[e.field]);break;case Dc.Unknown:f=null}if(!Qb(f))return null;if(r||!e.normalizationField)return f;const x=c?parseFloat(c[e.normalizationField]):null;return Qb(x)&&x!==0?f/x:null}function x0e(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function N2(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(c=>c.type==="size"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void rp().warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const s=DH($0e(r,t,i),r,t,i,r.cache.ipData);return s==null||isNaN(s)?0:s}function uo(e,t,i){return e==null?null:Ey(e)?N2(e,t,i):Qb(e)?e:null}function jH(e,t,i){return Qb(i)&&e>i?i:Qb(t)&&e<t?t:e}function E0e(e,t,i,r){return e+((uo(t.minSize,i,r)||t.minDataValue)??0)}function T0e(e,t,i){const r=e.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=e.minSize),uo(s,t,i)}function I0e(e,t,i,r){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),c=uo(t.minSize,i,r),f=uo(t.maxSize,i,r),m=r!=null?r.shape:void 0;if(e<=t.minDataValue)return c;if(e>=t.maxDataValue)return f;if(c==null||f==null)return null;if(t.scaleBy==="area"&&m){const b=m==="circle",x=b?s_*(c/2)**2:c*c,T=x+s*((b?s_*(f/2)**2:f*f)-x);return b?2*Math.sqrt(T/s_):Math.sqrt(T)}return c+s*(f-c)}function M0e(e,t,i,r){const s=r!=null?r.shape:void 0,c=e/t.minDataValue,f=uo(t.minSize,i,r),m=uo(t.maxSize,i,r);let b=null;return b=s==="circle"?2*Math.sqrt(c*(f/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(c*f**2):c*f,jH(b,f,m)}function k0e(e,t,i,r,s){var b,x,T;const[c,f,m]=$C(e,s);if(c===f)return uo((b=t.stops)==null?void 0:b[c].size,i,r);{const C=uo((x=t.stops)==null?void 0:x[c].size,i,r);return C+(uo((T=t.stops)==null?void 0:T[f].size,i,r)-C)*m}}function C0e(e,t,i,r){const s=((r==null?void 0:r.resolution)??1)*R2[t.valueUnit],c=uo(t.minSize,i,r),f=uo(t.maxSize,i,r),{valueRepresentation:m}=t;let b=null;return b=m==="area"?2*Math.sqrt(e/s_)/s:m==="radius"||m==="distance"?2*e/s:e/s,jH(b,c,f)}function DH(e,t,i,r,s){switch(t.transformationType){case Jr.Additive:return E0e(e,t,i,r);case Jr.Constant:return T0e(t,i,r);case Jr.ClampedLinear:return I0e(e,t,i,r);case Jr.Proportional:return M0e(e,t,i,r);case Jr.Stops:return k0e(e,t,i,r,s);case Jr.RealWorldSize:return C0e(e,t,i,r);case Jr.Identity:return e;case Jr.Unknown:return null}}function A0e(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&i==="3d"||t))return null;const s={scale:t,view:i};let c=uo(e.minSize,xN,s),f=uo(e.maxSize,xN,s);if(c!=null||f!=null){if(c>f){const m=f;f=c,c=m}return{minSize:c,maxSize:f}}}function O0e(e,t,i){if(!e.visualVariables)return;const r=[],s=[],c=[],f=[],m=[];for(const b of e.visualVariables)switch(b.type){case"color":s.push(b);break;case"opacity":c.push(b);break;case"rotation":m.push(b);break;case"size":f.push(b)}return s.forEach(b=>{const x=RH(b,t,i);r.push({variable:b,value:x})}),c.forEach(b=>{const x=NH(b,t,i);r.push({variable:b,value:x})}),m.forEach(b=>{const x=SC(b,t,i);r.push({variable:b,value:x})}),f.forEach(b=>{const x=N2(b,t,i);r.push({variable:b,value:x})}),r.filter(b=>b.value!=null)}function $C(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((s,c)=>e<s?(r=c,!0):(i=c,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function L0e(e,t,i){const r=["proportional","proportional","proportional"];for(const s of e){const c=s.useSymbolValue?"symbol-value":N2(s,t,i);switch(s.axis){case"width":r[0]=c;break;case"depth":r[1]=c;break;case"height":r[2]=c;break;case"width-and-depth":r[0]=c,r[1]=c;break;case"all":case void 0:case null:r[0]=c,r[1]=c,r[2]=c;break;default:s.axis}}return r}const P0e=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:L0e,getColor:RH,getOpacity:NH,getRotationAngle:SC,getSize:N2,getSizeForValue:DH,getSizeFromNumberOrVariable:uo,getSizeRangeAtScale:A0e,getVisualVariableValues:O0e,viewScaleRE:FH},Symbol.toStringTag,{value:"Module"}));var BI;const S3=new At({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),HI=new At({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function EN(e){if(e!=null)return typeof e=="string"||typeof e=="number"?si(e):e.type==="size"?Ey(e)?e:(delete(e={...e}).type,new di(e)):void 0}function TN(e,t,i){if(typeof e!="object")return e;const r=new di;return r.read(e,i),r}let di=BI=class extends F2{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&FH.test(this.valueExpression)}}set expression(e){ke.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){Ey(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Ey(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return LH(this)}set maxDataValue(e){e&&this.stops&&(ke.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ke.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return EN(e)}readMaxSize(e,t,i){return TN(e,t,i)}set minDataValue(e){e&&this.stops&&(ke.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ke.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return EN(e)}readMinSize(e,t,i){return TN(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(ke.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return PH(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if(e==="$view.scale"){if(r!=null&&r.messages){const s=this.index,c=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new me("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:c+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?HI.read(e):null}clone(){var e,t;return new BI({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Ey(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Ey(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Jr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Jr.Stops){const e=this.stops;if(!e)return this;const t=e.map(r=>r.size).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};g([S({readOnly:!0})],di.prototype,"cache",null),g([S({type:S3.apiValues,json:{type:S3.jsonValues,origins:{"web-map":{read:!1}},read:S3.read,write:S3.write}})],di.prototype,"axis",void 0),g([S({type:String,value:null,json:{read:!1}})],di.prototype,"expression",null),g([S()],di.prototype,"index",null),g([S({type:String,readOnly:!0})],di.prototype,"inputValueType",null),g([S({type:S0e,json:{write:!0}})],di.prototype,"legendOptions",void 0),g([S({type:Number,value:null,json:{write:!0}})],di.prototype,"maxDataValue",null),g([S({type:Number,value:null,json:{write:!0}})],di.prototype,"maxSize",null),g([bi("maxSize")],di.prototype,"castMaxSize",null),g([Pe("maxSize")],di.prototype,"readMaxSize",null),g([S({type:Number,value:null,json:{write:!0}})],di.prototype,"minDataValue",null),g([S({type:Number,value:null,json:{write:!0}})],di.prototype,"minSize",null),g([bi("minSize")],di.prototype,"castMinSize",null),g([Pe("minSize")],di.prototype,"readMinSize",null),g([S({type:String,json:{write:!0}})],di.prototype,"normalizationField",void 0),g([S({readOnly:!0})],di.prototype,"arcadeRequired",null),g([S({type:String})],di.prototype,"scaleBy",void 0),g([S({type:[r_],value:null,json:{write:!0}})],di.prototype,"stops",null),g([S({type:["outline"],json:{write:!0}})],di.prototype,"target",void 0),g([S({type:String,readOnly:!0})],di.prototype,"transformationType",null),g([S({type:["size"],json:{type:["sizeInfo"]}})],di.prototype,"type",void 0),g([S({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],di.prototype,"useSymbolValue",void 0),g([S({type:String,json:{write:!0}})],di.prototype,"valueExpression",void 0),g([Pe("valueExpression",["valueExpression","expression"])],di.prototype,"readValueExpression",null),g([De("web-scene","valueExpression")],di.prototype,"writeValueExpressionWebScene",null),g([S({type:["radius","diameter","area","width","distance"],json:{write:!0}})],di.prototype,"valueRepresentation",void 0),g([S({type:HI.apiValues,json:{write:HI.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],di.prototype,"valueUnit",void 0),g([Pe("valueUnit")],di.prototype,"readValueUnit",null),di=BI=g([Q("esri.renderers.visualVariables.SizeVariable")],di);const xC=di,F0e={color:CH,size:xC,opacity:AH,rotation:OH},R0e=new At({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),N0e=/^\[([^\]]+)\]$/i;let o_=class extends ht{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t&&t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,r){const{rotationExpression:s,rotationType:c}=i,f=s==null?void 0:s.match(N0e),m=f==null?void 0:f[1];if(m&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:c,field:m})),t)return t.map(b=>{const x=R0e.read(b.type),T=F0e[x];T||(ke.getLogger(this).warn(`Unknown variable type: ${x}`),r!=null&&r.messages&&r.messages.push(new xu("visual-variable:unsupported",`visualVariable of type '${x}' is not supported`,{definition:b,context:r})));const C=new T;return C.read(b,r),C})}writeVariables(t,i){const r=[];for(const s of t){const c=s.toJSON(i);c&&r.push(c)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};g([S()],o_.prototype,"visualVariables",null),o_=g([Q("esri.renderers.visualVariables.VisualVariableFactory")],o_);const j0e=o_,D0e={base:F2,key:"type",typeMap:{opacity:AH,color:CH,rotation:OH,size:xC}},jm=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new j0e}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,s){return this._vvFactory.readVariables(i,r,s)}writeVisualVariables(i,r,s,c){r[s]=this._vvFactory.writeVariables(i,c)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){const s=this.visualVariables;return s?s.filter(c=>c.type===i&&(typeof r=="string"?c.target===r:r!==!1||!c.target)):[]}async collectVVRequiredFields(i,r){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const c of s)c&&(c.field&&Go(i,r,c.field),c.normalizationField&&Go(i,r,c.normalizationField),c.valueExpression&&(V0e(c.valueExpression,i,r)||await Ls(i,r,c.valueExpression)))}};return g([S({types:[D0e],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),g([Pe("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),g([De("visualVariables")],t.prototype,"writeVisualVariables",null),t=g([Q("esri.renderers.mixins.VisualVariablesMixin")],t),t};function V0e(e,t,i){const r=v0e(e);return r!=null&&(Go(t,i,r),!0)}const Vg={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function VH(e,t=Vg){var m,b;if(!e)return{symbol:null};const{retainId:i=Vg.retainId,ignoreDrivers:r=Vg.ignoreDrivers,hasLabelingContext:s=Vg.hasLabelingContext,retainCIM:c=Vg.retainCIM}=t;let f=null;if(ip(e)||e instanceof O0)f=e.clone();else if(e.type==="cim"){const x=(b=(m=e.data)==null?void 0:m.symbol)==null?void 0:b.type;if(x!=="CIMPointSymbol")return{error:new me("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${x||"unknown"}' is unsupported in 3D`,{symbol:e})};f=c?e.clone():Wf.fromCIMSymbol(e)}else if(e instanceof mo)f=XS.fromSimpleLineSymbol(e);else if(e instanceof Ta)f=Wf.fromSimpleMarkerSymbol(e);else if(e instanceof e9)f=Wf.fromPictureMarkerSymbol(e);else if(e instanceof Qc)f=t.geometryType&&t.geometryType==="mesh"?L2.fromSimpleFillSymbol(e):P2.fromSimpleFillSymbol(e);else{if(!(e instanceof Nm))return{error:new me("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};f=s?QS.fromTextSymbol(e):Wf.fromTextSymbol(e)}return i&&f&&f.type!=="cim"&&(f.id=e.id),r&&ip(f)&&f.symbolLayers.forEach(x=>x.ignoreDrivers=!0),{symbol:f}}function C4(e,t,i,r){const s=zH(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function IN(e,t,i,r){const s=zH(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function MN(e){return e instanceof Rm||e instanceof O0}function zH(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:s}=i,c=r==null?void 0:r.origin,f=r==null?void 0:r.messages;if(c==="web-scene"&&!MN(e)){const m=VH(e,{retainCIM:!0,hasLabelingContext:s});return m.symbol!=null?m.symbol.write(t,r):(f==null||f.push(new me("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:m.error})),null)}return(c==="web-map"||c==="portal-item"&&!ZG(r==null?void 0:r.layer))&&MN(e)?(f==null||f.push(new me("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function UH(e,t){return a0e(e,null,t)}const i9={types:TH,json:{write:{writer:C4},origins:{"web-scene":{types:gN,write:{writer:C4},read:{reader:Em({types:gN})}}}}},EC=Uk({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},i9),GH={types:{base:yo,key:"type",typeMap:{"simple-fill":ml.typeMap["simple-fill"],"picture-fill":ml.typeMap["picture-fill"],"polygon-3d":ml.typeMap["polygon-3d"]}},json:{write:{writer:C4},origins:{"web-scene":{type:P2,write:{writer:C4}}}}},a_={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var JI;let Qh=JI=class extends $e{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new JI({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};g([S({type:String,json:{write:!0}})],Qh.prototype,"description",void 0),g([S({type:String,json:{write:!0}})],Qh.prototype,"label",void 0),g([S({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Qh.prototype,"minValue",void 0),g([S({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Qh.prototype,"maxValue",void 0),g([S(EC)],Qh.prototype,"symbol",void 0),Qh=JI=g([Q("esri.renderers.support.ClassBreakInfo")],Qh);const A4=Qh;var ZI;const WH="log",l_="percent-of-total",u_="field",$3=new At({esriNormalizeByLog:WH,esriNormalizeByPercentOfTotal:l_,esriNormalizeByField:u_}),z0e=wr(A4);let Wr=ZI=class extends jm(Xc){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map(s=>{const c=new A4;return c.read(s,i),c.minValue==null&&(c.minValue=r),c.maxValue==null&&(c.maxValue=c.minValue),r=c.maxValue,c})}writeClassBreakInfos(e,t,i,r){const s=e.map(c=>c.write({},r));this._areClassBreaksConsecutive()&&s.forEach(c=>delete c.classMinValue),t[i]=s}castField(e){return e==null?e:typeof e=="function"?(ke.getLogger(this).error(".field: field must be a string value"),null):m2(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&u_||i&&l_||null,t&&i&&ke.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==u_&&e!==l_||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r=typeof e=="number"?new A4({minValue:e,maxValue:t,symbol:IH(i)}):z0e(ye(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&ke.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await Cu()});const r=this.getBreakIndex(e,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void ke.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const s=await Cu(),{arcadeUtils:c}=s;c.hasGeometryOperations(this.valueExpression)&&await c.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new ZI({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:ye(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:ye(this.visualVariables),legendOptions:ye(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(r=>r.collectRequiredFields(e,t)),Ls(e,t,this.valueExpression)];Go(e,t,this.field),Go(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:c,timeZone:f}=t??{},{valueExpression:m}=this;let b=this._compiledValueExpression.valueExpression===m?this._compiledValueExpression.compiledFunction:null;const x=c.arcadeUtils;if(!b){const C=x.createSyntaxTree(m);b=x.createFunction(C),this._compiledValueExpression.compiledFunction=b}this._compiledValueExpression.valueExpression=m;const T=x.executeFunction(b,x.createExecContext(e,x.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),f));return this._getBreakIndexfromInfos(T)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let s=parseFloat(i[t]);if(r){const c=this.normalizationTotal,f=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===WH)s=Math.log(s)*Math.LOG10E;else if(r!==l_||c==null||isNaN(c)){if(r===u_&&!isNaN(f)){if(isNaN(s)||isNaN(f))return-1;s/=f}}else s=s/c*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};g([S(GH)],Wr.prototype,"backgroundFillSymbol",void 0),g([S({type:[A4]})],Wr.prototype,"classBreakInfos",void 0),g([Pe("classBreakInfos")],Wr.prototype,"readClassBreakInfos",null),g([De("classBreakInfos")],Wr.prototype,"writeClassBreakInfos",null),g([S({type:String,json:{write:!0}})],Wr.prototype,"defaultLabel",void 0),g([S(i9)],Wr.prototype,"defaultSymbol",void 0),g([S({type:String,json:{write:!0}})],Wr.prototype,"field",void 0),g([bi("field")],Wr.prototype,"castField",null),g([S({type:Boolean})],Wr.prototype,"isMaxInclusive",void 0),g([S({type:Dy,json:{write:!0}})],Wr.prototype,"legendOptions",void 0),g([S({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Wr.prototype,"minValue",null),g([S({type:String,json:{write:!0}})],Wr.prototype,"normalizationField",void 0),g([S({type:Number,cast:e=>pa(e),json:{write:!0}})],Wr.prototype,"normalizationTotal",void 0),g([S({type:$3.apiValues,value:null,json:{type:$3.jsonValues,read:$3.read,write:$3.write}})],Wr.prototype,"normalizationType",null),g([at({classBreaks:"class-breaks"})],Wr.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],Wr.prototype,"valueExpression",void 0),g([S({type:String,json:{write:!0}})],Wr.prototype,"valueExpressionTitle",void 0),Wr=ZI=g([Q("esri.renderers.ClassBreaksRenderer")],Wr);const qH=Wr,KI=-3,U0e=KI-1;var Ic;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Ic||(Ic={}));let mLe=class{constructor(t,i,r){this.name=t,this._storage=i,this.id=W0e+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),r&&(this._storage.registerRemoveFunc(this.id,r),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,i,r,s=0){this._storage.put(this,t,i,r,s)}pop(t){const i=this._storage.pop(this,t);return i===void 0?++this._miss:++this._hit,i}get(t){const i=this._storage.get(this,t);return i===void 0?++this._miss:++this._hit,i}peek(t){return this._storage.peek(this,t)}updateSize(t,i,r){this._storage.updateSize(this,t,i,r)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}},G0e=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Z_,this._users=new Z_}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const r=this._db.get(t.id+i);return(r==null?void 0:r.size)??0}put(t,i,r,s,c){i=t.id+i;const f=this._db.get(i);if(f&&(this._size-=f.size,t.size-=f.size,this._db.delete(i),f.entry!==r&&this._notifyRemove(i,f.entry,f.size,Ic.ALL)),s>this._maxSize)return void this._notifyRemove(i,r,s,Ic.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,Ic.ALL);const m=1+Math.max(c,U0e)-KI;this._db.set(i,new q0e(r,s,m)),this._size+=s,t.size+=s,this._checkSize()}updateSize(t,i,r,s){i=t.id+i;const c=this._db.get(i);if(c&&c.entry===r){for(this._size-=c.size,t.size-=c.size;s>this._maxSize;){const f=this._notifyRemove(i,r,s,Ic.SOME);if(!(f!=null&&f>0))return void this._db.delete(i);s=f}c.size=s,this._size+=s,t.size+=s,this._checkSize()}}pop(t,i){i=t.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,t.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(t,i){i=t.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(t,i){const r=this._db.get(t.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((f,m)=>{const b=f.lifetime;r[b]=(r[b]||0)+f.size,this._users.forAll(x=>{const{id:T,name:C}=x;if(m.startsWith(T)){const L=i[C]||0;i[C]=L+f.size}})});const s={};this._users.forAll(f=>{const m=f.name;if("hitRate"in f&&typeof f.hitRate=="number"&&!isNaN(f.hitRate)&&f.hitRate>0){const b=i[m]||0;i[m]=b,s[m]=Math.round(100*f.hitRate)+"%"}else s[m]="0%"});const c=Object.keys(i);c.sort((f,m)=>i[m]-i[f]),c.forEach(f=>t[f]=Math.round(i[f]/2**20)+"MB / "+s[f]);for(let f=r.length-1;f>=0;--f){const m=r[f];m&&(t["Priority "+(f+KI-1)]=Math.round(m/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,Ic.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,Ic.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,r,s){let c;return this._removeFuncs.some(f=>{if(t.startsWith(f[0])){const m=f[1](i,s,r);return typeof m=="number"&&(c=m),!0}return!1}),c}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const r=t==null?void 0:t.id;let s=!0;for(;s;){s=!1;for(const[c,f]of this._db)if(f.lifetime===0&&(!r||c.startsWith(r))){if(this._purgeItem(c,f,t),i.size<=.9*i.maxSize)return;s||(s=this._db.has(c))}}for(const[c,f]of this._db)if((!r||c.startsWith(r))&&(this._purgeItem(c,f,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,r=this._users.find(s=>t.startsWith(s.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(t,i.entry,i.size,Ic.SOME);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},W0e=0,q0e=class{constructor(t,i,r){this.entry=t,this.size=i,this.lifetime=r,this.lives=r}},BH=class{constructor(t,i){this._storage=new G0e,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,r=1){this._storage.put(this,t,i,r,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},HH=class YI{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}since(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new me(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new YI(this.major,this.minor,this._context)}static parse(t,i=""){const[r,s]=t.split("."),c=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!c.test(r))throw new me((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(s!=null&&s.match)||!c.test(s))throw new me((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const f=parseInt(r,10),m=parseInt(s,10);return new YI(f,m,i)}},fl=class{};function B0e(e){return e instanceof C0?e===fl.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function SLe(e){return B0e(e)?fl.instance:e}fl.instance=new ho("Etc/UTC");function H0e(e){return"timeZone"in e}function J0e(e){return"timeZone"in e}function Z0e(e){return"dateFieldsTimeZone"in e}const K0e=new Map;let JH=class c_{static fromJSON(t){return new c_(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new c_(t.fields??[],CN(t))}static fromLayerJSON(t){return new c_(t.fields??[],CN(t))}constructor(t=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const c of this.fields){const f=c==null?void 0:c.name,m=kN(f);if(f&&m){const b=Rf(f);this._fieldsMap.set(f,c),this._fieldsMap.set(b,c),this._normalizedFieldsMap.set(m,c),r.push(`${b}:${c.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(f)}`),sC(c)?(this.dateFields.push(c),this._dateFieldsSet.add(c)):jy(c)&&(this._numericFieldsSet.add(c),this.numericFields.push(c)),uN(c)||cN(c)||(c.editable=c.editable==null||!!c.editable,c.nullable=c.nullable==null||!!c.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)uN(t)||cN(t)||t.nullable||Npe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(Rf(t))??this._normalizedFieldsMap.get(kN(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(ke.getLogger("esri.layers.support.FieldsIndex").error(new me("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),po):ZH.has(i.type)?w0:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===w0?fl.instance:i===po?Pr.utcInstance:ib(K0e,i,()=>ho.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return Jb(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>n4(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Rf(e){return e.trim().toLowerCase()}function kN(e){var t;return((t=$pe(e))==null?void 0:t.toLowerCase())??""}const ZH=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function CN(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=e,c=(r?"startField"in r?r.startField:r.startTimeField:"")??"",f=(r?"endField"in r?r.endField:r.endTimeField:"")??"",m=Z0e(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?P5(e.dateFieldsTimeReference):null,b=s?H0e(s)?s.timeZone??m:s.dateFieldsTimeReference?P5(s.dateFieldsTimeReference):m??po:null,x=r?J0e(r)?r.timeZone??m:r.timeReference?P5(r.timeReference):m:null,T=new Map([[Rf((s==null?void 0:s.creationDateField)??""),b],[Rf((s==null?void 0:s.editDateField)??""),b],[Rf(c),x],[Rf(f),x]]);for(const{name:C,type:L}of e.fields)if(ZH.has(L))t.set(C,w0);else if(L!=="date"&&L!=="esriFieldTypeDate")t.set(C,null);else if(i)t.set(C,w0);else{const N=T.get(Rf(C??""))??m;t.set(C,N)}return t}function O4(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Y0e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function KH(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}function Q0e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function YH(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function QH(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function XH(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function X0e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function e1e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function t1e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function i1e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function r1e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function n1e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function s1e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e}function eJ(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],c=t[3]-e[3];return Math.sqrt(i*i+r*r+s*s+c*c)}function tJ(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],c=t[3]-e[3];return i*i+r*r+s*s+c*c}function iJ(e){const t=e[0],i=e[1],r=e[2],s=e[3];return Math.sqrt(t*t+i*i+r*r+s*s)}function rJ(e){const t=e[0],i=e[1],r=e[2],s=e[3];return t*t+i*i+r*r+s*s}function o1e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function a1e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function l1e(e,t){const i=t[0],r=t[1],s=t[2],c=t[3];let f=i*i+r*r+s*s+c*c;return f>0&&(f=1/Math.sqrt(f),e[0]=i*f,e[1]=r*f,e[2]=s*f,e[3]=c*f),e}function nJ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sJ(e,t,i,r){const s=t[0],c=t[1],f=t[2],m=t[3];return e[0]=s+r*(i[0]-s),e[1]=c+r*(i[1]-c),e[2]=f+r*(i[2]-f),e[3]=m+r*(i[3]-m),e}function u1e(e,t){const i=CS;let r,s,c,f,m,b;t=t||1;do r=2*i()-1,s=2*i()-1,m=r*r+s*s;while(m>=1);do c=2*i()-1,f=2*i()-1,b=c*c+f*f;while(b>=1);const x=Math.sqrt((1-m)/b);return e[0]=t*r,e[1]=t*s,e[2]=t*c*x,e[3]=t*f*x,e}function c1e(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3];return e[0]=i[0]*r+i[4]*s+i[8]*c+i[12]*f,e[1]=i[1]*r+i[5]*s+i[9]*c+i[13]*f,e[2]=i[2]*r+i[6]*s+i[10]*c+i[14]*f,e[3]=i[3]*r+i[7]*s+i[11]*c+i[15]*f,e}function h1e(e,t,i){const r=t[0],s=t[1],c=t[2],f=i[0],m=i[1],b=i[2],x=i[3],T=x*r+m*c-b*s,C=x*s+b*r-f*c,L=x*c+f*s-m*r,N=-f*r-m*s-b*c;return e[0]=T*x+N*-f+C*-b-L*-m,e[1]=C*x+N*-m+L*-f-T*-b,e[2]=L*x+N*-b+T*-m-C*-f,e[3]=t[3],e}function d1e(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function p1e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function r9(e,t){const i=e[0],r=e[1],s=e[2],c=e[3],f=t[0],m=t[1],b=t[2],x=t[3],T=Nn();return Math.abs(i-f)<=T*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-m)<=T*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(s-b)<=T*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-x)<=T*Math.max(1,Math.abs(c),Math.abs(x))}const f1e=YH,y1e=QH,m1e=XH,g1e=eJ,v1e=tJ,b1e=iJ,w1e=rJ,$Le=Object.freeze(Object.defineProperty({__proto__:null,add:Q0e,ceil:X0e,copy:O4,copyVec3:Y0e,dist:g1e,distance:eJ,div:m1e,divide:XH,dot:nJ,equals:r9,exactEquals:p1e,floor:e1e,inverse:a1e,len:b1e,length:iJ,lerp:sJ,max:i1e,min:t1e,mul:y1e,multiply:QH,negate:o1e,normalize:l1e,random:u1e,round:r1e,scale:n1e,scaleAndAdd:s1e,set:KH,sqrDist:v1e,sqrLen:w1e,squaredDistance:tJ,squaredLength:rJ,str:d1e,sub:f1e,subtract:YH,transformMat4:c1e,transformQuat:h1e},Symbol.toStringTag,{value:"Module"}));function yp(){return[0,0,0,0]}function _1e(e){return[e[0],e[1],e[2],e[3]]}function eh(e,t,i,r){return[e,t,i,r]}function S1e(e,t=yp()){const i=Math.min(4,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function $1e(e,t){return new Float64Array(e,t,4)}function oJ(){return yp()}function aJ(){return eh(1,1,1,1)}function lJ(){return eh(1,0,0,0)}function uJ(){return eh(0,1,0,0)}function cJ(){return eh(0,0,1,0)}function hJ(){return eh(0,0,0,1)}const x1e=oJ(),E1e=aJ(),T1e=lJ(),I1e=uJ(),M1e=cJ(),k1e=hJ();Object.freeze(Object.defineProperty({__proto__:null,ONES:E1e,UNIT_W:k1e,UNIT_X:T1e,UNIT_Y:I1e,UNIT_Z:M1e,ZEROS:x1e,clone:_1e,create:yp,createView:$1e,fromArray:S1e,fromValues:eh,ones:aJ,unitW:hJ,unitX:lJ,unitY:uJ,unitZ:cJ,zeros:oJ},Symbol.toStringTag,{value:"Module"}));function dJ(e){return"r"in e&&"g"in e&&"b"in e}function pJ(e){return"h"in e&&"s"in e&&"v"in e}function fJ(e){return"l"in e&&"a"in e&&"b"in e}function yJ(e){return"l"in e&&"c"in e&&"h"in e}function C1e(e){return"x"in e&&"y"in e&&"z"in e}const A1e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],O1e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function mJ(e,t){const i=[];let r,s;if(e[0].length!==t.length)throw new Error("dimensions do not match");const c=e.length,f=e[0].length;let m=0;for(r=0;r<c;r++){for(m=0,s=0;s<f;s++)m+=e[r][s]*t[s];i.push(m)}return i}function gJ(e){const t=[e.r/255,e.g/255,e.b/255].map(r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4),i=mJ(A1e,t);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function TC(e){const t=mJ(O1e,[e.x/100,e.y/100,e.z/100]).map(i=>{const r=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(r,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function vJ(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function bJ(e){const t=e.l,i=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(r=>r>6/29?r**3:3*(6/29)**2*(r-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function L1e(e){const t=e.l,i=e.a,r=e.b,s=Math.sqrt(i*i+r*r);let c=Math.atan2(r,i);return c=c>0?c:c+2*Math.PI,{l:t,c:s,h:c}}function P1e(e){const t=e.l,i=e.c,r=e.h;return{l:t,a:i*Math.cos(r),b:i*Math.sin(r)}}function F1e(e){return vJ(gJ(e))}function R1e(e){return TC(bJ(e))}function N1e(e){return L1e(vJ(gJ(e)))}function j1e(e){return TC(bJ(P1e(e)))}function D1e(e){const t=e.r,i=e.g,r=e.b,s=Math.max(t,i,r),c=s-Math.min(t,i,r);let f=s,m=c===0?0:s===t?(i-r)/c%6:s===i?(r-t)/c+2:(t-i)/c+4,b=c===0?0:c/f;return m<0&&(m+=6),m*=60,b*=100,f*=100/255,{h:m,s:b,v:f}}function V1e(e){const t=(e.h+360)%360/60,i=e.s/100,r=e.v/100*255,s=r*i,c=s*(1-Math.abs(t%2-1));let f;switch(Math.floor(t)){case 0:f={r:s,g:c,b:0};break;case 1:f={r:c,g:s,b:0};break;case 2:f={r:0,g:s,b:c};break;case 3:f={r:0,g:c,b:s};break;case 4:f={r:c,g:0,b:s};break;case 5:case 6:f={r:s,g:0,b:c};break;default:f={r:0,g:0,b:0}}return f.r=Math.round(f.r+r-s),f.g=Math.round(f.g+r-s),f.b=Math.round(f.b+r-s),f}function L0(e){return dJ(e)?e:yJ(e)?j1e(e):fJ(e)?R1e(e):C1e(e)?TC(e):pJ(e)?V1e(e):e}function n9(e){return pJ(e)?e:D1e(L0(e))}function z1e(e){return fJ(e)?e:F1e(L0(e))}function xLe(e){return yJ(e)?e:N1e(L0(e))}function U1e(e){let{r:t,g:i,b:r,a:s}=e;return s<1&&(t=Math.round(s*t+255*(1-s)),i=Math.round(s*i+255*(1-s)),r=Math.round(s*r+255*(1-s))),new ot({r:t,g:i,b:r})}function G1e(e,t){const{r:i,g:r,b:s}=t!=null&&t.ignoreAlpha?e:U1e(e);return .2126*i+.7152*r+.0722*s}var QI;function ELe(e,t=QI.High){return G1e(e,{ignoreAlpha:!0})>t?new ot([0,0,0,e.a]):new ot([255,255,255,e.a])}function TLe(e,t){const i=z1e(e);i.l*=1-t;const r=L0(i),s=e.clone();return s.setColor(r),s.a=e.a,s}function ILe(e,t){const i=e.clone();return i.a*=t,i}function MLe(e,t){const i=n9(e);i.s*=t;const r=L0(i),s=e.clone();return s.setColor(r),s.a=e.a,s}function kLe(e){return ot.toUnitRGBA(e)}function CLe(e,t){return e===t||e!=null&&e.equals(t)}function ALe(e,t){return e===t||e!=null&&t!=null&&r9(e,t)}function OLe(e){return eh(e[0],e[1],e[2],e.length>3?e[3]:1)}function LLe(e,t){const i=ot.toUnitRGBA(e);return i[3]*=t,i}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(QI||(QI={}));const W1e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderLineColor:[0,0,0,1]},XI={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetX:0,offsetY:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};function q1e(e){return typeof e=="function"}function PLe(e,t,i,r){return q1e(e)?e(t,i,r):e}function FLe(e){return[e.r,e.g,e.b,e.a]}const B1e=` /-,
`;function AN(e){let t=e.length;for(;t--;)if(!B1e.includes(e.charAt(t)))return!1;return!0}function H1e(e,t){const i=[];let r=0,s=-1;do if(s=e.indexOf("[",r),s>=r){if(s>r){const c=e.substr(r,s-r);i.push([c,null,AN(c)])}if(r=s+1,s=e.indexOf("]",r),s>=r){if(s>r){const c=t[e.substr(r,s-r)];c&&i.push([null,c,!1])}r=s+1}}while(s!==-1);if(r<e.length-1){const c=e.substr(r);i.push([c,null,AN(c)])}return i}function J1e(e,t,i,r){let s="",c=null;for(const f of t){const[m,b,x]=f;if(m)x?c=m:(c&&(s+=c,c=null),s+=m);else{let T=b;i!=null&&(T=xJ(b,i));const C=e.attributes[T];C&&(c&&(s+=c,c=null),s+=C)}}return Z1e(s,r)}function Z1e(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function RLe(e,t,i,r,s,c,f=!0){const m=t/s,b=i/c,x=Math.ceil(m/2),T=Math.ceil(b/2);for(let C=0;C<c;C++)for(let L=0;L<s;L++){const N=4*(L+(f?c-C-1:C)*s);let D=0,G=0,q=0,J=0,ne=0,ue=0,ae=0;const pe=(C+.5)*b;for(let ge=Math.floor(C*b);ge<(C+1)*b;ge++){const Ae=Math.abs(pe-(ge+.5))/T,Ce=(L+.5)*m,qe=Ae*Ae;for(let Ge=Math.floor(L*m);Ge<(L+1)*m;Ge++){let Ue=Math.abs(Ce-(Ge+.5))/x;const et=Math.sqrt(qe+Ue*Ue);et>=-1&&et<=1&&(D=2*et*et*et-3*et*et+1,D>0&&(Ue=4*(Ge+ge*t),ae+=D*e[Ue+3],q+=D,e[Ue+3]<255&&(D=D*e[Ue+3]/250),J+=D*e[Ue],ne+=D*e[Ue+1],ue+=D*e[Ue+2],G+=D))}}r[N]=J/G,r[N+1]=ne/G,r[N+2]=ue/G,r[N+3]=ae/q}}function wJ(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function _J(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function SJ(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function $J(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function NLe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function s9(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const jLe=(e,t=0)=>e==null||isNaN(e)?t:e,DLe=(e,t)=>e??t,VLe=e=>e.tintColor?wJ(e.tintColor):[255,255,255,1],zLe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function ULe(){return te(()=>import("./geometryEngineJSON-uc5EIt6r.js").then(e=>e.g),__vite__mapDeps([25,26]))}function GLe(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function WLe(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function qLe(e){let t="normal",i="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:t,weight:i}}function BLe(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function ON(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=ON(t);if(i!=null)return i}break;case"CIMTextSymbol":return ON(e.symbol);case"CIMSolidFill":return e.color}return null}function LN(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const r=LN(i);if(r!=null)return r}break}case"CIMTextSymbol":return LN(e.symbol);case"CIMSolidStroke":return e.color}}function PN(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=PN(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return PN(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function HLe(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function JLe(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function K1e(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const ZLe=e=>e.includes("data:image/svg+xml");function KLe(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function FN(e){return e&&e.charAt(0).toLowerCase()+e.substring(1)}function YLe(e,t,i,r,s,c){const{infos:f}=c;let m=1,b=0,x=0,T=0;for(const{offsetX:N,offsetY:D,rotation:G,size:q,frameHeight:J,rotateClockWise:ne}of f)x=NN(N,D,b,m,x),T=RN(N,D,b,m,T),J&&(m*=q/J),b=jN(G,ne,b);const C=NN(r,s,b,m,x),L=RN(r,s,b,m,T);return{size:e*m,rotation:jN(t,i,b),offsetX:C,offsetY:L}}function Y1e(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>Y1e(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function QLe(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderLineColor")return[...W1e[t]];const i=XI[e];if(!i||typeof i[t]=="boolean")throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function Q1e(e){return e!=null&&e.dashTemplate&&typeof e.dashTemplate=="string"&&(e.dashTemplate=e.dashTemplate.split(" ").map(Number)),e}function e7(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return e7(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return e7(i.symbol)}}return"Normal"}function XLe(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??XI.CIMVectorMarker.size;r>t&&(t=r);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>t&&(t=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&s9(i.markerPlacement)){const r=i.size??XI.CIMVectorMarker.size;r>t&&(t=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>t&&(t=r)}}}return t}}}function xJ(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function RN(e,t,i,r,s){const c=i*Math.PI/180;if(c){const f=Math.cos(c);return(Math.sin(c)*e+f*t)*r+s}return t*r+s}function NN(e,t,i,r,s){const c=i*Math.PI/180;return c?(Math.cos(c)*e-Math.sin(c)*t)*r+s:e*r+s}function jN(e,t,i){return t?i-e:i+e}const IC=(e,t,i)=>[t,i],lm=(e,t,i)=>[t,i,e[2]],MC=(e,t,i)=>[t,i,e[2],e[3]];function ePe(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function X1e({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function eye({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function EJ({scale:e,translate:t},i){return i*e[0]+t[0]}function TJ({scale:e,translate:t},i){return t[1]-i*e[1]}function IJ(e,t,i){const r=new Array(i.length);if(!i.length)return r;const[s,c]=e.scale;let f=EJ(e,i[0][0]),m=TJ(e,i[0][1]);r[0]=t(i[0],f,m);for(let b=1;b<i.length;b++){const x=i[b];f+=x[0]*s,m-=x[1]*c,r[b]=t(x,f,m)}return r}function MJ(e,t,i){const r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=IJ(e,t,i[s]);return r}function tye(e,t,i,r){return IJ(e,i?r?MC:lm:r?lm:IC,t)}function iye(e,t,i,r){return MJ(e,i?r?MC:lm:r?lm:IC,t)}function rye(e,t,i,r){return MJ(e,i?r?MC:lm:r?lm:IC,t)}function tPe(e,t,i,r,s){return t.x=X1e(e,i.x),t.y=eye(e,i.y),t!==i&&(r&&(t.z=i.z),s&&(t.m=i.m)),t}function nye(e,t,i,r,s){return i!=null&&(t.points=tye(e,i.points,r,s)),t}function sye(e,t,i,r,s){return i==null||(t.x=EJ(e,i.x),t.y=TJ(e,i.y),t!==i&&(r&&(t.z=i.z),s&&(t.m=i.m))),t}function oye(e,t,i,r,s){return i!=null&&(t.rings=rye(e,i.rings,r,s)),t}function aye(e,t,i,r,s){return i!=null&&(t.paths=iye(e,i.paths,r,s)),t}function lye(e,t,i,r,s){if(e==null)return null;const c=e.referencesGeometry()&&s?uye(t,r,s):t,f=e.repurposeFeature(c);try{return e.evaluate({...i,$feature:f},e.services)}catch(m){return ke.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",m),null}}const ox=new Map;function uye(e,t,i){const{transform:r,hasZ:s,hasM:c}=i;ox.has(t)||ox.set(t,cye(t));const f=ox.get(t)(e.geometry,r,s,c);return{...e,geometry:f}}function cye(e){const t={};switch(e){case"esriGeometryPoint":return(i,r,s,c)=>sye(r,t,i,s,c);case"esriGeometryPolygon":return(i,r,s,c)=>oye(r,t,i,s,c);case"esriGeometryPolyline":return(i,r,s,c)=>aye(r,t,i,s,c);case"esriGeometryMultipoint":return(i,r,s,c)=>nye(r,t,i,s,c);default:return ke.getLogger("esri.views.2d.support.arcadeOnDemand").error(new me("mapview-arcade",`Unable to handle geometryType: ${e}`)),i=>i}}const hye=e=>{if(!e)return[0,0,0,0];const{r:t,g:i,b:r,a:s}=e;return[t,i,r,255*s]};let kJ=class or{static findApplicableOverrides(t,i,r){if(t&&i){if(t.primitiveName){let s=!1;for(const c of r)if(c.primitiveName===t.primitiveName){s=!0;break}if(!s)for(const c of i)c.primitiveName===t.primitiveName&&r.push(c)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const s of t.effects)or.findApplicableOverrides(s,i,r);if(t.symbolLayers)for(const s of t.symbolLayers)or.findApplicableOverrides(s,i,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const s of t.effects)or.findApplicableOverrides(s,i,r);if(t.markerPlacement&&or.findApplicableOverrides(t.markerPlacement,i,r),t.type==="CIMVectorMarker"){if(t.markerGraphics)for(const s of t.markerGraphics)or.findApplicableOverrides(s,i,r),or.findApplicableOverrides(s.symbol,i,r)}else t.type==="CIMCharacterMarker"?or.findApplicableOverrides(t.symbol,i,r):t.type==="CIMHatchFill"?or.findApplicableOverrides(t.lineSymbol,i,r):t.type==="CIMPictureMarker"&&or.findApplicableOverrides(t.animatedSymbolProperties,i,r)}}}static findEffectOverrides(t,i){if(!t)return null;if(t.type==="CIMGeometricEffectDashes"&&Q1e(t),!i||!t.primitiveName)return{type:"cim-effect-info",effect:t,overrides:[]};const r=t.primitiveName,s=[];for(const c of i)c.primitiveName===r&&s.push({...c,propertyName:FN(c.propertyName)});return{type:"cim-effect-info",effect:t,overrides:s}}static async resolveSymbolOverrides(t,i,r,s,c,f,m){if(!(t!=null&&t.symbol))return null;let{symbol:b,primitiveOverrides:x}=t;const T=!!x;if(!T&&!s)return b;b=ye(b),x=ye(x);let C=!0;if(i||(i={attributes:{}},C=!1),T){if(C||(x=x.filter(L=>{var N;return!((N=L.valueExpressionInfo)!=null&&N.expression.includes("$feature"))})),m||(x=x.filter(L=>{var N;return!((N=L.valueExpressionInfo)!=null&&N.expression.includes("$view"))})),x.length>0){const L={spatialReference:r,fields:K1e(i.attributes),geometryType:c};await or.createRenderExpressions(x,L),or.evaluateOverrides(x,i,c??"esriGeometryPoint",f,m)}or.applyOverrides(b,x)}return s&&or.applyDictionaryTextOverrides(b,i,s,null),b}static async createRenderExpressions(t,i){const r=[];for(const s of t){const c=s.valueExpressionInfo;if(!c||or._expressionToRenderExpression.has(c.expression))continue;const f=bpe(c.expression,i.spatialReference,i.fields);r.push(f),f.then(m=>or._expressionToRenderExpression.set(c.expression,m))}r.length>0&&await Promise.all(r)}static evaluateOverrides(t,i,r,s,c){const f={$view:{scale:c==null?void 0:c.scale}};for(const m of t){m.value&&typeof m.value=="object"&&dJ(m.value)&&(m.propertyName==="Color"||m.propertyName==="StrokeColor")&&(m.value=hye(m.value));const b=m.valueExpressionInfo;if(!b)continue;const x=or._expressionToRenderExpression.get(b.expression);x&&(m.value=lye(x,i,f,r,s))}}static applyDictionaryTextOverrides(t,i,r,s,c="Normal"){if(t!=null&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const f=t.symbolLayers;if(!f)return;for(const m of f)m&&m.type==="CIMVectorMarker"&&or.applyDictionaryTextOverrides(m,i,r,s,t.type==="CIMTextSymbol"?t.textCase:c)}break;case"CIMVectorMarker":{const f=t.markerGraphics;if(!f)return;for(const m of f)m&&or.applyDictionaryTextOverrides(m,i,r,s)}break;case"CIMMarkerGraphic":{const f=t.textString;if(f&&f.includes("[")){const m=H1e(f,r);t.textString=J1e(i,m,s,c)}}}}static applyOverrides(t,i,r,s){if(t.primitiveName){for(const c of i)if(c.primitiveName===t.primitiveName){const f=FN(c.propertyName);if(s&&s.push({cim:t,nocapPropertyName:f,value:t[f]}),r){let m=!1;for(const b of r)b.primitiveName===t.primitiveName&&(m=!0);m||r.push(c)}c.value!=null&&(t[f]=c.value)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const c of t.effects)or.applyOverrides(c,i,r,s);if(t.symbolLayers)for(const c of t.symbolLayers)or.applyOverrides(c,i,r,s);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const c of t.effects)or.applyOverrides(c,i,r,s);if(t.type==="CIMVectorMarker"&&t.markerGraphics)for(const c of t.markerGraphics)or.applyOverrides(c,i,r,s),or.applyOverrides(c.symbol,i,r,s)}}static restoreOverrides(t){for(const i of t)i.cim[i.nocapPropertyName]=i.value}static buildOverrideKey(t){let i="";for(const r of t)r.value!==void 0&&(i+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return i}static toValue(t,i){if(t==="DashTemplate")return i.split(" ").map(r=>Number(r));if(t==="Color"){const r=new ot(i).toRgba();return r[3]*=255,r}return i}};kJ._expressionToRenderExpression=new Map;const DN="esri.renderers.support.DictionaryLoader",dye={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let CJ=class{constructor(t,i,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new BH(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{r=await this._dictionaryPromise}catch(C){if(cs(C))return this._dictionaryPromise=null,null}const s=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),c={};if(this.fieldMap)for(const C of this._symbolFields){const L=xJ(this.fieldMap[C],this._fieldIndex);if(L){const N=t.attributes[L];c[C]=s?N:N!=null?""+t.attributes[L]:""}else c[C]=""}let f=null;try{f=r==null?void 0:r(c,i)}catch{return null}if(!f||typeof f!="string"||f==="invalid")return null;const m=f.split(";"),b=[],x=[];for(const C of m)if(C)if(C.includes("po:")){const L=C.substr(3).split("|");if(L.length===3){const N=L[0],D=L[1];let G=L[2];if(D==="DashTemplate")G=G.split(" ").map(q=>Number(q));else if(D==="Color"){const q=new ot(G).toRgba();G=[q[0],q[1],q[2],255*q[3]]}else G=Number(G);x.push({primitiveName:N,propertyName:D,value:G,defaultValue:null})}}else if(C.includes("|")){for(const L of C.split("|"))if(this._itemNames.has(L)){b.push(L);break}}else this._itemNames.has(C)&&b.push(C);const T=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,b,x,T,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void ke.getLogger(DN).error("no valid URL!");const i=Ut(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:r}]=await Promise.all([i,Cu()]);if(!r)throw this._dictionaryPromise=null,new me("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:c,expression:f,itemsNames:m}=r,b=f;let x=!1;c&&(this._dictionaryVersion=HH.parse(c),x=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(m),this._symbolFields=s.symbol;const T={};if(this.config){const N=this.config;for(const D in N)T[D]=N[D]}if(s.configuration)for(const N of s.configuration)T.hasOwnProperty(N.name)||(T[N.name]=N.value);const C=[];if(t!=null&&t.fields&&this.fieldMap)for(const N in this.fieldMap){const D=this.fieldMap[N],G=t.fields.filter(q=>q.name.toLowerCase()===(D==null?void 0:D.toLowerCase()));G.length>0&&C.push({...G[0],type:x?G[0].type:"esriFieldTypeString"})}C.length>0&&(this._fieldIndex=new JH(C));const L=wpe(b,t!=null?t.spatialReference:null,C,T).then(N=>{const D={scale:0};return(G,q)=>{if(N==null)return null;const J=N.repurposeFeature({geometry:null,attributes:G});return D.scale=q!=null?q.scale??void 0:void 0,N.evaluate({$feature:J,$view:D},N.services)}}).catch(N=>(ke.getLogger(DN).error("Creating dictinoary expression failed:",N),null));return this._dictionaryPromise=L,L}async _cimPartsToCIMSymbol(t,i,r,s,c){const f=new Array(i.length);for(let x=0;x<i.length;x++)f[x]=this._getSymbolPart(i[x],c);let m=await Promise.all(f);const b=this.fieldMap;if(b){m=ye(m);for(const x of m)kJ.applyDictionaryTextOverrides(x,t,b,this._fieldIndex,e7(x))}return new M2({data:this._combineSymbolParts(m,r,s)})}async _getSymbolPart(t,i){const r=this._symbolCache.get(t);if(r)return r;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(f=>f.data);const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),c=Ut(s,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,c),c.finally(()=>this._ongoingRequests.delete(t));try{const f=await c;return this._symbolCache.put(t,f.data),f.data}catch(f){throw f}}_combineSymbolParts(t,i,r){if(!t||t.length===0)return null;const s={...t[0]};if(t.length>1){s.symbolLayers=[];for(const c of t){const f=c;s.symbolLayers.unshift(...f.symbolLayers)}}return r&&(s.callout=dye),{type:"CIMSymbolReference",symbol:s,primitiveOverrides:i}}};var t7;let Za=t7=class extends jm(Xc){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new CJ(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){r!=null&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new t7({config:ye(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:ye(this.fieldMap),url:ye(this.url),visualVariables:ye(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Ls(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};g([S({type:CJ})],Za.prototype,"_loader",null),g([S({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Za.prototype,"config",void 0),g([S({type:Object,json:{write:!0}})],Za.prototype,"fieldMap",void 0),g([S({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Za.prototype,"scaleExpression",void 0),g([De("scaleExpression")],Za.prototype,"writeData",null),g([S({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Za.prototype,"scaleExpressionTitle",void 0),g([S({type:String,json:{write:!0}})],Za.prototype,"url",void 0),g([De("visualVariables")],Za.prototype,"writeVisualVariables",null),Za=t7=g([Q("esri.renderers.DictionaryRenderer")],Za);const pye=Za;var i7;let sc=i7=class extends $e{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ke.getLogger(this).error(".field: field must be a string value"),null):m2(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new i7({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};g([S({type:ot,json:{type:[Number],write:!0}})],sc.prototype,"color",void 0),g([S({type:String,json:{write:!0}})],sc.prototype,"field",void 0),g([bi("field")],sc.prototype,"castField",null),g([S({type:String,json:{write:!0}})],sc.prototype,"label",void 0),g([S({type:String,json:{write:!0}})],sc.prototype,"valueExpression",void 0),g([S({type:String,json:{write:!0}})],sc.prototype,"valueExpressionTitle",void 0),sc=i7=g([Q("esri.renderers.support.AttributeColorInfo")],sc);const AJ=sc;var r7;let h_=r7=class extends $e{constructor(){super(...arguments),this.unit=null}clone(){return new r7({unit:this.unit})}};g([S({type:String,json:{write:!0}})],h_.prototype,"unit",void 0),h_=r7=g([Q("esri.renderers.support.DotDensityLegendOptions")],h_);const fye=h_;var n7;let Js=n7=class extends jm(Xc){constructor(e){super(e),this.attributes=null,this.backgroundColor=new ot([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new mo,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Qc({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new n7({attributes:ye(this.attributes),backgroundColor:ye(this.backgroundColor),dotBlendingEnabled:ye(this.dotBlendingEnabled),dotShape:ye(this.dotShape),dotSize:ye(this.dotSize),dotValue:ye(this.dotValue),legendOptions:ye(this.legendOptions),outline:ye(this.outline),referenceScale:ye(this.referenceScale),seed:ye(this.seed),visualVariables:ye(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await Ls(e,t,i.valueExpression),i.field&&e.add(i.field)}};g([S({type:[AJ],json:{write:!0}})],Js.prototype,"attributes",void 0),g([S({type:ot,json:{write:!0}})],Js.prototype,"backgroundColor",void 0),g([S({type:Boolean,json:{write:!0}})],Js.prototype,"dotBlendingEnabled",void 0),g([S({type:String,json:{write:!1}})],Js.prototype,"dotShape",void 0),g([S({type:Number,json:{write:!0}})],Js.prototype,"dotSize",void 0),g([S({type:fye,json:{write:!0}})],Js.prototype,"legendOptions",void 0),g([S({type:mo,json:{default:null,write:!0}})],Js.prototype,"outline",void 0),g([S({type:Number,json:{write:!0}})],Js.prototype,"dotValue",void 0),g([S({type:Number,json:{write:!0}})],Js.prototype,"referenceScale",void 0),g([S({type:Number,json:{write:!0}})],Js.prototype,"seed",void 0),g([at({dotDensity:"dot-density"})],Js.prototype,"type",void 0),Js=n7=g([Q("esri.renderers.DotDensityRenderer")],Js);const yye=Js;var s7;let Av=s7=class extends $e{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new s7({color:this.color&&this.color.clone(),ratio:this.ratio})}};g([S({type:ot,json:{type:[Oi],default:null,write:!0}})],Av.prototype,"color",void 0),g([S({type:Number,json:{write:!0}})],Av.prototype,"ratio",void 0),Av=s7=g([Q("esri.renderers.support.HeatmapColorStop")],Av);const d_=Av;let P1=class extends ti($e){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};g([S({type:String,json:{write:!0}})],P1.prototype,"minLabel",void 0),g([S({type:String,json:{write:!0}})],P1.prototype,"maxLabel",void 0),g([S({type:String,json:{write:!0}})],P1.prototype,"title",void 0),P1=g([Q("esri.renderers.support.HeatmapLegendOptions")],P1);const kC=2.4;function mye(e){return zo(e*kC)}function gye(e){return ls(e)/kC}function vye(e,t,i,r){let{color:s,ratio:c}=t,{color:f,ratio:m}=i;m===c&&(m===1?c-=1e-6:m+=1e-6);const b=Rn((r-c)/(m-c),0,1);sJ(e,s.toArray(),f.toArray(),b)}function nPe(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:m})=>m>=0&&m<=1).sort((m,b)=>m.ratio-b.ratio).map(({color:m,ratio:b})=>({color:m,ratio:Math.max(b,.001)})),e.length<1)return i;let r=e[0],s=e[0],c=1;const f=yp();for(let m=0;m<512;m++){const b=(m+.5)/512;for(;b>s.ratio&&c<e.length;)r=s,s=e[c++];vye(f,r,s,b),i.set(f,4*m)}return i}function sPe(e,t,i){const r=Math.sqrt(e**2+t**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function oPe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var o7;function VN(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:r}=e;if(t!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:c,minPixelIntensity:f,...m}=e;return m}}return e}let wn=o7=class extends Xc{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new d_({ratio:0,color:new ot("rgba(255, 140, 0, 0)")}),new d_({ratio:.75,color:new ot("rgba(255, 140, 0, 1)")}),new d_({ratio:.9,color:new ot("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return VN(e)}get blurRadius(){return gye(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",mye(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(kC**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||As(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,wS(()=>{Su(ke.getLogger(this),e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=VN(e),super.read(e,t)}getSymbol(){return new Ta}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&Go(e,t,i),r&&typeof r=="string"&&await Ls(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new o7({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:ye(this.colorStops),field:this.field,legendOptions:ye(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};g([S({type:_C,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wn.prototype,"authoringInfo",void 0),g([S({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],wn.prototype,"blurRadius",null),g([S({type:[d_],json:{write:!0}})],wn.prototype,"colorStops",void 0),g([S({type:String,json:{write:!0}})],wn.prototype,"field",void 0),g([S({type:P1,json:{write:!0}})],wn.prototype,"legendOptions",void 0),g([S({type:Number,json:{write:!0}})],wn.prototype,"maxDensity",void 0),g([S({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],wn.prototype,"maxPixelIntensity",null),g([S({type:Number,json:{write:!0}})],wn.prototype,"minDensity",void 0),g([S({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],wn.prototype,"minPixelIntensity",null),g([S({type:Number,cast:si,json:{write:!0}})],wn.prototype,"radius",void 0),g([S({type:Number,range:{min:0},json:{default:0,write:!0}})],wn.prototype,"referenceScale",void 0),g([at({heatmap:"heatmap"})],wn.prototype,"type",void 0),g([S({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],wn.prototype,"valueExpression",void 0),g([S({type:String})],wn.prototype,"valueExpressionTitle",void 0),g([S({readOnly:!0})],wn.prototype,"_pixelIntensityToDensity",null),wn=o7=g([Q("esri.renderers.HeatmapRenderer")],wn);const OJ=wn;let Nf=class extends ti($e){constructor(){super(...arguments),this.color=new ot([0,0,0,0]),this.label=null,this.threshold=0}};g([S({type:ot,json:{write:!0}})],Nf.prototype,"color",void 0),g([S({type:String,json:{write:!0}})],Nf.prototype,"label",void 0),g([S({type:Number,range:{min:0,max:1},json:{write:!0}})],Nf.prototype,"threshold",void 0),Nf=g([Q("esri.renderers.support.OthersCategory")],Nf);let p_=class extends ti($e){constructor(){super(...arguments),this.title=null}};g([S({type:String,json:{write:!0}})],p_.prototype,"title",void 0),p_=g([Q("esri.renderers.support.PieChartLegendOptions")],p_);let To=class extends jm(ti(Xc)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new ot([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Nf,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new Ta({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Yr)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,i)=>t+i.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const r of this.attributes)r.valueExpression&&await Ls(t,i,r.valueExpression),r.field&&t.add(r.field)}};g([S({type:[AJ],json:{write:!0}})],To.prototype,"attributes",void 0),g([S({type:Qc,json:{default:null,write:!0}})],To.prototype,"backgroundFillSymbol",void 0),g([S({type:ot,json:{write:!0}})],To.prototype,"defaultColor",void 0),g([S({type:String,json:{write:!0}})],To.prototype,"defaultLabel",void 0),g([S({type:Number,range:{min:0,max:1},json:{write:!0}})],To.prototype,"holePercentage",void 0),g([S({type:Nf,json:{write:!0}})],To.prototype,"othersCategory",void 0),g([S({type:p_,json:{write:!0}})],To.prototype,"legendOptions",void 0),g([S({type:mo,json:{default:null,write:!0}})],To.prototype,"outline",void 0),g([S({type:Number,cast:si,json:{write:!0}})],To.prototype,"size",void 0),g([at({pieChart:"pie-chart"})],To.prototype,"type",void 0),To=g([Q("esri.renderers.PieChartRenderer")],To);const bye=To;var a7;let pf=a7=class extends jm(Xc){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new a7({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:ye(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};g([S({type:String,json:{write:!0}})],pf.prototype,"description",void 0),g([S({type:String,json:{write:!0}})],pf.prototype,"label",void 0),g([S(EC)],pf.prototype,"symbol",void 0),g([at({simple:"simple"})],pf.prototype,"type",void 0),pf=a7=g([Q("esri.renderers.SimpleRenderer")],pf);const Dm=pf,wye=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l7(e){return e instanceof ht}function zN(e){return e instanceof it?Object.keys(e.items):l7(e)?As(e).keys():e?Object.keys(e):[]}function x3(e,t){return e instanceof it?e.items[t]:e[t]}function _ye(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function vb(e){return e?e.declaredClass:null}function LJ(e,t){var C;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const r=zN(e),s=zN(t);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||_ye(e,t))return{type:"complete",oldValue:e,newValue:t};const c=s.filter(L=>!r.includes(L)),f=r.filter(L=>!s.includes(L)),m=r.filter(L=>s.includes(L)&&x3(e,L)!==x3(t,L)).concat(c,f).sort(),b=vb(e);if(b&&wye.has(b)&&m.length)return{type:"complete",oldValue:e,newValue:t};let x;const T=l7(e)&&l7(t);for(const L of m){const N=x3(e,L),D=x3(t,L);let G;if((T||typeof N!="function"&&typeof D!="function")&&N!==D&&(N!=null||D!=null)){if(i&&i[L]&&typeof i[L]=="function")G=(C=i[L])==null?void 0:C.call(i,N,D);else if(N instanceof Date&&D instanceof Date){if(N.getTime()===D.getTime())continue;G={type:"complete",oldValue:N,newValue:D}}else G=typeof N=="object"&&typeof D=="object"&&vb(N)===vb(D)?LJ(N,D):{type:"complete",oldValue:N,newValue:D};G!=null&&(x!=null?x.diff[L]=G:x={type:"partial",diff:{[L]:G}})}}return x}function cPe(e,t){return Sye(e,t)}function Sye(e,t){if(e==null)return!1;const i=t.split(".");let r=e;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const c=r.diff[s];if(!c)return!1;r=c}}return!0}function hPe(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function PJ(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&vb(e)!==vb(t)?{type:"complete",oldValue:e,newValue:t}:LJ(e,t)}function E3(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const i of t.added)if(!E3(i))return!1;for(const i of t.removed)if(!E3(i))return!1;for(const i of t.changed)if(!E3(i))return!1;return!0}case"partial":for(const t in e.diff)if(!E3(e.diff[t]))return!1;return!0}}let F1=class extends ti($e){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};g([S(a_)],F1.prototype,"value",void 0),g([S(a_)],F1.prototype,"value2",void 0),g([S(a_)],F1.prototype,"value3",void 0),F1=g([Q("esri.renderers.support.UniqueValue")],F1);const Vy=F1;let Xh=class extends ti($e){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(r=>new Vy({value:r})):i==="object"?t[0]instanceof Vy?t:t.map(r=>new Vy(r)):null}};g([S({type:String,json:{write:!0}})],Xh.prototype,"description",void 0),g([S({type:String,json:{write:!0}})],Xh.prototype,"label",void 0),g([S(i9)],Xh.prototype,"symbol",void 0),g([S({type:[Vy],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Vy({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const r of e){const s=[r.value,r.value2,r.value3].filter(Yr).map(c=>c.toString());i.push(s)}t.values=i}}}})],Xh.prototype,"values",void 0),g([bi("values")],Xh.prototype,"castValues",null),Xh=g([Q("esri.renderers.support.UniqueValueClass")],Xh);const FJ=Xh;let Ov=class extends ti($e){constructor(t){super(t),this.heading=null,this.classes=null}};g([S({type:String,json:{write:!0}})],Ov.prototype,"heading",void 0),g([S({type:[FJ],json:{write:!0}})],Ov.prototype,"classes",void 0),Ov=g([Q("esri.renderers.support.UniqueValueGroup")],Ov);const u7=Ov;var c7;let ff=c7=class extends $e{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new c7({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};g([S({type:String,json:{write:!0}})],ff.prototype,"description",void 0),g([S({type:String,json:{write:!0}})],ff.prototype,"label",void 0),g([S(EC)],ff.prototype,"symbol",void 0),g([S(a_)],ff.prototype,"value",void 0),ff=c7=g([Q("esri.renderers.support.UniqueValueInfo")],ff);const bb=ff,$ye=()=>!!Ee("enable-feature:force-wosr"),yPe=()=>!!Ee("enable-feature:direct-3d-object-feature-layer-display"),xye=()=>Ee.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),Eye=()=>Ee.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),RJ=()=>!!Ee("enable-i3s-patching"),Tye=()=>Ee.add("enable-i3s-patching",!0,!0,!0),Iye=()=>Ee.add("enable-i3s-patching",!1,!0,!0),NJ=()=>!!Ee("enable-feature:SceneLayer-editing"),Mye=(e="i3s-patching")=>{switch(Iye(),Eye(),Ee.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":xye();break;case"i3s-patching":Tye()}};Mye("i3s-patching");let ax={};async function kye(e,t){try{return{data:(await CC(e,t)).data,baseUrl:a8(e),styleUrl:e}}catch(i){return pu(i),null}}function Cye(e,t,i){const r=t.portal!=null?t.portal:Xr.getDefault();let s;const c=`${r.url} - ${r.user&&r.user.username} - ${e}`;return ax[c]||(ax[c]=Aye(e,r,i).then(f=>(s=f,f.fetchData())).then(f=>({data:f,baseUrl:s.itemUrl??"",styleName:e}))),ax[c]}function Aye(e,t,i){return t.load(i).then(()=>{const r=new fu({disableExtraQuery:!0,query:`owner:${UN} AND type:${GN} AND typekeywords:"${e}"`});return t.queryItems(r,i)}).then(({results:r})=>{var f;let s=null;const c=e.toLowerCase();if(r&&Array.isArray(r)){for(const m of r)if(((f=m.typeKeywords)==null?void 0:f.some(x=>x.toLowerCase()===c))&&m.type===GN&&m.owner===UN){s=m;break}}if(!s)throw new me("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(i)})}function jJ(e,t,i){return(e==null?void 0:e.styleUrl)!=null?kye(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?Cye(e.styleName,t,i):Promise.reject(new me("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function DJ(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function Oye(e,t,i=["gltf"]){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!$ye())for(const r of i){const s=e.formatInfos.find(c=>c.type===r);if(s)return s.href}return e.webRef}function CC(e,t){const i={responseType:"json",query:{f:"json"},...t};return Ut(wa(e),i)}const UN="esri_en",GN="Style",Lye="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Lv;const VJ="esri.renderers.UniqueValueRenderer",Lh=()=>ke.getLogger(VJ),WN="uvInfos-watcher",qN="uvGroups-watcher",Pye=",",Fye=wr(bb);function Rye(e){const{field1:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:c,valueExpression:f}=e,m=!(!t||!i);return[{classes:(c??[]).map(b=>{var J;const{symbol:x,label:T,value:C,description:L}=b,[N,D,G]=m?((J=C==null?void 0:C.toString())==null?void 0:J.split(s||""))||[]:[C],q=[];return(t||f)&&q.push(N),i&&q.push(D),r&&q.push(G),{symbol:x,label:T,values:[q],description:L}})}]}let Qi=Lv=class extends jm(Xc){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let c=0;c<i.length;c++){const f=t.find(m=>m.value===i[c].value);f?PJ(f,i[c])?(s.changed.push({type:"complete",oldValue:f,newValue:i[c]}),r=!0):s.unchanged.push({oldValue:f,newValue:i[c]}):(s.added.push(i[c]),r=!0)}for(let c=0;c<t.length;c++)i.find(f=>f.value===t[c].value)||(s.removed.push(t[c]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:m2(e)}writeField(e,t,i,r){typeof e=="string"?t[i]=e:r!=null&&r.messages?r.messages.push(new me("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Lh().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||Xr.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const r=ep(t.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=w2(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?Lh().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Lh().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var r;if(this.styleOrigin)return void Lh().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?Fye(e):new bb({value:e,symbol:IH(t)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[i.value]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Lh().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const r=t[i];if(String(r.value)===String(e)){delete this._valueInfoMap[e],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await Cu()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Lh().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await Cu(),{arcadeUtils:c}=s;c.hasGeometryOperations(this.valueExpression)&&await c.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(e,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var r;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,c)=>s+c.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Lv({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:ye(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:ye(this.visualVariables),legendOptions:ye(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:ye(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=ye(this.uniqueValueInfos),i=ye(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(ye(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(r=>r.collectRequiredFields(e,t)),Ls(e,t,this.valueExpression)];Go(e,t,this.field),Go(e,t,this.field2),Go(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return jJ(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new O0({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const c=new bb({value:r.name,symbol:s});t.push(c),this._valueInfoMap[r.name]=c}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",Pye)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(WN);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(Ze(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,WN)}}_watchUniqueValueGroups(){this.removeHandles(qN);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(Ze(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])t.push(Ze(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,c)=>{s!==c&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,qN)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:c,valueExpression:f}=this;if(!t&&!f)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const m=!(!t||!i);for(const b of c)for(const x of b.classes??[]){const{symbol:T,label:C,values:L,description:N}=x;for(const D of L??[]){const{value:G,value2:q,value3:J}=D,ne=[G];i&&ne.push(q),r&&ne.push(J);const ue=m?ne.join(s||""):ne[0];e.push(new bb({symbol:T,label:C,value:ue,description:N}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:c}=this;if(!t&&!r||!c.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const f=!(!t||!i),m=c.map(x=>{var J;const{symbol:T,label:C,value:L,description:N}=x,[D,G,q]=f?((J=L==null?void 0:L.toString())==null?void 0:J.split(s||""))||[]:[L];return new FJ({symbol:T,label:C,description:N,values:[new Vy({value:D,value2:G,value3:q})]})}),b=[new u7({classes:m})];e&&Object.freeze(b),this._set("uniqueValueGroups",b),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:c,timeZone:f}=t??{};let m=this._cache.compiledFunc;const b=c.arcadeUtils;if(!m){const T=b.createSyntaxTree(this.valueExpression);m=b.createFunction(T),this._cache.compiledFunc=m}const x=b.executeFunction(m,b.createExecContext(e,b.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),f));return this._valueInfoMap[x+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(typeof t!="function"&&this.field2){const s=this.field2,c=this.field3,f=[];t&&f.push(i[t]),s&&f.push(i[s]),c&&f.push(i[c]),r=f.join(this.fieldDelimiter||"")}else typeof t=="function"?r=t(e):t&&(r=i[t]);return this._valueInfoMap[r+""]}static fromPortalStyle(e,t){const i=new Lv(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||Xr.getDefault());const r=i.populateFromStyle();return r.catch(s=>{Lh().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(e,t){const i=new Lv(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch(s=>{Lh().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};g([S({readOnly:!0})],Qi.prototype,"_cache",null),g([at({uniqueValue:"unique-value"})],Qi.prototype,"type",void 0),g([S(GH)],Qi.prototype,"backgroundFillSymbol",void 0),g([S({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Qi.prototype,"field",null),g([bi("field")],Qi.prototype,"castField",null),g([De("field")],Qi.prototype,"writeField",null),g([S({type:String,value:null,json:{write:!0}})],Qi.prototype,"field2",null),g([S({type:String,value:null,json:{write:!0}})],Qi.prototype,"field3",null),g([S({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Qi.prototype,"orderByClassesEnabled",void 0),g([S({type:String,value:null,json:{write:!0}})],Qi.prototype,"valueExpression",null),g([S({type:String,json:{write:!0}})],Qi.prototype,"valueExpressionTitle",void 0),g([S({type:Dy,json:{write:!0}})],Qi.prototype,"legendOptions",void 0),g([S({type:String,json:{write:!0}})],Qi.prototype,"defaultLabel",void 0),g([S(Uk({...i9},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Qi.prototype,"defaultSymbol",null),g([S({type:String,value:null,json:{write:!0}})],Qi.prototype,"fieldDelimiter",null),g([S({type:Xr,readOnly:!0})],Qi.prototype,"portal",void 0),g([Pe("portal",["styleName"])],Qi.prototype,"readPortal",null),g([S({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Qi.prototype,"styleOrigin",void 0),g([Pe("styleOrigin",["styleName","styleUrl"])],Qi.prototype,"readStyleOrigin",null),g([De("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Qi.prototype,"writeStyleOrigin",null),g([S({type:[u7],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||Rye(t)).map(r=>u7.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Qi.prototype,"uniqueValueGroups",null),g([S({type:[bb],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Qi.prototype,"uniqueValueInfos",null),Qi=Lv=g([Q(VJ)],Qi);const AC=Qi,o9={key:"type",base:Xc,typeMap:{heatmap:OJ,simple:Dm,"unique-value":AC,"class-breaks":qH,"dot-density":yye,dictionary:pye,"pie-chart":bye},errorContext:"renderer"},Nye={key:"type",base:Xc,typeMap:{simple:Dm,"unique-value":AC,"class-breaks":qH,heatmap:OJ},errorContext:"renderer",validate:jye};function jye(e){switch(e.type){case"simple":return Dye(e);case"unique-value":return Vye(e);case"class-breaks":return zye(e);case"heatmap":return e}}function Dye(e){if(e.symbol)return e;ke.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function Vye(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},c)=>(r||ke.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${c}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function zye(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},c)=>(r||ke.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${c}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function mPe(e,t){return Xb(e,null,t)}const Uye=Em({types:o9});function Xb(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new xu("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):Uye(e,t,i):null}const hs=(e=>e)(["operational-layers","basemap","ground"]);var h7;let yf=h7=class extends $e{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new h7({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([S({type:String,json:{write:!0}})],yf.prototype,"expression",void 0),g([S({type:String,json:{write:!0}})],yf.prototype,"name",void 0),g([S({type:["boolean","date","number","string"],json:{write:!0}})],yf.prototype,"returnType",void 0),g([S({type:String,json:{write:!0}})],yf.prototype,"title",void 0),yf=h7=g([Q("esri.form.ExpressionInfo")],yf);const Gye=yf;let mf=class extends $e{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};g([S({type:String,json:{write:!0}})],mf.prototype,"description",void 0),g([S({type:String,json:{write:!0}})],mf.prototype,"label",void 0),g([S()],mf.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],mf.prototype,"visibilityExpression",void 0),mf=g([Q("esri.form.elements.Element")],mf);const S0=mf;var d7;let f_=d7=class extends $e{constructor(e){super(e),this.type=null}clone(){return new d7({type:this.type})}};g([S({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],f_.prototype,"type",void 0),f_=d7=g([Q("esri.form.elements.inputs.AttachmentInput")],f_);const Wye=f_;var p7;let gf=p7=class extends S0{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new p7({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};g([S({type:String,json:{write:!0}})],gf.prototype,"attachmentKeyword",void 0),g([S({type:String,json:{write:!0}})],gf.prototype,"editableExpression",void 0),g([S({type:Wye,json:{read:{source:"inputType"},write:{target:"inputType"}}})],gf.prototype,"input",void 0),g([S({type:["attachment"],json:{read:!1,write:!0}})],gf.prototype,"type",void 0),gf=p7=g([Q("esri.form.elements.AttachmentElement")],gf);const BN=gf;let y_=class extends $e{constructor(t){super(t),this.type=null}};g([S()],y_.prototype,"type",void 0),y_=g([Q("esri.form.elements.inputs.Input")],y_);const th=y_;let Pv=class extends th{constructor(t){super(t),this.maxLength=null,this.minLength=0}};g([S({type:Number,json:{write:!0}})],Pv.prototype,"maxLength",void 0),g([S({type:Number,json:{write:!0}})],Pv.prototype,"minLength",void 0),Pv=g([Q("esri.form.elements.inputs.TextInput")],Pv);const OC=Pv;var f7;let m_=f7=class extends OC{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new f7({maxLength:this.maxLength,minLength:this.minLength})}};g([S({type:["barcode-scanner"],json:{read:!1,write:!0}})],m_.prototype,"type",void 0),m_=f7=g([Q("esri.form.elements.inputs.BarcodeScannerInput")],m_);const qye=m_;var y7;let R1=y7=class extends th{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new y7({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};g([S({type:String,json:{write:!0}})],R1.prototype,"noValueOptionLabel",void 0),g([S({type:Boolean,json:{write:!0}})],R1.prototype,"showNoValueOption",void 0),g([S({type:["combo-box"],json:{read:!1,write:!0}})],R1.prototype,"type",void 0),R1=y7=g([Q("esri.form.elements.inputs.ComboBoxInput")],R1);const Bye=R1;var m7;function HN(e){return e??null}function JN(e){return e??null}let Bl=m7=class extends th{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return HN(t.max)}writeMax(e,t){t.max=JN(e)}readMin(e,t){return HN(t.min)}writeMin(e,t){t.min=JN(e)}clone(){return new m7({max:this.max,min:this.min})}};g([S({type:String,json:{type:String,write:!0}})],Bl.prototype,"max",void 0),g([Pe("max")],Bl.prototype,"readMax",null),g([De("max")],Bl.prototype,"writeMax",null),g([S({type:String,json:{type:String,write:!0}})],Bl.prototype,"min",void 0),g([Pe("min")],Bl.prototype,"readMin",null),g([De("min")],Bl.prototype,"writeMin",null),g([S({type:["date-picker"],json:{read:!1,write:!0}})],Bl.prototype,"type",void 0),Bl=m7=g([Q("esri.form.elements.inputs.DatePickerInput")],Bl);const Hye=Bl;var g7;function lx(e){return e??null}function ux(e){return e??null}let Zs=g7=class extends th{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return lx(t.max)}writeMax(e,t){t.max=ux(e)}readMin(e,t){return lx(t.min)}writeMin(e,t){t.min=ux(e)}readTimeResolution(e,t){return lx(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=ux(e)}clone(){return new g7({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};g([S({type:Boolean,json:{write:!0}})],Zs.prototype,"includeTimeOffset",void 0),g([S({type:String,json:{type:String,write:!0}})],Zs.prototype,"max",void 0),g([Pe("max")],Zs.prototype,"readMax",null),g([De("max")],Zs.prototype,"writeMax",null),g([S({type:String,json:{type:String,write:!0}})],Zs.prototype,"min",void 0),g([Pe("min")],Zs.prototype,"readMin",null),g([De("min")],Zs.prototype,"writeMin",null),g([S({type:String,json:{type:String,write:!0}})],Zs.prototype,"timeResolution",void 0),g([Pe("timeResolution")],Zs.prototype,"readTimeResolution",null),g([De("timeResolution")],Zs.prototype,"writeTimeResolution",null),g([S({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Zs.prototype,"type",void 0),Zs=g7=g([Q("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Zs);const Jye=Zs;var v7;function ZN(e){return e!=null?new Date(e):null}function KN(e){return e?e.getTime():null}let Ka=v7=class extends th{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return ZN(t.max)}writeMax(e,t){t.max=KN(e)}readMin(e,t){return ZN(t.min)}writeMin(e,t){t.min=KN(e)}clone(){return new v7({includeTime:this.includeTime,max:this.max,min:this.min})}};g([S({type:Boolean,json:{write:!0}})],Ka.prototype,"includeTime",void 0),g([S({type:Date,json:{type:Number,write:!0}})],Ka.prototype,"max",void 0),g([Pe("max")],Ka.prototype,"readMax",null),g([De("max")],Ka.prototype,"writeMax",null),g([S({type:Date,json:{type:Number,write:!0}})],Ka.prototype,"min",void 0),g([Pe("min")],Ka.prototype,"readMin",null),g([De("min")],Ka.prototype,"writeMin",null),g([S({type:["datetime-picker"],json:{read:!1,write:!0}})],Ka.prototype,"type",void 0),Ka=v7=g([Q("esri.form.elements.inputs.DateTimePickerInput")],Ka);const Zye=Ka;var b7;let N1=b7=class extends th{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new b7({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};g([S({type:String,json:{write:!0}})],N1.prototype,"noValueOptionLabel",void 0),g([S({type:Boolean,json:{write:!0}})],N1.prototype,"showNoValueOption",void 0),g([S({type:["radio-buttons"],json:{read:!1,write:!0}})],N1.prototype,"type",void 0),N1=b7=g([Q("esri.form.elements.inputs.RadioButtonsInput")],N1);const Kye=N1;var w7;let j1=w7=class extends th{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new w7({offValue:this.offValue,onValue:this.onValue})}};g([S({type:[String,Number],json:{write:!0}})],j1.prototype,"offValue",void 0),g([S({type:[String,Number],json:{write:!0}})],j1.prototype,"onValue",void 0),g([S({type:["switch"],json:{read:!1,write:!0}})],j1.prototype,"type",void 0),j1=w7=g([Q("esri.form.elements.inputs.SwitchInput")],j1);const Yye=j1;var _7;let g_=_7=class extends OC{constructor(e){super(e),this.type="text-area"}clone(){return new _7({maxLength:this.maxLength,minLength:this.minLength})}};g([S({type:["text-area"],json:{read:!1,write:!0}})],g_.prototype,"type",void 0),g_=_7=g([Q("esri.form.elements.inputs.TextAreaInput")],g_);const Qye=g_;var S7;let v_=S7=class extends OC{constructor(e){super(e),this.type="text-box"}clone(){return new S7({maxLength:this.maxLength,minLength:this.minLength})}};g([S({type:["text-box"],json:{read:!1,write:!0}})],v_.prototype,"type",void 0),v_=S7=g([Q("esri.form.elements.inputs.TextBoxInput")],v_);const Xye=v_;var $7;function cx(e){return e??null}function hx(e){return e??null}let Io=$7=class extends th{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return cx(t.max)}writeMax(e,t){t.max=hx(e)}readMin(e,t){return cx(t.min)}writeMin(e,t){t.min=hx(e)}readTimeResolution(e,t){return cx(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=hx(e)}clone(){return new $7({max:this.max,min:this.min,timeResolution:this.timeResolution})}};g([S({type:String,json:{type:String,write:!0}})],Io.prototype,"max",void 0),g([Pe("max")],Io.prototype,"readMax",null),g([De("max")],Io.prototype,"writeMax",null),g([S({type:String,json:{type:String,write:!0}})],Io.prototype,"min",void 0),g([Pe("min")],Io.prototype,"readMin",null),g([De("min")],Io.prototype,"writeMin",null),g([S({type:String,json:{type:String,write:!0}})],Io.prototype,"timeResolution",void 0),g([Pe("timeResolution")],Io.prototype,"readTimeResolution",null),g([De("timeResolution")],Io.prototype,"writeTimeResolution",null),g([S({type:["time-picker"],json:{read:!1,write:!0}})],Io.prototype,"type",void 0),Io=$7=g([Q("esri.form.elements.inputs.TimePickerInput")],Io);const eme=Io,tme={base:th,key:"type",typeMap:{"barcode-scanner":qye,"combo-box":Bye,"date-picker":Hye,"datetime-picker":Zye,"datetimeoffset-picker":Jye,"radio-buttons":Kye,switch:Yye,"text-area":Qye,"text-box":Xye,"time-picker":eme}};var x7;let qf=x7=class extends $e{constructor(e){super(e),this.name=null,this.code=null}clone(){return new x7({name:this.name,code:this.code})}};g([S({type:String,json:{write:!0}})],qf.prototype,"name",void 0),g([S({type:[String,Number],json:{write:!0}})],qf.prototype,"code",void 0),qf=x7=g([Q("esri.layers.support.CodedValue")],qf);const ime=new At({inherited:"inherited",codedValue:"coded-value",range:"range"});let Fv=class extends $e{constructor(t){super(t),this.name=null,this.type=null}};g([S({type:String,json:{write:!0}})],Fv.prototype,"name",void 0),g([at(ime)],Fv.prototype,"type",void 0),Fv=g([Q("esri.layers.support.Domain")],Fv);const a9=Fv;var E7;let Rv=E7=class extends a9{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(r=>(String(r.code)===i&&(t=r.name),!!t))}return t}clone(){return new E7({codedValues:ye(this.codedValues),name:this.name})}};g([S({type:[qf],json:{write:!0}})],Rv.prototype,"codedValues",void 0),g([at({codedValue:"coded-value"})],Rv.prototype,"type",void 0),Rv=E7=g([Q("esri.layers.support.CodedValueDomain")],Rv);const L4=Rv;var T7;let b_=T7=class extends a9{constructor(e){super(e),this.type="inherited"}clone(){return new T7}};g([at({inherited:"inherited"})],b_.prototype,"type",void 0),b_=T7=g([Q("esri.layers.support.InheritedDomain")],b_);const zJ=b_;var I7;let D1=I7=class extends a9{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new I7({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};g([S({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],D1.prototype,"maxValue",void 0),g([S({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],D1.prototype,"minValue",void 0),g([at({range:"range"})],D1.prototype,"type",void 0),D1=I7=g([Q("esri.layers.support.RangeDomain")],D1);const UJ=D1,GJ={key:"type",base:a9,typeMap:{range:UJ,"coded-value":L4,inherited:zJ}};function l9(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return UJ.fromJSON(e);case"codedValue":return L4.fromJSON(e);case"inherited":return zJ.fromJSON(e)}return null}var M7;let oa=M7=class extends S0{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new M7({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};g([S({types:GJ,json:{read:{reader:l9},write:!0}})],oa.prototype,"domain",void 0),g([S({type:Boolean,json:{write:!0}})],oa.prototype,"editable",null),g([S({type:String,json:{write:!0}})],oa.prototype,"editableExpression",void 0),g([S({type:String,json:{write:!0}})],oa.prototype,"fieldName",void 0),g([S({type:String,json:{write:!0}})],oa.prototype,"hint",void 0),g([S({types:tme,json:{read:{source:"inputType"},write:{target:"inputType"}}})],oa.prototype,"input",void 0),g([S({type:String,json:{write:!0}})],oa.prototype,"requiredExpression",void 0),g([S({type:String,json:{read:!1,write:!0}})],oa.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],oa.prototype,"valueExpression",void 0),oa=M7=g([Q("esri.form.elements.FieldElement")],oa);const YN=oa;var k7;let oc=k7=class extends S0{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new k7({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:ye(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};g([S({type:Number,json:{write:!0}})],oc.prototype,"displayCount",void 0),g([S({type:["list"],json:{write:!0}})],oc.prototype,"displayType",void 0),g([S({type:String,json:{write:!0}})],oc.prototype,"editableExpression",void 0),g([S({type:[cC],json:{write:!0}})],oc.prototype,"orderByFields",void 0),g([S({type:Number,json:{write:!0}})],oc.prototype,"relationshipId",void 0),g([S({type:["relationship"],json:{read:!1,write:!0}})],oc.prototype,"type",void 0),oc=k7=g([Q("esri.form.elements.RelationshipElement")],oc);const QN=oc;var C7;let V1=C7=class extends S0{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new C7({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};g([S({type:String,json:{write:!0}})],V1.prototype,"text",void 0),g([S({type:String,json:{write:!0}})],V1.prototype,"textFormat",void 0),g([S({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],V1.prototype,"type",void 0),V1=C7=g([Q("esri.form.elements.TextElement")],V1);const XN=V1;function WJ(e){return{typesWithGroup:{base:S0,key:"type",typeMap:{attachment:BN,field:YN,group:e,relationship:QN,text:XN}},typesWithoutGroup:{base:S0,key:"type",typeMap:{attachment:BN,field:YN,relationship:QN,text:XN}}}}function qJ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function BJ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}function HJ(e,t,i=!0){return e?e.map(r=>$u(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var A7;let ou=A7=class extends S0{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return HJ(e,dx,!1)}readElements(e,t){return qJ(t.formElements,dx,!1)}writeElements(e,t){t.formElements=BJ(e,dx,!1)}clone(){return new A7({description:this.description,elements:ye(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};g([S({json:{write:!0}})],ou.prototype,"elements",void 0),g([bi("elements")],ou.prototype,"castElements",null),g([Pe("elements",["formElements"])],ou.prototype,"readElements",null),g([De("elements")],ou.prototype,"writeElements",null),g([S({type:["collapsed","expanded"],json:{write:!0}})],ou.prototype,"initialState",void 0),g([S({type:String,json:{read:!1,write:!0}})],ou.prototype,"type",void 0),ou=A7=g([Q("esri.form.elements.GroupElement")],ou);const dx=WJ(ou),rme=ou;var O7;const px=WJ(rme);let Ya=O7=class extends $e{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return HJ(e,px)}readElements(e,t){return qJ(t.formElements,px)}writeElements(e,t){t.formElements=BJ(e,px)}clone(){return new O7({description:this.description,expressionInfos:ye(this.expressionInfos),elements:ye(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};g([S({type:String,json:{write:!0}})],Ya.prototype,"description",void 0),g([S({json:{write:!0}})],Ya.prototype,"elements",void 0),g([bi("elements")],Ya.prototype,"castElements",null),g([Pe("elements",["formElements"])],Ya.prototype,"readElements",null),g([De("elements")],Ya.prototype,"writeElements",null),g([S({type:[Gye],json:{write:!0}})],Ya.prototype,"expressionInfos",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],Ya.prototype,"preserveFieldValuesWhenHidden",void 0),g([S({type:String,json:{write:!0}})],Ya.prototype,"title",void 0),Ya=O7=g([Q("esri.form.FormTemplate")],Ya);const JJ=Ya;let e2=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new ES,this._items=new Set}get length(){return It(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return It(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){It(this._observable),yield*this._items}};const ZJ=new FinalizationRegistry(e=>{e.close()});function nme(e,t){ZJ.register(e,t,t)}function sme(e){ZJ.unregister(e)}const KJ="worker:port-closed";var xn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(xn||(xn={}));let ome=0;function YJ(){return ome++}function ame(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function t2(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function LC(e,t,i,r){if(t.type===xn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==xn.INVOKE&&t.type!==xn.RESPONSE)return void e.postMessage(t);let s;if(ame(i)?(s=ej(i.transferList),t.data=i.result):(s=ej(r),t.data=i),s){if(Ee("ff")){for(const c of s)if("byteLength"in c&&c.byteLength>267386880){const f="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case xn.INVOKE:throw f;case xn.RESPONSE:return void LC(e,{type:xn.RESPONSE,jobId:t.jobId,error:t2(f)})}}}e.postMessage(t,s)}else e.postMessage(t)}function i2(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function ej(e){if(!(e!=null&&e.length))return null;if(Ee("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!lme(i));return t.length?t:null}function lme(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function ume(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===KJ;if(!(cs(t)||i))throw t;return}}function QJ(e,t,i){return new Proxy({},{get:(r,s,c)=>(...f)=>{let m,b;const x=f[f.length-1];cme(x)&&(m=x.signal,b=x.transferList,f.pop());const T=e.apply(t?`${t}.${s.toString()}`:s.toString(),f,{transferList:b,signal:m});return i!=null&&i.ignoreConnectionErrors?ume(T):T}})}function cme(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const hme={statsWorker:()=>te(()=>import("./statsWorker-DZm5JIAS.js"),__vite__mapDeps([27,28,29,30])),geometryEngineWorker:()=>te(()=>import("./geometryEngineWorker-DoKBkpB0.js"),__vite__mapDeps([31,25,26])),CSVSourceWorker:()=>te(()=>import("./CSVSourceWorker-D6vcaSKw.js"),__vite__mapDeps([32,33,26,21,23,34,20,22,35,36,37,38,39,40,41,42,43,44,45,28,29,30,46,47,48,49,19,50])),EdgeProcessingWorker:()=>te(()=>import("./EdgeProcessingWorker-BccOm0r8.js"),__vite__mapDeps([51,52,53,54,55,56,57,58,59,60,61,62,63,64])),ElevationSamplerWorker:()=>te(()=>import("./ElevationSamplerWorker-CyiHGytf.js"),__vite__mapDeps([65,36,37,66,67,68,69,70,71,72,73,74,75,54])),FeatureServiceSnappingSourceWorker:()=>te(()=>import("./FeatureServiceSnappingSourceWorker-BqW0W7Zg.js"),__vite__mapDeps([76,34,20,21,22,23,35,36,37,38,39,40,26,41,42,43,44,45,28,29,30,46,47,48,49,4,5,77,78,79,80])),GeoJSONSourceWorker:()=>te(()=>import("./GeoJSONSourceWorker-Bo3ypb9r.js"),__vite__mapDeps([81,20,21,22,23,34,35,36,37,38,39,40,26,41,42,43,44,45,28,29,30,46,47,48,49,82,33,50,83])),LercWorker:()=>te(()=>import("./LercWorker-DEWZgWEW.js"),[]),MemorySourceWorker:()=>te(()=>import("./MemorySourceWorker-Dij-0OpZ.js"),__vite__mapDeps([84,20,21,22,23,85,34,35,36,37,38,39,40,26,41,42,43,44,45,28,29,30,46,47,48,49,50,83,33])),PBFDecoderWorker:()=>te(()=>import("./PBFDecoderWorker-BQ0f7THh.js"),__vite__mapDeps([86,87,20,21,22,23,78,79])),FeaturePipelineWorker:()=>te(()=>import("./FeaturePipelineWorker-34DdcbEI.js"),__vite__mapDeps([88,4,5,89,90,91,92,93,94,95,62,96,97,98,99,63,100,101,102,103,104,105,23,106,107,108,109,110,56,111,112,37,113,114,42,20,21,22,38,39,40,26,115,116,41,43,44,45,28,29,30,46,47,48,49,80,78,79,117,82,33,50,83,118,119,120])),PointCloudWorker:()=>te(()=>import("./PointCloudWorker-C-0XFFL5.js"),__vite__mapDeps([121,74,122,123,124,125,60,126,70,71,72,127])),RasterWorker:()=>te(()=>import("./RasterWorker-DoWRF30F.js"),__vite__mapDeps([128,129,130,131,132,133])),SceneLayerSnappingSourceWorker:()=>te(()=>import("./SceneLayerSnappingSourceWorker-D4QEGFOS.js"),__vite__mapDeps([134,135,136,137,56,57,58,59,53,54,55,60,61,62,63,64])),SceneLayerWorker:()=>te(()=>import("./SceneLayerWorker-BD-H_lfN.js").then(e=>e.S),__vite__mapDeps([138,73,67,68,139,140,71,125,60,72,141,142,126,70,74,127,143])),WFSSourceWorker:()=>te(()=>import("./WFSSourceWorker-BYU1oV1D.js"),__vite__mapDeps([144,20,21,22,23,34,35,36,37,38,39,40,26,41,42,43,44,45,28,29,30,46,47,48,49,82,33,83,145,146])),WorkerTileHandler:()=>te(()=>import("./WorkerTileHandler-DW6Hjjxw.js"),__vite__mapDeps([147,148,105,109,149,150,96,79,103,93,151,152,62,63,153,104,107])),Lyr3DWorker:()=>te(()=>import("./Lyr3DWorker-CYbDfCTy.js"),__vite__mapDeps([154,155,156]))},{CLOSE:tj,ABORT:ij,INVOKE:rj,RESPONSE:zg,OPEN_PORT:nj,ON:dme}=xn,pme=2;let fme=class{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===xn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},np=class z1{static connect(t){const i=new MessageChannel;let r;r=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new z1(i.port1,{channel:i,client:r});return typeof r=="object"&&"remoteClient"in r&&(r.remoteClient=s),z1.clients.set(s,r),i.port2}static loadWorker(t){const i=hme[t];return i?i():Promise.resolve(null)}constructor(t,i,r){this._port=t,this._jobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new fme(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:tj}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=r==null?void 0:r.signal,c=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new me(KJ,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const f=YJ();return new Promise((m,b)=>{if(Tl(s))return this._processWork(),void b(br());const x=Bc(s,()=>{const C=this._outJobs.get(f);C&&(this._outJobs.delete(f),this._processWork(),ks(C.abortHandle),this._post({type:ij,jobId:f}),b(br()))}),T={resolve:m,reject:b,abortHandle:x,debugInfo:t};this._outJobs.set(f,T),this._post({type:rj,jobId:f,methodName:t,abortable:s!=null},i,c)})}createInvokeProxy(t,i){return QJ(this,t,i)}on(t,i){const r=new MessageChannel;function s(c){i(c.data)}return this._port.postMessage({type:xn.ON,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),xt(()=>{r.port1.postMessage({type:xn.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:nj,port:t.port2}),t.port1}_processWork(){var f;if(this._outJobs.size>=pme)return;const t=(f=this._jobQueue)==null?void 0:f.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:s,resolver:c}=t;this.apply(i,r,s).then(m=>c.resolve(m)).catch(m=>c.reject(m))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{ks(t.abortHandle),t.reject(br(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const i=i2(t);if(i)switch(i.type){case zg:this._onResponseMessage(i);break;case rj:this._invokeQueue.push(i);break;case ij:this._onAbortMessage(i);break;case tj:this._onCloseMessage();break;case nj:this._onOpenPortMessage(i);break;case dme:this._onOnMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&z1.clients.get(this)===t&&t.destroy(),z1.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s=[],abortable:c}=t,f=c?new AbortController:null,m=this._inJobs;let b,x=this._client,T=x[i];try{if(!T&&i&&i.includes(".")){const C=i.split(".");for(let L=0;L<C.length-1;L++)x=x[C[L]],T=x[C[L+1]]}if(typeof T!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:f?f.signal:null}),b=T.apply(x,s)}catch(C){return void this._post({type:zg,jobId:r,error:t2(C)})}xm(b)?(m.set(r,{controller:f,promise:b}),b.then(C=>{m.has(r)&&(m.delete(r),this._post({type:zg,jobId:r},C))},C=>{m.has(r)&&(m.delete(r),cs(C)||this._post({type:zg,jobId:r,error:t2(C||{message:`Error encountered at method ${i}`})}))})):this._post({type:zg,jobId:r},b)}_onOpenPortMessage(t){new z1(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,c=>{i.postMessage(c)}),s=y2(t.port,"message",c=>{const f=i2(c);(f==null?void 0:f.type)===xn.CLOSE&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,c=this._outJobs;if(!c.has(i))return;const f=c.get(i);c.delete(i),this._processWork(),ks(f.abortHandle),r?f.reject(me.fromJSON(JSON.parse(r))):f.resolve(s)}_post(t,i,r){return LC(this._port,t,i,r)}};np.kernelInfo={buildDate:uG,fullVersion:u8,revision:cG},np.clients=new Map;let yme=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new e2}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((r,s)=>{let c=!0;const f=m=>{dr(i.signal),c&&(c=!1,m())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let m=0;m<t.length;++m){const b=t[m];xm(b)?this._clientPromises[m]=b.then(x=>(this._clients[m]=new np(x,i,this._ongoingJobsQueue),f(r),this._clients[m]),()=>(f(s),null)):(this._clients[m]=new np(b,i,this._ongoingJobsQueue),this._clientPromises[m]=Promise.resolve(this._clients[m]),f(r))}})}broadcast(t,i,r){const s=new Array(this._clientPromises.length);for(let c=0;c<this._clientPromises.length;++c){const f=this._clientPromises[c];s[c]=f.then(m=>m==null?void 0:m.invoke(t,i,r))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(br(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,sme(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=Sa();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,resolver:s});for(let c=0;c<this._clientPromises.length;c++){const f=this._clients[c];f?f.jobAdded():this._clientPromises[c].then(m=>m==null?void 0:m.jobAdded())}return s.promise}createInvokeProxy(t){return QJ(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>Do(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(c=>{c&&(i[s]=c.openPort()),--r==0&&t(i)})})}get test(){return{numClients:this._clients.length}}};const mme={async request(e,t){var f,m;const i=e.options,r=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((f=nG(e.url))!=null&&f.after)?r:"array-buffer";const s=await Ut(e.url,i),c={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((m=s.requestOptions)==null?void 0:m.responseType){case"native-request-init":return delete c.data.signal,c;case"blob":c.data=await c.data.arrayBuffer();break;case"json":c.data=new TextEncoder().encode(JSON.stringify(c.data)).buffer;break;case"text":c.data=new TextEncoder().encode(c.data).buffer}return{result:c,transferList:[c.data]}}},gme={};function vme(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.concat())||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=gme.baseUrl),t}let bme=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},w_=class{constructor(){this._dispatcher=new bme,this._workerPostMessage({type:xn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Hy(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){Hy(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=i2(t);if(i&&i.type===xn.OPEN){const{modulePath:r,jobId:s}=i;let c=await np.loadWorker(r);c||(c=await import(r));const f=np.connect(c);this._workerPostMessage({type:xn.OPENED,jobId:s,data:f})}}};const L7=()=>ke.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:wme}=xn,_me='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let T3,I3;const sj="Failed to create Worker. Fallback to execute module in main thread";async function Sme(){if(!Ee("esri-workers"))return oj(new w_);if(!T3&&!I3)try{const t=_me.split('"{CONFIGURATION}"').join(`'${$me()}'`);T3=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){I3=t||{}}let e;if(T3)try{e=new Worker(T3,{name:"esri-worker-"+xme++})}catch{L7().warn(sj,I3),e=new w_}else L7().warn(sj,I3),e=new w_;return oj(e)}async function oj(e){return new Promise(t=>{function i(s){const c=i2(s);c&&c.type===wme&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(s){s.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),L7().warn("Failed to create Worker. Fallback to execute module in main thread",s),(e=new w_).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function $me(){let e;if(ai.default!=null){const s={...ai};delete s.default,e=JSON.parse(JSON.stringify(s))}else e=JSON.parse(JSON.stringify(ai));e.assetsPath=no(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?no(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Cs(),e.has={"esri-csp-restrictions":Ee("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Ee("esri-2d-update-debug"),"esri-2d-log-updating":Ee("esri-2d-log-updating"),"featurelayer-pbf":Ee("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":Ee("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":Ee("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Ee("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Ee("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":Ee("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":Ee("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":Ee("featurelayer-snapshot-enabled"),"esri-atomics":Ee("esri-atomics"),"esri-shared-array-buffer":Ee("esri-shared-array-buffer"),"esri-tiles-debug":Ee("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Ee("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":Ee("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=no(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=no(e.workers.workerPath):e.workers.workerPath=no(ei("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=ai.workers.loaderConfig,i=vme({baseUrl:t==null?void 0:t.baseUrl,locale:Cs(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:uG,fullVersion:u8,revision:cG}})}let xme=0;const{ABORT:aj,INVOKE:Eme,OPEN:Tme,OPENED:Ime,RESPONSE:Ug}=xn;let Mme=class XJ{static async create(t){const i=await Sme();return new XJ(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),ke.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,s=YJ();return new Promise((c,f)=>{const m={resolve:c,reject:f,abortHandle:wU(r,()=>{this._outJobs.delete(s),this._post({type:aj,jobId:s})})};this._outJobs.set(s,m),this._post({type:Tme,jobId:s,modulePath:t})})}_onMessage(t){const i=i2(t);if(i)switch(i.type){case Ime:this._onOpenedMessage(i);break;case Ug:this._onResponseMessage(i);break;case aj:this._onAbortMessage(i);break;case Eme:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s,abortable:c}=t,f=c?new AbortController:null,m=this._inJobs,b=mme[i];let x;try{if(typeof b!="function")throw new TypeError(`${i} is not a function`);x=b.call(null,s,{signal:f?f.signal:null})}catch(T){return void this._post({type:Ug,jobId:r,error:t2(T)})}xm(x)?(m.set(r,{controller:f,promise:x}),x.then(T=>{m.has(r)&&(m.delete(r),this._post({type:Ug,jobId:r},T))},T=>{m.has(r)&&(m.delete(r),T||(T={message:"Error encountered at method"+i}),cs(T)||this._post({type:Ug,jobId:r,error:t2(T||{message:`Error encountered at method ${i}`})}))})):this._post({type:Ug,jobId:r},x)}_onOpenedMessage(t){const{jobId:i,data:r}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),ks(s.abortHandle),s.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,c=this._outJobs.get(i);c&&(this._outJobs.delete(i),ks(c.abortHandle),r?c.reject(me.fromJSON(JSON.parse(r))):c.resolve(s))}_post(t,i,r){return LC(this.worker,t,i,r)}};const lj=Ee("host-browser")?Math.min(navigator.hardwareConcurrency-1,Ee("workers-pool-size")):0;let Bf=Ee("esri-mobile")?Math.min(lj,3):lj;Bf||(Bf=Ee("safari")&&Ee("mac")?7:2);let uj=0;const __=[];function TPe(){eZ()}async function M3(e,t){const i=new yme,{registryTarget:r,...s}=t;return await i.open(e,s),r&&nme(r,i),i}async function kme(e,t={}){if(typeof e!="string")throw new me("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(Ee("host-webworker")&&!Ee("esri-workers")&&(i="local"),i==="local"){let r=await np.loadWorker(e);r||(r=await import(e)),dr(t.signal);const s=t.client||r;return M3([np.connect(r)],{...t,client:s})}if(await eZ(),dr(t.signal),i==="dedicated"){const r=uj++%Bf;return M3([await __[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,Bf);if(r<Bf){const s=new Array(r);for(let c=0;c<r;++c){const f=uj++%Bf;s[c]=__[f].open(e,t)}return M3(s,t)}}return M3(__.map(r=>r.open(e,t)),t)}let k3=null;async function eZ(){if(k3)return k3;new AbortController;const e=[];for(let t=0;t<Bf;t++){const i=Mme.create(t).then(r=>(__[t]=r,r));e.push(i)}return k3=Promise.all(e),k3}function cj(e,t,i){if(e.hasM==null||e.hasZ)for(const r of t)for(const s of r)s.length>2&&(s[2]*=i)}function Cme(e,t,i){if(!e&&!t||!i)return;const r=Ub(i);hj(e,i,r),hj(t,i,r)}function hj(e,t,i){if(e)for(const r of e)Ame(r.geometry,t,i)}function Ame(e,t,i){if(!(e!=null&&e.spatialReference)||cn(e.spatialReference,t))return;const r=Ub(e.spatialReference)/i;if(r!==1){if("x"in e)e.z!=null&&(e.z*=r);else if("rings"in e)cj(e,e.rings,r);else if("paths"in e)cj(e,e.paths,r);else if("points"in e&&(e.hasM==null||e.hasZ))for(const s of e.points)s.length>2&&(s[2]*=r)}}function tZ(e,t,i){if(t==null||i==null||i.vcsWkid||cn(t,i)||Xd(t)||Xd(i))return null;const r=Ub(t)/Ub(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return s=>Ome(s,r);case"polyline":case"esriGeometryPolyline":return s=>Pme(s,r);case"polygon":case"esriGeometryPolygon":return s=>Lme(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>Fme(s,r);case"extent":case"esriGeometryEnvelope":return s=>Rme(s,r);default:return null}}function Ome(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function Lme(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function Pme(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function Fme(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function Rme(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function dj(e,t,i){if(!(i!=null&&i.features)||!i.hasZ)return;const r=tZ(i.geometryType,t,e.outSpatialReference);if(r!=null)for(const s of i.features)r(s.geometry)}const PC=new At({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var P7;const Nme=new At({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Yn=P7=class extends $e{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?Nme.fromJSON(i.fieldValueType):null}clone(){var e;return new P7({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};g([S({type:String,json:{write:!0}})],Yn.prototype,"alias",void 0),g([S({type:[String,Number],json:{write:{allowNull:!0}}})],Yn.prototype,"defaultValue",void 0),g([S()],Yn.prototype,"description",void 0),g([Pe("description")],Yn.prototype,"readDescription",null),g([S({types:GJ,json:{read:{reader:l9},write:!0}})],Yn.prototype,"domain",void 0),g([S({type:Boolean,json:{write:!0}})],Yn.prototype,"editable",void 0),g([S({type:Oi,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Yn.prototype,"length",void 0),g([S({type:String,json:{write:!0}})],Yn.prototype,"name",void 0),g([S({type:Boolean,json:{write:!0}})],Yn.prototype,"nullable",void 0),g([at(PC)],Yn.prototype,"type",void 0),g([S()],Yn.prototype,"valueType",void 0),g([Pe("valueType",["description"])],Yn.prototype,"readValueType",null),g([S({type:Boolean,json:{read:!1}})],Yn.prototype,"visible",void 0),Yn=P7=g([Q("esri.layers.support.Field")],Yn);const FC=Yn;var F7;const R7=new At({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let _n=F7=class extends $e{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var s;const i=Lt.fromJSON(t.spatialReference),r=[];for(let c=0;c<e.length;c++){const f=e[c],m=Dn.fromJSON(f),b=(s=f.geometry)==null?void 0:s.spatialReference;m.geometry==null||b||(m.geometry.spatialReference=i);const x=f.aggregateGeometries,T=m.aggregateGeometries;if(x&&T!=null)for(const C in T){const L=T[C],N=x[C],D=N==null?void 0:N.spatialReference;L==null||D||(L.spatialReference=i)}r.push(m)}return r}writeGeometryType(e,t,i,r){if(e)return void R7.write(e,t,i,r);const{features:s}=this;if(s){for(const c of s)if((c==null?void 0:c.geometry)!=null)return void R7.write(c.geometry.type,t,i,r)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=Jc(e);return r&&!i&&t.spatialReference&&(r.spatialReference=Lt.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new F7(this.cloneProperties())}cloneProperties(){return ye({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const s=e==null?void 0:e[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,s]}=e,c=x=>Math.round((x-r)/t),f=x=>Math.round((s-x)/i),m=this.features,b=this._getQuantizationFunction(this.geometryType,c,f);for(let x=0,T=m.length;x<T;x++)b!=null&&b(m[x].geometry)||(m.splice(x,1),x--,T--);return this.transform=e,this}unquantize(){var L,N;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[c,f]}=i,m=D=>D*c+r,b=D=>s-D*f;let x=null,T=null;if(this.hasZ&&((L=i==null?void 0:i.scale)==null?void 0:L[2])!=null){const{translate:[,,D],scale:[,,G]}=i;x=q=>q*G+D}if(this.hasM&&((N=i==null?void 0:i.scale)==null?void 0:N[3])!=null){const{translate:[,,,D],scale:[,,,G]}=i;T=q=>q==null?q:q*G+D}const C=this._getHydrationFunction(e,m,b,x,T);for(const{geometry:D}of t)D!=null&&C&&C(D);return this.transform=null,this}_quantizePoints(e,t,i){let r,s;const c=[];for(let f=0,m=e.length;f<m;f++){const b=e[f];if(f>0){const x=t(b[0]),T=i(b[1]);x===r&&T===s||(c.push([x-r,T-s]),r=x,s=T)}else r=t(b[0]),s=i(b[1]),c.push([r,s])}return c.length>0?c:null}_getQuantizationFunction(e,t,i){return e==="point"?r=>(r.x=t(r.x),r.y=i(r.y),r):e==="polyline"||e==="polygon"?r=>{const s=hb(r)?r.rings:r.paths,c=[];for(let f=0,m=s.length;f<m;f++){const b=s[f],x=this._quantizePoints(b,t,i);x&&c.push(x)}return c.length>0?(hb(r)?r.rings=c:r.paths=c,r):null}:e==="multipoint"?r=>{const s=this._quantizePoints(r.points,t,i);return s&&s.length>0?(r.points=s,r):null}:e==="extent"?r=>r:null}_getHydrationFunction(e,t,i,r,s){return e==="point"?c=>{c.x=t(c.x),c.y=i(c.y),r&&(c.z=r(c.z))}:e==="polyline"||e==="polygon"?c=>{const f=hb(c)?c.rings:c.paths;let m,b;for(let x=0,T=f.length;x<T;x++){const C=f[x];for(let L=0,N=C.length;L<N;L++){const D=C[L];L>0?(m+=D[0],b+=D[1]):(m=D[0],b=D[1]),D[0]=t(m),D[1]=i(b)}}if(r&&s)for(let x=0,T=f.length;x<T;x++){const C=f[x];for(let L=0,N=C.length;L<N;L++){const D=C[L];D[2]=r(D[2]),D[3]=s(D[3])}}else if(r)for(let x=0,T=f.length;x<T;x++){const C=f[x];for(let L=0,N=C.length;L<N;L++){const D=C[L];D[2]=r(D[2])}}else if(s)for(let x=0,T=f.length;x<T;x++){const C=f[x];for(let L=0,N=C.length;L<N;L++){const D=C[L];D[2]=s(D[2])}}}:e==="extent"?c=>{c.xmin=t(c.xmin),c.ymin=i(c.ymin),c.xmax=t(c.xmax),c.ymax=i(c.ymax),r&&c.zmax!=null&&c.zmin!=null&&(c.zmax=r(c.zmax),c.zmin=r(c.zmin)),s&&c.mmax!=null&&c.mmin!=null&&(c.mmax=s(c.mmax),c.mmin=s(c.mmin))}:e==="multipoint"?c=>{const f=c.points;let m,b;for(let x=0,T=f.length;x<T;x++){const C=f[x];x>0?(m+=C[0],b+=C[1]):(m=C[0],b=C[1]),C[0]=t(m),C[1]=i(b)}if(r&&s)for(let x=0,T=f.length;x<T;x++){const C=f[x];C[2]=r(C[2]),C[3]=s(C[3])}else if(r)for(let x=0,T=f.length;x<T;x++){const C=f[x];C[2]=r(C[2])}else if(s)for(let x=0,T=f.length;x<T;x++){const C=f[x];C[2]=s(C[2])}}:null}};g([S({type:String,json:{write:!0}})],_n.prototype,"displayFieldName",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_n.prototype,"exceededTransferLimit",void 0),g([S({type:[Dn],json:{write:!0}})],_n.prototype,"features",void 0),g([Pe("features")],_n.prototype,"readFeatures",null),g([S({type:[FC],json:{write:!0}})],_n.prototype,"fields",void 0),g([S({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:R7.read}}})],_n.prototype,"geometryType",void 0),g([De("geometryType")],_n.prototype,"writeGeometryType",null),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_n.prototype,"hasM",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_n.prototype,"hasZ",void 0),g([S({types:hp,json:{write:!0}})],_n.prototype,"queryGeometry",void 0),g([Pe("queryGeometry")],_n.prototype,"readQueryGeometry",null),g([S({type:Lt,json:{write:!0}})],_n.prototype,"spatialReference",void 0),g([De("spatialReference")],_n.prototype,"writeSpatialReference",null),g([S({json:{write:!0}})],_n.prototype,"transform",void 0),_n=F7=g([Q("esri.rest.support.FeatureSet")],_n),_n.prototype.toJSON.isDefaultToJSON=!0;const u9=_n;let jme=0,Mc=class extends Ma.LoadableMixin(g2(it)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var i;const t=(i=this.layer)==null?void 0:i.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,i={}){await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);dj(t,this.layer.spatialReference,r);const s=u9.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const c=this.layer.objectIdField;for(const f of s.features){const m=f.attributes[c],b=this._idToClientGraphic.get(m);b&&(f.geometry=b.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(t,i={}){if(this._requiresClientGraphicMapping())throw new me("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);return dj(t,this.layer.spatialReference,r),r}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(r=>({count:r.count,extent:rr.fromJSON(r.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async _applyEdits(t){if(!this._connection)throw new me("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let r=null;const s=[],c=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const f=T=>"objectId"in T&&T.objectId!=null?T.objectId:"attributes"in T&&T.attributes[i]!=null?T.attributes[i]:null;if(t.addFeatures&&(r=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const T of t.deleteFeatures){const C=f(T);C!=null&&s.push(C)}const m=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const T of t.updateFeatures)if(c.push(this._serializeFeature(T)),m){const C=f(T);C!=null&&m.set(C,T)}}Cme(r?r.features:null,c,this.layer.spatialReference);const{fullExtent:b,featureEditResults:x}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:c,deletes:s});return this.fullExtent=b,r&&r.finish(x.uidToObjectId),this._updateClientGraphicIds(m,x),this._createEditsResult(x)}async _prepareClientMapping(t,i){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const r=[];for(const{geometry:s}of t)s==null||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:i}));r.length&&await Promise.all(r)}_updateClientGraphicIds(t,i){if(this._idToClientGraphic){if(t)for(const r of i.updateResults){if(!r.success)continue;const s=t.get(r.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const r of i.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new me("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(t){const i=new Map,r=new Array(t.length);let s=null;for(let f=0;f<t.length;f++){const m=t[f],b=this._serializeFeature(m);s||m.geometry==null||(s=m.geometry.type),r[f]=b,i.set(`${b.uid}`,m)}const c=this;return{features:r,inferredGeometryType:s,finish(f){const m=c.sourceJSON.objectIdField;for(const b in f){const x=f[b],T=i.get(b);T&&(T.attributes||(T.attributes={}),x===-1?delete T.attributes[m]:T.attributes[m]=x,c._addIdToClientGraphic(T))}}}}_addIdToClientGraphic(t){var s;if(!this._idToClientGraphic)return;const i=this.sourceJSON.objectIdField,r=(s=t.attributes)==null?void 0:s[i];r!=null&&this._idToClientGraphic.set(r,t)}get _layerOrSourceGeometryType(){var t,i;return((t=this.layer)==null?void 0:t.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:i}=t,r=this._geometryForSerialization(t),s=(jme++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:i}:{uid:s,attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?wl.fromExtent(i.extent):null:i}async _startWorker(t){this._connection=await kme("MemorySourceWorker",{strategy:Ee("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:r,objectIdField:s,hasM:c,hasZ:f,timeInfo:m,dateFieldsTimeZone:b}=this.layer,x=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const T=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",D=>{ke.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),D.preventDefault()}));const C={features:T.features,fields:i==null?void 0:i.map(D=>D.toJSON()),geometryType:$R.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&c,hasZ:this._layerOrSourceGeometryType==="mesh"||f,objectIdField:s,spatialReference:x?null:r&&r.toJSON(),timeInfo:(m==null?void 0:m.toJSON())??null,dateFieldsTimeZone:b},L=await this._connection.invoke("load",C,{signal:t});for(const D of L.warnings)ke.getLogger(this.layer).warn("#load()",`${D.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:D});L.featureErrors.length&&ke.getLogger(this.layer).warn("#load()",`Encountered ${L.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:L.featureErrors});const N=L.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(T.inferredGeometryType)&&(N.geometryType=$R.toJSON(T.inferredGeometryType)),this.sourceJSON=N,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),T.finish(L.assignedObjectIds)}};g([h8({Type:Dn,ensureType:wr(Dn)})],Mc.prototype,"itemType",void 0),g([S()],Mc.prototype,"type",void 0),g([S({constructOnly:!0})],Mc.prototype,"layer",void 0),g([S({readOnly:!0})],Mc.prototype,"_workerGeometryType",null),g([S()],Mc.prototype,"sourceJSON",void 0),Mc=g([Q("esri.layers.graphics.sources.MemorySource")],Mc);function Dme(e){return"portalItem"in e}const Vme=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):Dme(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return g([S({type:String})],t.prototype,"apiKey",null),t=g([Q("esri.layers.mixins.APIKeyMixin")],t),t},iZ={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer"},rZ=Object.values(iZ),nZ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${rZ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),zme=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${rZ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Ume=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function MPe(e){return!!nZ.test(e)}function wu(e){if(e==null)return null;const t=Nr(e),i=(t==null?void 0:t.path.match(nZ))||(t==null?void 0:t.path.match(zme));if(!i)return null;const[,r,s,c,f]=i,m=s.indexOf("/");return{title:RC(m!==-1?s.slice(m+1):s),serverType:iZ[c.toLowerCase()],sublayer:f!=null&&f!==""?parseInt(f,10):null,url:{path:r}}}function Gme(e){const t=Nr(e).path.match(Ume);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function RC(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Wme(e,t){const i=[];if(e){const r=wu(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=RC(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function sZ(e){if(!e)return!1;const t=".arcgis.com/",i="//services",r="//tiles",s="//features",c=(e=e.toLowerCase()).includes(t),f=e.includes(i)||e.includes(r)||e.includes(s);return c&&f}function qme(e,t){return e&&l8(oG(e,t))}function Bme(e){let{url:t}=e;if(!t)return{url:t};t=oG(t,e.logger);const i=Nr(t),r=wu(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const c=Gme(i.path);c!=null&&(t=c.serviceUrl,s=c.sublayerId)}return{url:l8(t),layerId:s}}function Hme(e,t,i,r,s){m0(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=Ky(r.url,i,e.layerId.toString()))}function kPe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),c=t.includes("/wmsserver");return i&&(r||s||c)}function CPe(e){var r;if(!e)return!1;const t=new Nc(no(e)),i=(r=t.authority)==null?void 0:r.toLowerCase();return i==="server.arcgisonline.com"||i==="services.arcgisonline.com"}const Jme=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=wu(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",qme(i,ke.getLogger(this)))}};return g([S()],t.prototype,"title",null),g([S({type:String})],t.prototype,"url",null),t=g([Q("esri.layers.mixins.ArcGISService")],t),t};var APe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zme(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pj,fj,oZ={exports:{}};fj=function(){function e(s,c){function f(){this.constructor=s}f.prototype=c.prototype,s.prototype=new f}function t(s,c,f,m){var b=Error.call(this,s);return Object.setPrototypeOf&&Object.setPrototypeOf(b,t.prototype),b.expected=c,b.found=f,b.location=m,b.name="SyntaxError",b}function i(s,c,f){return f=f||" ",s.length>c?s:(c-=s.length,s+(f+=f.repeat(c)).slice(0,c))}function r(s,c){var f,m={},b=(c=c!==void 0?c:{}).grammarSource,x={start:Ji},T=Ji,C="none",L=")",N=",",D="(",G="%",q="px",J="cm",ne="mm",ue="in",ae="pt",pe="pc",ge="deg",Ae="rad",Ce="grad",qe="turn",Ge="#",Ue=".",et="e",nt=/^[ \t\n\r]/,Qe=/^[a-z\-]/,Tt=/^[0-9a-fA-F]/,ri=/^[+\-]/,yt=/^[0-9]/,Oe=Fe("none"),dt=Me("none",!1),rt=Me(")",!1),be=Me(",",!1),Le=Fe("whitespace"),Pt=Te([" ","	",`
`,"\r"],!1,!1),Dt=Fe("function"),Zt=Me("(",!1),ii=Fe("identifier"),wi=Te([["a","z"],"-"],!1,!1),ui=Fe("percentage"),Li=Me("%",!1),Cn=Fe("length"),sh=Me("px",!1),D0=Me("cm",!1),ju=Me("mm",!1),_p=Me("in",!1),V0=Me("pt",!1),z0=Me("pc",!1),nr=Fe("angle"),Y=Me("deg",!1),jr=Me("rad",!1),kl=Me("grad",!1),Vt=Me("turn",!1),ji=Fe("number"),Rs=Fe("color"),go=Me("#",!1),Ns=Te([["0","9"],["a","f"],["A","F"]],!1,!1),vo=Te(["+","-"],!1,!1),ds=Te([["0","9"]],!1,!1),Du=Me(".",!1),Bo=Me("e",!1),Ve=function(){return[]},js=function(se,Ie){return{type:"function",name:se,parameters:Ie||[]}},h=function(se,Ie){return Ie.length>0?G9(se,Ie,3):[se]},P=function(se){return{type:"quantity",value:se.value,unit:se.unit}},_=function(se){return{type:"color",colorType:se.type,value:se.value}},u=function(se){return se},a=function(){return _e()},n=function(se){return{value:se,unit:"%"}},o=function(se){return{value:se,unit:"px"}},l=function(se){return{value:se,unit:"cm"}},d=function(se){return{value:se,unit:"mm"}},p=function(se){return{value:se,unit:"in"}},y=function(se){return{value:se,unit:"pt"}},v=function(se){return{value:se,unit:"pc"}},$=function(se){return{value:se,unit:"deg"}},I=function(se){return{value:se,unit:"rad"}},k=function(se){return{value:se,unit:"grad"}},O=function(se){return{value:se,unit:"turn"}},F=function(se){return{value:se,unit:null}},j=function(){return{type:"hex",value:_e()}},z=function(se){return{type:"function",value:se}},B=function(){return{type:"named",value:_e()}},H=function(){return parseFloat(_e())},U=0,Z=0,re=[{line:1,column:1}],ie=0,ce=[],le=0;if("startRule"in c){if(!(c.startRule in x))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');T=x[c.startRule]}function _e(){return s.substring(Z,U)}function Me(se,Ie){return{type:"literal",text:se,ignoreCase:Ie}}function Te(se,Ie,Re){return{type:"class",parts:se,inverted:Ie,ignoreCase:Re}}function Ye(){return{type:"end"}}function Fe(se){return{type:"other",description:se}}function wt(se){var Ie,Re=re[se];if(Re)return Re;for(Ie=se-1;!re[Ie];)Ie--;for(Re={line:(Re=re[Ie]).line,column:Re.column};Ie<se;)s.charCodeAt(Ie)===10?(Re.line++,Re.column=1):Re.column++,Ie++;return re[se]=Re,Re}function gt(se,Ie,Re){var Ft=wt(se),$r=wt(Ie),Di={source:b,start:{offset:se,line:Ft.line,column:Ft.column},end:{offset:Ie,line:$r.line,column:$r.column}};return Di}function He(se){U<ie||(U>ie&&(ie=U,ce=[]),ce.push(se))}function ci(se,Ie,Re){return new t(t.buildMessage(se,Ie),se,Ie,Re)}function Ji(){var se;return(se=_i())===m&&(se=Kt()),se}function _i(){var se,Ie;return le++,se=U,Mt(),s.substr(U,4)===C?(Ie=C,U+=4):(Ie=m,le===0&&He(dt)),Ie!==m?(Mt(),Z=se,se=Ve()):(U=se,se=m),le--,se===m&&le===0&&He(Oe),se}function Kt(){var se,Ie;if(se=[],(Ie=vt())!==m)for(;Ie!==m;)se.push(Ie),Ie=vt();else se=m;return se}function vt(){var se,Ie,Re,Ft;return se=U,Mt(),(Ie=pn())!==m?(Mt(),(Re=Nt())===m&&(Re=null),Mt(),s.charCodeAt(U)===41?(Ft=L,U++):(Ft=m,le===0&&He(rt)),Ft!==m?(Mt(),Z=se,se=js(Ie,Re)):(U=se,se=m)):(U=se,se=m),se}function Nt(){var se,Ie,Re,Ft,$r,Di,Vn,Sp;if(se=U,(Ie=Si())!==m){for(Re=[],Ft=U,$r=Mt(),s.charCodeAt(U)===44?(Di=N,U++):(Di=m,le===0&&He(be)),Di===m&&(Di=null),Vn=Mt(),(Sp=Si())!==m?Ft=$r=[$r,Di,Vn,Sp]:(U=Ft,Ft=m);Ft!==m;)Re.push(Ft),Ft=U,$r=Mt(),s.charCodeAt(U)===44?(Di=N,U++):(Di=m,le===0&&He(be)),Di===m&&(Di=null),Vn=Mt(),(Sp=Si())!==m?Ft=$r=[$r,Di,Vn,Sp]:(U=Ft,Ft=m);Z=se,se=h(Ie,Re)}else U=se,se=m;return se}function Si(){var se,Ie;return se=U,(Ie=Dr())===m&&(Ie=Yt())===m&&(Ie=An())===m&&(Ie=oh()),Ie!==m&&(Z=se,Ie=P(Ie)),(se=Ie)===m&&(se=U,(Ie=fn())!==m&&(Z=se,Ie=_(Ie)),se=Ie),se}function Mt(){var se,Ie;for(le++,se=[],nt.test(s.charAt(U))?(Ie=s.charAt(U),U++):(Ie=m,le===0&&He(Pt));Ie!==m;)se.push(Ie),nt.test(s.charAt(U))?(Ie=s.charAt(U),U++):(Ie=m,le===0&&He(Pt));return le--,Ie=m,le===0&&He(Le),se}function pn(){var se,Ie,Re;return le++,se=U,(Ie=zt())!==m?(s.charCodeAt(U)===40?(Re=D,U++):(Re=m,le===0&&He(Zt)),Re!==m?(Z=se,se=u(Ie)):(U=se,se=m)):(U=se,se=m),le--,se===m&&(Ie=m,le===0&&He(Dt)),se}function zt(){var se,Ie,Re;if(le++,se=U,Ie=[],Qe.test(s.charAt(U))?(Re=s.charAt(U),U++):(Re=m,le===0&&He(wi)),Re!==m)for(;Re!==m;)Ie.push(Re),Qe.test(s.charAt(U))?(Re=s.charAt(U),U++):(Re=m,le===0&&He(wi));else Ie=m;return Ie!==m&&(Z=se,Ie=a()),le--,(se=Ie)===m&&(Ie=m,le===0&&He(ii)),se}function Dr(){var se,Ie,Re;return le++,se=U,Mt(),(Ie=yn())!==m?(s.charCodeAt(U)===37?(Re=G,U++):(Re=m,le===0&&He(Li)),Re!==m?(Z=se,se=n(Ie)):(U=se,se=m)):(U=se,se=m),le--,se===m&&le===0&&He(ui),se}function Yt(){var se,Ie,Re;return le++,se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===q?(Re=q,U+=2):(Re=m,le===0&&He(sh)),Re!==m?(Z=se,se=o(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===J?(Re=J,U+=2):(Re=m,le===0&&He(D0)),Re!==m?(Z=se,se=l(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===ne?(Re=ne,U+=2):(Re=m,le===0&&He(ju)),Re!==m?(Z=se,se=d(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===ue?(Re=ue,U+=2):(Re=m,le===0&&He(_p)),Re!==m?(Z=se,se=p(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===ae?(Re=ae,U+=2):(Re=m,le===0&&He(V0)),Re!==m?(Z=se,se=y(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,Mt(),(Ie=yn())!==m?(s.substr(U,2)===pe?(Re=pe,U+=2):(Re=m,le===0&&He(z0)),Re!==m?(Z=se,se=v(Ie)):(U=se,se=m)):(U=se,se=m)))))),le--,se===m&&le===0&&He(Cn),se}function An(){var se,Ie,Re;return le++,se=U,(Ie=yn())!==m?(s.substr(U,3)===ge?(Re=ge,U+=3):(Re=m,le===0&&He(Y)),Re!==m?(Z=se,se=$(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,(Ie=yn())!==m?(s.substr(U,3)===Ae?(Re=Ae,U+=3):(Re=m,le===0&&He(jr)),Re!==m?(Z=se,se=I(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,(Ie=yn())!==m?(s.substr(U,4)===Ce?(Re=Ce,U+=4):(Re=m,le===0&&He(kl)),Re!==m?(Z=se,se=k(Ie)):(U=se,se=m)):(U=se,se=m),se===m&&(se=U,(Ie=yn())!==m?(s.substr(U,4)===qe?(Re=qe,U+=4):(Re=m,le===0&&He(Vt)),Re!==m?(Z=se,se=O(Ie)):(U=se,se=m)):(U=se,se=m)))),le--,se===m&&(Ie=m,le===0&&He(nr)),se}function oh(){var se,Ie;return le++,se=U,Mt(),(Ie=yn())!==m?(Z=se,se=F(Ie)):(U=se,se=m),le--,se===m&&le===0&&He(ji),se}function fn(){var se,Ie,Re,Ft;if(le++,se=U,s.charCodeAt(U)===35?(Ie=Ge,U++):(Ie=m,le===0&&He(go)),Ie!==m){if(Re=[],Tt.test(s.charAt(U))?(Ft=s.charAt(U),U++):(Ft=m,le===0&&He(Ns)),Ft!==m)for(;Ft!==m;)Re.push(Ft),Tt.test(s.charAt(U))?(Ft=s.charAt(U),U++):(Ft=m,le===0&&He(Ns));else Re=m;Re!==m?(Z=se,se=j()):(U=se,se=m)}else U=se,se=m;return se===m&&(se=U,(Ie=vt())!==m&&(Z=se,Ie=z(Ie)),(se=Ie)===m&&(se=U,(Ie=zt())!==m&&(Z=se,Ie=B()),se=Ie)),le--,se===m&&(Ie=m,le===0&&He(Rs)),se}function yn(){var se,Ie,Re,Ft,$r,Di,Vn;for(se=U,ri.test(s.charAt(U))?(s.charAt(U),U++):le===0&&He(vo),Ie=U,Re=[],yt.test(s.charAt(U))?(Ft=s.charAt(U),U++):(Ft=m,le===0&&He(ds));Ft!==m;)Re.push(Ft),yt.test(s.charAt(U))?(Ft=s.charAt(U),U++):(Ft=m,le===0&&He(ds));if(s.charCodeAt(U)===46?(Ft=Ue,U++):(Ft=m,le===0&&He(Du)),Ft!==m){if($r=[],yt.test(s.charAt(U))?(Di=s.charAt(U),U++):(Di=m,le===0&&He(ds)),Di!==m)for(;Di!==m;)$r.push(Di),yt.test(s.charAt(U))?(Di=s.charAt(U),U++):(Di=m,le===0&&He(ds));else $r=m;$r!==m?Ie=Re=[Re,Ft,$r]:(U=Ie,Ie=m)}else U=Ie,Ie=m;if(Ie===m)if(Ie=[],yt.test(s.charAt(U))?(Re=s.charAt(U),U++):(Re=m,le===0&&He(ds)),Re!==m)for(;Re!==m;)Ie.push(Re),yt.test(s.charAt(U))?(Re=s.charAt(U),U++):(Re=m,le===0&&He(ds));else Ie=m;if(Ie!==m){if(Re=U,s.charCodeAt(U)===101?(Ft=et,U++):(Ft=m,le===0&&He(Bo)),Ft!==m){if(ri.test(s.charAt(U))?($r=s.charAt(U),U++):($r=m,le===0&&He(vo)),$r===m&&($r=null),Di=[],yt.test(s.charAt(U))?(Vn=s.charAt(U),U++):(Vn=m,le===0&&He(ds)),Vn!==m)for(;Vn!==m;)Di.push(Vn),yt.test(s.charAt(U))?(Vn=s.charAt(U),U++):(Vn=m,le===0&&He(ds));else Di=m;Di!==m?Re=Ft=[Ft,$r,Di]:(U=Re,Re=m)}else U=Re,Re=m;Re===m&&(Re=null),Z=se,se=H()}else U=se,se=m;return se}function U9(se,Ie){return se.map(function(Re){return Re[Ie]})}function G9(se,Ie,Re){return[se].concat(U9(Ie,Re))}if((f=T())!==m&&U===s.length)return f;throw f!==m&&U<s.length&&He(Ye()),ci(ce,ie<s.length?s.charAt(ie):null,ie<s.length?gt(ie,ie+1):gt(ie,ie))}return e(t,Error),t.prototype.format=function(s){var c="Error: "+this.message;if(this.location){var f,m=null;for(f=0;f<s.length;f++)if(s[f].source===this.location.source){m=s[f].text.split(/\r\n|\n|\r/g);break}var b=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(b):b,T=this.location.source+":"+x.line+":"+x.column;if(m){var C=this.location.end,L=i("",x.line.toString().length," "),N=m[b.line-1],D=(b.line===C.line?C.column:N.length+1)-b.column||1;c+=`
 --> `+T+`
`+L+` |
`+x.line+" | "+N+`
`+L+" | "+i("",b.column-1," ")+i("",D,"^")}else c+=`
 at `+T}return c},t.buildMessage=function(s,c){var f={literal:function(N){return'"'+b(N.text)+'"'},class:function(N){var D=N.parts.map(function(G){return Array.isArray(G)?x(G[0])+"-"+x(G[1]):x(G)});return"["+(N.inverted?"^":"")+D.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(N){return N.description}};function m(N){return N.charCodeAt(0).toString(16).toUpperCase()}function b(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+m(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+m(D)})}function x(N){return N.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+m(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+m(D)})}function T(N){return f[N.type](N)}function C(N){var D,G,q=N.map(T);if(q.sort(),q.length>0){for(D=1,G=1;D<q.length;D++)q[D-1]!==q[D]&&(q[G]=q[D],G++);q.length=G}switch(q.length){case 1:return q[0];case 2:return q[0]+" or "+q[1];default:return q.slice(0,-1).join(", ")+", or "+q[q.length-1]}}function L(N){return N?'"'+b(N)+'"':"end of input"}return"Expected "+C(s)+" but "+L(c)+" found."},{SyntaxError:t,parse:r}},(pj=oZ).exports&&(pj.exports=fj());var Kme=oZ.exports;function aZ(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=yj(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new me("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:yj(i.value)}});t.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!que(t[i].effects,t[i+1].effects))throw new me("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});Bue(t[i].effects,t[i+1].effects)}return t.sort((i,r)=>r.scale-i.scale),t}function yj(e){let t;if(!e)return[];try{t=Kme.parse(e)}catch(i){throw new me("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>Yme(i))}function Yme(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Qme(e);case"opacity":return Xme(e);case"hue-rotate":return ege(e);case"blur":return tge(e);case"drop-shadow":return ige(e);case"bloom":return rge(e)}}catch(t){throw t.details.filter=e,t}throw new me("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function Qme(e){let t=1;return Vm(e.parameters,1),e.parameters.length===1&&(t=dl(e.parameters[0])),new sT(e.name,t)}function Xme(e){let t=1;return Vm(e.parameters,1),e.parameters.length===1&&(t=dl(e.parameters[0])),new kW(t)}function ege(e){let t=0;return Vm(e.parameters,1),e.parameters.length===1&&(t=uge(e.parameters[0])),new IW(t)}function tge(e){let t=0;return Vm(e.parameters,1),e.parameters.length===1&&(t=DC(e.parameters[0]),j2(t,e.parameters[0])),new SW(t)}function ige(e){const t=[];let i=null;for(const r of e.parameters)if(r.type==="color"){if(t.length&&Object.freeze(t),i)throw new me("effect:type-error","Accepts only one color",{});i=cge(r)}else{const s=DC(r);if(Object.isFrozen(t))throw new me("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(s),t.length===3&&j2(s,r)}if(t.length<2||t.length>3)throw new me("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new EW(t[0],t[1],t[2]||0,i||lZ("black"))}function rge(e){let t=1,i=0,r=0;return Vm(e.parameters,3),e.parameters[0]&&(t=dl(e.parameters[0])),e.parameters[1]&&(i=DC(e.parameters[1]),j2(i,e.parameters[1])),e.parameters[2]&&(r=dl(e.parameters[2])),new wW(t,i,r)}function Vm(e,t){if(e.length>t)throw new me("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function c9(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in jC)return"<length>";if(e.unit in NC)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function j2(e,t){if(e<0)throw new me("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function nge(e){if(e.type!=="quantity"||e.unit!==null)throw new me("effect:type-error",`Expected <double>, Actual: ${c9(e)}`,{term:e})}function sge(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new me("effect:type-error",`Expected <double> or <percentage>, Actual: ${c9(e)}`,{term:e})}const NC={deg:1,grad:.9,rad:180/Math.PI,turn:360};function oge(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&NC[e.unit]!=null))throw new me("effect:type-error",`Expected <angle>, Actual: ${c9(e)}`,{term:e})}const jC={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function age(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&jC[e.unit]!=null))throw new me("effect:type-error",`Expected <length>, Actual: ${c9(e)}`,{term:e})}function dl(e){sge(e);const t=e.value;return j2(t,e),e.unit==="%"?.01*t:t}function lge(e){return nge(e),j2(e.value,e),e.value}function uge(e){return oge(e),e.value*NC[e.unit]||0}function DC(e){return age(e),e.value*jC[e.unit]||0}function cge(e){switch(e.colorType){case"hex":return tle(e.value);case"named":return lZ(e.value);case"function":return pge(e.value)}}function lZ(e){if(!YG(e))throw new me("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return ele(e)}const hge=/^rgba?/i,dge=/^hsla?/i;function pge(e){if(Vm(e.parameters,4),hge.test(e.name))return[dl(e.parameters[0]),dl(e.parameters[1]),dl(e.parameters[2]),e.parameters[3]?dl(e.parameters[3]):1];if(dge.test(e.name))return QG(lge(e.parameters[0]),dl(e.parameters[1]),dl(e.parameters[2]),e.parameters[3]?dl(e.parameters[3]):1);throw new me("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function VC(e,t,i){var r;try{return yge(e)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function zC(e,t,i,r){try{const s=fge(e);un(i,s,t)}catch(s){r.messages&&r.messages.push(s)}}function fge(e){const t=aZ(e);return t?Hue(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function yge(e){if(!e||e.length===0)return null;if(mge(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:N7(i.value)});return t}return N7(e)}function mge(e){const t=e[0];return!!t&&"scale"in t}function N7(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[Zu(i,"amount")];break;case"blur":r=[Zu(i,"radius","pt")];break;case"hue-rotate":r=[Zu(i,"angle","deg")];break;case"drop-shadow":r=[Zu(i,"xoffset","pt"),Zu(i,"yoffset","pt"),Zu(i,"blurRadius","pt"),gge(i,"color")];break;case"bloom":r=[Zu(i,"strength"),Zu(i,"radius","pt"),Zu(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;aZ(s),t.push(s)}return t.join(" ")}function Zu(e,t,i){if(e[t]==null)throw new me("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function gge(e,t){if(e[t]==null)throw new me("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const mj={read:{reader:VC},write:{allowNull:!0,writer:zC}},uZ=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return g([S({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),g([S({json:{read:!1,write:!1,origins:{"web-map":mj,"portal-item":mj}}})],t.prototype,"effect",void 0),t=g([Q("esri.layers.mixins.BlendLayer")],t),t},vge=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return g([S({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=g([Q("esri.layers.mixins.CustomParametersMixin")],t),t},bge="randomUUID"in crypto;function UC(){if(bge)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function gj(){return`{${UC().toUpperCase()}}`}function wge(){return`{${UC()}}`}const ul=wge(),P4=new Map,Ar=new Map,C3=new Map;async function OPe(e,t,i){if(!e||!i)return!1;if(!t)return!0;const r=new URL(e).host;let s=P4.get(r);if(!s){const c=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await Ut(c,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function LPe(e,t,i=!1){var c,f;if(!e||!t)return!0;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(c=Ar.get(r))==null?void 0:c.entries();if(s){for(const[m,b]of s)if(b.name===t){const x=!((f=b.stack)!=null&&f.hasForwardEdits());if(!x&&i){const[{deleteForwardEdits:T},{default:C}]=await Promise.all([te(()=>import("./deleteForwardEdits-D3ptK-o6.js"),[]),te(()=>import("./DeleteForwardEditsParameters-Bh9SH8-o.js"),[])]);return T(r,m,new C({sessionId:ul,moment:b.moment}))}return x}}return!0}function S_(e,t){var s;if(!e)return!1;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=(s=Ar.get(i))==null?void 0:s.entries();if(r){for(const[c,f]of r)if(f.name===t)return f.lockType==="edit"}return!1}const h9=new Ps.EventEmitter;function GC(e){return h9.on("apply-edits",new WeakRef(e))}function cZ(e){return h9.on("update-moment",new WeakRef(e))}function vj(e,t,i=null,r=!1){const s=Sa();return r=t==null||r,h9.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:i,mayReceiveServiceEdits:r,result:s.promise}),s}function d1(e,t,i=null,r){h9.emit("update-moment",{serviceUrl:e,layerId:t,gdbVersion:i,moment:r})}const hZ="esri.layers.mixins.EditBusLayer",dZ=Symbol(hZ);function PPe(e){return e!=null&&typeof e=="object"&&dZ in e}function Gg(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function wb(e,t,i){const r=new URL(e).host,s=P4.get(r),c=f=>!f||f===s;return c(t)&&c(i)||t===i}const _ge=e=>{var t;let i=class extends e{constructor(...r){super(...r),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:c,layerId:f,gdbVersion:m,mayReceiveServiceEdits:b,result:x}=s,T=c===this.url,C=f!=null&&this.layerId!=null&&f===this.layerId,L=Gg(this),N=Gg(this)&&wb(c,m,this.gdbVersion);if(!T||L&&!N||!C&&!b)return;const D=x.then(G=>{var J;if(C&&(G.addedFeatures.length||G.updatedFeatures.length||G.deletedFeatures.length||G.addedAttachments.length||G.updatedAttachments.length||G.deletedAttachments.length))return this.emit("edits",ye(G)),G;const q=(J=G.editedFeatures)==null?void 0:J.find(({layerId:ne})=>ne===this.layerId);if(q){const{adds:ne,updates:ue,deletes:ae}=q.editedFeatures,pe={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:ne?ne.map(({attributes:ge})=>({objectId:this.objectIdField&&ge[this.objectIdField],globalId:this.globalIdField&&ge[this.globalIdField]})):[],deletedFeatures:ae?ae.map(({attributes:ge})=>({objectId:this.objectIdField&&ge[this.objectIdField],globalId:this.globalIdField&&ge[this.globalIdField]})):[],updatedFeatures:ue?ue.map(({current:{attributes:ge}})=>({objectId:this.objectIdField&&ge[this.objectIdField],globalId:this.globalIdField&&ge[this.globalIdField]})):[],editedFeatures:ye(G.editedFeatures),exceededTransferLimit:!1,historicMoment:ye(G.historicMoment)};return this.emit("edits",pe),pe}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:ye(G.editedFeatures),exceededTransferLimit:!1,historicMoment:ye(G.historicMoment)}}).then(G=>("historicMoment"in this&&this.historicMoment!==G.historicMoment&&S_(c,m)&&(this.historicMoment=G.historicMoment),G));this.emit("apply-edits",{result:D})},this._updateMomentHandler=s=>{const{serviceUrl:c,gdbVersion:f,moment:m}=s,b=c===this.url,x=Gg(this),T=Gg(this)&&wb(c,f,this.gdbVersion),C=Gg(this)&&!wb(c,this.gdbVersion,null);b&&x&&T&&C&&"historicMoment"in this&&this.historicMoment!==m&&(this.historicMoment=m)},this.when().then(()=>{this.addHandles(GC(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(cZ(this._updateMomentHandler))},()=>{})}};return t=dZ,i=g([Q(hZ)],i),i},bj={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function r0(e,t,i,r=ku){const s=new ho(X8(r)),c=Xe.fromJSDate(e,{zone:s}),f=i==="decades"||i==="centuries"?"year":pZ(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),c.plus({[f]:t}).toJSDate()}function FPe(e,t,i="milliseconds"){const r=e.getTime(),s=Hf(t,i,"milliseconds");return new Date(r+s)}function wj(e,t,i=ku){const r=new ho(X8(i)),s=Xe.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const f=s.startOf("year"),{year:m}=f,b=m-m%(t==="decades"?10:100);return f.set({year:b}).toJSDate()}const c=pZ(t);return s.startOf(c).toJSDate()}function RPe(e,t,i="milliseconds"){const r=new Date(Hf(t,i,"milliseconds"));return r.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r}function NPe(e,t="milliseconds"){const i=Hf(e.getUTCHours(),"hours","milliseconds"),r=Hf(e.getUTCMinutes(),"minutes","milliseconds"),s=Hf(e.getUTCSeconds(),"seconds","milliseconds");return Hf(i+r+s+e.getUTCMilliseconds(),"milliseconds",t)}function jPe(e,t){const i=new Date(e.getTime());return i.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),i}function DPe(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function Hf(e,t,i){return e===0?0:e*bj[t]/bj[i]}function VPe(e){return e instanceof Date&&!isNaN(e.getTime())}function Sge(e,t){return e&&t?e.intersection(t):e||t}function pZ(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Qa;let Po=Qa=class extends $e{static get allTime(){return _j}static get empty(){return $ge}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Qa.allTime)}get isEmpty(){return this.equals(Qa.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new Qa({end:this.end,start:this.start})}equals(e){var c,f,m,b;if(!e)return!1;const t=((c=this.start)==null?void 0:c.getTime())??this.start,i=((f=this.end)==null?void 0:f.getTime())??this.end,r=((m=e.start)==null?void 0:m.getTime())??e.start,s=((b=e.end)==null?void 0:b.getTime())??e.end;return t===r&&i===s}expandTo(e,t=ku){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=wj(i,e,t));let r=this.end;if(r){const s=wj(r,e,t);r=r.getTime()===s.getTime()?s:r0(s,1,e,t)}return new Qa({start:i,end:r})}intersection(e){var m,b,x,T;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Qa.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((m=this.start)==null?void 0:m.getTime())??-1/0,i=((b=this.end)==null?void 0:b.getTime())??1/0,r=((x=e.start)==null?void 0:x.getTime())??-1/0,s=((T=e.end)==null?void 0:T.getTime())??1/0;let c,f;if(r>=t&&r<=i?c=r:t>=r&&t<=s&&(c=t),i>=r&&i<=s?f=i:s>=t&&s<=i&&(f=s),c!=null&&f!=null&&!isNaN(c)&&!isNaN(f)){const C=new Qa;return C.start=c===-1/0?null:new Date(c),C.end=f===1/0?null:new Date(f),C}return Qa.empty}offset(e,t,i=ku){if(this.isEmpty||this.isAllTime)return this.clone();const r=new Qa,{start:s,end:c}=this;return s!=null&&(r.start=r0(s,e,t,i)),c!=null&&(r.end=r0(c,e,t,i)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return _j.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Qa({start:t,end:i})}};g([S({type:Date,json:{write:{allowNull:!0}}})],Po.prototype,"end",void 0),g([Pe("end")],Po.prototype,"readEnd",null),g([De("end")],Po.prototype,"writeEnd",null),g([S({readOnly:!0,json:{read:!1}})],Po.prototype,"isAllTime",null),g([S({readOnly:!0,json:{read:!1}})],Po.prototype,"isEmpty",null),g([S({type:Date,json:{write:{allowNull:!0}}})],Po.prototype,"start",void 0),g([Pe("start")],Po.prototype,"readStart",null),g([De("start")],Po.prototype,"writeStart",null),Po=Qa=g([Q("esri.TimeExtent")],Po);const _j=new Po,$ge=new Po({start:void 0,end:void 0}),Fr=Po;var j7;let U1=j7=class extends $e{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new j7({mapLayerId:e,gdbVersion:t})}};g([at({mapLayer:"map-layer"})],U1.prototype,"type",void 0),g([S({type:Oi,json:{write:!0}})],U1.prototype,"mapLayerId",void 0),g([S({type:String,json:{write:!0}})],U1.prototype,"gdbVersion",void 0),U1=j7=g([Q("esri.layers.support.source.MapLayerSource")],U1);var D7;let ac=D7=class extends $e{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:s}=this,c={workspaceId:e,query:t,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new D7(c)}};g([at({queryTable:"query-table"})],ac.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],ac.prototype,"workspaceId",void 0),g([S({type:String,json:{write:!0}})],ac.prototype,"query",void 0),g([S({type:String,json:{write:!0}})],ac.prototype,"oidFields",void 0),g([S({type:Lt,json:{write:!0}})],ac.prototype,"spatialReference",void 0),g([at(kce)],ac.prototype,"geometryType",void 0),ac=D7=g([Q("esri.layers.support.source.QueryTableDataSource")],ac);var V7;let G1=V7=class extends $e{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new V7({workspaceId:e,dataSourceName:t})}};g([at({raster:"raster"})],G1.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],G1.prototype,"dataSourceName",void 0),g([S({type:String,json:{write:!0}})],G1.prototype,"workspaceId",void 0),G1=V7=g([Q("esri.layers.support.source.RasterDataSource")],G1);var z7;let vf=z7=class extends $e{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new z7({workspaceId:e,gdbVersion:t,dataSourceName:i})}};g([at({table:"table"})],vf.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],vf.prototype,"workspaceId",void 0),g([S({type:String,json:{write:!0}})],vf.prototype,"gdbVersion",void 0),g([S({type:String,json:{write:!0}})],vf.prototype,"dataSourceName",void 0),vf=z7=g([Q("esri.layers.support.source.TableDataSource")],vf);var U7,G7;const xge=kn()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Mo=U7=class extends $e{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return Sj()(e,t,i)}castLeftTableSource(e){return $u(W7(),e)}readRightTableSource(e,t,i){return Sj()(e,t,i)}castRightTableSource(e){return $u(W7(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:s}=this,c={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new U7(c)}};g([at({joinTable:"join-table"})],Mo.prototype,"type",void 0),g([S({type:String,json:{write:!0}})],Mo.prototype,"leftTableKey",void 0),g([S({type:String,json:{write:!0}})],Mo.prototype,"rightTableKey",void 0),g([S({json:{write:!0}})],Mo.prototype,"leftTableSource",void 0),g([Pe("leftTableSource")],Mo.prototype,"readLeftTableSource",null),g([bi("leftTableSource")],Mo.prototype,"castLeftTableSource",null),g([S({json:{write:!0}})],Mo.prototype,"rightTableSource",void 0),g([Pe("rightTableSource")],Mo.prototype,"readRightTableSource",null),g([bi("rightTableSource")],Mo.prototype,"castRightTableSource",null),g([at(xge)],Mo.prototype,"joinType",void 0),Mo=U7=g([Q("esri.layers.support.source.JoinTableDataSource")],Mo);let fx=null;function Sj(){return fx||(fx=Em({types:W7()})),fx}let yx=null;function W7(){return yx||(yx={key:"type",base:null,typeMap:{"data-layer":pl,"map-layer":U1}}),yx}const Ege={key:"type",base:null,typeMap:{"join-table":Mo,"query-table":ac,raster:G1,table:vf}};let pl=G7=class extends $e{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new G7({fields:e,dataSource:t})}};g([at({dataLayer:"data-layer"})],pl.prototype,"type",void 0),g([S({type:[FC],json:{write:!0}})],pl.prototype,"fields",void 0),g([S({types:Ege,json:{write:!0}})],pl.prototype,"dataSource",void 0),pl=G7=g([Q("esri.layers.support.source.DataLayerSource")],pl),pl.from=wr(pl);let bf=class extends ti($e){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};g([S({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],bf.prototype,"onFields",void 0),g([S({type:String,json:{write:!0}})],bf.prototype,"operator",void 0),g([S({type:String,json:{write:!0}})],bf.prototype,"searchTerm",void 0),g([S({type:String,json:{write:!0}})],bf.prototype,"searchType",void 0),bf=g([Q("esri.rest.support.FullTextSearch")],bf);const Tge=bf;var q7;const $j=new At({upperLeft:"upper-left",lowerLeft:"lower-left"});let wf=q7=class extends $e{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new q7(ye({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};g([S({type:rr,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],wf.prototype,"extent",void 0),g([S({type:["view","edit"],json:{write:!0}})],wf.prototype,"mode",void 0),g([S({type:String,json:{read:$j.read,write:$j.write}})],wf.prototype,"originPosition",void 0),g([S({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],wf.prototype,"tolerance",void 0),wf=q7=g([Q("esri.rest.support.QuantizationParameters")],wf);const Ige=wf,Mge=new At({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var B7;const xj=new At({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Xa=B7=class extends $e{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=ye(e))}clone(){return new B7({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:ye(this.statisticParameters)})}};g([S({type:Number,json:{write:!0}})],Xa.prototype,"maxPointCount",void 0),g([S({type:Number,json:{write:!0}})],Xa.prototype,"maxRecordCount",void 0),g([S({type:Number,json:{write:!0}})],Xa.prototype,"maxVertexCount",void 0),g([S({type:String,json:{write:!0}})],Xa.prototype,"onStatisticField",void 0),g([S({type:String,json:{write:!0}})],Xa.prototype,"outStatisticFieldName",void 0),g([S({type:String,json:{read:{source:"statisticType",reader:xj.read},write:{target:"statisticType",writer:xj.write}}})],Xa.prototype,"statisticType",void 0),g([S({type:Object})],Xa.prototype,"statisticParameters",void 0),g([De("statisticParameters")],Xa.prototype,"writeStatisticParameters",null),Xa=B7=g([Q("esri.rest.support.StatisticDefinition")],Xa);const kge=Xa;var $_;const Cge=new At({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let bt=$_=class extends $e{static from(e){return Zk($_,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const r in e){const s=e[r];Array.isArray(s)?i[r]=s.map(c=>c instanceof Date?c.getTime():c):s instanceof Date?i[r]=s.getTime():i[r]=s}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new $_(ye({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};bt.MAX_MAX_RECORD_COUNT_FACTOR=5,g([S({json:{write:!0}})],bt.prototype,"aggregateIds",void 0),g([S({type:Boolean,json:{write:!0}})],bt.prototype,"cacheHint",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"compactGeometryEnabled",void 0),g([S({json:{write:!0}})],bt.prototype,"datumTransformation",void 0),g([bi("datumTransformation")],bt.prototype,"castDatumTransformation",null),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"defaultSpatialReferenceEnabled",void 0),g([S({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],bt.prototype,"distance",void 0),g([S({type:pl,json:{write:!0}})],bt.prototype,"dynamicDataSource",void 0),g([S({type:String,json:{write:!0}})],bt.prototype,"formatOf3DObjects",void 0),g([S({type:[Tge],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],bt.prototype,"fullText",void 0),g([S({type:String,json:{write:!0}})],bt.prototype,"gdbVersion",void 0),g([S({types:hp,json:{read:Jc,write:!0}})],bt.prototype,"geometry",void 0),g([S({type:Number,json:{write:!0}})],bt.prototype,"geometryPrecision",void 0),g([S({type:[String],json:{write:!0}})],bt.prototype,"groupByFieldsForStatistics",void 0),g([S({type:String,json:{write:!0}})],bt.prototype,"having",void 0),g([S({type:Date})],bt.prototype,"historicMoment",void 0),g([De("historicMoment")],bt.prototype,"writeHistoricMoment",null),g([S({type:Number,json:{write:!0}})],bt.prototype,"maxAllowableOffset",void 0),g([S({type:Number,cast:e=>e<1?1:e>bt.MAX_MAX_RECORD_COUNT_FACTOR?bt.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],bt.prototype,"maxRecordCountFactor",void 0),g([S({type:["xyFootprint"],json:{write:!0}})],bt.prototype,"multipatchOption",void 0),g([S({type:Number,json:{read:{source:"resultRecordCount"}}})],bt.prototype,"num",void 0),g([S({json:{write:!0}})],bt.prototype,"objectIds",void 0),g([S({type:[String],json:{write:!0}})],bt.prototype,"orderByFields",void 0),g([S({type:[String],json:{write:!0}})],bt.prototype,"outFields",void 0),g([S({type:Lt,json:{name:"outSR",write:!0}})],bt.prototype,"outSpatialReference",void 0),g([S({type:[kge],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],bt.prototype,"outStatistics",void 0),g([S({json:{write:!0}})],bt.prototype,"parameterValues",void 0),g([De("parameterValues")],bt.prototype,"writeParameterValues",null),g([S({type:Hi,json:{write:!0}})],bt.prototype,"pixelSize",void 0),g([S({type:Ige,json:{write:!0}})],bt.prototype,"quantizationParameters",void 0),g([S({type:[Object],json:{write:!0}})],bt.prototype,"rangeValues",void 0),g([S({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],bt.prototype,"relationParameter",void 0),g([S({type:String,json:{write:!0}})],bt.prototype,"resultType",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"returnCentroid",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"returnDistinctValues",void 0),g([S({type:Boolean,json:{default:!0,write:!0}})],bt.prototype,"returnExceededLimitFeatures",void 0),g([S({type:Boolean,json:{write:!0}})],bt.prototype,"returnGeometry",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"returnQueryGeometry",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"returnM",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bt.prototype,"returnZ",void 0),g([S({type:Lt,json:{write:!0}})],bt.prototype,"sourceSpatialReference",void 0),g([at(Mge,{ignoreUnknown:!1,name:"spatialRel"})],bt.prototype,"spatialRelationship",void 0),g([S({type:Number,json:{read:{source:"resultOffset"}}})],bt.prototype,"start",void 0),g([De("start"),De("num")],bt.prototype,"writeStart",null),g([S({type:String,json:{write:!0}})],bt.prototype,"sqlFormat",void 0),g([S({type:String,json:{write:!0}})],bt.prototype,"text",void 0),g([S({type:Fr,json:{write:!0}})],bt.prototype,"timeExtent",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],bt.prototype,"timeReferenceUnknownClient",void 0),g([at(Cge,{ignoreUnknown:!1}),S({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],bt.prototype,"units",void 0),g([S({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],bt.prototype,"where",void 0),g([De("where")],bt.prototype,"writeWhere",null),bt=$_=g([Q("esri.rest.support.Query")],bt);const ih=bt;var H7;const mx=new At({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),gx=new At({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Hl=H7=class extends $e{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:c,units:f,distance:m}=this;return new ih({geometry:ye(i),objectIds:ye(c),spatialRelationship:r,timeExtent:ye(s),where:t,units:f,distance:m,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:s,units:c,distance:f}=this;return new H7({geometry:ye(t),objectIds:ye(s),spatialRelationship:i,timeExtent:ye(r),where:e,units:c,distance:f})}};g([S({type:String,json:{write:!0}})],Hl.prototype,"where",void 0),g([S({types:hp,json:{write:!0}})],Hl.prototype,"geometry",void 0),g([S({type:mx.apiValues,json:{name:"spatialRel",read:{reader:mx.read},write:{allowNull:!1,writer:mx.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Hl.prototype,"spatialRelationship",void 0),g([S({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Hl.prototype,"distance",void 0),g([S({type:[Number],json:{write:!0}})],Hl.prototype,"objectIds",void 0),g([S({type:gx.apiValues,json:{read:gx.read,write:{writer:gx.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Hl.prototype,"units",void 0),g([S({type:Fr,json:{write:!0}})],Hl.prototype,"timeExtent",void 0),Hl=H7=g([Q("esri.layers.support.FeatureFilter")],Hl);const _b=Hl;var J7;const Ej={read:{reader:VC},write:{writer:zC,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},Tj={read:{reader:VC},write:{writer:zC,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},Ij={name:"showExcludedLabels",default:!0};let _f=J7=class extends $e{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var r,s;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const c=Object.keys(i.filter);if(c.length>1||c[0]!=="where")return(r=t.messages)==null||r.push(new me("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=t.messages)==null||s.push(new me("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new J7({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};g([S({type:_b,json:{write:{allowNull:!0,writer(e,t,i,r){const s=e==null?void 0:e.write({},r);s&&Object.keys(s).length!==0?un(i,s,t):un(i,null,t)}}}})],_f.prototype,"filter",void 0),g([S({json:{write:!0,origins:{"web-map":Ej,"portal-item":Ej}}})],_f.prototype,"includedEffect",void 0),g([S({json:{write:!0,origins:{"web-map":Tj,"portal-item":Tj}}})],_f.prototype,"excludedEffect",void 0),g([S({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":Ij,"portal-item":Ij}}})],_f.prototype,"excludedLabelsVisible",void 0),_f=J7=g([Q("esri.layers.support.FeatureEffect")],_f);const Age=_f,Mj={write:{allowNull:!0}},Oge=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return g([S({type:Age,json:{origins:{"web-map":Mj,"portal-item":Mj}}})],t.prototype,"featureEffect",void 0),t=g([Q("esri.layers.mixins.FeatureEffectLayer")],t),t};var Nv;const F4=kn()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),fZ=F4.jsonValues.slice();tre(fZ,"orthometric");const Sb=kn()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let el=Nv=class extends $e{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return F4.write(e,t,i)}readHeightModel(e,t,i){return F4.read(e)||(i!=null&&i.messages&&i.messages.push(Lge(e,{context:i})),null)}readHeightUnit(e,t,i){return Sb.read(e)||(i!=null&&i.messages&&i.messages.push(kj(e,{context:i})),null)}readHeightUnitService(e,t,i){return LG(e)||Sb.read(e)||(i!=null&&i.messages&&i.messages.push(kj(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Nv({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=PG(t);return new Nv({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Nv;return t.read(e,{origin:"web-scene"}),t}};function kj(e,t){return new xu("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function Lge(e,t){return new xu("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}g([S({type:F4.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:fZ,default:"ellipsoidal"}}}})],el.prototype,"heightModel",void 0),g([De("web-scene","heightModel")],el.prototype,"writeHeightModel",null),g([Pe(["web-scene","service"],"heightModel")],el.prototype,"readHeightModel",null),g([S({type:Sb.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Sb.jsonValues,write:Sb.write}}}})],el.prototype,"heightUnit",void 0),g([Pe("web-scene","heightUnit")],el.prototype,"readHeightUnit",null),g([Pe("service","heightUnit")],el.prototype,"readHeightUnitService",null),g([S({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],el.prototype,"vertCRS",void 0),g([Pe("service","vertCRS",["vertCRS","ellipsoid","geoid"])],el.prototype,"readVertCRS",null),el=Nv=g([Q("esri.geometry.HeightModelInfo")],el);const Pge=el;function yZ(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}function Fge(e){return e.timeInfo!==void 0}async function Rge(e,t){var r;const{fullTimeExtent:i}=((r=e.widgets)==null?void 0:r.timeSlider)??{};return i||mZ(e.allLayers,t)}function Nge(e){const t=e.numThumbs??2,i=e.currentTimeExtent;if(i){const{start:r,end:s}=i;return r!=null&&s!=null&&r.getTime()===s.getTime()?"instant":t===2?"time-window":r==null||r.getTime()===0?"cumulative-from-start":"cumulative-from-end"}return t===2?"time-window":"cumulative-from-start"}function jge(e){const{numStops:t,stopInterval:i,stops:r}=e;return r?{dates:ye(r)}:i?{interval:i.clone()}:{count:t??5}}async function mZ(e,t){var x;if(e.length===0)return Fr.allTime;const i=e.filter(Fge);await Promise.all(i.map(T=>T.load({signal:t})));const r=[],s=[];for(const T of i)(T==null?void 0:T.type)!=="feature"&&(T==null?void 0:T.type)!=="map-image"||!((x=T.timeInfo)!=null&&x.hasLiveData)?s.push(T):r.push(T);const c=T=>T==null||T.isAllTime,f=s.map(T=>{var C;return(C=T.timeInfo)==null?void 0:C.fullTimeExtent});if(f.some(c))return Fr.allTime;const m=r.map(async T=>{var L;const{timeExtent:C}=await T.fetchRecomputedExtents({signal:t});return C||((L=T.timeInfo)==null?void 0:L.fullTimeExtent)}),b=(await Promise.allSettled(m)).map(T=>T.status==="fulfilled"?T.value:null);return b.some(c)?Fr.allTime:[...b,...f].filter(Yr).reduce((T,C)=>T.union(C))}function Dge(e,t){const i=e.currentTimeExtent;if(!i)return null;const{start:r,end:s}=i,c=r??s??null;switch(t){case"time-window":return new Fr({start:r,end:s});case"cumulative-from-start":return new Fr({start:null,end:c});case"cumulative-from-end":return new Fr({start:c,end:null});case"instant":return new Fr({start:c,end:c})}}async function Vge(e,t){var f;if(e==null||!yZ(e))return null;await e.load({signal:t});const i=(f=e==null?void 0:e.widgets)==null?void 0:f.timeSlider;if(!i)return null;const r=await Rge(e,t),s=i.loop,c=Nge(i);return{fullTimeExtent:r,loop:s,mode:c,playRate:i.stopDelay??2e3,stops:jge(i),timeExtent:Dge(i,c)}}function gZ(e){if(!e)return e;const{start:t,end:i}=e;return new Fr({start:t!=null?r0(t,-t.getTimezoneOffset(),"minutes"):t,end:i!=null?r0(i,-i.getTimezoneOffset(),"minutes"):i})}function vZ(e){if(!e)return e;const{start:t,end:i}=e;return new Fr({start:t!=null?r0(t,t.getTimezoneOffset(),"minutes"):t,end:i!=null?r0(i,i.getTimezoneOffset(),"minutes"):i})}const UPe=Object.freeze(Object.defineProperty({__proto__:null,getTimeExtentFromLayers:mZ,getTimeSliderSettingsFromWebMap:Vge,toLocalTimeExtent:vZ,toUTCTimeExtent:gZ},Symbol.toStringTag,{value:"Module"}));var Z7;let jv=Z7=class extends $e{constructor(e){super(e)}async collectRequiredFields(e,t){return Ls(e,t,this.expression)}clone(){return new Z7({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};g([S({type:String,json:{write:!0}})],jv.prototype,"expression",void 0),g([S({type:String,json:{write:!0}})],jv.prototype,"title",void 0),jv=Z7=g([Q("esri.layers.support.FeatureExpressionInfo")],jv);const Cj=jv;function GPe(e){return!!e&&R2[e]!=null}function zge(e){return 1/(R2[e]||1)}function Uge(){const e=Object.keys(R2);return e.sort(),e}const Gge=Uge();var K7;const A3=kn()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Aj=new At({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let lc=K7=class extends $e{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write({},r),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new K7({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&gre(this.featureExpressionInfo,e.featureExpressionInfo)}};g([S({type:Cj,json:{write:!0}})],lc.prototype,"featureExpressionInfo",void 0),g([Pe("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],lc.prototype,"readFeatureExpressionInfo",null),g([De("featureExpressionInfo",{featureExpressionInfo:{type:Cj},"featureExpression.value":{type:[0]}})],lc.prototype,"writeFeatureExpressionInfo",null),g([S({type:A3.apiValues,nonNullable:!0,json:{type:A3.jsonValues,read:A3.read,write:{writer:A3.write,isRequired:!0}}})],lc.prototype,"mode",null),g([S({type:Number,json:{write:!0}})],lc.prototype,"offset",void 0),g([S({type:Gge,json:{type:String,read:Aj.read,write:Aj.write}})],lc.prototype,"unit",null),lc=K7=g([Q("esri.layers.support.ElevationInfo")],lc);const bZ=lc,Wge={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:hs}}},WC={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},qC={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:hs}}},qge={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:m0}}},Bge={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:hs}}},Hge={value:null,type:bZ,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:hs}}};function WPe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const wZ={write:{enabled:!0,layerContainerTypes:hs},read:!0},Y7={type:Number,json:{origins:{"web-document":wZ,"portal-item":{write:!0}}}},Jge={...Y7,json:{...Y7.json,origins:{"web-document":{...wZ,write:{enabled:!0,layerContainerTypes:hs,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var r;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(r=t.layerDefinition)!=null&&r.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Wb(t.layerDefinition.drawingInfo.transparency):void 0:Wb(t.drawingInfo.transparency)}}}},qPe={type:Fr,readOnly:!0,get(){var b,x,T;const e=((b=this.layer)==null?void 0:b.timeInfo)!=null?this.layer:((x=this.i3slayer)==null?void 0:x.timeInfo)!=null?this.i3slayer:null;if(e==null)return null;const{datesInUnknownTimezone:t,timeOffset:i,useViewTime:r}=e,s=(T=this.view)==null?void 0:T.timeExtent;let c=e.timeExtent;t&&(c=vZ(c));let f=r?s&&c?s.intersection(c):s||c:c;if(!f||f.isEmpty||f.isAllTime)return f;i&&(f=f.offset(-i.value,i.unit)),t&&(f=gZ(f));const m=this._get("timeExtent");return f.equals(m)?m:f}},BPe={type:rr,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=rr.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=Lt.fromJSON(t.spatialReference)),i}}}},read:!1}},Zge={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},Kge={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:hs}}},name:"layerDefinition.minScale",write:!0}},Yge={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:hs}}},name:"layerDefinition.maxScale",write:!0}},_Z={json:{write:{ignoreOrigin:!0,layerContainerTypes:hs},origins:{"web-map":{read:!1,write:!1}}}};let uc=class extends ti($e){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};g([S()],uc.prototype,"creatorField",void 0),g([S()],uc.prototype,"creationDateField",void 0),g([S()],uc.prototype,"editorField",void 0),g([S()],uc.prototype,"editDateField",void 0),g([S()],uc.prototype,"realm",void 0),g([S(x4("dateFieldsTimeReference",!0))],uc.prototype,"timeZone",void 0),uc=g([Q("esri.layers.support.EditFieldsInfo")],uc);const Qge=uc;let au=class extends ti($e){constructor(t){super(t)}};g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"name",void 0),g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"fields",void 0),g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"isAscending",void 0),g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"indexType",void 0),g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"isUnique",void 0),g([S({constructOnly:!0,json:{write:!0}})],au.prototype,"description",void 0),au=g([Q("esri.layers.support.FeatureIndex")],au);async function BC(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=SZ(e));const r=Xge(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let c=null;for(;;){const f=await e.source.queryFeaturesJSON(t,i);if(c==null?c=f:c.features=c.features.concat(f.features),c.exceededTransferLimit=f.exceededTransferLimit,!s||!f.exceededTransferLimit)break;t.start+=r}return c}function Xge(e){return SZ(e)*eve(e)}function eve(e){return e.capabilities.query.maxRecordCount||2e3}function SZ(e){return e.capabilities.query.supportsMaxRecordCountFactor?ih.MAX_MAX_RECORD_COUNT_FACTOR:1}var Q7;let Sn=Q7=class extends $e{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new Q7(ye({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};g([S({type:[String],json:{write:!0}})],Sn.prototype,"attachmentTypes",void 0),g([S({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Sn.prototype,"attachmentsWhere",void 0),g([S({type:Boolean,json:{write:!0}})],Sn.prototype,"cacheHint",void 0),g([S({type:[String],json:{write:!0}})],Sn.prototype,"keywords",void 0),g([S({type:[Number],json:{write:!0}})],Sn.prototype,"globalIds",void 0),g([S({json:{write:!0}})],Sn.prototype,"name",void 0),g([S({type:Number,json:{read:{source:"resultRecordCount"}}})],Sn.prototype,"num",void 0),g([S({type:[Number],json:{write:!0}})],Sn.prototype,"objectIds",void 0),g([S({type:Boolean,json:{default:!1,write:!0}})],Sn.prototype,"returnMetadata",void 0),g([S({type:[Number],json:{write:!0}})],Sn.prototype,"size",void 0),g([S({type:Number,json:{read:{source:"resultOffset"}}})],Sn.prototype,"start",void 0),g([De("start"),De("num")],Sn.prototype,"writeStart",null),g([S({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Sn.prototype,"where",void 0),Sn=Q7=g([Q("esri.rest.support.AttachmentQuery")],Sn),Sn.from=wr(Sn);const X7=Sn;var eM;let ar=eM=class extends $e{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new eM(ye({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};g([S({type:Boolean,json:{write:!0}})],ar.prototype,"cacheHint",void 0),g([S({type:pl,json:{write:!0}})],ar.prototype,"dynamicDataSource",void 0),g([S({type:String,json:{write:!0}})],ar.prototype,"gdbVersion",void 0),g([S({type:Number,json:{write:!0}})],ar.prototype,"geometryPrecision",void 0),g([S({type:Date})],ar.prototype,"historicMoment",void 0),g([De("historicMoment")],ar.prototype,"_writeHistoricMoment",null),g([S({type:Number,json:{write:!0}})],ar.prototype,"maxAllowableOffset",void 0),g([S({type:[Number],json:{write:!0}})],ar.prototype,"objectIds",void 0),g([S({type:[String],json:{write:!0}})],ar.prototype,"orderByFields",void 0),g([S({type:[String],json:{write:!0}})],ar.prototype,"outFields",void 0),g([S({type:Lt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ar.prototype,"outSpatialReference",void 0),g([S({json:{write:!0}})],ar.prototype,"relationshipId",void 0),g([S({type:Number,json:{read:{source:"resultOffset"}}})],ar.prototype,"start",void 0),g([De("start"),De("num")],ar.prototype,"writeStart",null),g([S({type:Number,json:{read:{source:"resultRecordCount"}}})],ar.prototype,"num",void 0),g([S({json:{write:!0}})],ar.prototype,"returnGeometry",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ar.prototype,"returnM",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ar.prototype,"returnZ",void 0),g([S({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ar.prototype,"where",void 0),ar=eM=g([Q("esri.rest.support.RelationshipQuery")],ar),ar.from=wr(ar);const r2=ar,ZPe=Object.freeze(Object.defineProperty({__proto__:null,default:r2},Symbol.toStringTag,{value:"Module"})),tM=new At({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function tve(e,t,i,r){const s=await mp(e);if(await HC(e,t,r),!s.addAttachment)throw new me(r,"Layer source does not support addAttachment capability");return s.addAttachment(t,i)}function HC(e,t,i){var c,f;const{attributes:r}=t,{objectIdField:s}=e;return(f=(c=e.capabilities)==null?void 0:c.data)!=null&&f.supportsAttachment?t?r?s&&r[s]?Promise.resolve():Promise.reject(new me(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new me(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new me(i,"A feature is required to add/delete/update attachments")):Promise.reject(new me(i,"this layer doesn't support attachments"))}async function ive(e,t,i,r,s){const c=await mp(e);if(await HC(e,t,s),!c.updateAttachment)throw new me(s,"Layer source does not support updateAttachment capability");return c.updateAttachment(t,i,r)}async function rve(e,t,i){const{applyEdits:r}=await te(()=>import("./editingSupport-CyNhTx-n.js"),__vite__mapDeps([157,39,40])),s=await e.load(),{source:c,globalIdField:f}=s;let m=i;return s.type==="feature"&&s.infoFor3D&&t.deleteFeatures!=null&&f!=null&&(m={...m,globalIdToObjectId:await wve(e,t.deleteFeatures,f)}),r(s,c,t,i)}async function nve(e,t,i){const{uploadAssets:r}=await te(()=>import("./editingSupport-CyNhTx-n.js"),__vite__mapDeps([157,39,40])),s=await e.load();return r(s,s.source,t,i)}async function sve(e,t,i,r){const s=await mp(e);if(await HC(e,t,r),!s.deleteAttachments)throw new me(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(t,i)}async function ove(e,t,i){const r=(await e.load({signal:t==null?void 0:t.signal})).source;if(!r.fetchRecomputedExtents)throw new me(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function ave(e,t,i,r){var N,D;t=X7.from(t),await e.load();const s=e.source,c=e.capabilities;if(!((N=c==null?void 0:c.data)!=null&&N.supportsAttachment))throw new me(r,"this layer doesn't support attachments");const{attachmentTypes:f,objectIds:m,globalIds:b,num:x,size:T,start:C,where:L}=t;if(!((D=c==null?void 0:c.operations)!=null&&D.supportsQueryAttachments)&&((f==null?void 0:f.length)>0||(b==null?void 0:b.length)>0||(T==null?void 0:T.length)>0||x||C||L))throw new me(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(m!=null&&m.length||b!=null&&b.length||L))throw new me(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!s.queryAttachments)throw new me(r,"Layer source does not support queryAttachments capability",t);return s.queryAttachments(t)}async function lve(e,t,i,r){const s=await mp(e);if(!s.queryObjectIds)throw new me(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(ih.from(t)??e.createQuery(),i)}async function uve(e,t,i,r){const s=await mp(e);if(!s.queryFeatureCount)throw new me(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(ih.from(t)??e.createQuery(),i)}async function cve(e,t,i,r){const s=await mp(e);if(!s.queryExtent)throw new me(r,"Layer source does not support queryExtent capability");return s.queryExtent(ih.from(t)??e.createQuery(),i)}async function hve(e,t,i,r){const s=await mp(e);if(!s.queryRelatedFeatures)throw new me(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(r2.from(t),i)}async function dve(e,t,i,r){const s=await mp(e);if(!s.queryRelatedFeaturesCount)throw new me(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(r2.from(t),i)}async function pve(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await fq(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function fve(e){var f,m;const t=new ih,i=(f=e.capabilities)==null?void 0:f.data,r=(m=e.capabilities)==null?void 0:m.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:s,timeExtent:c}=e;return t.timeExtent=s!=null&&c!=null?c.offset(-s.value,s.unit):c||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function $Z(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function xZ(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function yve(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function mp(e){return(await e.load()).source}async function mve(e,t){if(!Et||Et.findCredential(e))return;let i;try{const r=await O8(e,t);r&&(i=await Et.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=t!=null?t.signal:null;await Et.getCredential(e,{signal:r})}catch{}}async function gve(e,t,i){var s;const r=(s=e.parsedUrl)==null?void 0:s.path;r&&e.authenticationTriggerEvent===t&&await mve(r,i)}function vve(e){var t;return!((t=e.sourceJSON)!=null&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const vx=Em({types:TH});function JC(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new AC({defaultSymbol:vx(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:vx(r.symbol,r,t)}))}):new Dm({symbol:vx(e.defaultSymbol,e,t)})}function bve(e){var r,s,c;let t=(r=e.sourceJSON)==null?void 0:r.cacheMaxAge;if(!t)return!1;const i=(c=(s=e.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:c.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function wve(e,t,i){if(t==null)return null;const r=[],{objectIdField:s}=e;if(t.forEach(x=>{let T=null;if("attributes"in x){const{attributes:C}=x;T={globalId:C[i],objectId:C[s]!=null&&C[s]!==-1?C[s]:null}}else T={globalId:x.globalId,objectId:x.objectId!=null&&x.objectId!==-1?x.objectId:null};T.globalId!=null&&(T.objectId!=null&&T.objectId!==-1||r.push(T.globalId))}),r.length===0)return null;const c=e.createQuery();c.where=r.map(x=>`${i}='${x}'`).join(" OR "),c.returnGeometry=!1,c.outFields=[s,i],c.cacheHint=!1;const f=await yoe(BC(e,c));if(!f.ok)return null;const m=new Map,b=f.value.features;for(const x of b){const T=x.attributes[i],C=x.attributes[s];T!=null&&C!=null&&C!==-1&&m.set(T,C)}return m}let W1=class extends ti($e){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};g([S({type:String,json:{read:{source:"shapeAreaFieldName"}}})],W1.prototype,"shapeAreaField",void 0),g([S({type:String,json:{read:{source:"shapeLengthFieldName"}}})],W1.prototype,"shapeLengthField",void 0),g([S({type:String,json:{read:e=>Boe.read(e)||Hoe.read(e)}})],W1.prototype,"units",void 0),W1=g([Q("esri.layers.support.GeometryFieldsInfo")],W1);const _ve=W1;var iM;let q1=iM=class extends $e{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new it}clone(){return new iM({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};g([S({type:String,json:{write:!0}})],q1.prototype,"floorField",void 0),g([S({json:{read:!1,write:!1}})],q1.prototype,"viewAllMode",void 0),g([S({json:{read:!1,write:!1}})],q1.prototype,"viewAllLevelIds",void 0),q1=iM=g([Q("esri.layers.support.LayerFloorInfo")],q1);const Sve=q1,Oj=new At({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Lj=new At({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let aa=class extends ti($e){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};g([S({json:{read:Oj.read,write:Oj.write}})],aa.prototype,"cardinality",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"composite",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"id",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"keyField",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"keyFieldInRelationshipTable",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"name",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"relatedTableId",void 0),g([S({json:{read:!0,write:!0}})],aa.prototype,"relationshipTableId",void 0),g([S({json:{read:Lj.read,write:Lj.write}})],aa.prototype,"role",void 0),aa=g([Q("esri.layers.support.Relationship")],aa);const $ve=aa;function _t(e,t,i){return!!EZ(e,t,i)}function Dv(e,t,i){return EZ(e,t,i)}function EZ(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}const xve={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function Eve(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(r=>r.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function D2(e,t){var r;const i=(r=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:r.map(s=>s.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function TZ(e,t){return{analytics:Tve(e),attachment:Ive(e),data:Mve(e),metadata:kve(e),operations:Cve(e.capabilities,e,t),query:Ave(e,t),queryRelated:Ove(e),queryTopFeatures:Lve(e),editing:Pve(e)}}function Tve(e){return{supportsCacheHint:D2(e.advancedQueryCapabilities,"queryAnalytics")}}function Ive(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:D2(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:_t(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(r=>{const s=xve[r.name];s&&(i[s]=!!r.isEnabled)}),i}function Mve(e){return{isVersioned:_t(e,"isDataVersioned",!1),supportsAttachment:_t(e,"hasAttachments",!1),supportsM:_t(e,"hasM",!1),supportsZ:_t(e,"hasZ",!1)}}function kve(e){return{supportsAdvancedFieldProperties:_t(e,"supportsFieldDescriptionProperty",!1)}}function Cve(e,t,i){const r=e?e.toLowerCase().split(",").map(L=>L.trim()):[],s=i?wu(i):null,c=r.includes(s!=null&&s.serverType==="MapServer"?"data":"query"),f=r.includes("editing")&&!t.datesInUnknownTimezone;let m=f&&r.includes("create"),b=f&&r.includes("delete"),x=f&&r.includes("update");const T=r.includes("changetracking"),C=t.advancedQueryCapabilities;return f&&!(m||b||x)&&(m=b=x=!0),{supportsCalculate:_t(t,"supportsCalculate",!1),supportsTruncate:_t(t,"supportsTruncate",!1),supportsValidateSql:_t(t,"supportsValidateSql",!1),supportsAdd:m,supportsDelete:b,supportsEditing:f,supportsChangeTracking:T,supportsQuery:c,supportsQueryAnalytics:_t(C,"supportsQueryAnalytic",!1),supportsQueryAttachments:_t(C,"supportsQueryAttachments",!1),supportsQueryTopFeatures:_t(C,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:_t(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:x,supportsExceedsLimitStatistics:_t(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:_t(t,"supportsAsyncConvert3D",!1)}}function Ave(e,t){const i=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,c=e.currentVersion,f=t==null?void 0:t.includes("MapServer"),m=!f||c>=Ee("mapserver-pbf-version-support"),b=sZ(t),x=new Set((e.supportedQueryFormats??"").split(",").map(T=>T.toLowerCase().trim()));return{supportsStatistics:_t(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:_t(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:_t(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:Eve(i),supportsCentroid:_t(i,"supportsReturningGeometryCentroid",!1),supportsDistance:_t(i,"supportsQueryWithDistance",!1),supportsDistinct:_t(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:_t(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:_t(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:_t(i,"supportsHavingClause",!1),supportsOrderBy:_t(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:_t(i,"supportsPagination",!1),supportsQuantization:_t(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:_t(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:_t(e,"supportsReturningQueryGeometry",!1),supportsResultType:_t(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:_t(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:_t(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:_t(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:_t(i,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:_t(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:_t(r,"allowOthersToQuery",!0),supportsHistoricMoment:_t(s,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:m&&x.has("pbf"),supportsDisjointSpatialRelationship:_t(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:_t(i,"supportsQueryWithCacheHint",!1)||D2(i,"query"),supportsDefaultSpatialReference:_t(i,"supportsDefaultSR",!1),supportsCompactGeometry:b,supportsFullTextSearch:_t(i,"supportsFullTextSearch",!1),maxRecordCountFactor:Dv(e,"maxRecordCountFactor",void 0),maxRecordCount:Dv(e,"maxRecordCount",void 0),standardMaxRecordCount:Dv(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Dv(e,"tileMaxRecordCount",void 0)}}function Ove(e){const t=e.advancedQueryCapabilities,i=_t(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:_t(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:D2(t,"queryRelated")}}function Lve(e){return{supportsCacheHint:D2(e.advancedQueryCapabilities,"queryTopFilter")}}function Pve(e){const t=e.ownershipBasedAccessControlForFeatures,i=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:_t(e,"allowGeometryUpdates",!0),supportsGlobalId:_t(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:_t(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:_t(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:_t(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:_t(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:_t(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:_t(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:_t(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:_t(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:_t(i,"supportsAsyncApplyEdits",!1),zDefault:Dv(e,"zDefault",void 0)}}let cc=class extends ti($e){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const i={};for(const r of Object.keys(t))i[r]=l9(t[r]);return i}writeDomains(t,i){var s;if(!t)return;const r={};for(const c of Object.keys(t))t[c]&&(r[c]=(s=t[c])==null?void 0:s.toJSON());i.domains=r}};g([S({type:Number,json:{write:!0}})],cc.prototype,"code",void 0),g([S({type:Object,json:{write:!0}})],cc.prototype,"defaultValues",void 0),g([S({json:{write:!0}})],cc.prototype,"domains",void 0),g([Pe("domains")],cc.prototype,"readDomains",null),g([De("domains")],cc.prototype,"writeDomains",null),g([S({type:String,json:{write:!0}})],cc.prototype,"name",void 0),cc=g([Q("esri.layers.support.Subtype")],cc);const rM=cc,Fve=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(it.ofType(au)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=Lt.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:s,operations:c,editing:f}=i;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||c.supportsEditing&&!(f.supportsUpdateByOthers&&f.supportsUpdateByAnonymous&&f.supportsDeleteByOthers&&f.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(bve(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const r=this.editFieldsInfo;return(r!=null&&r.creatorField||r!=null&&r.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,r){return TZ(r,this.url)}readEditingInfo(i,r){const{editingInfo:s}=r;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){var f;const i=this.capabilities;if(!i)return null;const r=ye(i),{operations:s,editing:c}=r;return(f=this.sourceJSON)!=null&&f.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=c.supportsDeleteByOthers=c.supportsGeometryUpdate=c.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=c.supportsGeometryUpdate=!0),r)}readGlobalIdFieldFromService(i,r){return $Z(r)}get hasFullEditingRestrictions(){var c;const i=this.capabilities;if(!i||(c=this.sourceJSON)!=null&&c.isMultiServicesView)return!1;const{operations:r,editing:s}=i;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){var c;const i=this.capabilities;if(!i)return!1;const{operations:r,editing:s}=i;return(c=this.sourceJSON)!=null&&c.isMultiServicesView?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(i,r){return r.type==="Table"}readMaxScale(i,r){return r.effectiveMaxScale||i||0}readMinScale(i,r){return r.effectiveMinScale||i||0}readObjectIdFieldFromService(i,r){return xZ(r)}readServiceDefinitionExpression(i,r){return r.definitionQuery||r.definitionExpression}set url(i){const r=Bme({layer:this,url:i,nonStandardUrlAllowed:!0,logger:ke.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(i,r,s,c){Hme(this,i,null,r,c)}readVersion(i,r){return yve(r)}};return g([S({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),g([S({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),g([S({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),g([Pe("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),g([S(x4("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),g([S({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),g([S({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),g([S({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),g([S({readOnly:!0,type:Qge})],t.prototype,"editFieldsInfo",void 0),g([S({readOnly:!0})],t.prototype,"editingInfo",void 0),g([Pe("editingInfo")],t.prototype,"readEditingInfo",null),g([S({readOnly:!0})],t.prototype,"effectiveCapabilities",null),g([S((()=>{const i=ye(Hge),r=i.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),g([S({type:Sve,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:hs}}}}})],t.prototype,"floorInfo",void 0),g([S({type:rr,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),g([S()],t.prototype,"gdbVersion",void 0),g([S({readOnly:!0,type:_ve,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),g([S({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:tM.read}}}})],t.prototype,"geometryType",void 0),g([S({type:String})],t.prototype,"globalIdField",void 0),g([Pe("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),g([S({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),g([S({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),g([S({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),g([S({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),g([S({readOnly:!0,type:Pge})],t.prototype,"heightModelInfo",void 0),g([S({type:Date})],t.prototype,"historicMoment",void 0),g([S({type:it.ofType(au),readOnly:!0})],t.prototype,"indexes",void 0),g([S({readOnly:!0})],t.prototype,"isTable",void 0),g([Pe("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),g([S({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),g([S(Yge)],t.prototype,"maxScale",void 0),g([Pe("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),g([S(Kge)],t.prototype,"minScale",void 0),g([Pe("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),g([S({type:String})],t.prototype,"objectIdField",void 0),g([Pe("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),g([S(x4("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),g([S({type:[$ve],readOnly:!0})],t.prototype,"relationships",void 0),g([S({type:Boolean})],t.prototype,"returnM",void 0),g([S({type:Boolean})],t.prototype,"returnZ",void 0),g([S({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),g([S({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),g([Pe("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),g([S({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),g([S()],t.prototype,"sourceJSON",void 0),g([S({type:Lt,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),g([S({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),g([S({type:[rM],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),g([S({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),g([S(qge)],t.prototype,"url",null),g([De("url")],t.prototype,"writeUrl",null),g([S({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),g([Pe("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=g([Q("esri.layers.mixins.FeatureLayerBase")],t),t};let B1=class extends ti($e){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};g([S({type:String,json:{write:!0}})],B1.prototype,"expression",void 0),g([S({type:String,json:{write:!0}})],B1.prototype,"title",void 0),g([S({type:String,json:{write:!0}})],B1.prototype,"returnType",void 0),B1=g([Q("esri.layers.support.ExpressionInfo")],B1);const ZC=B1;var nM;let hc=nM=class extends $e{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new nM({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:ye(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};g([S({type:Boolean,json:{write:!0}})],hc.prototype,"isAutoGenerated",void 0),g([S({type:String,json:{write:!0}})],hc.prototype,"name",void 0),g([S({type:String,json:{write:!0}})],hc.prototype,"alias",void 0),g([S({type:String,json:{write:!0}})],hc.prototype,"onStatisticField",void 0),g([S({type:ZC,json:{write:!0}})],hc.prototype,"onStatisticExpression",void 0),g([S({type:String,json:{write:!0}})],hc.prototype,"statisticType",void 0),hc=nM=g([Q("esri.layers.support.AggregateField")],hc);const $0=hc;let qd=class extends $e{constructor(){super(...arguments),this.type=null}};g([S({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],qd.prototype,"type",void 0),qd=g([Q("esri.layers.support.FeatureReduction")],qd);const KC="__begin__",YC="__end__",Rve=new RegExp(KC,"ig"),Nve=new RegExp(YC,"ig"),Pj=new RegExp("^"+KC,"i"),Fj=new RegExp(YC+"$","i"),R4='"',jve=R4+" + ",Dve=" + "+R4;function Vve(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function zve(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function QC(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=Vve(e.labelExpression),t.type="conventional"),t}function Uve(e){const t=QC(e);if(!t)return null;switch(t.type){case"conventional":return sM(t.expression);case"arcade":return t.expression}return null}function Gve(e){const t=QC(e);if(!t)return null;switch(t.type){case"conventional":return qve(t.expression);case"arcade":return IZ(t.expression)}return null}function sM(e){let t;return e?(t=El(e,i=>KC+'$feature["'+i+'"]'+YC),t=Pj.test(t)?t.replace(Pj,""):R4+t,t=Fj.test(t)?t.replace(Fj,""):t+R4,t=t.replaceAll(Rve,jve).replaceAll(Nve,Dve)):t='""',t}const Wve=/^\s*\{([^}]+)\}\s*$/i;function qve(e){const t=e==null?void 0:e.match(Wve);return(t==null?void 0:t[1].trim())||null}const Bve=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,Hve=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Jve=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function IZ(e){if(!e)return null;let t=Bve.exec(e)||Hve.exec(e);return t?t[1]||t[3]:(t=Jve.exec(e),t?t[2]:null)}var oM;let ed=oM=class extends $e{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?sM(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=sM(this.value)),e!=null&&(t[i]=e)}clone(){return new oM({expression:this.expression,title:this.title,value:this.value})}};g([S({type:String,json:{write:{writerEnsuresNonNull:!0}}})],ed.prototype,"expression",void 0),g([Pe("expression",["expression","value"])],ed.prototype,"readExpression",null),g([De("expression")],ed.prototype,"writeExpression",null),g([S({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ed.prototype,"title",void 0),g([S({json:{read:!1,write:!1}})],ed.prototype,"value",void 0),ed=oM=g([Q("esri.layers.support.LabelExpressionInfo")],ed);const MZ=ed,kZ=[252,146,31,255],tFe=[153,153,153,255],Zve={type:"esriSMS",style:"esriSMSCircle",size:6,color:kZ,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Kve={type:"esriSLS",style:"esriSLSSolid",width:.75,color:kZ},Yve={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Qve={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Xve={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},ebe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},tbe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},ibe=Ta.fromJSON(Zve),rbe=mo.fromJSON(Kve),nbe=Qc.fromJSON(Yve),sbe=Nm.fromJSON(Qve);function iFe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return ibe;case"polyline":return rbe;case"polygon":case"extent":return nbe}return null}const rFe=Ta.fromJSON(Xve),nFe=mo.fromJSON(ebe),sFe=Qc.fromJSON(tbe);var aM;const O3=new At({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function L3(e,t,i){return{enabled:!ZG(i==null?void 0:i.layer)}}function CZ(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function obe(e){return(e==null?void 0:e.type)==="map-image"}function AZ(e){var t,i;return!!obe(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function abe(e){return CZ(e)||AZ(e==null?void 0:e.layer)}let Tr=aM=class extends $e{static evaluateWhere(e,t){const i=(r,s,c)=>{switch(s){case"=":return r==c;case"<>":return r!=c;case">":return r>c;case">=":return r>=c;case"<":return r<c;case"<=":return r<=c}return!1};try{if(e==null)return!0;const r=e.split(" ");if(r.length===3)return i(t[r[0]],r[1],r[2]);if(r.length===7){const s=i(t[r[0]],r[1],r[2]),c=r[3],f=i(t[r[4]],r[5],r[6]);switch(c){case"AND":return s&&f;case"OR":return s||f}}return!1}catch{console.log("Error.: can't parse = "+e)}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=sbe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=zve(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const r=IZ(this.labelExpressionInfo.expression);r&&(e="["+r+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(e==null&&this.labelExpression!=null&&CZ(r))e=new MZ({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(r);s.expression&&(t[i]=s)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return QC(this)}getLabelExpressionArcade(){return Uve(this)}getLabelExpressionSingleField(){return Gve(this)}hash(){return JSON.stringify(this)}clone(){return new aM({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:ye(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:ye(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};g([S({type:String,json:{write:!0}})],Tr.prototype,"name",void 0),g([S({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:L3}}}}})],Tr.prototype,"allowOverrun",void 0),g([S({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:L3}}}}})],Tr.prototype,"deconflictionStrategy",void 0),g([S({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&AZ(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Tr.prototype,"labelExpression",void 0),g([Pe("labelExpression")],Tr.prototype,"readLabelExpression",null),g([De("labelExpression")],Tr.prototype,"writeLabelExpression",null),g([S({type:MZ,json:{write:{overridePolicy:(e,t,i)=>abe(i)?{allowNull:!0}:{enabled:!1}}}})],Tr.prototype,"labelExpressionInfo",void 0),g([De("labelExpressionInfo")],Tr.prototype,"writeLabelExpressionInfo",null),g([S({type:O3.apiValues,json:{type:O3.jsonValues,read:O3.read,write:O3.write}})],Tr.prototype,"labelPlacement",void 0),g([S({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Tr.prototype,"labelPosition",void 0),g([S({type:Number})],Tr.prototype,"maxScale",void 0),g([De("maxScale")],Tr.prototype,"writeMaxScale",null),g([S({type:Number})],Tr.prototype,"minScale",void 0),g([De("minScale")],Tr.prototype,"writeMinScale",null),g([S({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:L3}}}}})],Tr.prototype,"repeatLabel",void 0),g([S({type:Number,cast:si,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:L3}}}}})],Tr.prototype,"repeatLabelDistance",void 0),g([S({types:l0e,json:{origins:{"web-scene":{types:u0e,write:IN,default:null}},write:IN,default:null}})],Tr.prototype,"symbol",void 0),g([S({type:Boolean,json:{write:!0}})],Tr.prototype,"useCodedValues",void 0),g([S({type:String,json:{write:!0}})],Tr.prototype,"where",void 0),Tr=aM=g([Q("esri.layers.support.LabelClass")],Tr);const d9=Tr;var lM;const lbe="esri.layers.support.FeatureReductionBinning";let ws=lM=class extends qd{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());un(i,r,t)}readRenderer(e,t,i){var s;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return r?Xb(r,t,i)??void 0:JC(t,i)}clone(){return new lM({fields:ye(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:ye(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:ye(this.popupTemplate),renderer:ye(this.renderer)})}};g([at({binning:"binning"})],ws.prototype,"type",void 0),g([at({geohash:"geohash"})],ws.prototype,"binType",void 0),g([S({type:Number,range:{min:1,max:9},json:{write:!0}})],ws.prototype,"fixedBinLevel",void 0),g([S({type:[d9],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ws.prototype,"labelingInfo",void 0),g([S(qC)],ws.prototype,"labelsVisible",void 0),g([S({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ws.prototype,"maxScale",void 0),g([S(WC)],ws.prototype,"popupEnabled",void 0),g([S({type:I2,json:{name:"popupInfo",write:!0}})],ws.prototype,"popupTemplate",void 0),g([S({type:[$0],json:{write:!0}})],ws.prototype,"fields",void 0),g([De("fields")],ws.prototype,"writeFields",null),g([S({types:o9,json:{write:{target:"drawingInfo.renderer"}}})],ws.prototype,"renderer",void 0),g([Pe("renderer",["drawingInfo.renderer"])],ws.prototype,"readRenderer",null),ws=lM=g([Q(lbe)],ws);const OZ=ws;var uM;const ube="esri.layers.support.FeatureReductionCluster";function Rj(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let qr=uM=class extends $e{constructor(e){super(e),this.type="cluster",this.clusterRadius=si("80px"),this.clusterMinSize=si("12px"),this.clusterMaxSize=si("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var s,c;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return(c=r==null?void 0:r.authoringInfo)!=null&&c.isAutoGenerated?null:r?Rj(r)?null:Xb(r,t,i)??void 0:JC(t,i)}readSymbol(e,t,i){var s,c;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if((c=r==null?void 0:r.authoringInfo)!=null&&c.isAutoGenerated)return null;if(r&&Rj(r)){const f=Xb(r,t,i);return f==null?void 0:f.symbol}return null}writeSymbol(e,t,i,r){var c,f;const s=(f=(c=this.renderer)==null?void 0:c.authoringInfo)==null?void 0:f.isAutoGenerated;if(!this.renderer||s){const m=new Dm({symbol:e});t.drawingInfo={renderer:m.write({},r)}}}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());un(i,r,t)}readFields(e,t,i){return e.filter(r=>!r.isAutoGenerated).map(r=>$0.fromJSON(r))}clone(){return new uM({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:ye(this.labelingInfo),labelsVisible:this.labelsVisible,fields:ye(this.fields),maxScale:this.maxScale,renderer:ye(this.renderer),symbol:ye(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:ye(this.popupTemplate)})}};g([S({type:["cluster"],readOnly:!0,json:{write:!0}})],qr.prototype,"type",void 0),g([S({type:Number,cast:e=>e==="auto"?e:si(e),json:{write:!0}})],qr.prototype,"clusterRadius",void 0),g([S({type:Number,cast:si,json:{write:!0}})],qr.prototype,"clusterMinSize",void 0),g([S({type:Number,cast:si,json:{write:!0}})],qr.prototype,"clusterMaxSize",void 0),g([S({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],qr.prototype,"maxScale",void 0),g([S(WC)],qr.prototype,"popupEnabled",void 0),g([S({type:I2,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],qr.prototype,"popupTemplate",void 0),g([S({types:o9,json:{write:{target:"drawingInfo.renderer"}}})],qr.prototype,"renderer",void 0),g([Pe("renderer",["drawingInfo.renderer"])],qr.prototype,"readRenderer",null),g([S({types:o0e})],qr.prototype,"symbol",void 0),g([Pe("symbol",["drawingInfo.renderer"])],qr.prototype,"readSymbol",null),g([De("symbol")],qr.prototype,"writeSymbol",null),g([S({type:[d9],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],qr.prototype,"labelingInfo",void 0),g([S(qC)],qr.prototype,"labelsVisible",void 0),g([S({type:[$0],json:{write:!0}})],qr.prototype,"fields",void 0),g([De("fields")],qr.prototype,"writeFields",null),g([Pe("fields")],qr.prototype,"readFields",null),qr=uM=g([Q(ube)],qr);const LZ=qr;var cM;let x_=cM=class extends qd{constructor(e){super(e),this.type="selection"}clone(){return new cM}};g([S({type:["selection"]})],x_.prototype,"type",void 0),x_=cM=g([Q("esri.layers.support.FeatureReductionSelection")],x_);const Nj=x_,jj={key:"type",base:qd,typeMap:{cluster:LZ,binning:OZ}},cbe={types:{key:"type",base:qd,typeMap:{selection:Nj,cluster:LZ,binning:OZ}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:jj},"portal-item":{types:jj},"web-scene":{types:{key:"type",base:qd,typeMap:{selection:Nj}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:hs}}}}},p1={Base64:0,Hex:1,String:2,Raw:3},zy=8,PZ=(1<<zy)-1;function Ld(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function hbe(e){const t=[];for(let i=0,r=e.length*zy;i<r;i+=zy)t[i>>5]|=(e.charCodeAt(i/zy)&PZ)<<i%32;return t}function dbe(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=zy)t.push(String.fromCharCode(e[i>>5]>>>i%32&PZ));return t.join("")}function pbe(e){const t="0123456789abcdef",i=[];for(let r=0,s=4*e.length;r<s;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function fbe(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,c=4*e.length;s<c;s+=3){const f=(e[s>>2]>>s%4*8&255)<<16|(e[s+1>>2]>>(s+1)%4*8&255)<<8|e[s+2>>2]>>(s+2)%4*8&255;for(let m=0;m<4;m++)8*s+6*m>32*e.length?r.push(t):r.push(i.charAt(f>>6*(3-m)&63))}return r.join("")}function ybe(e,t){return e<<t|e>>>32-t}function p9(e,t,i,r,s,c){return Ld(ybe(Ld(Ld(t,e),Ld(r,c)),s),i)}function qn(e,t,i,r,s,c,f){return p9(t&i|~t&r,e,t,s,c,f)}function Bn(e,t,i,r,s,c,f){return p9(t&r|i&~r,e,t,s,c,f)}function Hn(e,t,i,r,s,c,f){return p9(t^i^r,e,t,s,c,f)}function Jn(e,t,i,r,s,c,f){return p9(i^(t|~r),e,t,s,c,f)}function mbe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,s=-1732584194,c=271733878;for(let f=0;f<e.length;f+=16){const m=i,b=r,x=s,T=c;i=qn(i,r,s,c,e[f],7,-680876936),c=qn(c,i,r,s,e[f+1],12,-389564586),s=qn(s,c,i,r,e[f+2],17,606105819),r=qn(r,s,c,i,e[f+3],22,-1044525330),i=qn(i,r,s,c,e[f+4],7,-176418897),c=qn(c,i,r,s,e[f+5],12,1200080426),s=qn(s,c,i,r,e[f+6],17,-1473231341),r=qn(r,s,c,i,e[f+7],22,-45705983),i=qn(i,r,s,c,e[f+8],7,1770035416),c=qn(c,i,r,s,e[f+9],12,-1958414417),s=qn(s,c,i,r,e[f+10],17,-42063),r=qn(r,s,c,i,e[f+11],22,-1990404162),i=qn(i,r,s,c,e[f+12],7,1804603682),c=qn(c,i,r,s,e[f+13],12,-40341101),s=qn(s,c,i,r,e[f+14],17,-1502002290),r=qn(r,s,c,i,e[f+15],22,1236535329),i=Bn(i,r,s,c,e[f+1],5,-165796510),c=Bn(c,i,r,s,e[f+6],9,-1069501632),s=Bn(s,c,i,r,e[f+11],14,643717713),r=Bn(r,s,c,i,e[f],20,-373897302),i=Bn(i,r,s,c,e[f+5],5,-701558691),c=Bn(c,i,r,s,e[f+10],9,38016083),s=Bn(s,c,i,r,e[f+15],14,-660478335),r=Bn(r,s,c,i,e[f+4],20,-405537848),i=Bn(i,r,s,c,e[f+9],5,568446438),c=Bn(c,i,r,s,e[f+14],9,-1019803690),s=Bn(s,c,i,r,e[f+3],14,-187363961),r=Bn(r,s,c,i,e[f+8],20,1163531501),i=Bn(i,r,s,c,e[f+13],5,-1444681467),c=Bn(c,i,r,s,e[f+2],9,-51403784),s=Bn(s,c,i,r,e[f+7],14,1735328473),r=Bn(r,s,c,i,e[f+12],20,-1926607734),i=Hn(i,r,s,c,e[f+5],4,-378558),c=Hn(c,i,r,s,e[f+8],11,-2022574463),s=Hn(s,c,i,r,e[f+11],16,1839030562),r=Hn(r,s,c,i,e[f+14],23,-35309556),i=Hn(i,r,s,c,e[f+1],4,-1530992060),c=Hn(c,i,r,s,e[f+4],11,1272893353),s=Hn(s,c,i,r,e[f+7],16,-155497632),r=Hn(r,s,c,i,e[f+10],23,-1094730640),i=Hn(i,r,s,c,e[f+13],4,681279174),c=Hn(c,i,r,s,e[f],11,-358537222),s=Hn(s,c,i,r,e[f+3],16,-722521979),r=Hn(r,s,c,i,e[f+6],23,76029189),i=Hn(i,r,s,c,e[f+9],4,-640364487),c=Hn(c,i,r,s,e[f+12],11,-421815835),s=Hn(s,c,i,r,e[f+15],16,530742520),r=Hn(r,s,c,i,e[f+2],23,-995338651),i=Jn(i,r,s,c,e[f],6,-198630844),c=Jn(c,i,r,s,e[f+7],10,1126891415),s=Jn(s,c,i,r,e[f+14],15,-1416354905),r=Jn(r,s,c,i,e[f+5],21,-57434055),i=Jn(i,r,s,c,e[f+12],6,1700485571),c=Jn(c,i,r,s,e[f+3],10,-1894986606),s=Jn(s,c,i,r,e[f+10],15,-1051523),r=Jn(r,s,c,i,e[f+1],21,-2054922799),i=Jn(i,r,s,c,e[f+8],6,1873313359),c=Jn(c,i,r,s,e[f+15],10,-30611744),s=Jn(s,c,i,r,e[f+6],15,-1560198380),r=Jn(r,s,c,i,e[f+13],21,1309151649),i=Jn(i,r,s,c,e[f+4],6,-145523070),c=Jn(c,i,r,s,e[f+11],10,-1120210379),s=Jn(s,c,i,r,e[f+2],15,718787259),r=Jn(r,s,c,i,e[f+9],21,-343485551),i=Ld(i,m),r=Ld(r,b),s=Ld(s,x),c=Ld(c,T)}return[i,r,s,c]}function FZ(e,t=p1.Hex){const i=t||p1.Base64,r=mbe(hbe(e),e.length*zy);switch(i){case p1.Raw:return r;case p1.Hex:return pbe(r);case p1.String:return dbe(r);case p1.Base64:return fbe(r)}}const gbe=()=>ke.getLogger("esri.views.2d.layers.support.clusterUtils");Ee.add("esri-cluster-arcade-enabled",!0);const vbe=Ee("esri-cluster-arcade-enabled"),bbe=new Set(["simple-line","simple-fill","picture-fill"]);function Dj(e,t){let i=t.clone();if(!wbe(i))return i;if(t.getSymbols().some(r=>bbe.has(r.type))&&(i=new Dm({symbol:new Ta})),i.authoringInfo||(i.authoringInfo=new _C),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=jp(e,s.field,"avg_angle","number"):s.valueExpression&&(s.field=Wg(e,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=jp(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=jp(e,s.field,"avg","number"):s.valueExpression&&(s.field=Wg(e,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=jp(e,r.field,"sum","number"):r.valueExpression&&(r.field=Wg(e,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=jp(e,i.field,"mode","string"):i.valueExpression&&(i.field=Wg(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=jp(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=jp(e,i.field,"avg","number"):i.valueExpression&&(i.field=Wg(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const wbe=e=>{const t=i=>gbe().error(new me("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!vbe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function _be(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const r=i,s="field",c=t.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+FZ(c)}}}function Wg(e,t,i,r){const s=FZ(t),c=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(f=>f.name===c)||e.push(new $0({name:c,isAutoGenerated:!0,onStatisticExpression:new ZC({expression:t,returnType:r}),statisticType:i})),c}function jp(e,t,i,r,s){if(t==="cluster_count"||e.some(f=>f.name===t))return t;const c=_be(i,t,s);return e.some(f=>f.name===c)||(i==="avg_norm"?e.push(new $0({name:c,isAutoGenerated:!0,onStatisticExpression:new ZC({expression:`$feature.${t} / $feature.${s}`,returnType:r}),statisticType:"avg"})):e.push(new $0({name:c,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),c}const Sbe=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(Ze(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},Mu))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,s){const c=i.clone();return"visualVariables"in c&&(c.visualVariables||(c.visualVariables=[]),c.visualVariables.some(f=>f.type==="size")||c.visualVariables.push(new xC({field:"cluster_count",stops:[new r_({value:1}),new r_({useMinValue:!0,size:r}),new r_({useMaxValue:!0,size:s})]}))),c}_normalizeFeatureReduction(i){var C;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),s=[new $0({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],c=(r.fields??[]).filter(L=>!L.isAutoGenerated),f=i.renderer&&!((C=i.renderer.authoringInfo)!=null&&C.isAutoGenerated),{clusterMinSize:m,clusterMaxSize:b}=r;if(f){r.fields=[...s,...c];const L=this._withClusterVariable(r.renderer,m,b);return r.effectiveFeatureRenderer=L,r.effectiveClusterRenderer=L,r}if(i.symbol){if(r.fields=[...s,...c],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const L=Dj(s,this.renderer),N=this._withClusterVariable(L,m,b),D="visualVariables"in N&&N.visualVariables?N.visualVariables:[],G=new Dm({symbol:i.symbol,visualVariables:D});return r.fields=[...s,...c],r.effectiveFeatureRenderer=N,r.effectiveClusterRenderer=G,r}if(!this.renderer)return i;const x=Dj(s,this.renderer);r.fields=[...s,...c],r.renderer=x;const T=this._withClusterVariable(x,m,b);return r.effectiveFeatureRenderer=T,r.effectiveClusterRenderer=T,r}};return g([S(cbe)],t.prototype,"featureReduction",null),t=g([Q("esri.layers.mixins.FeatureReductionLayer")],t),t},Vj={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},zj={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},Uj={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},$be={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0,IntegratedMesh3DTilesLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":Vj,"web-map/basemap":zj,"web-map/tables":Uj,"link-chart/operational-layers":{...Vj,LinkChartLayer:!0},"link-chart/basemap":zj,"link-chart/tables":Uj,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,IntegratedMesh3DTilesLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}},xbe=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,s){var c;return((c=s==null?void 0:s.portalItem)==null?void 0:c.type)==="Group Layer"?void 0:i}writeListMode(i,r,s,c){(c&&c.layerContainerType==="ground"||i&&sse(this,s,{},c))&&(r[s]=i)}writeOperationalLayerType(i,r,s,c){i&&(c==null?void 0:c.layerContainerType)!=="tables"&&(r.layerType=i)}writeTitle(i,r){r.title=i??"Layer"}read(i,r){r&&(r.layer=this),YU(this,i,s=>super.read(i,s),r)}write(i,r){var f,m;if(!this.persistenceEnabled)return null;if(r!=null&&r.origin){const b=`${r.origin}/${r.layerContainerType||"operational-layers"}`,x=$be[b];let T=!!(x!=null&&x[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&b==="web-scene/operational-layers"&&(T=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&b==="web-map/operational-layers"&&(T=!1),!T)return(f=r.messages)==null||f.push(new me("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${b}'`,{layer:this})),null}const s=super.write(i,{...r,layer:this}),c=!!r&&!!r.messages&&!!r.messages.filter(b=>b instanceof me&&b.name==="web-document-write:property-required").length;return xS(s==null?void 0:s.url)?((m=r==null?void 0:r.messages)==null||m.push(new me("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&c?null:s}beforeSave(){}};return g([S({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),g([Pe("id",["id"])],t.prototype,"readId",null),g([S(_Z)],t.prototype,"listMode",void 0),g([De("listMode")],t.prototype,"writeListMode",null),g([S({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:hs}}}}})],t.prototype,"operationalLayerType",void 0),g([De("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),g([S(Y7)],t.prototype,"opacity",void 0),g([S({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),g([S({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),g([De("title"),De(["web-scene"],"title")],t.prototype,"writeTitle",null),g([S({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:hs}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=g([Q("esri.layers.mixins.OperationalLayer")],t),t};var hM;const bx=new At({asc:"ascending",desc:"descending"});let H1=hM=class extends $e{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new hM({field:this.field,valueExpression:this.valueExpression,order:this.order})}};g([S({type:String,json:{write:!0}})],H1.prototype,"field",void 0),g([S({type:String,json:{write:!0}})],H1.prototype,"valueExpression",void 0),g([S({type:bx.apiValues,json:{read:bx.read,write:bx.write}})],H1.prototype,"order",void 0),H1=hM=g([Q("esri.layers.support.OrderByInfo")],H1);const RZ=H1;function Ebe(e,t,i){if(!e)return null;const r=e.find(c=>!!c.field);if(!r)return null;const s=new RZ;return s.read(r,i),[s]}function Tbe(e,t,i,r){const s=e.find(c=>!!c.field);s&&un(i,[s.toJSON()],t)}const Ibe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return g([S({type:[RZ],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:Ebe},write:{target:"layerDefinition.orderBy",writer:Tbe}}})],t.prototype,"orderBy",void 0),t=g([Q("esri.layers.mixins.OrderedLayer")],t),t},Ts=Math.PI/180,Mbe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Ph=pr.radius,ja=pr.eccentricitySquared,kbe={a1:Ph*ja,a2:Ph*ja*Ph*ja,a3:Ph*ja*ja/2,a4:Ph*ja*Ph*ja*2.5,a5:Ph*ja+Ph*ja*ja/2,a6:1-ja},Cbe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:pr.radius,f:pr.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Qd.radius,f:Qd.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:bu.radius,f:bu.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:bu.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var de;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(de||(de={}));const NZ={[de.WGS84]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:ki,[de.SPHERICAL_ECEF]:Zf,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:um,[de.PLATE_CARREE]:Pd,[de.WGS84]:ki,[de.WGS84_ECEF]:Rd},[de.CGCS2000]:{[de.CGCS2000]:ki,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:ki,[de.SPHERICAL_ECEF]:Zf,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:Pd,[de.WGS84]:null,[de.WGS84_ECEF]:Rd},[de.GCSMARS2000]:{[de.CGCS2000]:null,[de.GCSMARS2000]:ki,[de.GCSMOON2000]:null,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:null,[de.SPHERICAL_ECEF]:null,[de.SPHERICAL_MARS_PCPF]:fM,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:null,[de.WGS84]:null,[de.WGS84_ECEF]:null},[de.GCSMOON2000]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:ki,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:null,[de.SPHERICAL_ECEF]:null,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:pM,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:null,[de.WGS84]:null,[de.WGS84_ECEF]:null},[de.WEB_MERCATOR]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:Uy,[de.WGS84_COMPARABLE_LON_LAT]:Uy,[de.SPHERICAL_ECEF]:jZ,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:ki,[de.PLATE_CARREE]:VZ,[de.WGS84]:Uy,[de.WGS84_ECEF]:DZ},[de.WGS84_ECEF]:{[de.CGCS2000]:Nd,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:Nd,[de.WGS84_COMPARABLE_LON_LAT]:Nd,[de.SPHERICAL_ECEF]:GZ,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:WZ,[de.PLATE_CARREE]:Obe,[de.WGS84]:Nd,[de.WGS84_ECEF]:ki},[de.SPHERICAL_ECEF]:{[de.CGCS2000]:Fd,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:Fd,[de.WGS84_COMPARABLE_LON_LAT]:Fd,[de.SPHERICAL_ECEF]:ki,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:zZ,[de.PLATE_CARREE]:Lbe,[de.WGS84]:Fd,[de.WGS84_ECEF]:UZ},[de.SPHERICAL_MARS_PCPF]:{[de.CGCS2000]:null,[de.GCSMARS2000]:mM,[de.GCSMOON2000]:null,[de.LON_LAT]:mM,[de.WGS84_COMPARABLE_LON_LAT]:null,[de.SPHERICAL_ECEF]:null,[de.SPHERICAL_MARS_PCPF]:ki,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:null,[de.WGS84]:null,[de.WGS84_ECEF]:null},[de.SPHERICAL_MOON_PCPF]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:yM,[de.LON_LAT]:yM,[de.WGS84_COMPARABLE_LON_LAT]:null,[de.SPHERICAL_ECEF]:null,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:ki,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:null,[de.WGS84]:null,[de.WGS84_ECEF]:null},[de.UNKNOWN]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:null,[de.WGS84_COMPARABLE_LON_LAT]:null,[de.SPHERICAL_ECEF]:null,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:ki,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:null,[de.WGS84]:null,[de.WGS84_ECEF]:null},[de.LON_LAT]:{[de.CGCS2000]:ki,[de.GCSMARS2000]:ki,[de.GCSMOON2000]:ki,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:ki,[de.SPHERICAL_ECEF]:Zf,[de.SPHERICAL_MARS_PCPF]:fM,[de.SPHERICAL_MOON_PCPF]:pM,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:um,[de.PLATE_CARREE]:Pd,[de.WGS84]:ki,[de.WGS84_ECEF]:Rd},[de.WGS84_COMPARABLE_LON_LAT]:{[de.CGCS2000]:null,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:ki,[de.WGS84_COMPARABLE_LON_LAT]:ki,[de.SPHERICAL_ECEF]:Zf,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:null,[de.PLATE_CARREE]:Pd,[de.WGS84]:ki,[de.WGS84_ECEF]:Rd},[de.PLATE_CARREE]:{[de.CGCS2000]:Jf,[de.GCSMARS2000]:null,[de.GCSMOON2000]:null,[de.LON_LAT]:Jf,[de.WGS84_COMPARABLE_LON_LAT]:Jf,[de.SPHERICAL_ECEF]:Pbe,[de.SPHERICAL_MARS_PCPF]:null,[de.SPHERICAL_MOON_PCPF]:null,[de.UNKNOWN]:null,[de.WEB_MERCATOR]:Fbe,[de.PLATE_CARREE]:ki,[de.WGS84]:Jf,[de.WGS84_ECEF]:Rbe}};function XC(e){const t=dM(e,Dbe);return NZ[t][de.WGS84_COMPARABLE_LON_LAT]}function eA(e,t,i=qZ()){return e==null||t==null?null:jbe(e,t,i).projector}function oFe(e,t){switch(eA(e,t,rA)){case ki:return"copy3";case Zf:return"wgs84ToSphericalECEF";case um:return"wgs84ToWebMercator";case Pd:return"wgs84ToPlateCarree";case Rd:return"wgs84ToWGS84ECEF";case Uy:return"webMercatorToWGS84";case jZ:return"webMercatorToSphericalECEF";case DZ:return"webMercatorToWGS84ECEF";case VZ:return"webMercatorToPlateCarree";case Nd:return"wgs84ECEFToWGS84";case GZ:return"wgs84ECEFToSphericalECEF";case WZ:return"wgs84ECEFToWebMercator";case Fd:return"sphericalECEFToWGS84";case zZ:return"sphericalECEFToWebMercator";case mM:return"sphericalMarsPCPFToMars2000";case yM:return"sphericalMoonPCPFToMoon2000";case UZ:return"sphericalECEFToWGS84ECEF";case fM:return"mars2000ToSphericalPCPF";case pM:return"moon2000ToSphericalPCPF";default:return null}}function dM(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Hc(e,1)),p4(e)?t.spatialReferenceId=de.SPHERICAL_ECEF:Xy(e)?t.spatialReferenceId=de.WGS84:Tu(e)?t.spatialReferenceId=de.WEB_MERCATOR:$oe(e)?t.spatialReferenceId=de.PLATE_CARREE:e.wkt===Ioe.wkt?t.spatialReferenceId=de.WGS84_ECEF:e.wkid===c0.CGCS2000?t.spatialReferenceId=de.CGCS2000:e.wkt===b8.wkt?t.spatialReferenceId=de.SPHERICAL_MARS_PCPF:e.wkt===w8.wkt?t.spatialReferenceId=de.SPHERICAL_MOON_PCPF:EG(e)?t.spatialReferenceId=de.GCSMARS2000:TG(e)?t.spatialReferenceId=de.GCSMOON2000:t.spatialReferenceId=de.UNKNOWN):de.UNKNOWN}function ki(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function Uy(e,t,i,r){i[r]=hm*(e[t]/n0),i[r+1]=hm*(BZ-2*Math.atan(Math.exp(-e[t+1]/n0))),i[r+2]=e[t+2]}function jZ(e,t,i,r){const s=e[t]/n0,c=BZ-2*Math.atan(Math.exp(-e[t+1]/n0)),f=n0+e[t+2],m=Math.cos(c)*f;i[r]=Math.cos(s)*m,i[r+1]=Math.sin(s)*m,i[r+2]=Math.sin(c)*f}function DZ(e,t,i,r){Uy(e,t,i,r),Rd(i,r,i,r)}function Abe(e,t,i,r,s){const c=.4999999*f9,f=Rn(cm*e[t+1],-c,c),m=Math.sin(f);i[r++]=cm*e[t]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+m)/(1-m)),i[r]=e[t+2]}function um(e,t,i,r){Abe(e,t,i,r,pr)}function Pd(e,t,i,r){i[r]=e[t]*Gj,i[r+1]=e[t+1]*Gj,i[r+2]=e[t+2]}function Jf(e,t,i,r){i[r]=e[t]*Wj,i[r+1]=e[t+1]*Wj,i[r+2]=e[t+2]}function VZ(e,t,i,r){Uy(e,t,i,r),Pd(i,r,i,r)}function Obe(e,t,i,r){Nd(e,t,i,r),Pd(i,r,i,r)}function Lbe(e,t,i,r){Fd(e,t,i,r),Pd(i,r,i,r)}function Pbe(e,t,i,r){Jf(e,t,i,r),Zf(i,r,i,r)}function Fbe(e,t,i,r){Jf(e,t,i,r),um(i,r,i,r)}function Rbe(e,t,i,r){Jf(e,t,i,r),Rd(i,r,i,r)}function tA(e,t,i,r,s){const c=s+e[t+2],f=cm*e[t+1],m=cm*e[t],b=Math.cos(f)*c;i[r]=Math.cos(m)*b,i[r+1]=Math.sin(m)*b,i[r+2]=Math.sin(f)*c}function pM(e,t,i,r){tA(e,t,i,r,Qd.radius)}function fM(e,t,i,r){tA(e,t,i,r,bu.radius)}function Zf(e,t,i,r){tA(e,t,i,r,pr.radius)}function iA(e,t,i,r,s){const c=e[t],f=e[t+1],m=e[t+2],b=Math.sqrt(c*c+f*f+m*m),x=F8(m/(b===0?1:b)),T=Math.atan2(f,c);i[r++]=hm*T,i[r++]=hm*x,i[r]=b-s}function yM(e,t,i,r){iA(e,t,i,r,Qd.radius)}function mM(e,t,i,r){iA(e,t,i,r,bu.radius)}function Fd(e,t,i,r){iA(e,t,i,r,pr.radius)}function zZ(e,t,i,r){Fd(e,t,i,r),um(i,r,i,r)}function UZ(e,t,i,r){Fd(e,t,i,r),Rd(i,r,i,r)}function Nbe(e,t,i,r,s){const c=cm*e[t],f=cm*e[t+1],m=e[t+2],b=Math.sin(f),x=Math.cos(f),T=s.radius/Math.sqrt(1-s.eccentricitySquared*b*b);i[r++]=(T+m)*x*Math.cos(c),i[r++]=(T+m)*x*Math.sin(c),i[r++]=(T*(1-s.eccentricitySquared)+m)*b}function Rd(e,t,i,r){Nbe(e,t,i,r,pr)}function Nd(e,t,i,r){const s=kbe,c=e[t],f=e[t+1],m=e[t+2];let b,x,T,C,L,N,D,G,q,J,ne,ue,ae,pe,ge,Ae,Ce,qe,Ge,Ue,et;b=Math.abs(m),x=c*c+f*f,T=Math.sqrt(x),C=x+m*m,L=Math.sqrt(C),Ue=Math.atan2(f,c),N=m*m/C,D=x/C,pe=s.a2/L,ge=s.a3-s.a4/L,D>.3?(G=b/L*(1+D*(s.a1+pe+N*ge)/L),Ge=Math.asin(G),J=G*G,q=Math.sqrt(1-J)):(q=T/L*(1-N*(s.a5-pe-D*ge)/L),Ge=Math.acos(q),J=1-q*q,G=Math.sqrt(J)),ne=1-pr.eccentricitySquared*J,ue=pr.radius/Math.sqrt(ne),ae=s.a6*ue,pe=T-ue*q,ge=b-ae*G,Ce=q*pe+G*ge,Ae=q*ge-G*pe,qe=Ae/(ae/ne+Ce),Ge+=qe,et=Ce+Ae*qe/2,m<0&&(Ge=-Ge),i[r++]=hm*Ue,i[r++]=hm*Ge,i[r]=et}function GZ(e,t,i,r){Nd(e,t,i,r),Zf(i,r,i,r)}function WZ(e,t,i,r){Nd(e,t,i,r),um(i,r,i,r)}function jbe(e,t,i){if(e==null||t==null||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const r=dM(e,i.source),s=dM(t,i.dest);return r===de.UNKNOWN&&s===de.UNKNOWN?cn(e,t)?i.projector=ki:i.projector=null:i.projector=NZ[r][s],i}function qZ(){return{source:{spatialReference:null,spatialReferenceId:de.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:de.UNKNOWN,metersPerUnit:1},projector:ki}}const Dbe={spatialReference:null,spatialReferenceId:de.UNKNOWN},aFe={spatialReference:null,spatialReferenceId:de.UNKNOWN},rA=qZ(),cm=Dle(1),hm=Vle(1),f9=Math.PI,BZ=.5*f9,n0=pr.radius,Gj=n0*f9/180,Wj=180/(n0*f9);function zm(e,t,i,r,s,c,f=1){const m=eA(t,s,rA);if(m==null)return!1;if(m===ki){if(e===r&&i===c)return!0;const x=i+3*f;for(let T=i,C=c;T<x;T++,C++)r[C]=e[T];return!0}const b=i+3*f;for(let x=i,T=c;x<b;x+=3,T+=3)m(e,x,r,T);return!0}const lFe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:zm},Symbol.toStringTag,{value:"Module"}));function qj(e,t,i,r,s,c){return P3[0]=e,P3[1]=t,P3[2]=i,zm(P3,r,0,s,c,0,1)}const P3=Je();let F3=0,wx=class gM{static fromGE(t){const i=new gM;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=F3++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=F3++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=F3++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=F3++}getInverse(){const t=new gM;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},N4=class Vv{static cacheKey(t,i){var r,s,c,f,m,b;return[((r=t.wkid)==null?void 0:r.toString())??"-1",((s=t.wkt)==null?void 0:s.toString())??"",((c=t.wkt2)==null?void 0:c.toString())??"",((f=i.wkid)==null?void 0:f.toString())??"-1",((m=i.wkt)==null?void 0:m.toString())??"",((b=i.wkt2)==null?void 0:b.toString())??""].join()}static fromGE(t){const i=new Vv;let r="";for(const s of t.steps){const c=wx.fromGE(s);i.steps.push(c),r+=c.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof wx?this.steps.push(i):this.steps.push(new wx({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new Vv;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];t.steps.push(r.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,r){this._cachedProjection[Vv.cacheKey(t,i)]=r}getCachedGeTransformation(t,i){let r="";for(const c of this.steps)r+=c.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[Vv.cacheKey(t,i)];return s===void 0?null:s}},Sl=null,sp=null,$b=null,E_={};const nA=new ES;function Um(){return!!Sl&&bG()}function HZ(){return!!Um()||(It(nA),dm(),!1)}function Vbe(e,t){return!e||!t||Zc(e,t)||HZ()}function zbe(e,t){return!Zc(e,t)&&!Um()}function dm(e){return $b==null&&($b=Promise.all([wG(),te(()=>Promise.resolve().then(()=>Dxe),void 0).then(t=>t.g),te(()=>Promise.resolve().then(()=>Bxe),void 0)])),$b.then(([,t,{hydratedAdapter:i}])=>{dr(e),sp=i,Sl=t.default,Sl._enableProjection(boe),nA.notify()})}function pm(e,t,i=null,r=null){return Array.isArray(e)?e.length===0?[]:vM(sp,e,e[0].spatialReference,t,i,r):vM(sp,[e],e.spatialReference,t,i,r)[0]}function vM(e,t,i,r,s=null,c=null){if(i==null||r==null)return t;if(Zc(i,r,s))return t.map(f=>T_(f,i,r));if(s==null&&p4(i))return t.map(f=>T_(f,i,Lt.WGS84)).map(f=>fm(f,r));if(s==null&&p4(r))return t.map(f=>fm(f,Lt.WGS84)).map(f=>T_(f,Lt.WGS84,r));if(s==null){const f=N4.cacheKey(i,r);E_[f]!==void 0?s=E_[f]:((s=KZ(i,r,void 0))==null&&(s=new N4),E_[f]=s)}if(Sl==null||e==null)throw new y9;return c!=null?Sl._project(e,t,i,r,s,c):Sl._project(e,t,i,r,s)}function JZ(e,t){const i=ZZ([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function ZZ(e,t){if(!Um()){for(const i of e)if(i!=null&&!cn(i.spatialReference,t)&&Cd(i.spatialReference)&&Cd(t)&&!Zc(i.spatialReference,t))return It(nA),{pending:dm(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:cn(i.spatialReference,t)?i:Cd(i.spatialReference)&&Cd(t)?fm(i,t):null)}}function KZ(e,t,i=null){if(e==null||t==null)return null;if(Sl==null||sp==null)throw new y9;const r=Sl._getTransformation(sp,e,t,i,i==null?void 0:i.spatialReference);return r!==null?N4.fromGE(r):null}function Ube(e,t,i=null){if(Sl==null||sp==null)throw new y9;const r=Sl._getTransformationBySuitability(sp,e,t,i,i==null?void 0:i.spatialReference);if(r!==null){const s=[];for(const c of r)s.push(N4.fromGE(c));return s}return[]}let y9=class extends me{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Gbe(){Sl=null,sp=null,$b=null,E_={}}const Wbe={get loadPromise(){return $b}};function fm(e,t){try{const i=pm(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=tZ(i.type,e.spatialReference,t);return r!=null&&r(i),i}catch(i){if(!(i instanceof y9))throw i;return null}}async function qbe(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await V2(r,t,null,i),fm(e,t)}function Zc(e,t,i){return!i&&(!!cn(e,t)||Cd(e)&&Cd(t)&&!!eA(e,t,rA))}async function V2(e,t,i,r){if(Um())return TF(r);if(Array.isArray(e)){for(const{source:s,dest:c,geographicTransformation:f}of e)if(s&&c&&!Zc(s,c,f))return dm(r)}else if(e&&t&&!Zc(e,t,i))return dm(r);return TF(r)}function T_(e,t,i){return e?"x"in e?YZ(e,t,new Hi,i,0):"xmin"in e?tK(e,t,new rr,i,0):"rings"in e?eK(e,t,new wl,i,0):"paths"in e?XZ(e,t,new M0,i,0):"points"in e?QZ(e,t,new Mm,i,0):null:null}function Bbe(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&YZ(e,e.spatialReference,t,i,r)!=null}function YZ(e,t,i,r,s){ss[0]=e.x,ss[1]=e.y;const c=e.z;return ss[2]=c!==void 0?c:s,zm(ss,t,0,ss,r,0,1)?(i.x=ss[0],i.y=ss[1],i.spatialReference=r,c!==void 0||Xd(r)?(i.z=ss[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function Hbe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&QZ(e,e.spatialReference,t,i,r)!=null}function QZ(e,t,i,r,s){const{points:c,hasZ:f,hasM:m}=e,b=[],x=c.length,T=[];for(const L of c)T.push(L[0],L[1],f?L[2]:s);if(!zm(T,t,0,T,r,0,x))return null;const C=f||Xd(r);for(let L=0;L<x;++L){const N=3*L,D=T[N],G=T[N+1];C&&m?b.push([D,G,T[N+2],c[L][3]]):C?b.push([D,G,T[N+2]]):m?b.push([D,G,c[L][2]]):b.push([D,G])}return i.points=b,i.spatialReference=r,i.hasZ=f,i.hasM=m,i}function Jbe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&XZ(e,e.spatialReference,t,i,r)!=null}function XZ(e,t,i,r,s){const{paths:c,hasZ:f,hasM:m}=e,b=[];if(!iK(c,f??!1,m??!1,t,b,r,s))return null;const x=f||Xd(r);return i.paths=b,i.spatialReference=r,i.hasZ=x,i.hasM=m,i}function Zbe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&eK(e,e.spatialReference,t,i,r)!=null}function eK(e,t,i,r,s){const{rings:c,hasZ:f,hasM:m}=e,b=[];if(!iK(c,f??!1,m??!1,t,b,r,s))return null;const x=f||Xd(r);return i.rings=b,i.spatialReference=r,i.hasZ=x,i.hasM=m,i}function Kbe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&tK(e,e.spatialReference,t,i,r)!=null}function tK(e,t,i,r,s){const{xmin:c,ymin:f,xmax:m,ymax:b,hasZ:x,hasM:T}=e,C=x?e.zmin:s;if(!qj(c,f,C,t,ss,r))return null;const L=x||Xd(r);i.xmin=ss[0],i.ymin=ss[1],L&&(i.zmin=ss[2]);const N=x?e.zmax:s;return qj(m,b,N,t,ss,r)?(i.xmax=ss[0],i.ymax=ss[1],L&&(i.zmax=ss[2]),T&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function iK(e,t,i,r,s,c,f=0){const m=new Array;for(const T of e)for(const C of T)m.push(C[0],C[1],t?C[2]:f);if(!zm(m,r,0,m,c,0,m.length/3))return!1;let b=0;s.length=0;const x=t||Xd(c);for(const T of e){const C=new Array;for(const L of T)x&&i?C.push([m[b++],m[b++],m[b++],L[3]]):x?C.push([m[b++],m[b++],m[b++]]):i?(C.push([m[b++],m[b++],L[2]]),b++):(C.push([m[b++],m[b++]]),b++);s.push(C)}return!0}function Ybe(e){return e!=null&&XC(e)!=null}const ss=Je(),cFe=Object.freeze(Object.defineProperty({__proto__:null,canProjectToWGS84ComparableLonLat:Ybe,canProjectWithoutEngine:Zc,getTransformation:KZ,getTransformations:Ube,initializeProjection:V2,isLoaded:Um,isLoadedOrLoad:HZ,isLoadedOrLoadFor:Vbe,load:dm,project:pm,projectExtent:Kbe,projectMany:vM,projectMultipoint:Hbe,projectOrLoad:JZ,projectOrLoadMany:ZZ,projectPoint:Bbe,projectPolygon:Zbe,projectPolyline:Jbe,projectWithZConversion:qbe,projectWithoutEngine:T_,requiresLoad:zbe,test:Wbe,tryProjectWithZConversion:fm,unload:Gbe},Symbol.toStringTag,{value:"Module"}));async function Qbe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return wy(e);const i=Lt.WGS84;return await V2(t,i),pm(e,i)}function Xbe(e,t){if(!rK(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function rK(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function hFe(e){return rK(e,nK.HOSTED_SERVICE)}function e2e(e,t){const i=e.typeKeywords;if(i){const r=i.indexOf(t);r>-1&&i.splice(r,1)}}function dFe(e,t,i){i?Xbe(e,t):e2e(e,t)}async function pFe(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return Qbe(i)}const nK={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function Bj(e){var b;const{portal:t,isOrgItem:i,itemControl:r}=e,s=(b=t.user)==null?void 0:b.privileges;let c=!s||s.includes("features:user:edit"),f=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const m=r==="update"||r==="admin";return m?f=c=!0:f&&(c=!0),{features:{edit:c,fullEdit:f},content:{updateItem:m}}}const t2e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=tr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,s){if(r.itemId)return new Gd({id:r.itemId,portal:s==null?void 0:s.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:c}=await te(()=>import("./layersLoader-C1ZWa6HC.js"),__vite__mapDeps([158,17,13,11,12,10]));return dr(r),await c({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap},r)}catch(c){throw cs(c)||ke.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${c}`),c}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(pu(r),!0)))}async setUserPrivileges(i,r){if(!ai.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:s,fullEdit:c},content:{updateItem:f}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",c),this._set("userHasUpdateItemPrivileges",f)}catch(s){pu(s)}}async _fetchUserPrivileges(i,r){let s=this.portalItem;if(!i||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(r);const c=i===s.id;if(c&&s.portal.user)return Bj(s);let f,m;if(c)f=s.portal.url;else try{f=await O8(this.url,r)}catch(C){pu(C)}if(!f||!xse(f,s.portal.url))return this._fetchFallbackUserPrivileges(r);try{const C=r!=null?r.signal:null;m=await(Et==null?void 0:Et.getCredential(`${f}/sharing`,{prompt:!1,signal:C}))}catch(C){pu(C)}const b=!0,x=!1,T=!1;if(!m)return{features:{edit:b,fullEdit:x},content:{updateItem:T}};try{if(c?await s.reload():(s=new Gd({id:i,portal:{url:f}}),await s.load(r)),s.portal.user)return Bj(s)}catch(C){pu(C)}return{features:{edit:b,fullEdit:x},content:{updateItem:T}}}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(s){pu(s)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?Et==null?void 0:Et.findCredential(this.url):null;if(!r)return!0;const s=R3.credential===r?R3.user:await this._fetchEditingUser(i);return R3.credential=r,R3.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var T,C;const r=(C=(T=this.portalItem)==null?void 0:T.portal)==null?void 0:C.user;if(r)return r;const s=Et.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const c=`${s.owningSystemUrl}/sharing/rest`,f=Xr.getDefault();if(f&&f.loaded&&wa(f.restUrl)===wa(c))return f.user;const m=`${c}/community/self`,b=i!=null?i.signal:null,x=await f8(Ut(m,{authMode:"no-prompt",query:{f:"json"},signal:b}));return x.ok?M8.fromJSON(x.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var f;const s=r==null?void 0:r.portal,c=((f=this.portalItem)==null?void 0:f.id)&&(this.portalItem.portal||Xr.getDefault());return s&&c&&!rG(c.restUrl,s.restUrl)?(r.messages&&r.messages.push(new me("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return g([S({type:Gd})],t.prototype,"portalItem",null),g([Pe("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),g([De("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),g([S({clonable:!1})],t.prototype,"resourceReferences",void 0),g([S({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),g([S({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),g([S({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=g([Q("esri.layers.mixins.PortalLayer")],t),t},R3={credential:null,user:null};let zv=class extends ht{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};g([S()],zv.prototype,"updating",void 0),g([S()],zv.prototype,"status",void 0),zv=g([Q("esri.layers.support.PublishingInfo")],zv);const i2e=zv,sK="esri.layers.mixins.PublishableLayer",r2e=Symbol(sK),n2e=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const r=this._get("publishingInfo");if(r)return r;const s=new i2e;return this._checkPublishingStatus(s),s}_checkPublishingStatus(r){let f=0;const m=async x=>{let T;r.updating=!0;try{T=await this.fetchPublishingStatus()}catch{T="unavailable"}T!=="published"&&T!=="unavailable"||(r.status==="publishing"&&this.refresh(),b.remove()),r.status=T,r.updating=!1,b.removed||(f=setTimeout(m,x,x+125))},b={removed:!1,remove(){this.removed=!0,clearTimeout(f)}};this.when().catch(()=>b.remove()),m(250),this.addHandles(b)}};return t=r2e,g([S({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=g([Q(sK)],i),i},jd=new it,xb=new WeakMap;function s2e(e){a2e(e)&&jd.push(new WeakRef(e))}function o2e(e){const t=jd.find(i=>i.deref()===e);t&&jd.remove(t)}function a2e(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function oK(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:oK(t,e%t):0}let _x=0,N3=0;function l2e(){const e=Date.now();let t=!1;for(const i of jd){const r=i.deref();r?r.refreshInterval&&e-(xb.get(r)??0)+5>=6e4*r.refreshInterval&&(xb.set(r,e),r.refresh(e)):t=!0}if(t)for(let i=jd.length-1;i>=0;i--)jd.at(i).deref()||jd.removeAt(i)}Hk(()=>{const e=Date.now();let t=0;for(const i of jd){const r=i.deref();r&&(t=oK(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?xb.get(r)||xb.set(r,e):xb.delete(r))}if(t!==N3){if(N3=t,clearInterval(_x),N3===0)return void(_x=0);_x=setInterval(l2e,N3)}});function yFe(e){return e!=null&&typeof e=="object"&&"refreshTimestamp"in e&&"refresh"in e}const Hj=.1,u2e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=ba(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||s2e(this)},()=>{})}destroy(){o2e(this)}castRefreshInterval(i){return i>=Hj?i:i<=0?0:Hj}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){ky(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{ke.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){const i=this;return{set refreshInterval(r){i._set("refreshInterval",r)}}}};return g([S({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:hs}}}}})],t.prototype,"refreshInterval",void 0),g([bi("refreshInterval")],t.prototype,"castRefreshInterval",null),g([S({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),g([S({readOnly:!0})],t.prototype,"refreshParameters",null),t=g([Q("esri.layers.mixins.RefreshableLayer")],t),t},aK=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&c2e(i,r.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===i.minScale&&s.maxScale===i.maxScale?s:i}};return g([S({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),g([S({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),g([S({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=g([Q("esri.layers.mixins.ScaleRangeLayer")],t),t};function c2e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const lK=kn()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Uv=class extends ti($e){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return Hf(this.value,this.unit,"milliseconds")}};g([at(lK,{nonNullable:!0})],Uv.prototype,"unit",void 0),g([S({type:Number,json:{write:!0},nonNullable:!0})],Uv.prototype,"value",void 0),Uv=g([Q("esri.TimeInterval")],Uv);const ym=Uv;function Jj(e,t){return ym.fromJSON({value:e,unit:t})}let Qn=class extends ti($e){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(t,i){if(!i.timeExtent||!Array.isArray(i.timeExtent)||i.timeExtent.length!==2)return null;const r=new Date(i.timeExtent[0]),s=new Date(i.timeExtent[1]);return new Fr({start:r,end:s})}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=[t.start.getTime(),t.end.getTime()]:i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?Jj(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?Jj(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};g([S({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Qn.prototype,"cumulative",void 0),g([S({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Qn.prototype,"endField",void 0),g([S({type:Fr,json:{write:{enabled:!0,allowNull:!0}}})],Qn.prototype,"fullTimeExtent",void 0),g([Pe("fullTimeExtent",["timeExtent"])],Qn.prototype,"readFullTimeExtent",null),g([De("fullTimeExtent")],Qn.prototype,"writeFullTimeExtent",null),g([S({type:Boolean,json:{write:!0}})],Qn.prototype,"hasLiveData",void 0),g([S({type:ym,json:{write:{enabled:!0,allowNull:!0}}})],Qn.prototype,"interval",void 0),g([Pe("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Qn.prototype,"readInterval",null),g([De("interval")],Qn.prototype,"writeInterval",null),g([S({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Qn.prototype,"startField",void 0),g([S(x4("timeReference",!0))],Qn.prototype,"timeZone",void 0),g([S({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Qn.prototype,"trackIdField",void 0),g([S({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Qn.prototype,"useTime",void 0),Qn=g([Q("esri.layers.support.TimeInfo")],Qn);const uK=Qn,h2e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const s=r.timeInfo.exportOptions;if(!s)return null;const c=s.timeOffset,f=lK.fromJSON(s.timeOffsetUnits);return c&&f?new ym({value:c,unit:f}):null}set timeInfo(i){LB(i,this.fieldsIndex),this._set("timeInfo",i)}};return g([S({type:Fr,json:{write:!1}})],t.prototype,"timeExtent",void 0),g([S({type:ym})],t.prototype,"timeOffset",void 0),g([Pe("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),g([S({value:null,type:uK,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),g([S({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=g([Q("esri.layers.mixins.TemporalLayer")],t),t},Zj=new At({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let td=class extends ti($e){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};g([S({json:{write:!0}})],td.prototype,"name",void 0),g([S({json:{write:!0}})],td.prototype,"description",void 0),g([S({json:{read:Zj.read,write:Zj.write}})],td.prototype,"drawingTool",void 0),g([S({json:{write:!0}})],td.prototype,"prototype",void 0),g([S({json:{write:!0}})],td.prototype,"thumbnail",void 0),td=g([Q("esri.layers.support.FeatureTemplate")],td);const sA=td;let dc=class extends ti($e){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const i={};for(const r of Object.keys(t))i[r]=l9(t[r]);return i}writeDomains(t,i){var s;const r={};for(const c of Object.keys(t))t[c]&&(r[c]=(s=t[c])==null?void 0:s.toJSON());i.domains=r}};g([S({json:{write:!0}})],dc.prototype,"id",void 0),g([S({json:{write:!0}})],dc.prototype,"name",void 0),g([S({json:{write:!0}})],dc.prototype,"domains",void 0),g([Pe("domains")],dc.prototype,"readDomains",null),g([De("domains")],dc.prototype,"writeDomains",null),g([S({type:[sA],json:{write:!0}})],dc.prototype,"templates",void 0),dc=g([Q("esri.layers.support.FeatureType")],dc);const cK=dc;function d2e(){return{fields:{type:[FC],value:null,set:function(e){if(e&&Ee("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(r=>`'${r.name}'`).join(", ");ke.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return JH.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||ke.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return A0(this.fieldsIndex,e)}}}}const Sx=()=>ke.getLogger("esri.layers.support.labelingInfo"),p2e=/\[([^\[\]]+)\]/gi;function $x(e,t,i){return e?e.map(r=>{var c;const s=new d9;if(s.read(r,i),s.labelExpression){const f=t.fields||((c=t.layerDefinition)==null?void 0:c.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(p2e,(m,b)=>`[${f2e(b,f)}]`)}return s}):null}function f2e(e,t){if(!t)return e;const i=e.toLowerCase();for(let r=0;r<t.length;r++){const s=t[r].name;if(s.toLowerCase()===i)return s}return e}const y2e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function wFe(e,t){const i=ye(e);return i.some(r=>m2e(r,t))?[]:i}function m2e(e,t){const i=e.labelPlacement,r=y2e[t];if(!e.symbol)return Sx().warn("No ILabelClass symbol specified."),!0;if(!r)return Sx().error(new me("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0;if(!r.includes(i)){const s=r[0];i&&Sx().warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${s}`),e.labelPlacement=s}return!1}const pc=[];function g2e(e,t){if(sZ(e.url??""))return!0;const{wkid:i}=t;for(const r of pc){if((e.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}pc.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),pc.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),pc.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),pc.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),pc.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]),pc.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),pc.push([10.61,()=>new Set([102497])]),pc.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]);async function v2e(e,t,i){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const s=await f8(r.populateFromStyle());if(dr(i),s.ok===!1){const c=s.error;t!=null&&t.messages&&t.messages.push(new xu("renderer:style-reference",`Failed to create unique value renderer from style reference: ${c.message}`,{error:c,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}var bM;let J1=bM=class extends $e{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new bM({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};g([S({type:[String],json:{write:!0}})],J1.prototype,"groupByFields",void 0),g([S({type:Number,json:{write:!0}})],J1.prototype,"topCount",void 0),g([S({type:[String],json:{write:!0}})],J1.prototype,"orderByFields",void 0),J1=bM=g([Q("esri.rest.support.TopFilter")],J1);const b2e=J1;var wM;const Kj=new At({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Yj=new At({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Wi=wM=class extends $e{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new wM(ye({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};g([S({type:Boolean,json:{write:!0}})],Wi.prototype,"cacheHint",void 0),g([S({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Wi.prototype,"distance",void 0),g([S({types:hp,json:{read:Jc,write:!0}})],Wi.prototype,"geometry",void 0),g([S({type:Number,json:{write:!0}})],Wi.prototype,"geometryPrecision",void 0),g([S({type:Number,json:{write:!0}})],Wi.prototype,"maxAllowableOffset",void 0),g([S({type:Number,json:{read:{source:"resultRecordCount"}}})],Wi.prototype,"num",void 0),g([S({json:{write:!0}})],Wi.prototype,"objectIds",void 0),g([S({type:[String],json:{write:!0}})],Wi.prototype,"orderByFields",void 0),g([S({type:[String],json:{write:!0}})],Wi.prototype,"outFields",void 0),g([S({type:Lt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Wi.prototype,"outSpatialReference",void 0),g([S({type:String,json:{write:!0}})],Wi.prototype,"resultType",void 0),g([S({json:{write:!0}})],Wi.prototype,"returnGeometry",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Wi.prototype,"returnM",void 0),g([S({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Wi.prototype,"returnZ",void 0),g([S({type:Number,json:{read:{source:"resultOffset"}}})],Wi.prototype,"start",void 0),g([De("start"),De("num")],Wi.prototype,"writeStart",null),g([S({type:String,json:{read:{source:"spatialRel",reader:Kj.read},write:{target:"spatialRel",writer:Kj.write}}})],Wi.prototype,"spatialRelationship",void 0),g([S({type:Fr,json:{write:!0}})],Wi.prototype,"timeExtent",void 0),g([S({type:b2e,json:{write:!0}})],Wi.prototype,"topFilter",void 0),g([S({type:String,json:{read:Yj.read,write:{writer:Yj.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null&&this.distance>0}}}}})],Wi.prototype,"units",void 0),g([S({type:String,json:{write:!0}})],Wi.prototype,"where",void 0),Wi=wM=g([Q("esri.rest.support.TopFeaturesQuery")],Wi),Wi.from=wr(Wi);const j3=Wi;function w2e({displayField:e,editFieldsInfo:t,fields:i,objectIdField:r,title:s},c){if(!i)return null;const f=x2e({editFieldsInfo:t,fields:i,objectIdField:r},c);if(!f.length)return null;const m=I2e({titleBase:s,fields:i,displayField:e}),b=T2e();return new I2({title:m,content:b,fieldInfos:f})}const _2e=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):RB(e,t);function S2e(e,t){const i=e;return t&&(e=e.filter(r=>!t.includes(r.type))),e===i&&(e=e.slice()),e.sort($2e),e}function $2e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:Qj(e)?-1:Qj(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function x2e(e,t){const i=t==null?void 0:t.visibleFieldNames;return S2e(e.fields??[],(t==null?void 0:t.ignoreFieldTypes)||M2e).map(r=>new lC({fieldName:r.name,isEditable:Fpe(r,e),label:r.alias,format:E2e(r),visible:_2e(r,{...e,visibleFieldNames:i})}))}function E2e(e){switch(e.type){case"small-integer":case"integer":case"single":return new j5({digitSeparator:!0,places:0});case"double":return new j5({digitSeparator:!0,places:2});case"string":return TT(e.name)?new j5({digitSeparator:!0,places:0}):null;default:return null}}function T2e(){return[new Kb,new Zb]}function I2e(e){const t=rC(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function Qj(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"}const M2e=["geometry","blob","raster","guid","xml"];var mu;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(mu||(mu={}));const ys="FeatureLayer";function D3(e,t){return new me("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function Xj(e){return e&&e instanceof it}const xx=d2e();function Ex(e,t,i){const r=!!(i!=null&&i.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}let ut=class extends Fve(Sbe(Oge(n2e(_ge(uZ(Ibe(h2e(aK(u2e(Jme(xbe(t2e(VS(vge(Vme(ti(z8))))))))))))))))){constructor(...e){super(...e),this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Lt.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=ba(async(t,i,r)=>{const{save:s,saveAs:c}=await te(()=>import("./featureLayerUtils-D0W4UOu4.js"),__vite__mapDeps([159,160,161,162,163,164,17,13]));switch(t){case mu.SAVE:return s(this,i);case mu.SAVE_AS:return c(this,r,i)}})}destroy(){var e;(e=this.source)==null||e.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var r;const t=e!=null?e.signal:null;if((r=this.portalItem)!=null&&r.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this.initLayerProperties(s))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(pu).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstValidLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new me("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>gve(this,"load",e));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,TZ(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return vve(this)}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,r){r!=null&&r.writeLayerSchema&&un(i,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return $Z(t.layerDefinition||t)}readObjectIdField(e,t){return xZ(t.layerDefinition||t)}get parsedUrl(){const e=Nr(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=Ky(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Ky(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){aN(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){var s;t=t.layerDefinition||t;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if(r){const c=Xb(r,t,i)??void 0;return c||ke.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),c}return JC(t,i)}set source(e){const t=this._get("source");t!==e&&(Xj(t)&&this._resetMemorySource(t),Xj(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof it?new Mc({layer:this,items:e}):e:null}readSource(e,t){const i=u9.fromJSON(t.featureSet);return new Mc({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(e,t){const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e=e==null?void 0:e.map(c=>sA.fromJSON(c)),this._fixTemplates(e,r),this._fixTemplates(e,s),e}readTitle(e,t){var s,c,f;const i=((s=t.layerDefinition)==null?void 0:s.name)??t.name,r=t.title||((c=t.layerDefinition)==null?void 0:c.title);if(i){const m=(f=this.portalItem)==null?void 0:f.title;if(this.sublayerTitleMode==="item-title")return this.url?Wme(this.url,i):i;let b=i;if(!b&&this.url){const x=wu(this.url);x!=null&&(b=x.title)}return b?(this.sublayerTitleMode==="item-title-and-service-name"&&m&&m!==b&&(b=m+" - "+b),RC(b)):void 0}if(this.sublayerTitleMode==="item-title"&&r)return r}readTitleFromWebMap(e,t){var i;return t.title||((i=t.layerDefinition)==null?void 0:i.name)}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const r=t.fields.find(s=>s.name.toLowerCase()===i);r&&(i=r.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e==null?void 0:e.map(c=>(c=cK.fromJSON(c),this._fixTemplates(c.templates,r),this._fixTemplates(c.templates,s),c))}readVisible(e,t){var i;return((i=t.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){return tve(this,e,t,ys)}async updateAttachment(e,t,i){return ive(this,e,t,i,ys)}async applyEdits(e,t){return rve(this,e,t)}async uploadAssets(e,t){return nve(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return w2e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await Jy(te(()=>import("./FeatureLayerSource-BxuUdj8i.js"),__vite__mapDeps([165,66,67,68,166,167,157,39,40,50,45,168,169,80,78,79,23,21,22,170,171,20])),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=fve(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=zS(this.definitionExpression,t);return e.where=i||"1=1",e}async deleteAttachments(e,t){return sve(this,e,t,ys)}async fetchRecomputedExtents(e){return ove(this,e,ys)}getFeatureType(e){const{typeIdField:t,types:i}=this;if(!t||!e)return null;const r=e.attributes?e.attributes[t]:void 0;if(r==null)return null;let s=null;return i==null||i.some(c=>{const{id:f}=c;return f!=null&&(f.toString()===r.toString()&&(s=c),!!s)}),s}getFieldDomain(e,t){const i=t==null?void 0:t.feature,r=this.getFeatureType(i);if(r){const s=r.domains&&r.domains[e];if(s&&s.type!=="inherited")return s}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return ave(this,e,t,ys)}async queryFeatures(e,t){const i=await this.load(),r=await i.source.queryFeatures(ih.from(e)??i.createQuery(),t);if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=i;return r}async queryObjectIds(e,t){return lve(this,e,t,ys)}async queryFeatureCount(e,t){return uve(this,e,t,ys)}async queryExtent(e,t){return cve(this,e,t,ys)}async queryRelatedFeatures(e,t){return hve(this,e,t,ys)}async queryRelatedFeaturesCount(e,t){return dve(this,e,t,ys)}async queryTopFeatures(e,t){var c;const{source:i,capabilities:r}=await this.load();if(!i.queryTopFeatures||!((c=r==null?void 0:r.query)!=null&&c.supportsTopFeaturesQuery))throw new me(ys,"Layer source does not support queryTopFeatures capability");const s=await i.queryTopFeatures(j3.from(e),t);if(s!=null&&s.features)for(const f of s.features)f.layer=f.sourceLayer=this;return s}async queryTopObjectIds(e,t){const{source:i,capabilities:r}=await this.load();if(!i.queryTopObjectIds||!(r!=null&&r.query.supportsTopFeaturesQuery))throw new me(ys,"Layer source does not support queryTopObjectIds capability");return i.queryTopObjectIds(j3.from(e),t)}async queryTopFeaturesExtent(e,t){var s;const{source:i,capabilities:r}=await this.load();if(!i.queryTopExtents||!((s=r==null?void 0:r.query)!=null&&s.supportsTopFeaturesQuery))throw new me(ys,"Layer source does not support queryTopExtents capability");return i.queryTopExtents(j3.from(e),t)}async queryTopFeatureCount(e,t){var s;const{source:i,capabilities:r}=await this.load();if(!i.queryTopCount||!((s=r==null?void 0:r.query)!=null&&s.supportsTopFeaturesQuery))throw new me(ys,"Layer source does not support queryFeatureCount capability");return i.queryTopCount(j3.from(e),t)}read(e,t){const i=e.featureCollection;if((i||e.type==="Feature Collection")&&(this.resourceInfo=e),i){const r=i.layers;r&&r.length===1&&(super.read(r[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:r,messages:s}=t;if(this.dynamicDataSource)return s==null||s.push(D3(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&r!=="tables")return s==null||s.push(D3(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return s==null||s.push(D3(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&r==="tables")return s==null||s.push(D3(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new me(ys,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||g2e(this,e))}async save(e){return this._debouncedSaveOperations(mu.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(mu.SAVE_AS,t,e)}_readEditingEnabled(e,t,i){var s;let r=(s=e.layerDefinition)==null?void 0:s.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,r){var s,c;if(!e){const f=(c=(s=this.capabilities)==null?void 0:s.operations)!=null&&c.supportsSync?"Query,Sync":"Query";un("layerDefinition.capabilities",f,t),i&&!(r!=null&&r.writeLayerSchema)&&(t.capabilities=f)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstValidLayerId(e){return Ut(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),aN(this.renderer,this.fieldsIndex),LB(this.timeInfo,this.fieldsIndex),v2e(this,{origin:"service"})}async hasDataChanged(){return pve(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,i;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(r=>r.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{var s;const r=(s=i.prototype)==null?void 0:s.attributes;r&&t&&delete r[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new me("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new me("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};g([Pe("service","capabilities")],ut.prototype,"readCapabilities",null),g([S({json:{origins:{"web-scene":{write:!1}},write:!0}})],ut.prototype,"charts",void 0),g([S({readOnly:!0})],ut.prototype,"createQueryVersion",null),g([S({json:{read:{source:"layerDefinition.copyrightText"}}})],ut.prototype,"copyright",void 0),g([S({json:{read:{source:"layerDefinition.displayField"}}})],ut.prototype,"displayField",void 0),g([S({types:ml,readOnly:!0})],ut.prototype,"defaultSymbol",void 0),g([S({type:pl})],ut.prototype,"dynamicDataSource",void 0),g([S({type:Boolean})],ut.prototype,"editingEnabled",null),g([Pe(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ut.prototype,"readEditingEnabled",null),g([Pe("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ut.prototype,"readEditingEnabledFromWebMap",null),g([De(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ut.prototype,"writeEditingEnabled",null),g([De("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ut.prototype,"writeEditingEnabledToWebMap",null),g([S({readOnly:!0})],ut.prototype,"effectiveEditingEnabled",null),g([S({...xx.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ex}}}}})],ut.prototype,"fields",void 0),g([S(xx.fieldsIndex)],ut.prototype,"fieldsIndex",void 0),g([S({type:JJ,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ut.prototype,"formTemplate",void 0),g([S({json:{read:{source:"layerDefinition.extent"}}})],ut.prototype,"fullExtent",void 0),g([S({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ex,writer(e,t,i){const r=e?tM.toJSON(e):null;r&&un(i,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:tM.read}}})],ut.prototype,"geometryType",void 0),g([S({json:{read:{source:"layerDefinition.hasM"}}})],ut.prototype,"hasM",void 0),g([S({json:{read:{source:"layerDefinition.hasZ"}}})],ut.prototype,"hasZ",void 0),g([S(Zge)],ut.prototype,"id",void 0),g([S({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ut.prototype,"infoFor3D",void 0),g([S({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ut.prototype,"isTable",void 0),g([Pe("service","isTable",["type","geometryType"]),Pe("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ut.prototype,"readIsTable",null),g([De("web-map","isTable")],ut.prototype,"writeIsTable",null),g([S(qC)],ut.prototype,"labelsVisible",void 0),g([S({type:[d9],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:$x,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:$x,write:{enabled:!0,layerContainerTypes:hs}}},name:"layerDefinition.drawingInfo.labelingInfo",read:$x,write:!0}})],ut.prototype,"labelingInfo",void 0),g([S((()=>{const e=ye(Jge);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,r){un(r,LS(t),i)}}},e})())],ut.prototype,"opacity",void 0),g([S(Bge)],ut.prototype,"legendEnabled",void 0),g([S({type:["show","hide"],json:(()=>{const e=ye(_Z.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],ut.prototype,"listMode",void 0),g([Pe("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ut.prototype,"readGlobalIdField",null),g([S({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ex}}}}})],ut.prototype,"objectIdField",void 0),g([Pe("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ut.prototype,"readObjectIdField",null),g([S({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ut.prototype,"operationalLayerType",void 0),g([S(xx.outFields)],ut.prototype,"outFields",void 0),g([S({readOnly:!0})],ut.prototype,"parsedUrl",null),g([S({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ut.prototype,"path",void 0),g([S(WC)],ut.prototype,"popupEnabled",void 0),g([S({type:I2,json:{name:"popupInfo",write:!0}})],ut.prototype,"popupTemplate",void 0),g([S({readOnly:!0})],ut.prototype,"defaultPopupTemplate",null),g([S({types:o9,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Nye,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:hs,overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],ut.prototype,"renderer",null),g([Pe("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Pe("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ut.prototype,"readRenderer",null),g([S()],ut.prototype,"resourceInfo",void 0),g([S((()=>{const e=ye(Wge);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],ut.prototype,"screenSizePerspectiveEnabled",void 0),g([S({clonable:!1})],ut.prototype,"source",null),g([bi("source")],ut.prototype,"castSource",null),g([Pe("portal-item","source",["featureSet"]),Pe("web-map","source",["featureSet"])],ut.prototype,"readSource",null),g([S({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],ut.prototype,"spatialReference",void 0),g([S({type:Number})],ut.prototype,"subtypeCode",void 0),g([S({type:[sA]})],ut.prototype,"templates",void 0),g([Pe("templates",["editFieldsInfo","creatorField","editorField","templates"])],ut.prototype,"readTemplates",null),g([S({type:uK})],ut.prototype,"timeInfo",void 0),g([S()],ut.prototype,"title",void 0),g([Pe("service","title",["name"]),Pe("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ut.prototype,"readTitle",null),g([Pe("web-map","title",["layerDefinition.name","title"])],ut.prototype,"readTitleFromWebMap",null),g([S({type:String})],ut.prototype,"sublayerTitleMode",void 0),g([S({json:{read:!1}})],ut.prototype,"type",void 0),g([S({type:String})],ut.prototype,"typeIdField",void 0),g([Pe("service","typeIdField"),Pe("typeIdField",["layerDefinition.typeIdField"])],ut.prototype,"readTypeIdField",null),g([S({type:[cK]})],ut.prototype,"types",void 0),g([Pe("service","types",["types"]),Pe("types",["layerDefinition.types"])],ut.prototype,"readTypes",null),g([S({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ut.prototype,"visible",void 0),g([Pe("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ut.prototype,"readVisible",null),ut=g([Q("esri.layers.FeatureLayer")],ut);const oA=ut,_Fe=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"}));let Jl=class extends $e{constructor(t){super(t),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.dirtyAreaCount=null,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};g([S({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],Jl.prototype,"moment",void 0),g([S({type:Boolean,json:{write:!0}})],Jl.prototype,"fullUpdate",void 0),g([S({type:Boolean,json:{write:!0}})],Jl.prototype,"validateErrorsCreated",void 0),g([S({type:Number,json:{write:!0}})],Jl.prototype,"dirtyAreaCount",void 0),g([S({type:Boolean,json:{write:!0}})],Jl.prototype,"exceededTransferLimit",void 0),g([S({type:[Object],json:{write:!0}})],Jl.prototype,"serviceEdits",void 0),g([S({type:[Object],json:{write:!0}})],Jl.prototype,"discoveredSubnetworks",void 0),Jl=g([Q("esri.rest.networks.support.ValidateNetworkTopologyResult")],Jl);const k2e=Jl,C2e=kn()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let id=class extends k2e{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const i={...t,query:{f:"json"}},{data:r}=await Ut(this.statusUrl,i);return this.read(r),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(t={}){const{interval:i=1e3,statusCallback:r}=t;return new Promise((s,c)=>{this._clearTimer();const f=setInterval(()=>{this._timer||c(br()),this.checkJobStatus().then(m=>{const{status:b}=m;switch(this.status=b,b){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":r&&r(this)}},m=>{this._clearTimer(),c(m)})},i);this._timer=f})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};g([S()],id.prototype,"editsResolver",void 0),g([S({type:String,json:{write:!0}})],id.prototype,"statusUrl",void 0),g([at(C2e)],id.prototype,"status",void 0),g([S({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],id.prototype,"submissionTime",void 0),g([S({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],id.prototype,"lastUpdatedTime",void 0),id=g([Q("esri.networks.support.TopologyValidationJobInfo")],id);const A2e=id;function xFe(e,t){const i=[],r=new Map;for(const c of t){const f=e.getLayerIdBySourceId(c.networkSourceId);if(f==null)continue;let m=r.get(f);m===void 0&&(m=[]),m.push(c.objectId),r.set(f,m)}const s=e.featureServiceUrl;return r.forEach((c,f)=>i.push({layerUrl:`${s}/${f}`,objectIds:c})),i}async function EFe(e,t){const i=e.layers,r=e.layerInfos,s=e.returnGeometry||!1,c=e.outSpatialReference;return await Promise.all(i.map(async f=>{await f.load()})),(await Promise.all(i.map(async f=>{var T;const m=r.find(C=>{var L;return C.layerUrl===((L=f.parsedUrl)==null?void 0:L.path)});if(!((T=m==null?void 0:m.objectIds)!=null&&T.length))return{layer:f,featureSet:void 0};const b=f.createQuery();b.returnGeometry=s,b.outFields=m.outFields||["*"],b.outSpatialReference=c,b.gdbVersion=f.gdbVersion,b.objectIds=m.objectIds;const x=u9.fromJSON(await BC(f,b));return{layer:f,featureSet:x}}))).filter(f=>f.featureSet!==void 0)}async function eD(e,t){if(e==="Utility Network Layer"){const{default:i}=await te(()=>Promise.resolve().then(()=>B2e),void 0);return new i({layerUrl:t})}return null}async function O2e(e){var f;let t="portalItem"in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof Gd||(t={...t,portalItem:new Gd(t.portalItem)});const i=t.portalItem;if(await i.load(),i.type!=="Feature Service")throw new me("portal:unknown-item-type","Unknown item type '${type}'",{type:i.type});const r=i.url,s=await Ut(r,{responseType:"json",query:{f:"json"}}),c="Network Layer";if((f=s.data.type)!=null&&f.includes(c))return eD(s.data.type,r);if(s.data.layers){const m=s.data.layers.find(b=>b.type.includes(c));if(m){const b=`${r}/${m.id}`;return eD(m.type,b)}}return null}let kr=class extends VS(Ma){static fromPortalItem(t){return O2e(t)}constructor(t){super(t),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._applyEditsHandler=i=>{const{serviceUrl:r,gdbVersion:s,result:c}=i,f=r===this.featureServiceUrl,m=wb(r,s,this.gdbVersion);f&&m&&c.then(b=>{S_(r,s)&&(this.historicMoment=b.historicMoment)})},this._updateMomentHandler=i=>{const{serviceUrl:r,gdbVersion:s,moment:c}=i,f=r===this.featureServiceUrl,m=wb(r,s,this.gdbVersion);f&&m&&(this.historicMoment=c)},this.when().then(()=>{this.addHandles([GC(this._applyEditsHandler),cZ(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(t=>{cs(t)||ke.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}get datasetName(){var t;return((t=this.dataElement)==null?void 0:t.name)??null}get owner(){var t;return((t=this.dataElement)==null?void 0:t.userIdentity)??null}get schemaGeneration(){var t;return((t=this.dataElement)==null?void 0:t.schemaGeneration)??null}get parsedUrl(){return Nr(this.layerUrl)}get featureServiceUrl(){return wu(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return wu(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(t){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,t)),this}getLayerIdBySourceId(t){if(this.dataElement){const i=this.dataElement.domainNetworks;for(const r of i){for(const s of r.edgeSources??[])if(s.sourceId===t)return s.layerId;for(const s of r.junctionSources??[])if(s.sourceId===t)return s.layerId}return null}return null}async queryNamedTraceConfigurations(t,i){var m;const[{queryNamedTraceConfigurations:r},{default:s}]=await Promise.all([te(()=>import("./queryNamedTraceConfigurations-C2lmZfw4.js"),[]),te(()=>import("./QueryNamedTraceConfigurationsParameters-DVU03FLs.js"),[])]),c=this.networkServiceUrl,f=s.from(t);return(m=await r(c,f,{...i}))==null?void 0:m.namedTraceConfigurations}async validateTopology(t,i){var T,C,L;if(!t.validateArea)throw new me("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:r},{default:s}]=await Promise.all([te(()=>import("./validateNetworkTopology-Dxjmn3qx.js"),[]),te(()=>import("./ValidateNetworkTopologyParameters-m04D79bE.js"),[])]),c=s.from(t);S_(this.featureServiceUrl,this.gdbVersion||null)?c.sessionID=ul:c.sessionID=null,c.gdbVersion=this.gdbVersion;const f=this.networkServiceUrl,m=this.featureServiceUrl,b=vj(m,null,this.gdbVersion,!0),x=await r(f,c,{...i});if(x!=null&&x.serviceEdits){const N=[];for(const D of x.serviceEdits){const{editedFeatures:G}=D,q=G!=null&&G.spatialReference?new Lt(G.spatialReference):null;N.push({layerId:D.layerId,editedFeatures:{adds:((T=G==null?void 0:G.adds)==null?void 0:T.map(J=>this._createEditedFeature(J,q)))||[],updates:((C=G==null?void 0:G.updates)==null?void 0:C.map(J=>({original:this._createEditedFeature(J[0],q),current:this._createEditedFeature(J[1],q)})))||[],deletes:((L=G==null?void 0:G.deletes)==null?void 0:L.map(J=>this._createEditedFeature(J,q)))||[],spatialReference:q}})}b.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:N,exceededTransferLimit:!1,historicMoment:x.moment})}return x}async submitTopologyValidationJob(t,i){let r=null;if(!t.validateArea)throw new me("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const T=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await Ut(T,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:s},{default:c}]=await Promise.all([te(()=>import("./validateNetworkTopology-Dxjmn3qx.js"),[]),te(()=>import("./ValidateNetworkTopologyParameters-m04D79bE.js"),[])]),f=c.from(t);S_(this.featureServiceUrl,this.gdbVersion||null)?f.sessionID=ul:f.sessionID=null,f.gdbVersion=this.gdbVersion||r;const m=this.networkServiceUrl,b=this.featureServiceUrl?vj(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,x=await s(m,f,{...i});return new A2e({statusUrl:x,editsResolver:b})}_createEditedFeature(t,i){return new Dn({attributes:t.attributes,geometry:Jc({...t.geometry,spatialReference:i})})}async _fetchLayerMetaData(t,i){const r=await Ut(t,{responseType:"json",query:{f:"json"},...i});this.sourceJSON=r.data,this.read(r.data,{origin:"service"})}async _fetchDataElement(t,i,r){if(this.dataElement)return;const s=await Ut(`${t}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([i]),f:"json"},...r}).then(c=>{var f;return(f=c.data.layerDataElements)==null?void 0:f[0]});s&&this.read(s,{origin:"service"})}};g([S({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],kr.prototype,"id",void 0),g([S({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],kr.prototype,"title",void 0),g([S({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],kr.prototype,"layerUrl",void 0),g([S({type:Object,json:{origins:{service:{read:!0}},read:!1}})],kr.prototype,"dataElement",void 0),g([S({type:rr,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],kr.prototype,"fullExtent",void 0),g([S({type:Lt,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],kr.prototype,"spatialReference",void 0),g([S({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],kr.prototype,"type",void 0),g([S({readOnly:!0})],kr.prototype,"datasetName",null),g([S({readOnly:!0})],kr.prototype,"owner",null),g([S({readOnly:!0})],kr.prototype,"schemaGeneration",null),g([S({readOnly:!0})],kr.prototype,"parsedUrl",null),g([S({readOnly:!0})],kr.prototype,"featureServiceUrl",null),g([S({readOnly:!0})],kr.prototype,"networkServiceUrl",null),g([S({readOnly:!0})],kr.prototype,"layerId",null),g([S()],kr.prototype,"sourceJSON",void 0),g([S({readOnly:!0})],kr.prototype,"networkSystemLayers",null),g([S()],kr.prototype,"gdbVersion",void 0),g([S({type:Date})],kr.prototype,"historicMoment",void 0),kr=g([Q("esri.networks.Network")],kr);const L2e=kr;var Ac;(function(e){e[e.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",e[e.RTAttachment=2]="RTAttachment",e[e.RTContainment=3]="RTContainment",e[e.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",e[e.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"})(Ac||(Ac={}));const V3=new At({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),IFe=new At({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),P2e={connectivity:1,"junction-junction-connectivity":1,attachment:2,containment:3,"junction-edge-from-connectivity":4,"junction-midspan-connectivity":5,"junction-edge-to-connectivity":6},MFe=new At({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});let rd=class extends ap(Ma){constructor(t){super(t),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=Ut}initialize(){}async load(t){const i=this.layer.load(t).then(()=>this._initializeRulesTable());return this.addResolvingPromise(i),this}getFeatureSQL(t,i){var x,T;const r=t.layerId.toString(),s=(x=t.fieldsIndex)==null?void 0:x.normalizeFieldName("assetGroup"),c=(T=t.fieldsIndex)==null?void 0:T.normalizeFieldName("assetType"),f=s?i.attributes[s]:null,m=c?i.attributes[c]:null,b=this.rulesHash[r];if(b){const C=b.assetGroupHash[f];if(C)return C.assetTypeHash[m]||null}return null}async _initializeRulesTable(){var s,c,f,m,b,x,T,C,L,N,D;const t={};let i;(function(G){G[G.from=0]="from",G[G.to=1]="to",G[G.via=2]="via"})(i||(i={}));const r=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const G of this.rules){if(G.ruleType===Ac.RTAttachment){this.rulesCategorized.attachment.push(G);continue}if(G.ruleType===Ac.RTContainment){this.rulesCategorized.containment.push(G);continue}if(G.ruleType===Ac.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(G);continue}this.rulesCategorized.connectivity.push(G);let q=[[i.from,i.to],[i.to,i.from]];G.ruleType===Ac.RTEdgeJunctionEdgeConnectivity&&(q=[[i.from,i.via],[i.via,i.from],[i.to,i.via],[i.via,i.to]]);for(const J of q){const ne=J.shift(),ue=J.shift();let ae=!1;switch(G.ruleType){case Ac.RTEdgeJunctionEdgeConnectivity:ae=ne===i.from||ne===i.to;break;case Ac.RTJunctionEdgeConnectivity:ae=ne===i.to}const pe=r[ne],ge=((s=G[pe.networkSourceId])==null?void 0:s.layerId.toString())??"",Ae=(f=(c=G[pe.assetGroupId])==null?void 0:c.assetGroupCode)==null?void 0:f.toString(),Ce=G[pe.assetTypeId],qe=(m=Ce==null?void 0:Ce.assetTypeCode)==null?void 0:m.toString(),Ge=r[ue],Ue=((b=G[Ge.networkSourceId])==null?void 0:b.layerId.toString())??"",et=(T=(x=G[Ge.assetGroupId])==null?void 0:x.assetGroupCode)==null?void 0:T.toString(),nt=G[Ge.assetTypeId],Qe=(C=nt==null?void 0:nt.assetTypeCode)==null?void 0:C.toString(),Tt=t[ge]??{assetGroupHash:{}};if(!(Ae&&qe&&et&&Qe))continue;const ri=Tt.assetGroupHash[Ae]??{assetTypeHash:{}},yt=ri.assetTypeHash[qe]??{};if(yt[Ue]=yt[Ue]??{},ae){yt[ge]=yt[ge]??{};const dt=`(assetgroup = ${Ae} AND assettype = ${qe})`;yt[ge].anyVertex=yt[ge].anyVertex?`${yt[ge].anyVertex}`:`${dt}`,(nt==null?void 0:nt.connectivityPolicy)==="esriNECPEndVertex"&&(yt[ge].endVertex=(L=yt[ge])!=null&&L.endVertex?`${yt[ge].endVertex}`:`${dt}`)}const Oe=`(assetgroup = ${et} AND assettype = ${Qe})`;yt[Ue].anyVertex=(N=yt[Ue])!=null&&N.anyVertex?`${yt[Ue].anyVertex} OR ${Oe}`:`${Oe}`,(nt==null?void 0:nt.connectivityPolicy)==="esriNECPEndVertex"&&(yt[Ue].endVertex=(D=yt[Ue])!=null&&D.endVertex?`${yt[Ue].endVertex} OR ${Oe}`:`${Oe}`),ri.assetTypeHash[qe]=yt,Tt.assetGroupHash[Ae]=ri,t[ge]=Tt}}this.rulesHash=t}};g([S({constructOnly:!0})],rd.prototype,"layer",void 0),g([S({constructOnly:!0})],rd.prototype,"rules",void 0),g([S()],rd.prototype,"rulesHash",void 0),g([S()],rd.prototype,"rulesCategorized",void 0),g([S({constructOnly:!0})],rd.prototype,"request",void 0),rd=g([Q("esri.networks.RulesTable")],rd);const F2e=rd;let la=class extends $e{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};g([S({type:[Object],json:{write:!0}})],la.prototype,"conditionBarriers",void 0),g([S({type:[Object],json:{write:!0}})],la.prototype,"outputConditions",void 0),g([S({type:[Object],json:{write:!0}})],la.prototype,"functions",void 0),g([S({type:[Object],json:{write:!0}})],la.prototype,"functionBarriers",void 0),g([S({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],la.prototype,"traversabilityScope",void 0),g([S({type:String,json:{write:!0}})],la.prototype,"shortestPathNetworkAttributeName",void 0),g([S({type:Boolean,json:{write:!0}})],la.prototype,"includeBarriers",void 0),g([S({type:Boolean,json:{write:!0}})],la.prototype,"validateConsistency",void 0),g([S({type:Boolean,json:{write:!0}})],la.prototype,"ignoreBarriersAtStartingPoints",void 0),la=g([Q("esri.networks.support.TraceConfiguration")],la);const aA=la;let lr=class extends aA{constructor(t){super(t),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};g([S({type:[Object],json:{write:!0}})],lr.prototype,"filterBarriers",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"arcadeExpressionBarrier",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"domainNetworkName",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"filterBitsetNetworkAttributeName",void 0),g([S({type:[Object],json:{write:!0}})],lr.prototype,"filterFunctionBarriers",void 0),g([S({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],lr.prototype,"filterScope",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"includeContainers",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"includeContent",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"includeIsolated",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"includeStructures",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"allowIndeterminateFlow",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"includeUpToFirstSpatialContainer",void 0),g([S({type:Object,json:{write:!0}})],lr.prototype,"nearestNeighbor",void 0),g([S({type:[Object],json:{write:!0}})],lr.prototype,"outputFilterCategories",void 0),g([S({type:[Object],json:{write:!0}})],lr.prototype,"outputFilters",void 0),g([S({type:[Object],json:{write:!0}})],lr.prototype,"propagators",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"subnetworkName",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"targetTierName",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"diagramTemplateName",void 0),g([S({type:String,json:{write:!0}})],lr.prototype,"tierName",void 0),g([S({type:Boolean,json:{write:!0}})],lr.prototype,"validateLocatability",void 0),lr=g([Q("esri.networks.support.UNTraceConfiguration")],lr);const R2e=lr;let Ks=class extends yT{constructor(t){super(t),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(t,i){return t.tierName!==void 0?R2e.fromJSON(t):aA.fromJSON(t)}};g([S({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],Ks.prototype,"globalId",void 0),g([S({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],Ks.prototype,"title",void 0),g([S({type:aA,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"traceConfiguration",void 0),g([Pe("service","traceConfiguration")],Ks.prototype,"readTraceConfiguration",null),g([S({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"creationDate",void 0),g([S({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"creator",void 0),g([S({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"description",void 0),g([S({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],Ks.prototype,"minStartingPoints",void 0),g([S({json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"resultTypes",void 0),g([S({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],Ks.prototype,"tags",void 0),g([S({type:V3.apiValues,json:{type:V3.jsonValues,origins:{service:{read:V3.read,write:V3.write}},read:!1}})],Ks.prototype,"traceType",void 0),Ks=g([Q("esri.networks.support.NamedTraceConfiguration")],Ks);const N2e=Ks;let tl=class extends ht{constructor(t){super(t),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTableId=null,this.associationsTableUrl=null}};g([S({constructOnly:!0})],tl.prototype,"rulesTableId",void 0),g([S({constructOnly:!0})],tl.prototype,"rulesTableUrl",void 0),g([S({constructOnly:!0})],tl.prototype,"subnetworksTableId",void 0),g([S({constructOnly:!0})],tl.prototype,"subnetworksTableUrl",void 0),g([S({constructOnly:!0})],tl.prototype,"dirtyAreasLayerId",void 0),g([S({constructOnly:!0})],tl.prototype,"dirtyAreasLayerUrl",void 0),g([S({constructOnly:!0})],tl.prototype,"associationsTableId",void 0),g([S({constructOnly:!0})],tl.prototype,"associationsTableUrl",void 0),tl=g([Q("esri.networks.support.NetworkSystemLayers")],tl);const j2e=tl;let Z1=class extends $e{constructor(t){super(t),this.id=null,this.name=null}};g([S({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Z1.prototype,"id",void 0),g([S({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Z1.prototype,"name",void 0),g([S({type:Boolean,json:{write:!0}})],Z1.prototype,"isUpstreamTerminal",void 0),Z1=g([Q("esri.networks.support.Terminal")],Z1);const D2e=Z1,z3=new At({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let nd=class extends $e{constructor(t){super(t),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};g([S({type:String,json:{write:!0}})],nd.prototype,"defaultConfiguration",void 0),g([S({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],nd.prototype,"id",void 0),g([S({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],nd.prototype,"name",void 0),g([S({type:[D2e],json:{write:!0}})],nd.prototype,"terminals",void 0),g([S({type:z3.apiValues,json:{type:z3.jsonValues,read:z3.read,write:z3.write}})],nd.prototype,"traversabilityModel",void 0),nd=g([Q("esri.networks.support.TerminalConfiguration")],nd);const tD=nd;let K1=class extends $e{constructor(t){super(t),this.line=null,this.multipoint=null,this.polygon=null}};g([S({type:M0,json:{write:!0},readOnly:!0})],K1.prototype,"line",void 0),g([S({type:Mm,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],K1.prototype,"multipoint",void 0),g([S({type:wl,json:{write:!0},readOnly:!0})],K1.prototype,"polygon",void 0),K1=g([Q("esri.rest.networks.support.AggregatedGeometry")],K1);const V2e=K1;let Y1=class extends $e{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};g([S({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],Y1.prototype,"functionType",void 0),g([S({type:String,json:{write:!0},readOnly:!0})],Y1.prototype,"networkAttributeName",void 0),g([S({type:Number,json:{write:!0},readOnly:!0})],Y1.prototype,"result",void 0),Y1=g([Q("esri.rest.networks.support.FunctionResult")],Y1);const z2e=Y1;let il=class extends $e{constructor(t){super(t),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};g([S({type:Number,json:{write:!0}})],il.prototype,"assetGroupCode",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"assetTypeCode",void 0),g([S({type:String,json:{write:!0}})],il.prototype,"globalId",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"networkSourceId",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"objectId",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"positionFrom",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"positionTo",void 0),g([S({type:Number,json:{write:!0}})],il.prototype,"terminalId",void 0),il=g([Q("esri.rest.networks.support.NetworkElement")],il);const U2e=il;let fc=class extends $e{constructor(t){super(t),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};g([S({type:V2e,json:{write:!0},readOnly:!0})],fc.prototype,"aggregatedGeometry",void 0),g([S({type:[U2e],json:{write:!0},readOnly:!0})],fc.prototype,"elements",void 0),g([S({type:[z2e],json:{write:!0},readOnly:!0})],fc.prototype,"globalFunctionResults",void 0),g([S({type:Boolean,json:{write:!0},readOnly:!0})],fc.prototype,"kFeaturesForKNNFound",void 0),g([S({type:Boolean,json:{write:!0},readOnly:!0})],fc.prototype,"startingPointsIgnored",void 0),g([S({type:[String],json:{write:!0},readOnly:!0})],fc.prototype,"warnings",void 0),fc=g([Q("esri.rest.networks.support.TraceResult")],fc);const G2e=fc,W2e=kn()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Sf=class extends G2e{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const i={...t,query:{f:"json"}},{data:r}=await Ut(this.statusUrl,i),s=r.traceResults?{...r.traceResults,...r}:r;return this.read(s),this}async waitForJobCompletion(t={}){const{interval:i=1e3,statusCallback:r}=t;return new Promise((s,c)=>{this._clearTimer();const f=setInterval(()=>{this._timer||c(br()),this.checkJobStatus().then(m=>{const{status:b}=m;switch(this.status=b,b){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":r&&r(this)}},m=>{this._clearTimer(),c(m)})},i);this._timer=f})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};g([S({type:String,json:{write:!0}})],Sf.prototype,"statusUrl",void 0),g([at(W2e)],Sf.prototype,"status",void 0),g([S({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],Sf.prototype,"submissionTime",void 0),g([S({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],Sf.prototype,"lastUpdatedTime",void 0),Sf=g([Q("esri.networks.support.TraceJobInfo")],Sf);const q2e=Sf;let yc=class extends L2e{constructor(t){super(t),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){var t;return((t=this.dataElement)==null?void 0:t.serviceTerritoryFeatureLayerId)??null}get networkSystemLayers(){var t,i,r,s,c,f,m,b;return new j2e({rulesTableId:(t=this.sourceJSON)==null?void 0:t.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(i=this.sourceJSON)==null?void 0:i.systemLayers.rulesTableId}`:null,subnetworksTableId:(r=this.sourceJSON)==null?void 0:r.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(s=this.sourceJSON)==null?void 0:s.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:(c=this.sourceJSON)==null?void 0:c.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${(f=this.sourceJSON)==null?void 0:f.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:(m=this.sourceJSON)==null?void 0:m.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(b=this.sourceJSON)==null?void 0:b.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){var t;return((t=this.dataElement)==null?void 0:t.terminalConfigurations.map(i=>tD.fromJSON(i)))||[]}get domainNetworkNames(){var t;return((t=this.dataElement)==null?void 0:t.domainNetworks.map(i=>i.domainNetworkName))||[]}get _utilityLayerList(){var i,r;const t=new Set;return(r=(i=this.dataElement)==null?void 0:i.domainNetworks)==null||r.map(s=>{s.edgeSources.map(c=>{t.add(c.layerId)}),s.junctionSources.map(c=>{t.add(c.layerId)})}),t}async load(t){return this.addResolvingPromise(super.load(t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this}getTerminalConfiguration(t){var x,T,C,L;let i=null,r=null;const s=t.layer;let c=null;if((s==null?void 0:s.type)==="feature"){if(c=s.layerId,c===null)return null}else if((s==null?void 0:s.type)!=="subtype-sublayer"||(c=((x=s==null?void 0:s.parent)==null?void 0:x.layerId)??null,c===null))return null;const f=t.attributes;if(f==null)return null;for(const N of Object.keys(f))N.toUpperCase()==="ASSETGROUP"&&(i=t.getAttribute(N)),N.toUpperCase()==="ASSETTYPE"&&(r=t.getAttribute(N));if(!this.dataElement)return null;let m=null;const b=this.dataElement.domainNetworks;for(const N of b){const D=(T=N.junctionSources)==null?void 0:T.find(G=>G.layerId===c);if(D){const G=(C=D.assetGroups)==null?void 0:C.find(q=>q.assetGroupCode===i);if(G){const q=(L=G.assetTypes)==null?void 0:L.find(J=>J.assetTypeCode===r);if(q){m=q.terminalConfigurationId;break}}}}if(m!=null){const N=this.dataElement.terminalConfigurations,D=N==null?void 0:N.find(G=>G.terminalConfigurationId===m);return D?tD.fromJSON(D):null}return null}getTierNames(t){var r;const i=(r=this.dataElement)==null?void 0:r.domainNetworks.find(s=>s.domainNetworkName===t);return(i==null?void 0:i.tiers.map(s=>s.name))||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}isUtilityLayer(t){var i;return this._utilityLayerList.has(t.layerId)&&(((i=t.url)==null?void 0:i.startsWith(this.featureServiceUrl))??!1)}async queryAssociations(t){const[{queryAssociations:i},{default:r}]=await Promise.all([te(()=>import("./queryAssociations-DgxNwnjM.js"),__vite__mapDeps([172,173])),te(()=>import("./QueryAssociationsParameters-Cc2vaxQa.js"),[])]),s=r.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,(await i(this.networkServiceUrl,s)).associations}async synthesizeAssociationGeometries(t){const[{synthesizeAssociationGeometries:i},{default:r}]=await Promise.all([te(()=>import("./synthesizeAssociationGeometries-V3g2QgxX.js"),__vite__mapDeps([174,173])),te(()=>import("./SynthesizeAssociationGeometriesParameters-IaTdrP2-.js"),[])]),s=r.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,i(this.networkServiceUrl,s)}async trace(t){const[{trace:i},{default:r}]=await Promise.all([te(()=>import("./trace-DzWtHh19.js"),[]),te(()=>import("./TraceParameters-BzUq3MXv.js").then(c=>c.T),[])]),s=r.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,i(this.networkServiceUrl,s)}async submitTraceJob(t){const[{submitTraceJob:i},{default:r}]=await Promise.all([te(()=>import("./trace-DzWtHh19.js"),[]),te(()=>import("./TraceParameters-BzUq3MXv.js").then(f=>f.T),[])]),s=r.from(t);s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const c=await i(this.networkServiceUrl,s);return new q2e({statusUrl:c})}async canAddAssociation(t){const i=await this.getRulesTable();if(!i)return!1;await i.load();const r=(c,f)=>c?c.terminalId===1?!(f!=null&&f.terminalId)||(f==null?void 0:f.terminalId)===c.terminalId:c.terminalId===(f==null?void 0:f.terminalId):!(f!=null&&f.terminalId),s=(c,f)=>{var m,b,x,T,C,L,N,D,G,q,J,ne;return((m=c.fromNetworkSource)==null?void 0:m.sourceId)===((b=f.fromNetworkElement)==null?void 0:b.networkSourceId)&&((x=c.toNetworkSource)==null?void 0:x.sourceId)===((T=f.toNetworkElement)==null?void 0:T.networkSourceId)&&((C=c.fromAssetGroup)==null?void 0:C.assetGroupCode)===((L=f.fromNetworkElement)==null?void 0:L.assetGroupCode)&&((N=c.fromAssetType)==null?void 0:N.assetTypeCode)===((D=f.fromNetworkElement)==null?void 0:D.assetTypeCode)&&((G=c.toAssetGroup)==null?void 0:G.assetGroupCode)===((q=f.toNetworkElement)==null?void 0:q.assetGroupCode)&&((J=c.toAssetType)==null?void 0:J.assetTypeCode)===((ne=f.toNetworkElement)==null?void 0:ne.assetTypeCode)&&r(c.fromTerminal,f.fromNetworkElement)&&r(c.toTerminal,f.toNetworkElement)};return t.associationType==="containment"?i.rulesCategorized.containment.some(c=>s(c,t)):t.associationType==="attachment"?i.rulesCategorized.attachment.some(c=>s(c,t)):i.rulesCategorized.connectivity.some(c=>{var f,m,b,x,T,C,L,N,D,G,q,J,ne,ue,ae,pe,ge,Ae,Ce,qe,Ge,Ue,et,nt;return c.viaNetworkSource?((f=c.fromNetworkSource)==null?void 0:f.sourceId)===((m=t.fromNetworkElement)==null?void 0:m.networkSourceId)&&((b=c.viaNetworkSource)==null?void 0:b.sourceId)===((x=t.toNetworkElement)==null?void 0:x.networkSourceId)&&((T=c.fromAssetGroup)==null?void 0:T.assetGroupCode)===((C=t.fromNetworkElement)==null?void 0:C.assetGroupCode)&&((L=c.fromAssetType)==null?void 0:L.assetTypeCode)===((N=t.fromNetworkElement)==null?void 0:N.assetTypeCode)&&((D=c.viaAssetGroup)==null?void 0:D.assetGroupCode)===((G=t.toNetworkElement)==null?void 0:G.assetGroupCode)&&((q=c.viaAssetType)==null?void 0:q.assetTypeCode)===((J=t.toNetworkElement)==null?void 0:J.assetTypeCode)&&r(c.fromTerminal,t.fromNetworkElement)&&r(c.viaTerminal,t.toNetworkElement)||((ne=c.viaNetworkSource)==null?void 0:ne.sourceId)===((ue=t.fromNetworkElement)==null?void 0:ue.networkSourceId)&&((ae=c.toNetworkSource)==null?void 0:ae.sourceId)===((pe=t.toNetworkElement)==null?void 0:pe.networkSourceId)&&((ge=c.viaAssetGroup)==null?void 0:ge.assetGroupCode)===((Ae=t.fromNetworkElement)==null?void 0:Ae.assetGroupCode)&&((Ce=c.viaAssetType)==null?void 0:Ce.assetTypeCode)===((qe=t.fromNetworkElement)==null?void 0:qe.assetTypeCode)&&((Ge=c.toAssetGroup)==null?void 0:Ge.assetGroupCode)===((Ue=t.toNetworkElement)==null?void 0:Ue.assetGroupCode)&&((et=c.toAssetType)==null?void 0:et.assetTypeCode)===((nt=t.toNetworkElement)==null?void 0:nt.assetTypeCode)&&r(c.viaTerminal,t.fromNetworkElement)&&r(c.toTerminal,t.toNetworkElement):s(c,t)})}generateAddAssociations(t){return{addFeatures:t.map(i=>{var r,s,c,f,m,b;return new Dn({attributes:{fromnetworksourceid:(r=i.fromNetworkElement)==null?void 0:r.networkSourceId,fromglobalid:(s=i.fromNetworkElement)==null?void 0:s.globalId,fromterminalid:(c=i.fromNetworkElement)==null?void 0:c.terminalId,tonetworksourceid:(f=i.toNetworkElement)==null?void 0:f.networkSourceId,toglobalid:(m=i.toNetworkElement)==null?void 0:m.globalId,toterminalid:(b=i.toNetworkElement)==null?void 0:b.terminalId,associationtype:P2e[i.associationType],iscontentvisible:i.isContentVisible?1:0,percentalong:i.percentAlong,globalid:i.globalId}})}),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}generateDeleteAssociations(t){return{deleteFeatures:t.map(i=>({globalId:i.globalId})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}async _loadNamedTraceConfigurationsFromNetwork(t){var s;if(((s=this.sharedNamedTraceConfigurations)==null?void 0:s.length)===0)return;const i=this.sharedNamedTraceConfigurations.map(c=>c.globalId),r=await this.queryNamedTraceConfigurations({globalIds:i},t);for(const c of this.sharedNamedTraceConfigurations){const f=r==null?void 0:r.find(m=>m.globalId===c.globalId);if(f){const m=f.write({},{origin:"service"});c.read(m,{origin:"service"})}}}async _createRulesTable(){var f;const t=this.networkSystemLayers.rulesTableUrl,i=new oA({url:t});await i.load();const r=(f=this.dataElement)==null?void 0:f.domainNetworks;if(!r)return null;const s=r.flatMap(m=>[...m.edgeSources||[],...m.junctionSources||[]]),c=(await this._queryRulesTable(i)).map(m=>this._hydrateRuleInfo(i,s,m));return new F2e({layer:i,rules:c})}async _queryRulesTable(t){const i=new ih({where:"1=1",outFields:["*"]});return(await BC(t,i)).features}_hydrateRuleInfo(t,i,r){const s=t.fieldsIndex,c=s.get("RULETYPE"),f=s.get("CREATIONDATE"),m=s.get("FROMNETWORKSOURCEID"),b=s.get("FROMASSETGROUP"),x=s.get("FROMASSETTYPE"),T=s.get("FROMTERMINALID"),C=s.get("TONETWORKSOURCEID"),L=s.get("TOASSETGROUP"),N=s.get("TOASSETTYPE"),D=s.get("TOTERMINALID"),G=s.get("VIANETWORKSOURCEID"),q=s.get("VIAASSETGROUP"),J=s.get("VIAASSETTYPE"),ne=s.get("VIATERMINALID"),ue=r.attributes[c.name],ae=new Date(r.attributes[f.name]),pe=[{networkSourceId:r.attributes[m.name],assetGroupId:r.attributes[b.name],assetTypeId:r.attributes[x.name],terminalId:r.attributes[T.name]},{networkSourceId:r.attributes[C.name],assetGroupId:r.attributes[L.name],assetTypeId:r.attributes[N.name],terminalId:r.attributes[D.name]},{networkSourceId:r.attributes[G.name],assetGroupId:r.attributes[q.name],assetTypeId:r.attributes[J.name],terminalId:r.attributes[ne.name]}];let ge;(function(Ce){Ce[Ce.from=0]="from",Ce[Ce.to=1]="to",Ce[Ce.via=2]="via"})(ge||(ge={}));const Ae={ruleType:ue,creationDate:ae};for(const Ce of[ge.from,ge.to,ge.via]){if(ue!==Ac.RTEdgeJunctionEdgeConnectivity&&Ce===ge.via)continue;const qe=pe[Ce],Ge=i.find(Tt=>Tt.sourceId===qe.networkSourceId),Ue=Ge==null?void 0:Ge.assetGroups.find(Tt=>Tt.assetGroupCode===qe.assetGroupId),et=Ue==null?void 0:Ue.assetTypes.find(Tt=>Tt.assetTypeCode===qe.assetTypeId),nt=this._getTerminal(et,qe);let Qe="";switch(Ce){case ge.from:Qe="from";break;case ge.to:Qe="to";break;case ge.via:Qe="via"}Ae[`${Qe}NetworkSource`]=Ge,Ae[`${Qe}AssetGroup`]=Ue,Ae[`${Qe}AssetType`]=et,Ae[`${Qe}Terminal`]=nt==null?void 0:nt.toJSON()}return Ae}_getTerminal(t,i){var c,f;const r=t==null?void 0:t.terminalConfigurationId,s=(c=this.terminalConfigurations)==null?void 0:c.find(m=>m.id===r);return((f=s==null?void 0:s.terminals)==null?void 0:f.find(m=>m.id===i.terminalId))??null}};g([S({type:[N2e],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],yc.prototype,"sharedNamedTraceConfigurations",void 0),g([S({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],yc.prototype,"type",void 0),g([S({readOnly:!0})],yc.prototype,"serviceTerritoryFeatureLayerId",null),g([S({readOnly:!0})],yc.prototype,"networkSystemLayers",null),g([S({readOnly:!0})],yc.prototype,"terminalConfigurations",null),g([S({readOnly:!0})],yc.prototype,"domainNetworkNames",null),yc=g([Q("esri.networks.UtilityNetwork")],yc);const hK=yc,B2e=Object.freeze(Object.defineProperty({__proto__:null,default:hK},Symbol.toStringTag,{value:"Module"}));let sd=class extends $e{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};g([S({type:String,json:{write:!0}})],sd.prototype,"facilityIdField",void 0),g([S({type:String,json:{write:!0}})],sd.prototype,"layerId",void 0),g([S({type:String,json:{write:!0}})],sd.prototype,"nameField",void 0),g([S({type:String,json:{write:!0}})],sd.prototype,"siteIdField",void 0),g([S({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],sd.prototype,"sublayerId",void 0),sd=g([Q("esri.layers.support.FacilityLayerInfo")],sd);const H2e=sd;let rl=class extends $e{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};g([S({type:String,json:{write:!0}})],rl.prototype,"facilityIdField",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"layerId",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"levelIdField",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"levelNumberField",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"longNameField",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"shortNameField",void 0),g([S({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],rl.prototype,"sublayerId",void 0),g([S({type:String,json:{write:!0}})],rl.prototype,"verticalOrderField",void 0),rl=g([Q("esri.layers.support.LevelLayerInfo")],rl);const J2e=rl;let $f=class extends $e{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};g([S({type:String,json:{write:!0}})],$f.prototype,"layerId",void 0),g([S({type:String,json:{write:!0}})],$f.prototype,"nameField",void 0),g([S({type:String,json:{write:!0}})],$f.prototype,"siteIdField",void 0),g([S({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],$f.prototype,"sublayerId",void 0),$f=g([Q("esri.layers.support.SiteLayerInfo")],$f);const Z2e=$f;let Q1=class extends $e{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};g([S({type:J2e,json:{write:!0}})],Q1.prototype,"levelLayer",void 0),g([S({type:H2e,json:{write:!0}})],Q1.prototype,"facilityLayer",void 0),g([S({type:Z2e,json:{write:!0}})],Q1.prototype,"siteLayer",void 0),Q1=g([Q("esri.support.MapFloorInfo")],Q1);const K2e=Q1;let X1=class extends ti($e){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};g([S({type:String,json:{write:{isRequired:!0}}})],X1.prototype,"expression",void 0),g([S({type:["number","string"],json:{write:!0}})],X1.prototype,"returnType",void 0),g([S({type:String,json:{write:!0}})],X1.prototype,"title",void 0),X1=g([Q("esri.webdoc.geotriggersInfo.ExpressionInfo")],X1);const dK=X1,U3=new At({deviceLocation:"device-location"});let Gv=class extends ti($e){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};g([S({type:dK,json:{write:!0}})],Gv.prototype,"filterExpression",void 0),g([S({type:U3.apiValues,readOnly:!0,json:{type:U3.jsonValues,read:U3.read,write:U3.write}})],Gv.prototype,"type",void 0),Gv=g([Q("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],Gv);const Y2e=Gv;let Wv=class extends ti($e){constructor(t){super(t),this.geometry=null,this.where=null}};g([S({types:hp,json:{read:Jc,write:!0}})],Wv.prototype,"geometry",void 0),g([S({type:String,json:{write:!0}})],Wv.prototype,"where",void 0),Wv=g([Q("esri.webdoc.geotriggersInfo.FeatureFilter")],Wv);const Q2e=Wv;let ey=class extends ti($e){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};g([S({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],ey.prototype,"layerId",void 0),g([S({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],ey.prototype,"layerUrl",void 0),g([at({featureLayer:"feature-layer"},{readOnly:!0})],ey.prototype,"type",void 0),ey=g([Q("esri.webdoc.geotriggersInfo.FeatureLayerSource")],ey);const X2e=ey;let xf=class extends ti($e){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};g([S({type:X2e,json:{write:{isRequired:!0}}})],xf.prototype,"fenceSource",void 0),g([S({type:Q2e,json:{write:!0}})],xf.prototype,"filter",void 0),g([S({type:Number,json:{write:!0}})],xf.prototype,"bufferDistance",void 0),g([at({features:"features"},{readOnly:!0})],xf.prototype,"type",void 0),xf=g([Q("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],xf);const ewe=xf;let I_=class extends ti($e){constructor(t){super(t),this.type="fence"}};g([at({fence:"fence"},{readOnly:!0})],I_.prototype,"type",void 0),I_=g([Q("esri.webdoc.geotriggersInfo.Geotrigger")],I_);const pK=I_;let qv=class extends ti($e){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};g([S({type:dK,json:{write:!0}})],qv.prototype,"expressionInfo",void 0),g([S({type:[String],json:{write:!0}})],qv.prototype,"requestedActions",void 0),qv=g([Q("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],qv);const twe=qv,iwe=new At({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),rwe=new At({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),G3=new At({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let nl=class extends pK{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};g([at(iwe)],nl.prototype,"enterExitRule",void 0),g([S({type:Y2e,json:{write:{isRequired:!0}}})],nl.prototype,"feed",void 0),g([at(rwe)],nl.prototype,"feedAccuracyMode",void 0),g([S({type:G3.apiValues,json:{type:G3.jsonValues,read:G3.read,write:{writer:G3.write,isRequired:!0}}})],nl.prototype,"fenceNotificationRule",void 0),g([S({type:ewe,json:{write:{isRequired:!0}}})],nl.prototype,"fenceParameters",void 0),g([S({type:String,json:{write:!0}})],nl.prototype,"name",void 0),g([S({type:twe,json:{write:!0}})],nl.prototype,"notificationOptions",void 0),g([at({fence:"fence"},{readOnly:!0})],nl.prototype,"type",void 0),nl=g([Q("esri.webdoc.geotriggersInfo.FenceGeotrigger")],nl);const nwe=nl,swe={base:pK,key:"type",typeMap:{fence:nwe}};let M_=class extends ti($e){constructor(t){super(t),this.geotriggers=null}};g([S({types:[swe],json:{write:{isRequired:!0}}})],M_.prototype,"geotriggers",void 0),M_=g([Q("esri.webdoc.GeotriggersInfo")],M_);const owe=M_;var _M;let ty=_M=class extends $e{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new _M(ye({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};g([S({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],ty.prototype,"activeRange",void 0),g([S({type:[Number],json:{write:!0}})],ty.prototype,"currentRangeExtent",void 0),g([S({type:[Number],json:{write:!0}})],ty.prototype,"fullRangeExtent",void 0),ty=_M=g([Q("esri.webdoc.RangeInfo")],ty);const lA=ty;var SM;let Zl=SM=class extends $e{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new SM(ye({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};g([S({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Zl.prototype,"enabled",void 0),g([S({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Zl.prototype,"longNames",void 0),g([S({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Zl.prototype,"minimized",void 0),g([S({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Zl.prototype,"pinnedLevels",void 0),g([S({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Zl.prototype,"site",void 0),g([S({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Zl.prototype,"facility",void 0),g([S({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Zl.prototype,"level",void 0),Zl=SM=g([Q("esri.webdoc.widgets.FloorFilter")],Zl);const awe=Zl;var $M;const W3=new At({slider:"slider",picker:"picker"});let iy=$M=class extends $e{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new $M({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};g([S({type:W3.apiValues,nonNullable:!0,json:{type:W3.jsonValues,default:null,read:{reader:W3.read},write:{isRequired:!0,writer:W3.write}}})],iy.prototype,"interactionMode",void 0),g([S({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=this.stopInterval!=null;return{enabled:!e,isRequired:!e}}}}})],iy.prototype,"numStops",void 0),g([S({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],iy.prototype,"stopInterval",void 0),iy=$M=g([Q("esri.webdoc.widgets.Range")],iy);const lwe=iy;var xM;let on=xM=class extends $e{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){if(!e)return;const t=e[0]!=null?new Date(e[0]):null,i=e[1]!=null?new Date(e[1]):null;return new Fr({start:t,end:i})}writeCurrentTimeExtent(e,t,i){e&&un(i,[e.start!=null?e.start.getTime():null,e.end!=null?e.end.getTime():null],t)}readFullTimeExtent(e,t){const i=t.properties;if(!i)return;const r=i.endTime!=null?new Date(i.endTime):null,s=i.startTime!=null?new Date(i.startTime):null;return new Fr({start:s,end:r})}writeFullTimeExtent(e,t){if(!e)return;const i=t.properties=t.properties||{},r=e.end,s=e.start;r&&(i.endTime=r!=null?r.getTime():null),s&&(i.startTime=s!=null?s.getTime():null)}readStopInterval(e,t,i){return e?ym.fromJSON({value:e.interval,unit:e.units},i):null}writeStopInterval(e,t,i,r){if(!e)return;const s=e.toJSON(r);un(i,{interval:s.value,units:s.unit},t)}readStops(e){return e!=null&&e.length?e.map(t=>new Date(t)):null}writeStops(e,t,i){e!=null&&e.length&&un(i,e.map(r=>r.getTime()),t)}clone(){return new xM(ye({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};g([S({type:Fr,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],on.prototype,"currentTimeExtent",void 0),g([Pe("currentTimeExtent")],on.prototype,"readCurrentTimeExtent",null),g([De("currentTimeExtent")],on.prototype,"writeCurrentTimeExtent",null),g([S({type:Fr,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],on.prototype,"fullTimeExtent",void 0),g([Pe("fullTimeExtent")],on.prototype,"readFullTimeExtent",null),g([De("fullTimeExtent")],on.prototype,"writeFullTimeExtent",null),g([S({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],on.prototype,"loop",void 0),g([S({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var r;const e=!!this.stopInterval,t=!!((r=this.stops)!=null&&r.length),i=!(e||t);return{enabled:i,isRequired:i}}}}})],on.prototype,"numStops",void 0),g([S({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],on.prototype,"numThumbs",void 0),g([S({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],on.prototype,"stopDelay",void 0),g([S({type:ym,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var i;const e=this.numStops!=null,t=!!((i=this.stops)!=null&&i.length);return{enabled:!t,isRequired:!(e||t)}}}}})],on.prototype,"stopInterval",void 0),g([Pe("stopInterval")],on.prototype,"readStopInterval",null),g([De("stopInterval")],on.prototype,"writeStopInterval",null),g([S({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],on.prototype,"stops",void 0),g([Pe("stops")],on.prototype,"readStops",null),g([De("stops")],on.prototype,"writeStops",null),on=xM=g([Q("esri.webdoc.widgets.TimeSlider")],on);const uwe=on;var EM;let ry=EM=class extends $e{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new EM(ye({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};g([S({type:lwe,json:{write:!0}})],ry.prototype,"range",void 0),g([S({type:uwe,json:{write:!0}})],ry.prototype,"timeSlider",void 0),g([S({type:awe,json:{write:!0}})],ry.prototype,"floorFilter",void 0),ry=EM=g([Q("esri.webdoc.Widgets")],ry);const cwe=ry,hwe={width:600,height:400},q3=1.5;function dwe(e,t){t=t||hwe;let{width:i,height:r}=t;const s=i/r;return s<q3?r=i/q3:s>q3&&(i=r*q3),i>e.width&&(r*=e.width/i,i=e.width),r>e.height&&(i*=e.height/r,r=e.height),{width:Math.round(i),height:Math.round(r)}}function pwe(e,t){return{...fK(e,t),readResourcePaths:[]}}function tRe(e,t,i){const r=Nr(e.itemUrl);return{...fK(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,resources:i?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function fK(e,t){return{origin:t,url:Nr(e.itemUrl),portal:e.portal||Xr.getDefault(),portalItem:e}}function fwe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function yK(e){return typeof e=="string"?Nr(e):ye(e)}function ywe(e,t,i){const r={};for(const s in e){if(s==="declaredClass")continue;const c=e[s];if(c!=null&&typeof c!="function")if(Array.isArray(c))r[s]=c.map(f=>ywe({item:f},t,i).item);else if(typeof c=="object")if(c.toJSON){const f=c.toJSON(i==null?void 0:i[s]);r[s]=t?f:JSON.stringify(f)}else r[s]=t?c:JSON.stringify(c);else r[s]=c}return r}function iRe(e,t){var i;return e?c8(e)&&(t||ai.apiKey)?t||ai.apiKey:(i=Et==null?void 0:Et.findCredential(e))==null?void 0:i.token:null}function rRe(e){return{geometryType:V8(e[0]),geometries:e.map(t=>t.toJSON())}}function mwe(e,t,i){const r=Ace(t);return e.map(s=>{const c=r.fromJSON(s);return c.spatialReference=i,c})}let Ef=class extends $e{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(s=>s.toJSON()),i=this.geometries[0],r={};return r.outSR=BF(this.outSpatialReference),r.inSR=BF(i.spatialReference),r.geometries=JSON.stringify({geometryType:V8(i),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};g([S()],Ef.prototype,"geometries",void 0),g([S({json:{read:{source:"outSR"}}})],Ef.prototype,"outSpatialReference",void 0),g([S()],Ef.prototype,"transformation",void 0),g([S()],Ef.prototype,"transformForward",void 0),Ef=g([Q("esri.rest.support.ProjectParameters")],Ef);const mK=Ef,gwe=wr(mK);async function vwe(e,t,i){t=gwe(t);const r=yK(e),s={...r.query,f:"json",...t.toJSON()},c=t.outSpatialReference,f=V8(t.geometries[0]),m=fwe(s,i);return Ut(r.path+"/project",m).then(({data:{geometries:b}})=>mwe(b,f,c))}function bwe(e,t){var i;return t.resourceInfo?gK(t,t.resourceInfo,{origin:e.origin}):(i=t.portalItem)!=null&&i.id?wwe(e,t,t.portalItem):Promise.resolve()}function gK(e,t,i){const r={context:{...i,layerContainerType:"operational-layers"}};return e.portalItem&&(r.context.portal=e.portalItem.portal||Xr.getDefault()),te(()=>import("./layersCreator-CuLCReBy.js"),__vite__mapDeps([10,11,12,13])).then(({populateOperationalLayers:s})=>{const c=[],f=t.operationalLayers;f!=null&&f.length&&c.push(s(e.layers,f,r));const m={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},b=t.tables;return b!=null&&b.length&&c.push(s(e.tables,b,m)),Promise.allSettled(c).then(()=>{})})}async function wwe(e,t,i){var f;if(await i.load().catch(m=>{throw new me(`${e.name}:load-portal-item`,"Failed to load portal item",{error:m})}),i.type!==e.itemType)throw new me(`${e.name}:invalid-portal-item`,`Invalid portal item type '${i.type}', expected '${e.itemType}'`,{type:i.type});const r=await i.fetchData();t.resourceInfo=r;const s=pwe(i,e.origin);await _we(e,t,r,s),t.resourceReferences={portalItem:i,paths:s.readResourcePaths};const c=await $we(t.initialViewProperties,i,ke.getLogger(t));if(c){const m=((f=t.initialViewProperties)==null?void 0:f.clone())??e.createInitialViewProperties();m.viewpoint=c,t.initialViewProperties=m}}function _we(e,t,i,r){const s=Swe(e,i);return t.read(s,r),gK(t,s,r)}function Swe(e,t){const i=e.parseVersion(t.version||"",e.name);return e.currentVersion.validate(i),t.version=`${i.major}.${i.minor}`,t}async function $we(e,t,i){var c;if((c=e==null?void 0:e.viewpoint)==null?void 0:c.targetGeometry)return null;const s=await xwe(e,t,i);return s?new b0({targetGeometry:s}):null}async function xwe(e,t,i){const r=e==null?void 0:e.spatialReference,s=t==null?void 0:t.extent;if(!r||!s)return null;if(r.isWGS84)return s.clone();if(r.isWebMercator)return sb(s);const{getGeometryServiceURL:c}=await te(()=>import("./geometryServiceUtils-DQSAcvNz.js"),[]);try{const f=await c(t),m=new mK;return m.geometries=[s],m.outSpatialReference=r,(await vwe(f,m))[0]}catch(f){i.error("Error projecting item's extent:",f)}return null}function iD(e){return{enabled:!!(e!=null&&e.length)}}var TM;let ny=TM=class extends $e{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new TM({exactMatch:this.exactMatch,type:this.type,name:this.name})}};g([S({type:Boolean,json:{write:!0}})],ny.prototype,"exactMatch",void 0),g([S({type:String,json:{write:!0}})],ny.prototype,"name",void 0),g([at(PC)],ny.prototype,"type",void 0),ny=TM=g([Q("esri.webdoc.applicationProperties.SearchLayerField")],ny);const Ewe=ny;var IM;let sy=IM=class extends $e{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new IM(ye({field:this.field,id:this.id,subLayer:this.subLayer}))}};g([S({type:Ewe,json:{write:{isRequired:!0}}})],sy.prototype,"field",void 0),g([S({type:String,json:{write:{isRequired:!0}}})],sy.prototype,"id",void 0),g([S({type:Oi,json:{write:!0}})],sy.prototype,"subLayer",void 0),sy=IM=g([Q("esri.webdoc.applicationProperties.SearchLayer")],sy);const Twe=sy;var MM;let oy=MM=class extends $e{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new MM({exactMatch:this.exactMatch,type:this.type,name:this.name})}};g([S({type:Boolean,json:{write:!0}})],oy.prototype,"exactMatch",void 0),g([S({type:String,json:{write:!0}})],oy.prototype,"name",void 0),g([at(PC)],oy.prototype,"type",void 0),oy=MM=g([Q("esri.webdoc.applicationProperties.SearchTableField")],oy);const Iwe=oy;var kM;let Bv=kM=class extends $e{constructor(e){super(e),this.field=null,this.id=null}clone(){return new kM(ye({field:this.field,id:this.id}))}};g([S({type:Iwe,json:{write:{isRequired:!0}}})],Bv.prototype,"field",void 0),g([S({type:String,json:{write:{isRequired:!0}}})],Bv.prototype,"id",void 0),Bv=kM=g([Q("esri.webdoc.applicationProperties.SearchTable")],Bv);const Mwe=Bv;var CM;const vK=it.ofType(Twe),bK=it.ofType(Mwe);let Kl=CM=class extends $e{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new vK,this.tables=new bK}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,i){t[i]=!e}clone(){return new CM(ye({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};g([S({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Kl.prototype,"addressSearchEnabled",void 0),g([Pe("addressSearchEnabled")],Kl.prototype,"readAddressSearchEnabled",null),g([De("addressSearchEnabled")],Kl.prototype,"writeAddressSearchEnabled",null),g([S({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Kl.prototype,"enabled",void 0),g([S({type:String,json:{write:!0}})],Kl.prototype,"hintText",void 0),g([S({type:vK,json:{write:{overridePolicy:iD},origins:{"web-scene":{write:{isRequired:!0}}}}})],Kl.prototype,"layers",void 0),g([S({type:bK,json:{read:!0,write:{overridePolicy:iD}}})],Kl.prototype,"tables",void 0),Kl=CM=g([Q("esri.webdoc.applicationProperties.Search")],Kl);const kwe=Kl;var AM;let k_=AM=class extends $e{constructor(e){super(e),this.search=null}clone(){return new AM(ye({search:this.search}))}};g([S({type:kwe,json:{write:!0}})],k_.prototype,"search",void 0),k_=AM=g([Q("esri.webdoc.applicationProperties.Viewing")],k_);const Cwe=k_;var OM;let ay=OM=class extends $e{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new OM(ye({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};g([S({json:{write:!0}})],ay.prototype,"editing",void 0),g([S({json:{write:!0}})],ay.prototype,"offline",void 0),g([S({type:Cwe,json:{write:!0}})],ay.prototype,"viewing",void 0),ay=OM=g([Q("esri.webmap.ApplicationProperties")],ay);const Awe=ay,sRe="https://.*";function Owe(e){return!!e&&/^https:\/\/.*/i.test(e)}function Lwe(e){return!!e&&/data:([-\w]+\/[-+\w.]+)?(;?\w+=[-\w]+)*(;base64)?,.*/gu.test(e)}var LM;let Fc=LM=class extends $e{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return Owe(this.url)}get isDataURI(){return Lwe(this.url)}clone(){return new LM({url:this.url})}};g([S({type:String,json:{write:{isRequired:!0}}})],Fc.prototype,"url",void 0),g([S()],Fc.prototype,"isSecureUrl",null),g([S()],Fc.prototype,"isDataURI",null),Fc=LM=g([Q("esri.webdoc.support.SlideThumbnail")],Fc);var PM;let Yl=PM=class extends dp($e){constructor(e){super(e),this.name=null,this.thumbnail=new Fc,this.timeExtent=null}castThumbnail(e){return typeof e=="string"?new Fc({url:e}):wr(Fc,e)}set viewpoint(e){const{targetGeometry:t,scale:i}=e;t!=null&&t.type==="point"&&i==null&&ke.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:i,viewpoint:r}=t;return b0.fromJSON(r||{targetGeometry:i})}writeViewpoint(e,t,i,r){if(!e)return;const{targetGeometry:s}=e;if(s==null||s.type==="extent")s!=null&&(t.extent=s.toJSON()),t[i]=e.toJSON();else{const c="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";r!=null&&r.messages?r.messages.push(new me("property:unsupported",c)):ke.getLogger(this).error(c)}}clone(){return new PM(ye({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};g([S({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Yl.prototype,"name",void 0),g([S({type:Fc,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],Yl.prototype,"thumbnail",void 0),g([bi("thumbnail")],Yl.prototype,"castThumbnail",null),g([S({type:Fr,json:{write:!0}})],Yl.prototype,"timeExtent",void 0),g([S({type:b0,nonNullable:!0,json:{write:!0}})],Yl.prototype,"viewpoint",null),g([Pe("viewpoint",["extent","viewpoint"])],Yl.prototype,"readViewpoint",null),g([De("viewpoint")],Yl.prototype,"writeViewpoint",null),Yl=PM=g([Q("esri.webmap.Bookmark")],Yl);const Pwe=Yl;var FM;let C_=FM=class extends $e{constructor(e){super(e),this.color=new ot([0,0,0,1])}clone(){return new FM(ye({color:this.color}))}};g([S({type:ot,json:{write:!0}})],C_.prototype,"color",void 0),C_=FM=g([Q("esri.webmap.background.ColorBackground")],C_);const uA=C_;let od=class extends ti(ht){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeZone=ku,this.viewpoint=null}};g([S({type:uA})],od.prototype,"background",void 0),g([S({type:lA})],od.prototype,"rangeInfo",void 0),g([S({type:Lt})],od.prototype,"spatialReference",void 0),g([S({nonNullable:!0})],od.prototype,"timeZone",void 0),g([S({type:b0})],od.prototype,"viewpoint",void 0),od=g([Q("esri.webmap.InitialViewProperties")],od);const j4=od;let Gy=class extends HH{constructor(t,i){super(t,i,"webmap")}};const Eb=new Gy(2,30),Fwe="Web Map",Rwe="webmap",RM="web-map",wK=it.ofType(Pwe),Nwe=it.ofType(hK),jwe=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),Dwe="ArcGIS Pro",Vwe=nK.JSAPI,Tx={currentVersion:Eb,createInitialViewProperties:()=>new j4,parseVersion:Gy.parse,itemType:Fwe,name:Rwe,origin:RM};let xi=class extends VS(Ma.LoadableMixin(g2(Rce))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new wK,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new j4,this.ipsInfo=null,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this._debouncedSaveOperations=ba(async(i,r,s)=>{const{save:c,saveAs:f}=await te(()=>import("./webdocSaveUtils-Cj0nFXi5.js"),__vite__mapDeps([175,160,161,176,177,163,164]));switch(i){case mu.SAVE:return c(Tx,this,r);case mu.SAVE_AS:return f(Tx,this,s,r)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){if(this.portalItem=tr(this.portalItem),this.utilityNetworks){const t=this.utilityNetworks.removeAll();for(const i of t)i.destroy();this.utilityNetworks.destroy()}}initialize(){if(this.when().catch(t=>{ke.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(i){return void this.addResolvingPromise(Promise.reject(i))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,i){t&&this._isAuthoringAppSetByUser?i.authoringApp=t:i.authoringApp=Vwe}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,i){t&&this._isAuthoringAppVersionSetByUser?i.authoringAppVersion=t:i.authoringAppVersion=hG}readInitialViewProperties(t,i){var c;const r=new j4;i.background&&(r.background=uA.fromJSON(i.background));const s=(c=i.initialState)==null?void 0:c.viewpoint;return s&&(s.rotation&&Gy.parse(i.version||"","webmap").lessThan(2,20)&&i.authoringApp===Dwe&&(s.rotation*=-1),r.viewpoint=b0.fromJSON(s)),i.mapRangeInfo&&(r.rangeInfo=lA.fromJSON(i.mapRangeInfo)),i.spatialReference&&(r.spatialReference=Lt.fromJSON(i.spatialReference)),i.timeZone&&(r.timeZone=i.timeZone),r}writeInitialViewProperties(t,i,r,s){var c;t&&((c=t.background)!=null&&c.color&&(i.background=t.background.write({},s)),t.viewpoint&&(i.initialState={viewpoint:t.viewpoint.write({},s)}),t.rangeInfo&&(i.mapRangeInfo=t.rangeInfo.toJSON(s)),t.spatialReference&&(i.spatialReference=t.spatialReference.write({},s)),i.timeZone=t.timeZone)}writeLayers(t,i,r,s){i[r]=this._writeLayers(t,s,"operational-layers")}readSourceVersion(t,i){const[r,s]=i.version.split(".");return new Gy(parseInt(r,10),parseInt(s,10))}writeSourceVersion(t,i,r){i[r]=`${Eb.major}.${Eb.minor}`}writeTables(t,i,r,s){const c=this._writeLayers(t,s,"tables");c.length&&(i[r]=c)}get thumbnailUrl(){var t;return((t=this.portalItem)==null?void 0:t.thumbnailUrl)||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){return this.addResolvingPromise(bwe(Tx,this)),Promise.resolve(this)}loadAll(){return m8(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,i){i={...i,origin:RM};const r=this._getAuthoringPropsState();YU(this,t,s=>super.read(t,s),i),this._restoreAuthoringPropsFromState(r)}write(t,i){if(this.loadStatus!=="loaded"){const r=new me("webmap:not-loaded","Web map must be loaded before it can be serialized");throw ke.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),r}return this._removeDanglingLayerRefs(),i={...i,origin:RM,restrictedWebMapWriting:!0,webmap:this},super.write(t,i)}async save(t){return this._debouncedSaveOperations(mu.SAVE,t)}async saveAs(t,i){return this._debouncedSaveOperations(mu.SAVE_AS,i,t)}async updateFrom(t,i){const r=this._updateFromInternal(t,i);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){var r,s,c,f;const i=this.resourceInfo;return this._collectAllLayersJSON([...((r=i==null?void 0:i.baseMap)==null?void 0:r.baseMapLayers)||[],...(i==null?void 0:i.operationalLayers)||[],...((f=(c=(s=this.basemap)==null?void 0:s.resourceInfo)==null?void 0:c.data)==null?void 0:f.baseMapLayers)||[]]).find(m=>m.id===t.id)}async updateItemThumbnail(){var t;this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await((t=this.portalItem)==null?void 0:t.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename})),this._clearThumbnailOverride())}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:aG(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((i,r)=>(i.push(r),r.layerType==="GroupLayer"&&(i=i.concat(this._collectAllLayersJSON(r.layers||[]))),i),[])}_writeLayers(t,i,r){return i={...i,layerContainerType:r},t.map(s=>XE(s,r==="tables"?null:this.getLayerJSONFromResourceInfo(s),i)).filter(Yr).toArray()}_validateJSON(t){const i=Gy.parse(t.version||"","webmap");return Eb.validate(i),t.version=`${i.major}.${i.minor}`,t}_removeDanglingLayerRefs(){var c,f,m;const t=this.applicationProperties,i=(c=t==null?void 0:t.viewing)==null?void 0:c.search,r=b=>this.allLayers.some(x=>x.id===b);if(i&&i.layers&&(i.layers=i.layers.filter(b=>r(b.id))),i&&i.tables&&(i.tables=i.tables.filter(b=>this.tables.some(x=>x.id===b.id))),t){const b=(f=t.editing)==null?void 0:f.locationTracking;b!=null&&b.info&&!r(b.info.layerId)&&(t.editing=null)}const s=(m=this.presentation)==null?void 0:m.slides;s&&s.forEach(b=>{b.visibleLayers&&(b.visibleLayers=b.visibleLayers.filter(x=>r(x.id)))})}async _updateFromInternal(t,i){if(i??(i={}),await Fn(()=>t.ready),this._updateInitialViewProperties(t,i),t.map===this)for(const r of t.allLayerViews)"visible"in r&&"visible"in r.layer&&r._isOverridden("visible")&&(r.layer.visible=r.visible),"featureEffect"in r&&"featureEffect"in r.layer&&r._isOverridden("featureEffect")&&(r.layer.featureEffect=r.featureEffect);await this._updateThumbnailUrl(t,i)}_updateInitialViewProperties(t,i){var r,s;if(i.backgroundExcluded||(this.initialViewProperties.background=(r=t.background)==null?void 0:r.clone()),this.initialViewProperties.spatialReference=(s=t.spatialReference)==null?void 0:s.clone(),this.initialViewProperties.timeZone=t.timeZone,i.viewpointExcluded||(this.initialViewProperties.viewpoint=new b0({rotation:t.rotation,scale:i.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!i.widgetsExcluded)for(const c of t.persistableViewModels)c.updateWebDocument(this)}_getViewExtent(t){const i=t.center.clone().normalize(),r=t.extent.clone(),s=r.width/2;return r.xmin=i.x-s,r.xmax=i.x+s,r}async _updateThumbnailUrl(t,i){if(i.thumbnailExcluded)return;const r=dwe(t,i.thumbnailSize),s=await t.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(s.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(lp(t)){const i=Yy(t),r=i==null?void 0:i.mediaType,s=r&&jwe.get(r.toLowerCase())||null,c=`thumbnail${Date.now()}`;return s?`${c}.${s}`:c}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(t){const i=t;if(!i)throw new me("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:i})}};xi.VERSION=Eb,g([S()],xi.prototype,"_updateFromPromise",void 0),g([S({type:Awe,json:{write:!0}})],xi.prototype,"applicationProperties",void 0),g([S({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],xi.prototype,"authoringApp",null),g([De("authoringApp")],xi.prototype,"writeAuthoringApp",null),g([S({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],xi.prototype,"authoringAppVersion",null),g([De("authoringAppVersion")],xi.prototype,"writeAuthoringAppVersion",null),g([S({type:wK,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],xi.prototype,"bookmarks",void 0),g([S({type:K2e,json:{name:"mapFloorInfo",write:!0}})],xi.prototype,"floorInfo",void 0),g([S({type:owe,json:{write:!0}})],xi.prototype,"geotriggersInfo",void 0),g([S({type:j4,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:uA},"initialState.viewpoint":{type:b0},mapRangeInfo:{type:lA},spatialReference:{type:Lt},"timeZone:":{type:String}}}}})],xi.prototype,"initialViewProperties",void 0),g([Pe("initialViewProperties")],xi.prototype,"readInitialViewProperties",null),g([De("initialViewProperties")],xi.prototype,"writeInitialViewProperties",null),g([S({json:{write:!0,name:"mapIPSInfo"}})],xi.prototype,"ipsInfo",void 0),g([S({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],xi.prototype,"layers",void 0),g([De("layers")],xi.prototype,"writeLayers",null),g([S({type:Gd})],xi.prototype,"portalItem",void 0),g([S({json:{write:!0}})],xi.prototype,"presentation",void 0),g([S()],xi.prototype,"resourceInfo",void 0),g([S({readOnly:!0,type:Gy,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],xi.prototype,"sourceVersion",void 0),g([Pe("sourceVersion")],xi.prototype,"readSourceVersion",null),g([De("sourceVersion")],xi.prototype,"writeSourceVersion",null),g([S({json:{read:!1,write:{ignoreOrigin:!0}}})],xi.prototype,"tables",void 0),g([De("tables")],xi.prototype,"writeTables",null),g([S()],xi.prototype,"thumbnailUrl",null),g([S()],xi.prototype,"updatingFromView",null),g([S({type:cwe,json:{write:!0}})],xi.prototype,"widgets",void 0),g([S({type:Nwe,json:{read:!0,write:!0}})],xi.prototype,"utilityNetworks",void 0),xi=g([Q("esri.WebMap")],xi);const _K=xi,uRe=Object.freeze(Object.defineProperty({__proto__:null,default:_K},Symbol.toStringTag,{value:"Module"}));function zwe(e,t){return{type:h0(t),value:e,unit:t}}function P0(e,t){return{type:h0(t),value:e,unit:t}}function Uwe(e,t){return{type:h0(t),value:e,unit:t}}function $l(e,t,i="arithmetic"){return{type:h0(t),value:e,unit:t,rotationType:i}}function cRe(e,t){const i=cA(e,t);return e.type==="angle"?$l(i,t,e.rotationType):zwe(i,t)}function cA(e,t){return Jt(e.value,e.unit,t)}function hRe(e,t){return e==null?t:t==null||e.value>Jt(t.value,t.unit,e.unit)?e:t}function dRe(e,t){return e==null?null:{...e,value:e.value*t}}function hA(e,t,i){if(t===i)return e;switch(i){case"arithmetic":case"geographic":return 90-e}}const pRe=P0(0,"meters"),fRe=Uwe(0,"square-meters");$l(0,"radians");const yRe=$l(0,"degrees"),mRe=$l(0,"degrees","geographic");function Gwe(e,t){return e[0]=t[0],e[1]=t[1],e}function dA(e,t,i){return e[0]=t,e[1]=i,e}function SK(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Qr(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function $K(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function xK(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function Wwe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function qwe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Bwe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function Hwe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function Jwe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function EK(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function _a(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function z2(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function Kc(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function m9(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function Ou(e){const t=e[0],i=e[1];return t*t+i*i}function Zwe(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Kwe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function TK(e,t){const i=t[0],r=t[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function gp(e,t){return e[0]*t[0]+e[1]*t[1]}function Ywe(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function pA(e,t,i,r){const s=t[0],c=t[1];return e[0]=s+r*(i[0]-s),e[1]=c+r*(i[1]-c),e}function Qwe(e,t){t=t||1;const i=2*CS()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function Xwe(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s,e[1]=i[1]*r+i[3]*s,e}function e3e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s+i[4],e[1]=i[1]*r+i[3]*s+i[5],e}function t3e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[3]*s+i[6],e[1]=i[1]*r+i[4]*s+i[7],e}function i3e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[4]*s+i[12],e[1]=i[1]*r+i[5]*s+i[13],e}function r3e(e,t,i,r){const s=t[0]-i[0],c=t[1]-i[1],f=Math.sin(r),m=Math.cos(r);return e[0]=s*m-c*f+i[0],e[1]=s*f+c*m+i[1],e}function IK(e,t){const i=e[0],r=e[1],s=t[0],c=t[1];let f=i*i+r*r;f>0&&(f=1/Math.sqrt(f));let m=s*s+c*c;m>0&&(m=1/Math.sqrt(m));const b=(i*s+r*c)*f*m;return b>1?0:b<-1?Math.PI:Math.acos(b)}function n3e(e){return"vec2("+e[0]+", "+e[1]+")"}function MK(e,t){return e[0]===t[0]&&e[1]===t[1]}function s3e(e,t){const i=e[0],r=e[1],s=t[0],c=t[1],f=Nn();return Math.abs(i-s)<=f*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-c)<=f*Math.max(1,Math.abs(r),Math.abs(c))}function o3e(e,t,i,r,s){let c=t[0]-i[0],f=t[1]-i[1];const m=(r[0]*c+r[1]*f)*(s-1);return c=r[0]*m,f=r[1]*m,e[0]=t[0]+c,e[1]=t[1]+f,e}const a3e=m9,kK=Qr,l3e=$K,u3e=xK,c3e=z2,h3e=Kc,d3e=Ou;Object.freeze(Object.defineProperty({__proto__:null,add:SK,angle:IK,ceil:Wwe,copy:Gwe,cross:Ywe,dist:c3e,distance:z2,div:u3e,divide:xK,dot:gp,equals:s3e,exactEquals:MK,floor:qwe,inverse:Kwe,len:a3e,length:m9,lerp:pA,max:Hwe,min:Bwe,mul:l3e,multiply:$K,negate:Zwe,normalize:TK,projectAndScale:o3e,random:Qwe,rotate:r3e,round:Jwe,scale:EK,scaleAndAdd:_a,set:dA,sqrDist:h3e,sqrLen:d3e,squaredDistance:Kc,squaredLength:Ou,str:n3e,sub:kK,subtract:Qr,transformMat2:Xwe,transformMat2d:e3e,transformMat3:t3e,transformMat4:i3e},Symbol.toStringTag,{value:"Module"}));function hn(){return[0,0]}function p3e(e){return[e[0],e[1]]}function Bd(e,t){return[e,t]}function f3e(e,t=hn()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function y3e(e,t){return new Float64Array(e,t,2)}function CK(){return hn()}function AK(){return Bd(1,1)}function OK(){return Bd(1,0)}function LK(){return Bd(0,1)}const PK=CK(),m3e=AK(),g3e=OK(),FK=LK();Object.freeze(Object.defineProperty({__proto__:null,ONES:m3e,UNIT_X:g3e,UNIT_Y:FK,ZEROS:PK,clone:p3e,create:hn,createView:y3e,fromArray:f3e,fromValues:Bd,ones:AK,unitX:OK,unitY:LK,zeros:CK},Symbol.toStringTag,{value:"Module"}));function RK(e,t,i,r){if(Zc(e.spatialReference,i)){B3[0]=e.x,B3[1]=e.y;const c=e.z;return B3[2]=c??r??0,zm(B3,e.spatialReference,0,t,i,0,1)}const s=fm(e,i);return!!s&&(t[0]=s==null?void 0:s.x,t[1]=s==null?void 0:s.y,t[2]=(s==null?void 0:s.z)??r??0,!0)}async function gRe(e,t,i,r,s){return await V2(e.spatialReference,i,null,s),RK(e,t,i,r)}const B3=Je();function Gm(e,t,i,r){return{x:e,y:t,z:i,hasZ:i!=null,hasM:!1,spatialReference:r,type:"point"}}function D4(e,t,i,r,s){return!(t==null||r==null||e.length<2)&&(qg.x=e[0],qg.y=e[1],qg.z=e[2],qg.spatialReference=t,RK(qg,i,r,s))}const qg=Gm(0,0,0,Lt.WGS84);function NK(e){if(!e)return null;if(v2(e)&&e.wkid){const i=Cbe[e.wkid];if(i)return i}const t=e.wkt2||e.wkt;if(t){const i=v3e(t);if(i)return i}return null}function v3e(e){const t=Mbe.exec(e);if(!t||t.length!==2)return null;const i=t[1].split(",");if(!i||i.length<3)return null;const r=parseFloat(i[1]),s=parseFloat(i[2]);return isNaN(r)||isNaN(s)?null:{a:r,f:s===0?0:1/s}}function g9(e){const t=NK(e);if(b3e(t))return t;const i=t.a*(1-t.f);return Object.assign(t,{b:i,eSq:1-(i/t.a)**2,radius:(2*t.a+i)/3,densificationRatio:1e4/((2*t.a+i)/3)})}function b3e(e){return e!=null&&"b"in e&&"eSq"in e&&"radius"in e}function H3(e,t,i){const{a:r,eSq:s}=g9(i),c=Math.sqrt(s),f=Math.sin(t[1]*Ts),m=r*t[0]*Ts;let b;return s>0?b=r*((1-s)*(f/(1-s*(f*f))-1/(2*c)*Math.log((1-c*f)/(1+c*f))))*.5:b=r*f,e[0]=m,e[1]=b,e}function U2(e){return NK(e)!==null}function vRe(e,t="square-meters"){if(e.some(f=>!U2(f.spatialReference)))throw new me("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let f=0;f<e.length;f++){const m=e[f],b=m.spatialReference,{radius:x,densificationRatio:T}=g9(b),C=x*T;i.push(_3e(m,C))}const r=[],s=[0,0],c=[0,0];for(let f=0;f<i.length;f++){const{rings:m,spatialReference:b}=i[f];let x=0;for(let T=0;T<m.length;T++){const C=m[T];H3(s,C[0],b),H3(c,C[C.length-1],b);let L=c[0]*s[1]-s[0]*c[1];for(let N=0;N<C.length-1;N++)H3(s,C[N+1],b),H3(c,C[N],b),L+=c[0]*s[1]-s[0]*c[1];x+=L}x=Jt(x,"square-meters",t),r.push(x/-2)}return r}function w3e(e,t="meters"){if(!e)throw new me("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some(r=>!U2(r.spatialReference)))throw new me("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let r=0;r<e.length;r++){const s=e[r],{spatialReference:c}=s,f=s.type==="polyline"?s.paths:s.rings;let m=0;for(let b=0;b<f.length;b++){const x=f[b];let T=0;for(let C=1;C<x.length;C++){const L=x[C-1][0],N=x[C][0],D=x[C-1][1],G=x[C][1];if(D!==G||L!==N){const q=new Wm;vp(q,[L,D],[N,G],c),T+=q.distance}}m+=T}m=Jt(m,"meters",t),i.push(m)}return i}function _3e(e,t){if(e.type!=="polyline"&&e.type!=="polygon")throw new me("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:i}=e;if(!U2(i))throw new me("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const r=e.type==="polyline"?e.paths:e.rings,s=[],c=[0,0],f=new Wm;for(const m of r){const b=[];s.push(b),b.push([m[0][0],m[0][1]]);let x,T,C=m[0][0],L=m[0][1];for(let N=0;N<m.length-1;N++){if(x=m[N+1][0],T=m[N+1][1],C===x&&L===T)continue;const D=[C,L];vp(f,[C,L],[x,T],i);const{azimuth:G,distance:q}=f,J=q/t;if(J>1){for(let ne=1;ne<=J-1;ne++)Hd(c,D,G,ne*t,i),b.push(c.slice(0));Hd(c,D,G,(q+Math.floor(J-1)*t)/2,i),b.push(c.slice(0))}Hd(c,D,G,q,i),b.push(c.slice(0)),C=c[0],L=c[1]}}return e.type==="polyline"?new M0({paths:s,spatialReference:i}):new wl({rings:s,spatialReference:i})}let Wm=class{constructor(t=0,i=void 0,r=void 0){this.distance=t,this.azimuth=i,this.reverseAzimuth=r}};function Hd(e,t,i,r,s){const c=t[0],f=t[1],m=c*Ts,b=f*Ts,x=(i??0)*Ts,{a:T,b:C,f:L}=g9(s),N=Math.sin(x),D=Math.cos(x),G=(1-L)*Math.tan(b),q=1/Math.sqrt(1+G*G),J=G*q,ne=Math.atan2(G,D),ue=q*N,ae=ue*ue,pe=1-ae,ge=pe*(T*T-C*C)/(C*C),Ae=1+ge/16384*(4096+ge*(ge*(320-175*ge)-768)),Ce=ge/1024*(256+ge*(ge*(74-47*ge)-128));let qe,Ge,Ue,et,nt=r/(C*Ae),Qe=2*Math.PI;for(;Math.abs(nt-Qe)>1e-12;)Ue=Math.cos(2*ne+nt),qe=Math.sin(nt),Ge=Math.cos(nt),et=Ce*qe*(Ue+Ce/4*(Ge*(2*Ue*Ue-1)-Ce/6*Ue*(4*qe*qe-3)*(4*Ue*Ue-3))),Qe=nt,nt=r/(C*Ae)+et;const Tt=J*qe-q*Ge*D,ri=Math.atan2(J*Ge+q*qe*D,(1-L)*Math.sqrt(ae+Tt*Tt)),yt=Math.atan2(qe*N,q*Ge-J*qe*D),Oe=L/16*pe*(4+L*(4-3*pe)),dt=ri/Ts,rt=(m+(yt-(1-Oe)*L*ue*(nt+Oe*qe*(Ue+Oe*Ge*(2*Ue*Ue-1)))))/Ts;return e[0]=rt,e[1]=dt,e}function vp(e,t,i,r){const s=t[0]*Ts,c=t[1]*Ts,f=i[0]*Ts,m=i[1]*Ts,{a:b,b:x,f:T,radius:C}=g9(r),L=f-s,N=Math.atan((1-T)*Math.tan(c)),D=Math.atan((1-T)*Math.tan(m)),G=Math.sin(N),q=Math.cos(N),J=Math.sin(D),ne=Math.cos(D);let ue,ae,pe,ge,Ae,Ce,qe,Ge,Ue,et,nt=1e3,Qe=L;do{if(qe=Math.sin(Qe),Ge=Math.cos(Qe),pe=Math.sqrt(ne*qe*(ne*qe)+(q*J-G*ne*Ge)*(q*J-G*ne*Ge)),pe===0)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;Ae=G*J+q*ne*Ge,Ce=Math.atan2(pe,Ae),Ue=q*ne*qe/pe,ae=1-Ue*Ue,ge=Ae-2*G*J/ae,isNaN(ge)&&(ge=0),et=T/16*ae*(4+T*(4-3*ae)),ue=Qe,Qe=L+(1-et)*T*Ue*(Ce+et*pe*(ge+et*Ae*(2*ge*ge-1)))}while(Math.abs(Qe-ue)>1e-12&&--nt>0);if(nt===0){const rt=C,be=Math.acos(Math.sin(c)*Math.sin(m)+Math.cos(c)*Math.cos(m)*Math.cos(f-s))*rt,Le=f-s,Pt=Math.sin(Le)*Math.cos(m),Dt=Math.cos(c)*Math.sin(m)-Math.sin(c)*Math.cos(m)*Math.cos(Le),Zt=Math.atan2(Pt,Dt);return e.azimuth=Zt/Ts,e.distance=be,e.reverseAzimuth=void 0,e}const Tt=ae*(b*b-x*x)/(x*x),ri=Tt/1024*(256+Tt*(Tt*(74-47*Tt)-128)),yt=x*(1+Tt/16384*(4096+Tt*(Tt*(320-175*Tt)-768)))*(Ce-ri*pe*(ge+ri/4*(Ae*(2*ge*ge-1)-ri/6*ge*(4*pe*pe-3)*(4*ge*ge-3)))),Oe=Math.atan2(ne*Math.sin(Qe),q*J-G*ne*Math.cos(Qe)),dt=Math.atan2(q*Math.sin(Qe),q*J*Math.cos(Qe)-G*ne);return e.azimuth=Oe/Ts,e.distance=yt,e.reverseAzimuth=dt/Ts,e}function NM(e){return U2(e)?e:Tu(e)?Lt.WGS84:null}var ro;function S3e(e,t){if(e==null||t==null)return;const i=jM(e,t);return i!=null?$l(i,"radians","geographic"):void 0}(function(e){e.Absolute="absolute",e.Relative="relative",e.RelativeBilateral="relative-bilateral"})(ro||(ro={}));const jM=(()=>{const e=Je(),t=Je();return(i,r)=>(_r(e,i.x,i.y,i.z??0),_r(t,r.x,r.y,r.z??0),n2(e,t,i.spatialReference,r.spatialReference))})(),n2=(()=>{const e=hn(),t=Je(),i=Je();return(r,s,c,f)=>{if(Ni(r,s))return;const m=NM(c),b=NM(f);if(m&&b&&cn(m,b)&&D4(r,c,t,m)&&D4(s,f,i,b)){const{azimuth:T}=vp($3e,t,i,m);return T!=null?Jt(T,"degrees","radians"):void 0}e[0]=s[0]-r[0],e[1]=s[1]-r[1];let x=IK(FK,e);return e[0]<0&&(x=x3e-x),x}})();function wRe(e,t,i,r=ro.Absolute){if(t&&i)switch(r){case ro.Absolute:return S3e(t,i);case ro.Relative:return nD(rD(e,t,i),ro.Relative);case ro.RelativeBilateral:return nD(rD(e,t,i),ro.RelativeBilateral)}}function rD(e,t,i){if(!e||!t||!i)return;const r=jM(e,t),s=jM(t,i);return r!=null&&s!=null?$l(s-r,"radians","geographic"):void 0}function nD(e,t){if(e==null)return;const i=DK(e);switch(t){case ro.Absolute:{const r=E3e.normalize(i,0,!0);return $l(r,"degrees","geographic")}case ro.Relative:{let r=sD.normalize(i,0,!0);return r===-180&&(r=180),$l(r,"degrees","geographic")}case ro.RelativeBilateral:{const r=Math.abs(sD.normalize(i,0,!0));return $l(r,"degrees","geographic")}}}const jK=(()=>{const e=Je();return(t,i,r,s,c,f="geodesic")=>{Iu(e,i);const m=DK(c);if(f==="geodesic"){const N=NM(r);if(N&&D4(e,r,e,N))return Hd(t,e,m,s,N),t[2]=i[2],!!D4(t,N,t,r)}const b=hA(m,"geographic","arithmetic"),x=Jt(b,"degrees","radians"),T=i[0]+s*Math.cos(x),C=i[1]+s*Math.sin(x),L=i[2];return _r(t,T,C,L),!0}})();function DK(e){return e!=null?hA(Jt(e.value,e.unit,"degrees"),e.rotationType,"geographic"):void 0}const $3e=new Wm,x3e=2*Math.PI,E3e=G8,sD=new DS(-180,180);let ly=class extends ht{constructor(t){super(t),this.directionMode="relative",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case"relative":return this.relativeDirectionIsBilateral?ro.RelativeBilateral:ro.Relative;case"absolute":return ro.Absolute}}};g([S({type:String,nonNullable:!0})],ly.prototype,"directionMode",void 0),g([S({type:Boolean,nonNullable:!0})],ly.prototype,"relativeDirectionIsBilateral",void 0),g([S()],ly.prototype,"effectiveDirectionMode",null),ly=g([Q("esri.views.interactive.sketch.SketchValueOptions")],ly);const v9=ly;var V4;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(V4||(V4={}));function VK(e,t,i){return e.units[t][i]}function qm(e,t,i,r=2,s="abbr"){return`${Ea(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:t>0?"never":"exceptZero"})} ${VK(e,i,s)}`}function b9(e,t,i,r=2,s="abbr"){return`${Ea(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${VK(e,i,s)}`}function SRe(e,t,i,r=2,s="abbr"){const c=S8(t,i);return qm(e,Jt(t,i,c),c,r,s)}function $Re(e,t,i,r=2,s="abbr"){const c=S8(t,i);return b9(e,Jt(t,i,c),c,r,s)}function xRe(e,t,i,r=2,s="abbr"){const c=$8(t,i);return qm(e,Jt(t,i,c),c,r,s)}function ERe(e,t,i,r=2,s="abbr"){const c=$8(t,i);return b9(e,Jt(t,i,c),c,r,s)}function TRe(e,t,i,r=2,s="abbr"){const c=x8(t,i);return qm(e,Jt(t,i,c),c,r,s)}function IRe(e,t,i,r=2,s="abbr"){const c=x8(t,i);return b9(e,Jt(t,i,c),c,r,s)}function MRe(e,t,i,r=2,s="abbr"){const c=E8(t,i);return qm(e,Jt(t,i,c),c,r,s)}function kRe(e,t,i,r=2,s="abbr"){const c=E8(t,i);return b9(e,Jt(t,i,c),c,r,s)}function CRe(e,t,i,r=2,s="abbr"){const c=joe(t,i);return qm(e,Jt(t,i,c),c,r,s)}function ARe(e,t,i,r=2,s="abbr"){const c=Doe(t,i);return qm(e,Jt(t,i,c),c,r,s)}function ORe(e,t,i,r,s){s=s??2;let c=G8.normalize(hA(Jt(e,t,"degrees"),i,r),0,!0);const f={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:c>0?"never":"exceptZero"};return c=zK(c,f),Ea(c,f)}function LRe(e,t,i,r,s){i!==r&&(e=-e);const c={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s=s??2,minimumFractionDigits:s,signDisplay:"exceptZero"};let f=Jt(e,t,"degrees")%360;return f=zK(f,c),Ea(f,c)}const oD=new Map;function zK(e,t){const i=JSON.stringify(t);let r=oD.get(i);return r||(r=new Intl.NumberFormat("en-US",t),oD.set(i,r)),/\-?\+?360/.test(r.format(e))?0:e}const aD=["B","kB","MB","GB","TB"];function T3e(e,t){let i=(t=Math.round(t))===0?0:Math.floor(Math.log(t)/Math.log(V4.KILOBYTES));i=Rn(i,0,aD.length-1);const r=Ea(t/V4.KILOBYTES**i,{maximumFractionDigits:2});return El(e.units.bytes[aD[i]],{fileSize:r})}function I3e(e){return typeof e=="string"?document.getElementById(e):e??null}function PRe(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function FRe(e,t){const i=t.parentNode;i&&i.insertBefore(e,t)}function RRe(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}function NRe(e){e.parentNode&&e.parentNode.removeChild(e)}/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var M3e=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},jf={exports:{}},Sr={},s2={exports:{}},F0={};function UK(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function k3e(e,t,i){}function C3e(e,t,i){}var A3e=/javascript\s*\:/img;function O3e(e,t){return A3e.test(t)?"":t}F0.whiteList=UK();F0.getDefaultWhiteList=UK;F0.onAttr=k3e;F0.onIgnoreAttr=C3e;F0.safeAttrValue=O3e;var L3e={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Bg=L3e;function P3e(e,t){e=Bg.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,s=0,c=0,f="";function m(){if(!r){var T=Bg.trim(e.slice(s,c)),C=T.indexOf(":");if(C!==-1){var L=Bg.trim(T.slice(0,C)),N=Bg.trim(T.slice(C+1));if(L){var D=t(s,f.length,L,N,T);D&&(f+=D+"; ")}}}s=c+1}for(;c<i;c++){var b=e[c];if(b==="/"&&e[c+1]==="*"){var x=e.indexOf("*/",c+2);if(x===-1)break;c=x+1,s=c+1,r=!1}else b==="("?r=!0:b===")"?r=!1:b===";"?r||m():b===`
`&&m()}return Bg.trim(f)}var F3e=P3e,J3=F0,R3e=F3e;function lD(e){return e==null}function N3e(e){var t={};for(var i in e)t[i]=e[i];return t}function GK(e){e=N3e(e||{}),e.whiteList=e.whiteList||J3.whiteList,e.onAttr=e.onAttr||J3.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||J3.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||J3.safeAttrValue,this.options=e}GK.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onAttr,c=i.onIgnoreAttr,f=i.safeAttrValue,m=R3e(e,function(b,x,T,C,L){var N=r[T],D=!1;if(N===!0?D=N:typeof N=="function"?D=N(C):N instanceof RegExp&&(D=N.test(C)),D!==!0&&(D=!1),C=f(T,C),!!C){var G={position:x,sourcePosition:b,source:L,isWhite:D};if(D){var q=s(T,C,G);return lD(q)?T+":"+C:q}else{var q=c(T,C,G);if(!lD(q))return q}}});return m};var j3e=GK;(function(e,t){var i=F0,r=j3e;function s(f,m){var b=new r(m);return b.process(f)}t=e.exports=s,t.FilterCSS=r;for(var c in i)t[c]=i[c]})(s2,s2.exports);var fA={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},D3e=s2.exports.FilterCSS,V3e=s2.exports.getDefaultWhiteList,z4=fA;function WK(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var qK=new D3e;function z3e(e,t,i){}function U3e(e,t,i){}function G3e(e,t,i){}function W3e(e,t,i){}function BK(e){return e.replace(B3e,"&lt;").replace(H3e,"&gt;")}function q3e(e,t,i,r){if(i=QK(i),t==="href"||t==="src"){if(i=z4.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(Z3.lastIndex=0,Z3.test(i))return""}else if(t==="style"){if(uD.lastIndex=0,uD.test(i)||(cD.lastIndex=0,cD.test(i)&&(Z3.lastIndex=0,Z3.test(i))))return"";r!==!1&&(r=r||qK,i=r.process(i))}return i=XK(i),i}var B3e=/</g,H3e=/>/g,J3e=/"/g,Z3e=/&quot;/g,K3e=/&#([a-zA-Z0-9]*);?/gim,Y3e=/&colon;?/gim,Q3e=/&newline;?/gim,Z3=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,uD=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,cD=/u\s*r\s*l\s*\(.*/gi;function HK(e){return e.replace(J3e,"&quot;")}function JK(e){return e.replace(Z3e,'"')}function ZK(e){return e.replace(K3e,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function KK(e){return e.replace(Y3e,":").replace(Q3e," ")}function YK(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return z4.trim(t)}function QK(e){return e=JK(e),e=ZK(e),e=KK(e),e=YK(e),e}function XK(e){return e=HK(e),e=BK(e),e}function X3e(){return""}function e5e(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(f){return i?!0:z4.indexOf(e,f)!==-1}var s=[],c=!1;return{onIgnoreTag:function(f,m,b){if(r(f))if(b.isClosing){var x="[/removed]",T=b.position+x.length;return s.push([c!==!1?c:b.position,T]),c=!1,x}else return c||(c=b.position),"[removed]";else return t(f,m,b)},remove:function(f){var m="",b=0;return z4.forEach(s,function(x){m+=f.slice(b,x[0]),b=x[1]}),m+=f.slice(b),m}}}function t5e(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var s=e.indexOf("-->",r);if(s===-1)break;i=s+3}return t}function i5e(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}Sr.whiteList=WK();Sr.getDefaultWhiteList=WK;Sr.onTag=z3e;Sr.onIgnoreTag=U3e;Sr.onTagAttr=G3e;Sr.onIgnoreTagAttr=W3e;Sr.safeAttrValue=q3e;Sr.escapeHtml=BK;Sr.escapeQuote=HK;Sr.unescapeQuote=JK;Sr.escapeHtmlEntities=ZK;Sr.escapeDangerHtml5Entities=KK;Sr.clearNonPrintableCharacter=YK;Sr.friendlyAttrValue=QK;Sr.escapeAttrValue=XK;Sr.onIgnoreTagStripAll=X3e;Sr.StripTagBody=e5e;Sr.stripCommentTag=t5e;Sr.stripBlankChar=i5e;Sr.cssFilter=qK;Sr.getDefaultCSSWhiteList=V3e;var w9={},_d=fA;function r5e(e){var t=_d.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=_d.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function n5e(e){return e.slice(0,2)==="</"}function s5e(e,t,i){var r="",s=0,c=!1,f=!1,m=0,b=e.length,x="",T="";e:for(m=0;m<b;m++){var C=e.charAt(m);if(c===!1){if(C==="<"){c=m;continue}}else if(f===!1){if(C==="<"){r+=i(e.slice(s,m)),c=m,s=m;continue}if(C===">"){r+=i(e.slice(s,c)),T=e.slice(c,m+1),x=r5e(T),r+=t(c,r.length,x,T,n5e(T)),s=m+1,c=!1;continue}if(C==='"'||C==="'")for(var L=1,N=e.charAt(m-L);N.trim()===""||N==="=";){if(N==="="){f=C;continue e}N=e.charAt(m-++L)}}else if(C===f){f=!1;continue}}return s<e.length&&(r+=i(e.substr(s))),r}var o5e=/[^a-zA-Z0-9\\_:.-]/gim;function a5e(e,t){var i=0,r=0,s=[],c=!1,f=e.length;function m(L,N){if(L=_d.trim(L),L=L.replace(o5e,"").toLowerCase(),!(L.length<1)){var D=t(L,N||"");D&&s.push(D)}}for(var b=0;b<f;b++){var x=e.charAt(b),T,C;if(c===!1&&x==="="){c=e.slice(i,b),i=b+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:u5e(e,b+1);continue}if(c!==!1&&b===r){if(C=e.indexOf(x,b+1),C===-1)break;T=_d.trim(e.slice(r+1,C)),m(c,T),c=!1,b=C,i=b+1;continue}if(/\s|\n|\t/.test(x))if(e=e.replace(/\s|\n|\t/g," "),c===!1)if(C=l5e(e,b),C===-1){T=_d.trim(e.slice(i,b)),m(T),c=!1,i=b+1;continue}else{b=C-1;continue}else if(C=c5e(e,b-1),C===-1){T=_d.trim(e.slice(i,b)),T=hD(T),m(c,T),c=!1,i=b+1;continue}else continue}return i<e.length&&(c===!1?m(e.slice(i)):m(c,hD(_d.trim(e.slice(i))))),_d.trim(s.join(" "))}function l5e(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function u5e(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function c5e(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function h5e(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function hD(e){return h5e(e)?e.substr(1,e.length-2):e}w9.parseTag=s5e;w9.parseAttr=a5e;var d5e=s2.exports.FilterCSS,cl=Sr,eY=w9,p5e=eY.parseTag,f5e=eY.parseAttr,A_=fA;function K3(e){return e==null}function y5e(e){var t=A_.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=A_.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=A_.trim(e.slice(0,-1))),{html:e,closing:i}}function m5e(e){var t={};for(var i in e)t[i]=e[i];return t}function g5e(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function tY(e){e=m5e(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=cl.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=g5e(e.whiteList||e.allowList):e.whiteList=cl.whiteList,e.onTag=e.onTag||cl.onTag,e.onTagAttr=e.onTagAttr||cl.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||cl.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||cl.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||cl.safeAttrValue,e.escapeHtml=e.escapeHtml||cl.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new d5e(e.css))}tY.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onTag,c=i.onIgnoreTag,f=i.onTagAttr,m=i.onIgnoreTagAttr,b=i.safeAttrValue,x=i.escapeHtml,T=t.cssFilter;i.stripBlankChar&&(e=cl.stripBlankChar(e)),i.allowCommentTag||(e=cl.stripCommentTag(e));var C=!1;i.stripIgnoreTagBody&&(C=cl.StripTagBody(i.stripIgnoreTagBody,c),c=C.onIgnoreTag);var L=p5e(e,function(N,D,G,q,J){var ne={sourcePosition:N,position:D,isClosing:J,isWhite:Object.prototype.hasOwnProperty.call(r,G)},ue=s(G,q,ne);if(!K3(ue))return ue;if(ne.isWhite){if(ne.isClosing)return"</"+G+">";var ae=y5e(q),pe=r[G],ge=f5e(ae.html,function(Ae,Ce){var qe=A_.indexOf(pe,Ae)!==-1,Ge=f(G,Ae,Ce,qe);return K3(Ge)?qe?(Ce=b(G,Ae,Ce,T),Ce?Ae+'="'+Ce+'"':Ae):(Ge=m(G,Ae,Ce,qe),K3(Ge)?void 0:Ge):Ge});return q="<"+G,ge&&(q+=" "+ge),ae.closing&&(q+=" /"),q+=">",q}else return ue=c(G,q,ne),K3(ue)?x(q):ue},x);return C&&(L=C.remove(L)),L};var v5e=tY;(function(e,t){var i=Sr,r=w9,s=v5e;function c(m,b){var x=new s(b);return x.process(m)}t=e.exports=c,t.filterXSS=c,t.FilterXSS=s,function(){for(var m in i)t[m]=i[m];for(var b in r)t[b]=r[b]}();function f(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}f()&&(self.filterXSS=e.exports)})(jf,jf.exports);var b5e=function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(c,f,m,b){return c==="a"&&f==="href"||(c==="img"||c==="source")&&f==="src"?r.sanitizeUrl(m):jf.exports.safeAttrValue(c,f,m,b)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!i?s=t:t&&i?(s=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(c){c==="whiteList"?s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]):s[c]=t[c]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList),this.xssFilterOptions=s,this._xssFilter=new jf.exports.FilterXSS(s)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,c=this._trim(t.substring(0,t.indexOf(":"))),f=t==="/",m=/^#/.test(t),b=c&&this.allowedProtocols.indexOf(c.toLowerCase())>-1;return f||m||b?jf.exports.escapeAttrValue(t):!c&&!s?jf.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,s):jf.exports.safeAttrValue(t,i,r,s)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var s=!1,c=void 0;if(Array.isArray(t))c=t.reduce(function(m,b){var x=r.validate(b,i);return x.isValid?m.concat([b]):(s=!0,m.concat([x.sanitized]))},[]);else if(M3e(t)){var f=Object.keys(t);c=f.reduce(function(m,b){var x=t[b],T=r.validate(x,i);return T.isValid?m[b]=x:(s=!0,m[b]=T.sanitized),m},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return s?c:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const _9=new Map;function iY(){_9.clear()}function w5e(e){return _9.get(e)}function _5e(e,t){_9.set(e,t)}function Ix(e){_9.delete(e)}const S5e=()=>ke.getLogger("esri.widgets.support.widgetUtils");function x0(...e){const t=du.acquire();for(let r=0;r<e.length;r++){const s=e[r],c=typeof s;if(c==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(c==="object")for(const f in s)s[f]&&t.push(f)}const i=t.join(" ");return du.release(t),i}const jRe=(()=>{const e=new Map,t=new ResizeObserver(r=>{var s;iY();for(const c of r)(s=e.get(c.target))==null||s(c)}),i=(r,s,c)=>(e.has(r)&&S5e().error("Already observing element",r),e.set(r,s),t.observe(r,c),xt(()=>{t.unobserve(r),e.delete(r)}));return(r,s,c)=>{let f=null;return Do([Ze(()=>typeof r=="function"?r():r,m=>{f==null||f.remove(),m&&(f=i(m,s,c))},Is),xt(()=>f==null?void 0:f.remove())])}})();function DM(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function DRe(e){return DM(e)?"rtl":"ltr"}function dD(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function pD(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const $5e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],x5e=$5e.reduce((e,t)=>(e[t]=[],e),{}),E5e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],rY=new b5e({whiteList:x5e,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(E5e.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function VRe(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=i.top+i.height,c=r.top+r.height,f=i.top,m=r.top;(s>c||f<m)&&e.scrollIntoView({block:"end"})}function zRe(e){return e==="Enter"||e===" "}function T5e(e){return Object.values(e).includes(!0)}const nY="http://www.w3.org/",S9=`${nY}2000/svg`,sY=`${nY}1999/xlink`;let fD=[],yA=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},mA=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),oY=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},I5e=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(mA(e[r],t))return r}return-1},Mx=(e,t,i,r)=>{let s=e[t];if(s.vnodeSelector==="")return;let c=s.properties;if(!(c&&(c.key===void 0?c.bind:c.key))){for(let f=0;f<e.length;f++)if(f!==t){let m=e[f];if(mA(m,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},M5e=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},VM=[],zM=!1,aY=e=>{(e.children||[]).forEach(aY),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},yD=()=>{zM=!1,VM.forEach(aY),VM.length=0},mD=e=>{VM.push(e),zM||(zM=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(yD,{timeout:16}):setTimeout(yD,16))},gD=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),mD(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),mD(e))},k5e=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,s=Object.keys(t),c=s.length;for(let f=0;f<c;f++){let m=s[f],b=t[m];if(m==="className")throw new Error('Property "className" is not supported, use "class".');if(m==="class")GM(e,b,!0);else if(m==="classes"){let x=Object.keys(b),T=x.length;for(let C=0;C<T;C++){let L=x[C];b[L]&&e.classList.add(L)}}else if(m==="styles"){let x=Object.keys(b),T=x.length;for(let C=0;C<T;C++){let L=x[C],N=b[L];N&&(oY(N),i.styleApplyer(e,L,N))}}else if(m!=="key"&&b!=null){let x=typeof b;x==="function"?(m.lastIndexOf("on",0)===0&&(r&&(b=r(m,b,e,t)),m==="oninput"&&function(){let T=b;b=function(C){T.apply(this,[C]),C.target["oninput-value"]=C.target.value}}()),e[m]=b):i.namespace===S9?m==="href"?e.setAttributeNS(sY,m,b):e.setAttribute(m,b):x==="string"&&m!=="value"?m==="innerHTML"?e[m]=rY.sanitize(b):UM(e)&&m in e?e[m]=b:e.setAttribute(m,b):e[m]=b}}};function UM(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let U4,C5e=(e,t,i)=>{if(t)for(let r of t)Ty(r,e,void 0,i)},lY=(e,t,i)=>{C5e(e,t.children,i),t.text&&(e.textContent=t.text),k5e(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},Ty=(e,t,i,r)=>{let s,c=0,f=e.vnodeSelector,m=t.ownerDocument;if(f==="")s=e.domNode=m.createTextNode(e.text),i!==void 0?t.insertBefore(s,i):t.appendChild(s);else{for(let b=0;b<=f.length;++b){let x=f.charAt(b);if(b===f.length||x==="."||x==="#"){let T=f.charAt(c-1),C=f.slice(c,b);T==="."?s.classList.add(C):T==="#"?s.id=C:(C==="svg"&&(r=yA(r,{namespace:S9})),r.namespace!==void 0?s=e.domNode=m.createElementNS(r.namespace,C):(s=e.domNode=e.domNode||m.createElement(C),C==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(s,i):s.parentNode!==t&&t.appendChild(s)),c=b+1}}lY(s,e,r)}},GM=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},A5e=(e,t,i,r)=>{if(!i)return;let s=!1,c=Object.keys(i),f=c.length;for(let m=0;m<f;m++){let b=c[m],x=i[b],T=t[b];if(b==="class")T!==x&&(GM(e,T,!1),GM(e,x,!0));else if(b==="classes"){let C=e.classList,L=Object.keys(x),N=L.length;for(let D=0;D<N;D++){let G=L[D],q=!!x[G];q!==!!T[G]&&(s=!0,q?C.add(G):C.remove(G))}}else if(b==="styles"){let C=Object.keys(x),L=C.length;for(let N=0;N<L;N++){let D=C[N],G=x[D];G!==T[D]&&(s=!0,G?(oY(G),r.styleApplyer(e,D,G)):r.styleApplyer(e,D,""))}}else if(x||typeof T!="string"||(x=""),b!=="value"||UM(e)){if(x!==T){let C=typeof x;C==="function"&&r.eventHandlerInterceptor||(r.namespace===S9?b==="href"?e.setAttributeNS(sY,b,x):e.setAttribute(b,x):C==="string"?b==="innerHTML"?e[b]=rY.sanitize(x):b==="role"&&x===""?e.removeAttribute(b):UM(e)&&b in e?e[b]=x:e.setAttribute(b,x):e[b]!==x&&(e[b]=x),s=!0)}}else{let C=e[b];C!==x&&(e["oninput-value"]?C===e["oninput-value"]:x!==T)&&(e[b]=x,e["oninput-value"]=void 0),x!==T&&(s=!0)}}return s},O5e=(e,t,i,r,s)=>{if(i===r)return!1;r=r||fD;let c,f=(i=i||fD).length,m=r.length,b=0,x=0,T=!1;for(;x<m;){let C=b<f?i[b]:void 0,L=r[x];if(C!==void 0&&mA(C,L))T=U4(C,L,s)||T,b++;else{let N=I5e(i,L,b+1);if(N>=0){for(c=b;c<N;c++)gD(i[c]),Mx(i,c,e,"removed");T=U4(i[N],L,s)||T,b=N+1}else Ty(L,t,b<f?i[b].domNode:void 0,s),M5e(L),Mx(r,x,e,"added")}x++}if(f>b)for(c=b;c<f;c++)gD(i[c]),Mx(i,c,e,"removed");return T};U4=(e,t,i)=>{let r=e.domNode,s=!1;if(e===t)return!1;let c=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let f=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(f,r),t.domNode=f,s=!0,s}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=yA(i,{namespace:S9})),e.text!==t.text&&(c=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,c=O5e(t,r,e.children,t.children,i)||c,c=A5e(r,e.properties,t.properties,i)||c,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return c&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),s};let Hg=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,U4(r,i,t)},domNode:e.domNode});const L5e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let uy=e=>yA(L5e,e),Dd={create:(e,t)=>(t=uy(t),Ty(e,document.createElement("div"),void 0,t),Hg(e,t)),append:(e,t,i)=>(i=uy(i),Ty(t,e,void 0,i),Hg(t,i)),insertBefore:(e,t,i)=>(i=uy(i),Ty(t,e.parentNode,e,i),Hg(t,i)),merge:(e,t,i)=>(i=uy(i),t.domNode=e,lY(e,t,i),Hg(t,i)),replace:(e,t,i)=>(i=uy(i),Ty(t,e.parentNode,e,i),e.parentNode.removeChild(e),Hg(t,i))},uY,P5e=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};uY=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let F5e=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?uY(i.children,s=>s.domNode===r):void 0}),i},R5e=(e,t,i)=>{let r=function(s){i("domEvent",s);let c=t(),f=P5e(s.currentTarget,c.domNode);f.reverse();let m,b=F5e(c.getLastRender(),f);return e.scheduleRender(),b&&(m=b.properties[`on${s.type}`].apply(b.properties.bind||this,arguments)),i("domEventProcessed",s),m};return(s,c,f,m)=>r},N5e=e=>{let t,i,r=uy(e),s=r.performanceLogger,c=!0,f=!1,m=[],b=[],x=(C,L,N)=>{let D,G=()=>D;r.eventHandlerInterceptor=R5e(t,G,s),D=C(L,N(),r),m.push(D),b.push(N)},T=()=>{if(i=void 0,c){c=!1,s("renderStart",void 0);for(let C=0;C<m.length;C++){let L=b[C]();s("rendered",void 0),m[C].update(L),s("patched",void 0)}s("renderDone",void 0),c=!0}};return t={renderNow:T,scheduleRender:()=>{i||f||(i=requestAnimationFrame(T))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),f=!0},resume:()=>{f=!1,c=!0,t.scheduleRender()},append:(C,L)=>{x(Dd.append,C,L)},insertBefore:(C,L)=>{x(Dd.insertBefore,C,L)},merge:(C,L)=>{x(Dd.merge,C,L)},replace:(C,L)=>{x(Dd.replace,C,L)},detach:C=>{for(let L=0;L<b.length;L++)if(b[L]===C)return b.splice(L,1),m.splice(L,1)[0];throw new Error("renderFunction was not found")}},t};const j5e={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},D5e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},V5e=e=>({...D5e,...e}),z5e=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},U5e=(e,t)=>e.find(t),vD=(e,t,i=!1)=>{let r=e;return t.forEach((s,c)=>{const f=r!=null&&r.children?U5e(r.children,m=>m.domNode===s):void 0;i&&!f&&c!==t.length-1||(r=f)}),r},G5e=e=>{let t;const i={...j5e,...e},r=V5e(i),s=r.performanceLogger;let c,f=!0,m=!1;const b=[],x=[],T=(L,N,D)=>{var J;let G;r.eventHandlerInterceptor=(ne,ue,ae,pe)=>function(ge){let Ae;s("domEvent",ge);const Ce=z5e(ge.currentTarget,G.domNode),qe=Ce.some(Ue=>{var et;return customElements.get((et=Ue==null?void 0:Ue.tagName)==null?void 0:et.toLowerCase())});if(ge.eventPhase===Event.CAPTURING_PHASE||!qe)Ce.reverse(),Ae=vD(G.getLastRender(),Ce);else{const Ue=ge.composedPath(),et=Ue.slice(Ue.indexOf(ge.currentTarget),Ue.indexOf(G.domNode)).reverse();Ae=vD(G.getLastRender(),et,!0)}let Ge;return Ae&&(Ge=i.handleInterceptedEvent(t,Ae,this,ge)),s("domEventProcessed",ge),Ge},(J=i.postProcessProjectionOptions)==null||J.call(i,r);const q=D();G=L(N,q,r),r.eventHandlerInterceptor=void 0,b.push(G),x.push(D),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(G,q)};let C=()=>{if(c=void 0,f){f=!1,s("renderStart",void 0);for(let L=0;L<b.length;L++){const N=x[L]();s("rendered",void 0),b[L].update(N),s("patched",void 0)}s("renderDone",void 0),f=!0}};return i.modifyDoRenderImplementation&&(C=i.modifyDoRenderImplementation(C,b,x)),t={renderNow:C,scheduleRender:()=>{c||m||(c=requestAnimationFrame(C))},stop:()=>{c&&(cancelAnimationFrame(c),c=void 0),m=!0},resume:()=>{m=!1,f=!0,t.scheduleRender()},append:(L,N)=>{T(Dd.append,L,N)},insertBefore:(L,N)=>{T(Dd.insertBefore,L,N)},merge:(L,N)=>{T(Dd.merge,L,N)},replace:(L,N)=>{T(Dd.replace,L,N)},detach:L=>{for(let N=0;N<x.length;N++)if(x[N]===L)return x.splice(N,1),b.splice(N,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const cY="calcite-mode-auto",hY="calcite-mode-dark",W5e="calcite-mode-light",URe={autoMode:cY,darkMode:hY,lightMode:W5e,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},GRe={filter:250,nextTick:0,resize:150,reposition:100};var fa={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},q5e=Object.defineProperty,B5e=(e,t)=>{for(var i in t)q5e(e,i,{get:t[i],enumerable:!0})},dY=new WeakMap,R0=e=>dY.get(e),H5e=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return dY.set(e,i)},bD=(e,t)=>t in e,G2=(e,t)=>(0,console.error)(e,t),G4=new Map,J5e=[],Z5e="slot-fb{display:contents}slot-fb[hidden]{display:none}",wD="http://www.w3.org/1999/xlink",W2=typeof window<"u"?window:{},xl=W2.document||{head:{}},WRe=W2.HTMLElement||class{},Mn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},K5e=(()=>{let e=!1;try{xl.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Y5e=e=>Promise.resolve(e),Q5e=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),WM=!1,qM=[],pY=[],fY=(e,t)=>i=>{e.push(i),WM||(WM=!0,t&&Mn.$flags$&4?X5e(BM):Mn.raf(BM))},_D=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){G2(i)}e.length=0},BM=()=>{_D(qM),_D(pY),(WM=qM.length>0)&&Mn.raf(BM)},X5e=e=>Y5e().then(e),qRe=fY(qM,!1),e_e=fY(pY,!0),t_e=e=>{const t=new URL(e,Mn.$resourcesUrl$);return t.origin!==W2.location.origin?t.href:t.pathname},i_e=e=>Mn.$resourcesUrl$=e,SD={},r_e="http://www.w3.org/2000/svg",n_e="http://www.w3.org/1999/xhtml",s_e=e=>e!=null,gA=e=>(e=typeof e,e==="object"||e==="function");function o_e(e){var t,i,r;return(r=(i=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:i.getAttribute("content"))!=null?r:void 0}var a_e={};B5e(a_e,{err:()=>yY,map:()=>l_e,ok:()=>HM,unwrap:()=>u_e,unwrapErr:()=>c_e});var HM=e=>({isOk:!0,isErr:!1,value:e}),yY=e=>({isOk:!1,isErr:!0,value:e});function l_e(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then(r=>HM(r)):HM(i)}if(e.isErr){const i=e.value;return yY(i)}throw"should never get here"}var u_e=e=>{if(e.isOk)return e.value;throw e.value},c_e=e=>{if(e.isErr)return e.value;throw e.value},E0=(e,t="")=>()=>{},mY=(e,t,...i)=>{let r=null,s=null,c=null,f=!1,m=!1;const b=[],x=C=>{for(let L=0;L<C.length;L++)r=C[L],Array.isArray(r)?x(r):r!=null&&typeof r!="boolean"&&((f=typeof e!="function"&&!gA(r))&&(r=String(r)),f&&m?b[b.length-1].$text$+=r:b.push(f?W4(null,r):r),m=f)};if(x(i),t){t.key&&(s=t.key),t.name&&(c=t.name);{const C=t.className||t.class;C&&(t.class=typeof C!="object"?C:Object.keys(C).filter(L=>C[L]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,b,p_e);const T=W4(e,null);return T.$attrs$=t,b.length>0&&(T.$children$=b),T.$key$=s,T.$name$=c,T},W4=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},h_e={},d_e=e=>e&&e.$tag$===h_e,p_e={forEach:(e,t)=>e.map($D).forEach(t),map:(e,t)=>e.map($D).map(t).map(f_e)},$D=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),f_e=e=>{if(typeof e.vtag=="function"){const i={...e.vattrs};return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),mY(e.vtag,i,...e.vchildren||[])}const t=W4(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},y_e=e=>J5e.map(t=>t(e)).find(t=>!!t),m_e=(e,t)=>e!=null&&!gA(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,g_e=e=>e,BRe=(e,t,i)=>{const r=g_e(e);return{emit:s=>v_e(r,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:s})}},v_e=(e,t,i)=>{const r=Mn.ce(t,i);return e.dispatchEvent(r),r},xD=new WeakMap,b_e=(e,t,i)=>{let r=G4.get(e);Q5e&&i?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,G4.set(e,r)},w_e=(e,t,i)=>{var r;const s=gY(t,i),c=G4.get(s);if(e=e.nodeType===11?e:xl,c)if(typeof c=="string"){e=e.head||e;let f=xD.get(e),m;if(f||xD.set(e,f=new Set),!f.has(s)){{m=xl.createElement("style"),m.innerHTML=c;const b=(r=Mn.$nonce$)!=null?r:o_e(xl);b!=null&&m.setAttribute("nonce",b),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(m,e.querySelector("link"))}t.$flags$&4&&(m.innerHTML+=Z5e),f&&f.add(s)}}else e.adoptedStyleSheets.includes(c)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,c]);return s},__e=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,r=t.$flags$,s=E0("attachStyles",t.$tagName$),c=w_e(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);r&10&&r&2&&(i["s-sc"]=c,i.classList.add(c+"-h"),r&2&&i.classList.add(c+"-s")),s()},gY=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),ED=(e,t,i,r,s,c)=>{if(i!==r){let f=bD(e,t),m=t.toLowerCase();if(t==="class"){const b=e.classList,x=TD(i),T=TD(r);b.remove(...x.filter(C=>C&&!T.includes(C))),b.add(...T.filter(C=>C&&!x.includes(C)))}else if(t==="style"){for(const b in i)(!r||r[b]==null)&&(b.includes("-")?e.style.removeProperty(b):e.style[b]="");for(const b in r)(!i||r[b]!==i[b])&&(b.includes("-")?e.style.setProperty(b,r[b]):e.style[b]=r[b])}else if(t!=="key")if(t==="ref")r&&r(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):bD(W2,m)?t=m.slice(2):t=m[2]+t.slice(3),i||r){const b=t.endsWith(vY);t=t.replace($_e,""),i&&Mn.rel(e,t,i,b),r&&Mn.ael(e,t,r,b)}}else{const b=gA(r);if((f||b&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{const T=r??"";t==="list"?f=!1:(i==null||e[t]!=T)&&(e[t]=T)}}catch{}let x=!1;m!==(m=m.replace(/^xlink\:?/,""))&&(t=m,x=!0),r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&(x?e.removeAttributeNS(wD,t):e.removeAttribute(t)):(!f||c&4||s)&&!b&&(r=r===!0?"":r,x?e.setAttributeNS(wD,t,r):e.setAttribute(t,r))}}},S_e=/\s/,TD=e=>e?e.split(S_e):[],vY="Capture",$_e=new RegExp(vY+"$"),bY=(e,t,i)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||SD,c=t.$attrs$||SD;for(const f of ID(Object.keys(s)))f in c||ED(r,f,s[f],void 0,i,t.$flags$);for(const f of ID(Object.keys(c)))ED(r,f,s[f],c[f],i,t.$flags$)};function ID(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var cy,JM,o2,q4=!1,B4=!1,vA=!1,Ro=!1,H4=(e,t,i,r)=>{var s;const c=t.$children$[i];let f=0,m,b,x;if(q4||(vA=!0,c.$tag$==="slot"&&(cy&&r.classList.add(cy+"-s"),c.$flags$|=c.$children$?2:1)),c.$text$!==null)m=c.$elm$=xl.createTextNode(c.$text$);else if(c.$flags$&1)m=c.$elm$=xl.createTextNode("");else{if(Ro||(Ro=c.$tag$==="svg"),m=c.$elm$=xl.createElementNS(Ro?r_e:n_e,!q4&&fa.slotRelocation&&c.$flags$&2?"slot-fb":c.$tag$),Ro&&c.$tag$==="foreignObject"&&(Ro=!1),bY(null,c,Ro),!!m.getRootNode().querySelector("body")&&fa.scoped&&s_e(cy)&&m["s-si"]!==cy&&m.classList.add(m["s-si"]=cy),wA(m,r),c.$children$)for(f=0;f<c.$children$.length;++f)b=H4(e,c,f,m),b&&m.appendChild(b);c.$tag$==="svg"?Ro=!1:m.tagName==="foreignObject"&&(Ro=!0)}return m["s-hn"]=o2,c.$flags$&3&&(m["s-sr"]=!0,m["s-cr"]=JM,m["s-sn"]=c.$name$||"",m["s-rf"]=(s=c.$attrs$)==null?void 0:s.ref,x=e&&e.$children$&&e.$children$[i],x&&x.$tag$===c.$tag$&&e.$elm$&&a2(e.$elm$,!1)),m},a2=(e,t)=>{Mn.$flags$|=1;const i=Array.from(e.childNodes);e["s-sr"]&&fa.experimentalSlotFixes;for(let r=i.length-1;r>=0;r--){const s=i[r];s["s-hn"]!==o2&&s["s-ol"]&&(Jd(SY(s),s,bA(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,vA=!0),t&&a2(s,t)}Mn.$flags$&=-2},wY=(e,t,i,r,s,c)=>{let f=e["s-cr"]&&e["s-cr"].parentNode||e,m;for(f.shadowRoot&&f.tagName===o2&&(f=f.shadowRoot);s<=c;++s)r[s]&&(m=H4(null,i,s,e),m&&(r[s].$elm$=m,Jd(f,m,bA(t))))},_Y=(e,t,i)=>{for(let r=t;r<=i;++r){const s=e[r];if(s){const c=s.$elm$;EY(s),c&&(B4=!0,c["s-ol"]?c["s-ol"].remove():a2(c,!0),c.remove())}}},x_e=(e,t,i,r,s=!1)=>{let c=0,f=0,m=0,b=0,x=t.length-1,T=t[0],C=t[x],L=r.length-1,N=r[0],D=r[L],G,q;for(;c<=x&&f<=L;)if(T==null)T=t[++c];else if(C==null)C=t[--x];else if(N==null)N=r[++f];else if(D==null)D=r[--L];else if(Y3(T,N,s))hy(T,N,s),T=t[++c],N=r[++f];else if(Y3(C,D,s))hy(C,D,s),C=t[--x],D=r[--L];else if(Y3(T,D,s))(T.$tag$==="slot"||D.$tag$==="slot")&&a2(T.$elm$.parentNode,!1),hy(T,D,s),Jd(e,T.$elm$,C.$elm$.nextSibling),T=t[++c],D=r[--L];else if(Y3(C,N,s))(T.$tag$==="slot"||D.$tag$==="slot")&&a2(C.$elm$.parentNode,!1),hy(C,N,s),Jd(e,C.$elm$,T.$elm$),C=t[--x],N=r[++f];else{for(m=-1,b=c;b<=x;++b)if(t[b]&&t[b].$key$!==null&&t[b].$key$===N.$key$){m=b;break}m>=0?(q=t[m],q.$tag$!==N.$tag$?G=H4(t&&t[f],i,m,e):(hy(q,N,s),t[m]=void 0,G=q.$elm$),N=r[++f]):(G=H4(t&&t[f],i,f,e),N=r[++f]),G&&Jd(SY(T.$elm$),G,bA(T.$elm$))}c>x?wY(e,r[L+1]==null?null:r[L+1].$elm$,i,r,f,L):f>L&&_Y(t,c,x)},Y3=(e,t,i=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&i&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:i?!0:e.$key$===t.$key$:!1,bA=e=>e&&e["s-ol"]||e,SY=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,hy=(e,t,i=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,c=t.$children$,f=t.$tag$,m=t.$text$;let b;m===null?(Ro=f==="svg"?!0:f==="foreignObject"?!1:Ro,f==="slot"&&!q4||bY(e,t,Ro),s!==null&&c!==null?x_e(r,s,t,c,i):c!==null?(e.$text$!==null&&(r.textContent=""),wY(r,null,t,c,0,c.length-1)):!i&&fa.updatable&&s!==null&&_Y(s,0,s.length-1),Ro&&f==="svg"&&(Ro=!1)):(b=r["s-cr"])?b.parentNode.textContent=m:e.$text$!==m&&(r.data=m)},$Y=e=>{const t=e.childNodes;for(const i of t)if(i.nodeType===1){if(i["s-sr"]){const r=i["s-sn"];i.hidden=!1;for(const s of t)if(s!==i){if(s["s-hn"]!==i["s-hn"]||r!==""){if(s.nodeType===1&&(r===s.getAttribute("slot")||r===s["s-sn"])||s.nodeType===3&&r===s["s-sn"]){i.hidden=!0;break}}else if(s.nodeType===1||s.nodeType===3&&s.textContent.trim()!==""){i.hidden=!0;break}}}$Y(i)}},Oc=[],xY=e=>{let t,i,r;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const c=s["s-sn"];for(r=i.length-1;r>=0;r--)if(t=i[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"]&&!fa.experimentalSlotFixes)if(MD(t,c)){let f=Oc.find(m=>m.$nodeToRelocate$===t);B4=!0,t["s-sn"]=t["s-sn"]||c,f?(f.$nodeToRelocate$["s-sh"]=s["s-hn"],f.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Oc.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Oc.map(m=>{MD(m.$nodeToRelocate$,t["s-sn"])&&(f=Oc.find(b=>b.$nodeToRelocate$===t),f&&!m.$slotRefNode$&&(m.$slotRefNode$=f.$slotRefNode$))})}else Oc.some(f=>f.$nodeToRelocate$===t)||Oc.push({$nodeToRelocate$:t})}s.nodeType===1&&xY(s)}},MD=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",EY=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(EY)},Jd=(e,t,i)=>{const r=e==null?void 0:e.insertBefore(t,i);return wA(t,e),r},TY=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...TY(e.parentElement)),t},wA=(e,t,i=!1)=>{var r;if(e&&t&&e.nodeType===1){const s=new Set(TY(t).filter(Boolean));if(s.size&&((r=e.classList)==null||r.add(...e["s-scs"]=[...s]),e["s-ol"]||i))for(const c of Array.from(e.childNodes))wA(c,e,!0)}},E_e=(e,t,i=!1)=>{var r,s,c,f,m;const b=e.$hostElement$,x=e.$cmpMeta$,T=e.$vnode$||W4(null,null),C=d_e(t)?t:mY(null,null,t);if(o2=b.tagName,x.$attrsToReflect$&&(C.$attrs$=C.$attrs$||{},x.$attrsToReflect$.map(([L,N])=>C.$attrs$[N]=b[L])),i&&C.$attrs$)for(const L of Object.keys(C.$attrs$))b.hasAttribute(L)&&!["key","ref","style","class"].includes(L)&&(C.$attrs$[L]=b[L]);C.$tag$=null,C.$flags$|=4,e.$vnode$=C,C.$elm$=T.$elm$=b.shadowRoot||b,cy=b["s-sc"],q4=(x.$flags$&1)!==0,JM=b["s-cr"],B4=!1,hy(T,C,i);{if(Mn.$flags$|=1,vA){xY(C.$elm$);for(const L of Oc){const N=L.$nodeToRelocate$;if(!N["s-ol"]){const D=xl.createTextNode("");D["s-nr"]=N,Jd(N.parentNode,N["s-ol"]=D,N)}}for(const L of Oc){const N=L.$nodeToRelocate$,D=L.$slotRefNode$;if(D){const G=D.parentNode;let q=D.nextSibling;{let J=(r=N["s-ol"])==null?void 0:r.previousSibling;for(;J;){let ne=(s=J["s-nr"])!=null?s:null;if(ne&&ne["s-sn"]===N["s-sn"]&&G===ne.parentNode){for(ne=ne.nextSibling;ne===N||ne!=null&&ne["s-sr"];)ne=ne==null?void 0:ne.nextSibling;if(!ne||!ne["s-nr"]){q=ne;break}}J=J.previousSibling}}(!q&&G!==N.parentNode||N.nextSibling!==q)&&N!==q&&(!N["s-hn"]&&N["s-ol"]&&(N["s-hn"]=N["s-ol"].parentNode.nodeName),Jd(G,N,q),N.nodeType===1&&(N.hidden=(c=N["s-ih"])!=null?c:!1)),N&&typeof D["s-rf"]=="function"&&D["s-rf"](N)}else N.nodeType===1&&(i&&(N["s-ih"]=(f=N.hidden)!=null?f:!1),N.hidden=!0)}}B4&&$Y(C.$elm$),Mn.$flags$&=-2,Oc.length=0}if(fa.experimentalScopedSlotChanges&&x.$flags$&2)for(const L of C.$elm$.childNodes)L["s-hn"]!==o2&&!L["s-sh"]&&(i&&L["s-ih"]==null&&(L["s-ih"]=(m=L.hidden)!=null?m:!1),L.hidden=!0);JM=void 0},T_e=(e,t)=>{},_A=(e,t)=>(e.$flags$|=16,T_e(e,e.$ancestorComponent$),e_e(()=>I_e(e,t))),I_e=(e,t)=>{const i=e.$hostElement$,r=E0("scheduleUpdate",e.$cmpMeta$.$tagName$),s=i;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let c;return t?c=Wy(s,"componentWillLoad"):c=Wy(s,"componentWillUpdate"),c=kD(c,()=>Wy(s,"componentWillRender")),r(),kD(c,()=>k_e(e,s,t))},kD=(e,t)=>M_e(e)?e.then(t).catch(i=>{console.error(i),t()}):t(),M_e=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",k_e=async(e,t,i)=>{const r=e.$hostElement$,s=E0("update",e.$cmpMeta$.$tagName$);r["s-rc"],i&&__e(e);const c=E0("render",e.$cmpMeta$.$tagName$);C_e(e,t,r,i),c(),s(),A_e(e)},CD=null,C_e=(e,t,i,r)=>{try{CD=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(fa.hasRenderFn||fa.reflect)&&(fa.vdomRender||fa.reflect)&&(fa.hydrateServerSide||E_e(e,t,r))}catch(b){G2(b,e.$hostElement$)}return CD=null,null},A_e=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,r=E0("postUpdate",t),s=i;e.$ancestorComponent$,Wy(s,"componentDidRender"),e.$flags$&64?(Wy(s,"componentDidUpdate"),r()):(e.$flags$|=64,Wy(s,"componentDidLoad"),r())},HRe=e=>{{const t=R0(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&_A(t,!1),i}},Wy=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(r){G2(r)}},O_e=(e,t)=>R0(e).$instanceValues$.get(t),L_e=(e,t,i,r)=>{const s=R0(e),c=e,f=s.$instanceValues$.get(t),m=s.$flags$,b=c;i=m_e(i,r.$members$[t][0]);const x=Number.isNaN(f)&&Number.isNaN(i);if(i!==f&&!x){s.$instanceValues$.set(t,i);{if(r.$watchers$&&m&128){const C=r.$watchers$[t];C&&C.map(L=>{try{b[L](i,f,t)}catch(N){G2(N,c)}})}if((m&18)===2){if(b.componentShouldUpdate&&b.componentShouldUpdate(i,f,t)===!1)return;_A(s,!1)}}}},P_e=(e,t,i)=>{var r,s;const c=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const f=Object.entries((r=t.$members$)!=null?r:{});f.map(([m,[b]])=>{(b&31||b&32)&&Object.defineProperty(c,m,{get(){return O_e(this,m)},set(x){L_e(this,m,x,t)},configurable:!0,enumerable:!0})});{const m=new Map;c.attributeChangedCallback=function(b,x,T){Mn.jmp(()=>{var C;const L=m.get(b);if(this.hasOwnProperty(L))T=this[L],delete this[L];else{if(c.hasOwnProperty(L)&&typeof this[L]=="number"&&this[L]==T)return;if(L==null){const N=R0(this),D=N==null?void 0:N.$flags$;if(D&&!(D&8)&&D&128&&T!==x){const q=this,J=(C=t.$watchers$)==null?void 0:C[b];J==null||J.forEach(ne=>{q[ne]!=null&&q[ne].call(q,T,x,b)})}return}}this[L]=T===null&&typeof this[L]=="boolean"?!1:T})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...f.filter(([b,x])=>x[0]&15).map(([b,x])=>{var T;const C=x[1]||b;return m.set(C,b),x[0]&512&&((T=t.$attrsToReflect$)==null||T.push([b,C])),C})]))}}return e},F_e=async(e,t,i,r)=>{let s;if(!(t.$flags$&32)){t.$flags$|=32,i.$lazyBundleId$;{s=e.constructor;const f=e.localName;customElements.whenDefined(f).then(()=>t.$flags$|=128)}if(s&&s.style){let f;typeof s.style=="string"?f=s.style:typeof s.style!="string"&&(t.$modeName$=y_e(e),t.$modeName$&&(f=s.style[t.$modeName$]));const m=gY(i,t.$modeName$);if(!G4.has(m)){const b=E0("registerStyles",i.$tagName$);b_e(m,f,!!(i.$flags$&1)),b()}}}t.$ancestorComponent$,_A(t,!0)},AD=e=>{},R_e=e=>{if(!(Mn.$flags$&1)){const t=R0(e),i=t.$cmpMeta$,r=E0("connectedCallback",i.$tagName$);t.$flags$&1?(IY(e,t,i.$listeners$),t!=null&&t.$lazyInstance$?AD(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>AD(t.$lazyInstance$))):(t.$flags$|=1,i.$flags$&12&&N_e(e),i.$members$&&Object.entries(i.$members$).map(([s,[c]])=>{if(c&31&&e.hasOwnProperty(s)){const f=e[s];delete e[s],e[s]=f}}),F_e(e,t,i)),r()}},N_e=e=>{const t=e["s-cr"]=xl.createComment("");t["s-cn"]=!0,Jd(e,t,e.firstChild)},j_e=async e=>{if(!(Mn.$flags$&1)){const t=R0(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},JRe=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const r=e.prototype.connectedCallback,s=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){H5e(this,i)},connectedCallback(){const c=R0(this);IY(this,c,i.$listeners$),R_e(this),r&&r.call(this)},disconnectedCallback(){j_e(this),s&&s.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=i.$tagName$,P_e(e,i)},ZRe=(e,t)=>t,IY=(e,t,i,r)=>{i&&i.map(([s,c,f])=>{const m=V_e(e,s),b=D_e(t,f),x=z_e(s);Mn.ael(m,c,b,x),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Mn.rel(m,c,b,x))})},D_e=(e,t)=>i=>{var r;try{fa.lazyLoad||e.$hostElement$[t](i)}catch(s){G2(s)}},V_e=(e,t)=>t&4?xl:t&8?W2:t&16?xl.body:e,z_e=e=>K5e?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Vc=globalThis.calciteConfig,KRe=(Vc==null?void 0:Vc.focusTrapStack)||[],YRe=(Vc==null?void 0:Vc.logLevel)||"info",OD="2.13.2",U_e="2024-10-24",G_e="e38e2977d";function W_e(){if(Vc&&Vc.version)return;console.info(`Using Calcite Components ${OD} [Date: ${U_e}, Revision: ${G_e}]`);const e=Vc||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:OD,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const MY=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function q_e(){return navigator.userAgentData}function QRe(){if(!MY())return"";const e=q_e();return e!=null&&e.brands?e.brands.map(({brand:t,version:i})=>`${t}/${i}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function LD(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(hY)||e.contains(cY)&&t?"dark":"light",r=f=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:f}})),s=f=>{c!==f&&r(f),c=f};let c=i();r(c),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f=>s(f.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function B_e(){MY()&&(document.readyState==="interactive"?LD():document.addEventListener("DOMContentLoaded",()=>LD(),{once:!0})),W_e()}const H_e=B_e;H_e();let kY;function J_e(){try{t_e(".")}catch{i_e(no(ei(kY)))}}function Fs(e){var i;const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push((i=e[r])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}kY="components/assets";const CY=Symbol("widget"),AY=Symbol("widget-test-data"),Z_e=[],K_e={},J4=new WeakMap;function OY(e,t){let i=t.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=OY(e,i[s]);else i=Z_e;const r=t.vnodeSelector;if(Z4(r)){const s=t.properties||K_e,c=s.key||r;return{vnodeSelector:"div",properties:{key:c,afterCreate:Y_e,afterUpdate:Q_e,afterRemoved:LY,parentWidget:e,widgetConstructor:r,widgetProperties:{...s,key:c,children:i}},children:void 0,text:void 0,domNode:null}}return t}function Y_e(e,t,i,{parentWidget:r,widgetConstructor:s,widgetProperties:c}){var m;const f=new s(c);f.container=e,J4.set(e,f),(m=f.afterCreate)==null||m.call(f,f,e),r.addHandles(xt(()=>LY(e))),queueMicrotask(()=>{f[AY].projector.renderNow()})}function Q_e(e,t,i,{widgetProperties:r}){var c;const s=J4.get(e);s&&(s.set(r),(c=s.afterUpdate)==null||c.call(s,s,e))}function LY(e){var i;const t=J4.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),J4.delete(e))}function Z4(e){return typeof e=="function"&&e[CY]}const Td={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"},PD=new Set;function X_e(e){PD.add(e),e.finally(()=>PD.delete(e))}var PY;const e4e="esri.widgets.Widget";let t4e=0;const i4e={widgetIcon:Td.checkboxUnchecked};function FY(e,t){for(const i in t)e[i]!=null&&(typeof e[i]=="object"&&typeof t[i]=="object"?FY(e[i],t==null?void 0:t[i]):e[i]=t[i]);return e}const r4e=G5e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,s,c,f)=>{const m=t==null?void 0:t(r,s,c,f),b=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in c)||b){const x=r[2].toLowerCase()+r.slice(3),T=N=>m==null?void 0:m.call(c,N);c.addEventListener(x,T,b);const C=()=>c.removeEventListener(x,T,b),L=f.afterRemoved;f.afterRemoved=N=>{L==null||L(N),C()}}return m}},handleInterceptedEvent(e,t,i,r){const{eventPhase:s,type:c}=r,f=s===Event.CAPTURING_PHASE;let m=`on${c}${f?"capture":""}`;const b=t.properties;(b&&m in b||(m=`on${c[0].toUpperCase()}${c.slice(1)}${f?"Capture":""}`,b&&m in b))&&(iY(),e.scheduleRender(),b[m].call(b.bind||i,r))}});let kx=!1,Br=class extends g2(Ps.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._projector=r4e,this._readyForTrueRender=!1,this.iconClass=i4e.widgetIcon,this.icon=null,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=ba(async()=>{var m;if((m=this._messageBundleProps)!=null&&m.length){const b=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:x,propertyName:T})=>{if(this.destroyed)return;let C=await A8(x);this.uiStrings&&Object.keys(this.uiStrings)&&(C=FY(ye(C),this.uiStrings)),this[T]=C}));if(this.destroyed)return;for(const x of b)x.status==="rejected"&&ke.getLogger(this).error("widget-intl:locale-error",this.declaredClass,x.reason)}await this.loadLocale()}),J_e();const r="esri-widget-uid-"+UC(),s=this.render.bind(this);this._trackingTarget=new _S(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const c=()=>{var C;if(!this._readyForTrueRender||this.destroyed)return null;const m=s();let b=m.properties;b||(m.properties=b={});const{key:x}=b;if(x||(b.key=r),Z4(m.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?b.styles||(b.styles={}):(b.class="",b.styles={display:"none"}),b.styles.display||(b.styles.display="");let T=0;return(C=m.children)==null||C.forEach(L=>{if(Z4(L.vnodeSelector))return;let{properties:N}=L;N||(L.properties=N={}),N.key||(N.key=`${this.id}--${T++}`)}),OY(this,m)};this.render=()=>{if(kx)return c();let m=w5e(this)??null;if(m)return m;this._trackingTarget.clear(),kx=!0;try{m=qc(this._trackingTarget,c)}catch(b){throw console.error(b),b}finally{kx=!1}return m&&_5e(this,m),m};const f=this.beforeFirstRender();f?this._resourcesFetch=f.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),X_e(this._resourcesFetch)}normalizeCtorArgs(t,i){const r={...t};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const t=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(gE):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(tr(this._trackingTarget),tr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,Ix(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return I3e(t)}get domNode(){return this.container}set domNode(t){this.container=t}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+t4e++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(PY=CY,AY)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Ix(this),this._projector.scheduleRender())}own(t){rU(ke.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return x0.apply(this,t)}renderNow(){Ix(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Ze(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&vS(r)&&this.addHandles(this._delegatedEventNames.map(c=>y2(r,c,f=>{this.emit(c,f)})),"delegated-events")},Is)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(gE),this.scheduleRender()};this.addHandles([WG(t),Ze(()=>this.uiStrings,t),_l(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};Br[PY]=!0,g([S()],Br.prototype,"_readyForTrueRender",void 0),g([S({value:null})],Br.prototype,"container",null),g([bi("container")],Br.prototype,"castContainer",null),g([S()],Br.prototype,"iconClass",void 0),g([S()],Br.prototype,"icon",void 0),g([S()],Br.prototype,"id",null),g([S()],Br.prototype,"label",null),g([S()],Br.prototype,"renderable",null),g([S()],Br.prototype,"uiStrings",void 0),g([S()],Br.prototype,"viewModel",void 0),g([S({value:!0})],Br.prototype,"visible",null),g([S()],Br.prototype,"key",void 0),g([S()],Br.prototype,"children",void 0),g([S()],Br.prototype,"afterCreate",void 0),g([S()],Br.prototype,"afterUpdate",void 0),g([S()],Br.prototype,"afterRemoved",void 0),Br=g([Q(e4e)],Br);const rh=Br;function n4e(e){const{exifInfo:t,exifName:i,tagName:r}=e;if(!t||!i||!r)return null;const s=t.find(c=>c.name===i);return s?s4e({tagName:r,tags:s.tags}):null}function s4e(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const r=i.find(s=>s.name===t);return(r==null?void 0:r.value)||null}var ZM;const o4e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Ys=ZM=class extends $e{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=n4e({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return o4e[t]||null}clone(){return new ZM({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};g([S({type:String})],Ys.prototype,"contentType",void 0),g([S()],Ys.prototype,"exifInfo",void 0),g([S({readOnly:!0})],Ys.prototype,"orientationInfo",null),g([S({type:Oi})],Ys.prototype,"id",void 0),g([S({type:String})],Ys.prototype,"globalId",void 0),g([S({type:String})],Ys.prototype,"keywords",void 0),g([S({type:String})],Ys.prototype,"name",void 0),g([S({json:{read:!1}})],Ys.prototype,"parentGlobalId",void 0),g([S({json:{read:!1}})],Ys.prototype,"parentObjectId",void 0),g([S({type:Oi})],Ys.prototype,"size",void 0),g([S({json:{read:!1}})],Ys.prototype,"url",void 0),Ys=ZM=g([Q("esri.layers.support.AttachmentInfo")],Ys);const a4e=Ys;function K4(e){return sC(e)||Zpe(e)||Kpe(e)}function RY(e,t){const{format:i,timeZoneOptions:r,fieldType:s}=t??{};let c,f;if(r&&({timeZone:c,timeZoneName:f}=fB(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,yu(i||"short-date-short-time"),s)),typeof e=="string"&&isNaN(Date.parse(s==="time-only"?`1970-01-01T${e}Z`:e)))return e;switch(s){case"date-only":{const m=yu(i||"short-date");return typeof e=="string"?bB(e,{...m}):oo(e,{...m,timeZone:po})}case"time-only":{const m=yu(i||"short-time");return typeof e=="string"?wB(e,m):oo(e,{...m,timeZone:po})}case"timestamp-offset":{if(!c&&typeof e=="string"&&new Date(e).toISOString()!==e)return e;const m=i||r?yu(i||"short-date-short-time"):void 0,b=m?{...m,timeZone:c,timeZoneName:f}:void 0;return typeof e=="string"?_B(e,b):oo(e,b)}default:{const m=i||r?yu(i||"short-date-short-time"):void 0;return oo(typeof e=="string"?new Date(e):e,m?{...m,timeZone:c,timeZoneName:f}:void 0)}}}const l4e="esri.widgets.Feature.support.featureUtils",FD=()=>ke.getLogger(l4e),u4e=/href=(""|'')/gi,c4e=/(\{([^\{\r\n]+)\})/g,h4e=/\'/g,NY=/^\s*expression\//i,d4e=/(\n)/gi,p4e=/[\u00A0-\u9999<>\&]/gim,f4e=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,y4e=/^(?:mailto:|tel:)/,jY="relationships/",RD=yu("short-date-short-time");function m4e(e){if(e!=null)return(e.sourceLayer||e.layer)??void 0}async function eNe(e,t){return typeof e=="function"?e(t):e}function tNe(e=""){if(e)return!y4e.test(e.trim().toLowerCase())}function g4e(e){return!!e&&NY.test(e)}function v4e(e,t){if(!g4e(t)||!e)return;const i=t.replace(NY,"").toLowerCase();return e.find(({name:r})=>r.toLowerCase()===i)}function iNe(e,t){const i=v4e(t,e==null?void 0:e.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function b4e(e,t){const i=t.get(e.toLowerCase());return`{${(i==null?void 0:i.fieldName)||e}}`}function w4e(e){return e.replaceAll(u4e,"")}function SA(e,t){const i=$A(t,e);return i?i.name:e}function rNe(e,t){return e&&e.map(i=>SA(i,t))}function $A(e,t){return e&&typeof e.getField=="function"&&t?e.getField(t)??null:null}function DY(e){return`${e}`.trim()}function nNe({attributes:e,globalAttributes:t,layer:i,text:r,expressionAttributes:s,fieldInfoMap:c}){return r?_4e({formattedAttributes:t,template:T4e(r,{...t,...s,...e},i),fieldInfoMap:c}):""}function _4e({formattedAttributes:e,template:t,fieldInfoMap:i}){return DY(w4e(El(El(t,r=>b4e(r,i)),e)))}function S4e(e,t,i=!1){const r=t[e];if(typeof r=="string"){const s="%27",c=(i?encodeURIComponent(r):r).replaceAll(h4e,s);t[e]=c}}function $4e(e,t=!1){const i={...e};return Object.keys(i).forEach(r=>S4e(r,i,t)),i}function x4e(e,t,i){const r=(t=DY(t))&&t[0]!=="{";return El(e,$4e(i,r||!1))}function E4e(e,t){return e.replaceAll(c4e,(i,r,s)=>{const c=$A(t,s);return c?`{${c.name}}`:r})}function T4e(e,t,i){const r=E4e(e,i);return r&&r.replaceAll(f4e,(s,c,f)=>x4e(s,c||f,t))}function I4e(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const i=Number(e);if(!isNaN(i))return i}return e}function M4e(e){return e!=null&&typeof e=="object"&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&(e.type==="feature"||e.type==="scene")&&"when"in e}function k4e(e){return e!=null&&typeof e=="object"&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}function q2(e){return M4e(e)&&k4e(e)}function C4e(e){return!!e&&typeof e=="object"&&"sourceLayer"in e&&q2(e.sourceLayer)}function A4e(e,t){var T;const{fieldInfos:i,fieldName:r,preventPlacesFormatting:s,layer:c,timeZone:f}=t,m=L4e(i,r),b=$A(c,r);if(m&&!TT(r)){const C=b==null?void 0:b.type,L=(T=m.format)==null?void 0:T.dateFormat;if(C==="date"||C==="date-only"||C==="time-only"||C==="timestamp-offset"||L)return RY(e,{format:L,fieldType:C,timeZoneOptions:{layerTimeZone:c&&"preferredTimeZone"in c?c.preferredTimeZone:null,viewTimeZone:f,datesInUnknownTimezone:!(!c||!("datesInUnknownTimezone"in c))&&!!c.datesInUnknownTimezone}})}const x=m==null?void 0:m.format;return typeof e=="string"&&TT(r)&&x?O4e(e,x):typeof(e=I4e(e,x))=="string"||e==null||x==null?VY(e):Ea(e,s?{...E4(x),minimumFractionDigits:0,maximumFractionDigits:20}:E4(x))}function O4e(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?Cx(e,",",", ",t):e.includes(";")?Cx(e,";","; ",t):e.includes(" ")?Cx(e," "," ",t):Ea(Number(e),E4(t))}function Cx(e,t,i,r){return e.trim().split(t).map(s=>Ea(Number(s),E4(r))).join(i)}function L4e(e,t){if(e!=null&&e.length&&t)return e.find(i=>{var r;return((r=i.fieldName)==null?void 0:r.toLowerCase())===t.toLowerCase()})}function P4e({fieldName:e,graphic:t,layer:i}){if(UY(e)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:r}=i;if(!r||e!==r)return null;const s=i.getFeatureType(t);return s?s.name:null}function F4e({fieldName:e,value:t,graphic:i,layer:r}){if(UY(e)||!r||typeof r.getFieldDomain!="function")return null;const s=i&&r.getFieldDomain(e,{feature:i});return s&&s.type==="coded-value"?s.getName(t):null}function sNe(e,t,i,r){const{creatorField:s,creationDateField:c,editorField:f,editDateField:m}=e;if(!t)return;const b=fB(r&&"preferredTimeZone"in r?r.preferredTimeZone:null,!(!r||!("datesInUnknownTimezone"in r))&&!!r.datesInUnknownTimezone,i,RD,"date"),x={...RD,...b},T=t[m];if(typeof T=="number"){const L=t[f];return{type:"edit",date:oo(T,x),user:L}}const C=t[c];if(typeof C=="number"){const L=t[s];return{type:"create",date:oo(C,x),user:L}}return null}function oNe(e,t){const i=new Map;return e&&e.forEach(r=>{const s=SA(r.fieldName,t);r.fieldName=s,i.set(s.toLowerCase(),r)}),i}function aNe(e){const t=[];if(!e)return t;const{fieldInfos:i,content:r}=e;return i&&t.push(...i),r&&Array.isArray(r)&&r.forEach(s=>{if(s.type==="fields"){const c=s==null?void 0:s.fieldInfos;c&&t.push(...c)}}),t}function lNe(e){return e.replaceAll(p4e,t=>`&#${t.charCodeAt(0)};`)}function VY(e){return typeof e=="string"?e.replaceAll(d4e,'<br class="esri-text-new-line" />'):e}function zY(e){var C;const{value:t,fieldName:i,fieldInfos:r,fieldInfoMap:s,layer:c,graphic:f,timeZone:m}=e;if(t==null)return"";const b=F4e({fieldName:i,value:t,graphic:f,layer:c});if(b)return b;const x=P4e({fieldName:i,graphic:f,layer:c});if(x)return x;if(s.get(i.toLowerCase()))return A4e(t,{fieldInfos:r||Array.from(s.values()),fieldName:i,layer:c,timeZone:m});const T=(C=c==null?void 0:c.fieldsIndex)==null?void 0:C.get(i);return T&&(K4(T)||Jb(T))?RY(t,{fieldType:T.type,timeZoneOptions:{layerTimeZone:c&&"preferredTimeZone"in c?c.preferredTimeZone:null,viewTimeZone:m,datesInUnknownTimezone:!(!c||!("datesInUnknownTimezone"in c))&&!!c.datesInUnknownTimezone}}):VY(t)}function uNe({fieldInfos:e,attributes:t,layer:i,graphic:r,fieldInfoMap:s,relatedInfos:c,timeZone:f}){const m={};return c==null||c.forEach(b=>D4e({attributes:m,relatedInfo:b,fieldInfoMap:s,fieldInfos:e,layer:i,timeZone:f})),t&&Object.keys(t).forEach(b=>{const x=t[b];m[b]=zY({fieldName:b,fieldInfos:e,fieldInfoMap:s,layer:i,value:x,graphic:r,timeZone:f})}),m}async function R4e(e,t){var T,C;const{layer:i,graphic:r,outFields:s,objectIds:c,returnGeometry:f,spatialReference:m}=e,b=c[0];if(typeof b!="number"&&typeof b!="string"){const L="Could not query required fields for the specified feature. The feature's ID is invalid.",N={layer:i,graphic:r,objectId:b,requiredFields:s};return FD().warn(L,N),null}if(!((C=(T=g0(i))==null?void 0:T.operations)!=null&&C.supportsQuery)){const L="The specified layer cannot be queried. The following fields will not be available.",N={layer:i,graphic:r,requiredFields:s,returnGeometry:f};return FD().warn(L,N),null}const x=i.createQuery();return x.objectIds=c,x.outFields=s!=null&&s.length?s:[i.objectIdField],x.returnGeometry=!!f,x.returnZ=!!f,x.returnM=!!f,x.outSpatialReference=m,(await i.queryFeatures(x,t)).features[0]}async function N4e(e){var r;if(!((r=e.expressionInfos)!=null&&r.length))return!1;const t=await Cu(),{arcadeUtils:{hasGeometryFunctions:i}}=t;return i(e)}async function cNe({graphic:e,popupTemplate:t,layer:i,spatialReference:r},s){if(!i||!t||(typeof i.load=="function"&&await i.load(s),!e.attributes))return;const c=e.attributes[i.objectIdField];if(c==null)return;const f=[c],m=await t.getRequiredFields(i.fieldsIndex),b=UB(m,e),x=b?[]:m,T=t.returnGeometry||await N4e(t);if(b&&!T)return;const C=await R4e({layer:i,graphic:e,outFields:x,objectIds:f,returnGeometry:T,spatialReference:r},s);C&&(C.geometry&&(e.geometry=C.geometry),C.attributes&&(e.attributes={...e.attributes,...C.attributes}))}function UY(e=""){return!!e&&e.includes(jY)}function j4e(e){return`${jY}${e.layerId}/${e.fieldName}`}function ND({attributes:e,graphic:t,relatedInfo:i,fieldInfos:r,fieldInfoMap:s,layer:c,timeZone:f}){e&&t&&i&&Object.keys(t.attributes).forEach(m=>{const b=j4e({layerId:i.relation.id.toString(),fieldName:m}),x=t.attributes[m];e[b]=zY({fieldName:b,fieldInfos:r,fieldInfoMap:s,layer:c,value:x,graphic:t,timeZone:f})})}function D4e({attributes:e,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:c}){var f,m;e&&t&&((f=t.relatedFeatures)==null||f.forEach(b=>ND({attributes:e,graphic:b,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:c})),(m=t.relatedStatsFeatures)==null||m.forEach(b=>ND({attributes:e,graphic:b,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:c})))}const jD=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},GY=({layer:e,method:t,query:i,definitionExpression:r})=>{var f,m;if(!((m=(f=e.capabilities)==null?void 0:f.query)!=null&&m.supportsCacheHint)||t==="attachments")return;const s=i.where!=null?i.where:null,c=i.geometry!=null?i.geometry:null;jD(r)||jD(s)||(c==null?void 0:c.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},hNe=({query:e,layer:t,method:i})=>{GY({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},dNe=({queryPayload:e,layer:t,method:i})=>{GY({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})};function V4e(e,t,i){return e&&t&&i?DD(e.allLayers,t,i)||DD(e.allTables,t,i):null}function DD(e,t,{relatedTableId:i}){const r=t.type==="scene"&&t.associatedLayer?t.associatedLayer.url:t.url;return e.filter(q2).find(s=>s!==t&&s.url===r&&s.layerId===i)}function VD(e){const t=e.getObjectId();return t!=null?`oid:${t}`:`uid:${e.uid}`}const zD={editing:!1,operations:{add:!0,update:!0,delete:!0}},WY=it.ofType(a4e);let Qs=class extends ht{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...zD},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new WY,this.fileInfos=new it,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles(Ze(()=>this.graphic,()=>this._graphicChanged(),Ri))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(t){return{...zD,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const i=t.layer||t.sourceLayer;return(i==null?void 0:i.loaded)&&"capabilities"in i&&i.capabilities&&"operations"in i.capabilities&&"supportsResizeAttachments"in i.capabilities.operations&&i.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:i}=this;if(!t||typeof t.queryAttachments!="function")throw new me("invalid-layer","getAttachments(): A valid layer is required.");const r=this._getObjectId(),s=new X7({objectIds:[r],returnMetadata:!0}),c=[],f=t.queryAttachments(s).then(b=>b[r]||c).catch(()=>c);this._getAttachmentsPromise=f,this.notifyChange("state");const m=await f;return i.removeAll(),m.length&&i.addMany(m),this._getAttachmentsPromise=null,this.notifyChange("state"),m}async addAttachment(t,i=this.graphic){var b;const{_attachmentLayer:r,attachmentInfos:s,capabilities:c}=this;if(!i)throw new me("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:i});if(!t)throw new me("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!((b=c.operations)!=null&&b.add))throw new me("invalid-capabilities","addAttachment(): add capabilities are required.");if(!r||typeof r.addAttachment!="function")throw new me("invalid-layer","addAttachment(): A valid layer is required.");const f=r.addAttachment(i,t).then(x=>this._queryAttachment(x.objectId,i)),m=await f;return s.add(m),m}async deleteAttachment(t){var b;const{_attachmentLayer:i,attachmentInfos:r,graphic:s,capabilities:c}=this;if(!t)throw new me("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!((b=c.operations)!=null&&b.delete))throw new me("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!i||typeof i.deleteAttachments!="function")throw new me("invalid-layer","deleteAttachment(): A valid layer is required.");if(!s)throw new me("invalid-graphic","deleteAttachment(): A graphic is required.");const f=i.deleteAttachments(s,[t.id]).then(()=>t),m=await f;return r.remove(m),m}async updateAttachment(t,i=this.activeAttachmentInfo){var T;const{_attachmentLayer:r,attachmentInfos:s,graphic:c,capabilities:f}=this;if(!t)throw new me("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!i)throw new me("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:i});if(!((T=f.operations)!=null&&T.update))throw new me("invalid-capabilities","updateAttachment(): Update capabilities are required.");const m=s.indexOf(i);if(!r||typeof r.updateAttachment!="function")throw new me("invalid-layer","updateAttachment(): A valid layer is required.");if(!c)throw new me("invalid-graphic","updateAttachment(): A graphic is required.");const b=r.updateAttachment(c,i.id,t).then(C=>this._queryAttachment(C.objectId)),x=await b;return s.splice(m,1,x),x}async commitFiles(){return await Promise.all(this.fileInfos.items.map(t=>this.addAttachment(t.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,i){if(!t||!i)return null;const r={file:t,form:i};return this.fileInfos.add(r),r}updateFile(t,i,r=this.activeFileInfo){if(!t||!i||!r)return null;const s=this.fileInfos.indexOf(r);return s>-1&&this.fileInfos.splice(s,1,{file:t,form:i}),this.fileInfos.items[s]}deleteFile(t){const i=this.fileInfos.find(r=>r.file===t);return i?(this.fileInfos.remove(i),i):null}async _queryAttachment(t,i){const{_attachmentLayer:r}=this;if(!t||!(r!=null&&r.queryAttachments))throw new me("invalid-attachment-id","Could not query attachment.");const s=this._getObjectId(i),c=new X7({objectIds:[s],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return r.queryAttachments(c).then(f=>f[s][0])}_getObjectId(t=this.graphic){return(t==null?void 0:t.getObjectId())??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:t}=this,i=m4e(t);this._attachmentLayer=i?i.type==="scene"&&i.associatedLayer!=null?i.associatedLayer:i:null}};g([S()],Qs.prototype,"capabilities",void 0),g([bi("capabilities")],Qs.prototype,"castCapabilities",null),g([S()],Qs.prototype,"activeAttachmentInfo",void 0),g([S()],Qs.prototype,"activeFileInfo",void 0),g([S({readOnly:!0,type:WY})],Qs.prototype,"attachmentInfos",void 0),g([S()],Qs.prototype,"fileInfos",void 0),g([S({type:Dn})],Qs.prototype,"graphic",void 0),g([S()],Qs.prototype,"mode",void 0),g([S({readOnly:!0})],Qs.prototype,"state",null),g([S()],Qs.prototype,"filesEnabled",void 0),g([S({readOnly:!0})],Qs.prototype,"supportsResizeAttachments",null),Qs=g([Q("esri.widgets.Attachments.AttachmentsViewModel")],Qs);const xA=Qs;function UD(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function z4e(e){const t=ei("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}const Ht={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function ao(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var U4e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},qY=function(e,t){for(var i=0,r=e.length;i<r;i++){var s=e[i];Array.isArray(s)?qY(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=U4e(s)),t.push(s))}},G4e=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var s=[];return qY(i,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function ee(e,t,...i){return typeof e!="function"||Z4(e)?G4e(e,t,...i):e(t,...i)}function $9(...e){return e}const GD={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},ni="esri-attachments",kt={base:ni,loaderContainer:`${ni}__loader-container`,loader:`${ni}__loader`,fadeIn:`${ni}--fade-in`,container:`${ni}__container`,containerList:`${ni}__container--list`,containerPreview:`${ni}__container--preview`,actions:`${ni}__actions`,deleteButton:`${ni}__delete-button`,addAttachmentButton:`${ni}__add-attachment-button`,errorMessage:`${ni}__error-message`,items:`${ni}__items`,item:`${ni}__item`,itemButton:`${ni}__item-button`,itemMask:`${ni}__item-mask`,itemMaskIcon:`${ni}__item-mask--icon`,itemImage:`${ni}__image`,itemImageResizable:`${ni}__image--resizable`,itemLabel:`${ni}__label`,itemFilename:`${ni}__filename`,itemChevronIcon:`${ni}__item-chevron-icon`,itemLink:`${ni}__item-link`,itemLinkOverlay:`${ni}__item-link-overlay`,itemLinkOverlayIcon:`${ni}__item-link-overlay-icon`,itemEditIcon:`${ni}__item-edit-icon`,itemAddIcon:`${ni}__item-add-icon`,itemAddButton:`${ni}__item-add-button`,formNode:`${ni}__form-node`,fileFieldset:`${ni}__file-fieldset`,fileLabel:`${ni}__file-label`,fileName:`${ni}__file-name`,fileInput:`${ni}__file-input`,metadata:`${ni}__metadata`,metadataFieldset:`${ni}__metadata-fieldset`,progressBar:`${ni}__progress-bar`},Ax=window.CSS;let Xn=class extends rh{constructor(t,i){super(t,i),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...GD},this._supportsImageOrientation=Ax&&Ax.supports&&Ax.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}normalizeCtorArgs(t){return t!=null&&t.viewModel||(t={viewModel:new xA,...t}),t}initialize(){this.addHandles([Zr(()=>{var t;return(t=this.viewModel)==null?void 0:t.attachmentInfos},"change",()=>this.scheduleRender()),Zr(()=>{var t;return(t=this.viewModel)==null?void 0:t.fileInfos},"change",()=>this.scheduleRender()),Ze(()=>{var t;return(t=this.viewModel)==null?void 0:t.mode},()=>this._modeChanged(),Ri)])}loadDependencies(){return Fs({icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181]))})}get capabilities(){return this.viewModel.capabilities}set capabilities(t){this.viewModel.capabilities=t}get effectiveDisplayType(){const{displayType:t}=this;return t&&t!=="auto"?t:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}castVisibleElements(t){return{...GD,...t}}addAttachment(){const{_addAttachmentForm:t,viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.addAttachment(t).then(r=>(this._set("submitting",!1),this._set("error",null),i.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new me("attachments:add-attachment",this.messages.addErrorMessage,r)),r})}deleteAttachment(t){const{viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.deleteAttachment(t).then(r=>(this._set("submitting",!1),this._set("error",null),i.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new me("attachments:delete-attachment",this.messages.deleteErrorMessage,r)),r})}updateAttachment(){const{viewModel:t}=this,{_updateAttachmentForm:i}=this;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(i).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new me("attachments:update-attachment",this.messages.updateErrorMessage,r)),r})}addFile(){const t=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",t}updateFile(){const{viewModel:t}=this,i=t.updateFile(this.selectedFile,this._updateAttachmentForm,t.activeFileInfo);return t.mode="view",i}deleteFile(t){var r;const i=this.viewModel.deleteFile(t||((r=this.viewModel.activeFileInfo)==null?void 0:r.file));return this.viewModel.mode="view",i}render(){const{submitting:t,viewModel:i}=this,{state:r}=i;return ee("div",{class:this.classes(kt.base,Ht.widget)},t?this._renderProgressBar():null,r==="loading"?this._renderLoading():this._renderAttachments(),this._renderErrorMessage())}_renderErrorMessage(){const{error:t,visibleElements:i}=this;return t&&i.errorMessage?ee("div",{class:kt.errorMessage,key:"error-message"},t.message):null}_renderAttachments(){const{activeFileInfo:t,mode:i,activeAttachmentInfo:r}=this.viewModel;return i==="add"?this._renderAddForm():i==="edit"?this._renderDetailsForm(r||t):this._renderAttachmentContainer()}_renderLoading(){return ee("div",{class:kt.loaderContainer,key:"loader"},ee("div",{class:kt.loader}))}_renderProgressBar(){return this.visibleElements.progressBar?ee("div",{class:kt.progressBar,key:"progress-bar"}):null}_renderAddForm(){const{submitting:t,selectedFile:i}=this,r=t||!i,s=this.visibleElements.cancelAddButton?ee("button",{bind:this,class:this.classes(Ht.button,Ht.buttonTertiary,Ht.buttonSmall,Ht.buttonHalf,t&&Ht.buttonDisabled),disabled:t,onclick:this._cancelForm,type:"button"},this.messages.cancel):null,c=this.visibleElements.addSubmitButton?ee("button",{class:this.classes(Ht.button,Ht.buttonSecondary,Ht.buttonSmall,Ht.buttonHalf,{[Ht.buttonDisabled]:r}),disabled:r,type:"submit"},this.messages.add):null,f=i?ee("span",{class:kt.fileName,key:"file-name"},i.name):null,m=ee("form",{afterCreate:pD,afterRemoved:dD,bind:this,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},ee("fieldset",{class:kt.fileFieldset},f,ee("label",{class:this.classes(kt.fileLabel,Ht.button,Ht.buttonSecondary)},i?this.messages.changeFile:this.messages.selectFile,ee("input",{bind:this,class:kt.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))),c,s);return ee("div",{class:kt.formNode,key:"add-form-container"},m)}_renderDetailsForm(t){var ae,pe,ge;const{visibleElements:i,viewModel:r,selectedFile:s,submitting:c}=this,{capabilities:f}=r,m=c||!s;let b,x,T,C;s?(b=s.type,x=s.name,T=s.size):t&&"file"in t?(b=t.file.type,x=t.file.name,T=t.file.size):t&&"contentType"in t&&(b=t.contentType,x=t.name,T=t.size,C=t.url);const L=f.editing&&((ae=f.operations)!=null&&ae.delete)&&i.deleteButton?ee("button",{bind:this,class:this.classes(Ht.button,Ht.buttonSmall,Ht.buttonTertiary,kt.deleteButton,{[Ht.buttonDisabled]:c}),disabled:c,key:"delete-button",onclick:Ae=>this._submitDeleteAttachment(Ae,t),type:"button"},this.messages.delete):void 0,N=f.editing&&((pe=f.operations)!=null&&pe.update)&&i.updateButton?ee("button",{class:this.classes(Ht.button,Ht.buttonSmall,Ht.buttonThird,{[Ht.buttonDisabled]:m}),disabled:m,key:"update-button",type:"submit"},this.messages.update):void 0,D=this.visibleElements.cancelUpdateButton?ee("button",{bind:this,class:this.classes(Ht.button,Ht.buttonSmall,Ht.buttonTertiary,Ht.buttonThird,{[Ht.buttonDisabled]:c}),disabled:c,key:"cancel-button",onclick:this._cancelForm,type:"button"},this.messages.cancel):void 0,G=f.editing&&((ge=f.operations)!=null&&ge.update)?ee("fieldset",{class:kt.fileFieldset,key:"file"},ee("span",{class:kt.fileName,key:"file-name"},x),ee("label",{class:this.classes(kt.fileLabel,Ht.button,Ht.buttonSecondary)},this.messages.changeFile,ee("input",{bind:this,class:kt.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))):void 0,q=ee("fieldset",{class:kt.metadataFieldset,key:"size"},ee("label",null,T3e(this.messagesUnits,T??0))),J=ee("fieldset",{class:kt.metadataFieldset,key:"content-type"},ee("label",null,b)),ne=C!=null?ee("a",{class:kt.itemLink,href:C,rel:"noreferrer",target:"_blank"},this._renderImageMask(t,400),ee("div",{class:kt.itemLinkOverlay},ee("span",{class:kt.itemLinkOverlayIcon},ee("calcite-icon",{icon:"launch"})))):this._renderImageMask(t,400),ue=ee("form",{afterCreate:pD,afterRemoved:dD,bind:this,"data-node-ref":"_updateAttachmentForm",onsubmit:Ae=>this._submitUpdateAttachment(Ae,t)},ee("div",{class:kt.metadata},q,J),G,ee("div",{class:kt.actions},L,D,N));return ee("div",{class:kt.formNode,key:"edit-form-container"},ne,ue)}_renderImageMask(t,i){return t?"file"in t?this._renderGenericImageMask(t.file.name,t.file.type):this._renderImageMaskForAttachment(t,i):null}_renderGenericImageMask(t,i){const{supportsResizeAttachments:r}=this.viewModel,s=z4e(i),c={[kt.itemImageResizable]:r};return ee("div",{class:this.classes(kt.itemMaskIcon,kt.itemMask),key:s},ee("img",{alt:t,class:this.classes(c,kt.itemImage),src:s,title:t}))}_renderImageMaskForAttachment(t,i){const{supportsResizeAttachments:r}=this.viewModel;if(!t)return null;const{contentType:s,name:c,url:f}=t;if(!r||!UD(s))return this._renderGenericImageMask(c,s);const m=this._getCSSTransform(t),b=m?{transform:m,"image-orientation":"none"}:{},x=`${f}${f!=null&&f.includes("?")?"&":"?"}w=${i}`,T={[kt.itemImageResizable]:r};return ee("div",{class:this.classes(kt.itemMask),key:x},ee("img",{alt:c,class:this.classes(T,kt.itemImage),src:x,styles:b,title:c}))}_renderFile(t){const{file:i}=t;return ee("li",{class:kt.item,key:i},ee("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:kt.itemButton,key:"details-button",onclick:()=>this._startEditFile(t),title:this.messages.attachmentDetails,type:"button"},this._renderImageMask(t),ee("label",{class:kt.itemLabel},ee("span",{class:kt.itemFilename},i.name||this.messages.noTitle),ee("span",{"aria-hidden":"true",class:this.classes(kt.itemChevronIcon,DM(this.container)?Td.left:Td.right)}))))}_renderAttachmentInfo({attachmentInfo:t,displayType:i}){const{viewModel:r,effectiveDisplayType:s}=this,{capabilities:c,supportsResizeAttachments:f}=r,{contentType:m,name:b,url:x}=t,T=this._renderImageMask(t,i==="list"?48:400),C=c.editing?ee("span",{"aria-hidden":"true",class:this.classes(kt.itemChevronIcon,DM(this.container)?Td.left:Td.right)}):null,L=[T,s==="preview"&&f&&UD(m)?null:ee("label",{class:kt.itemLabel},ee("span",{class:kt.itemFilename},b||this.messages.noTitle),C)],N=c.editing?ee("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:kt.itemButton,"data-attachment-info-id":t.id,key:"details-button",onclick:()=>this._startEditAttachment(t),title:this.messages.attachmentDetails,type:"button"},L):ee("a",{class:kt.itemButton,href:x??void 0,key:"details-link",target:"_blank"},L);return ee("li",{class:kt.item,key:t},N)}_renderAttachmentContainer(){var D;const{effectiveDisplayType:t,viewModel:i,visibleElements:r}=this,{attachmentInfos:s,capabilities:c,fileInfos:f}=i,m=!!(s!=null&&s.length),b=!!(f!=null&&f.length),x={[kt.containerList]:t!=="preview",[kt.containerPreview]:t==="preview"},T=c.editing&&((D=c.operations)!=null&&D.add)&&r.addButton?ee("button",{bind:this,class:this.classes(Ht.button,Ht.buttonTertiary,kt.addAttachmentButton),onclick:()=>this._startAddAttachment(),type:"button"},ee("span",{"aria-hidden":"true",class:this.classes(kt.itemAddIcon,Td.plus)}),this.messages.add):void 0,C=m?ee("ul",{class:kt.items,key:"attachments-list"},s.toArray().map(G=>this._renderAttachmentInfo({attachmentInfo:G,displayType:t}))):void 0,L=b?ee("ul",{class:kt.items,key:"file-list"},f.toArray().map(G=>this._renderFile(G))):void 0,N=b||m?void 0:ee("div",{class:Ht.empty},this.messages.noAttachments);return ee("div",{class:this.classes(kt.container,x),key:"attachments-container"},C,L,N,T)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(t){var s;const i=t.target,r=(s=i.files)==null?void 0:s.item(0);this._set("selectedFile",r)}_submitDeleteAttachment(t,i){t.preventDefault(),i&&("file"in i?this.deleteFile(i.file):i&&this.deleteAttachment(i))}_submitAddAttachment(t){t.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(t,i){t.preventDefault(),i&&"file"in i?this.updateFile():this.updateAttachment()}_startEditAttachment(t){const{viewModel:i}=this;i.activeFileInfo=null,i.activeAttachmentInfo=t,i.mode="edit"}_startEditFile(t){const{viewModel:i}=this;i.activeAttachmentInfo=null,i.activeFileInfo=t,i.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(t){t.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(t){const{orientationInfo:i}=t;return!this._supportsImageOrientation&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};g([S()],Xn.prototype,"capabilities",null),g([S()],Xn.prototype,"displayType",void 0),g([S({readOnly:!0})],Xn.prototype,"effectiveDisplayType",null),g([S()],Xn.prototype,"graphic",null),g([S()],Xn.prototype,"label",null),g([S(),ao("esri/widgets/Attachments/t9n/Attachments")],Xn.prototype,"messages",void 0),g([S(),ao("esri/core/t9n/Units")],Xn.prototype,"messagesUnits",void 0),g([S({readOnly:!0})],Xn.prototype,"selectedFile",void 0),g([S({readOnly:!0})],Xn.prototype,"submitting",void 0),g([S({readOnly:!0})],Xn.prototype,"error",void 0),g([S({type:xA})],Xn.prototype,"viewModel",void 0),g([S()],Xn.prototype,"visibleElements",void 0),g([bi("visibleElements")],Xn.prototype,"castVisibleElements",null),Xn=g([Q("esri.widgets.Attachments")],Xn);const BY=Xn,yNe=Object.freeze(Object.defineProperty({__proto__:null,default:BY},Symbol.toStringTag,{value:"Module"})),da="esri-feature-form",Ox=`${da}__group`,Dp=`${da}__input`,Lx=`${da}__related-records`,Pi={base:da,form:`${da}__form`,formHeader:`${da}__form-header`,label:`${da}__label`,labelTextContent:`${da}__label-text-content`,fieldInput:`${Dp}`,inputRadio:`${Dp}--radio`,inputRadioGroup:`${Dp}--radio-group`,inputRadioLabel:`${Dp}--radio-label`,inputDisabled:`${Dp}--disabled`,inputSwitch:`${Dp}--switch`,inputInvalid:`${Dp}--invalid`,centeredButton:`${da}__centered-button`,description:`${da}__description-text`,listObserver:`${da}__list-observer`,relatedRecordsHeader:`${Lx}_header`,relatedRecordsLabel:`${Lx}_label`,relatedRecordsList:`${Lx}_list`,dateInputContainer:`${`${da}__date`}-input-container`,group:Ox,groupSequential:`${Ox}--sequential`,groupActive:`${Ox}--active`},Id=e=>(e==null?void 0:e.type)==="field",Vd=e=>(e==null?void 0:e.type)==="group",qy=e=>(e==null?void 0:e.type)==="relationship",Px=e=>!Vd(e)&&e.group!=null,HY=e=>e.type==="field",Fx=e=>e.type==="group",WD=e=>e.type==="relationship",JY=e=>e.reduce((t,i)=>Vd(i)?[...t,...i.inputs]:[...t,i],[]),W4e=e=>JY(e).filter(Id),q4e=e=>JY(e).filter(qy),qD=e=>e!=null&&(T0(e,"combo-box")||T0(e,"radio-buttons")),T0=(e,t)=>{var i;return e!=null&&((i=e.input)==null?void 0:i.type)===t},BD=e=>e!=null&&(T0(e,"text-box")||T0(e,"text-area")),B4e=({domain:e,inputType:t="text-box",dataType:i})=>i==="number"&&t==="text-box"&&(!e||e.type!=="coded-value"),ZY=e=>"items"in e,HD={typeFieldName:null,types:[]};function l2(e){const{attributes:t,fieldsIndex:i,label:r,timeZone:s}=e;if(!t||typeof t!="object")return r;const c=Object.keys(t).filter(b=>Fb(r,b)),f=c.map(b=>t[b]),m=c.map(b=>i.get(b)).filter(Yr);return H4e(r,KY({values:f,fields:m,timeZone:s}))}function KY(e){const{fields:t,values:i}=e,r=e.timeZone??void 0,s=t.map((c,f)=>{let m=i[f];if(c.domain&&c.domain.type==="coded-value"){const b=c.domain.codedValues.find(x=>x.code===m);b!=null&&b.name&&(m=b.name)}return(K4(c)||Jb(c))&&(m=TB(c,m,{timeZone:r,...tC(c)})),[c.name,m]});return Object.fromEntries(s)}function H4e(e,t){return El(El(e,i=>`{${i.toLowerCase()}}`),Object.fromEntries(Object.entries(t).map(([i,r])=>[i.toLowerCase(),r])))}const KM=e=>{var t,i;return e?e.type==="subtype-sublayer"?{typeFieldName:(t=e.parent)==null?void 0:t.subtypeField,types:((i=e.parent)==null?void 0:i.subtypes)??[]}:"types"in e&&e.types?{typeFieldName:e.typeIdField,types:e.types.map(({id:r,name:s,domains:c})=>({code:r,name:s,domains:c}))}:HD:HD},J4e=(e,t)=>{if(!e)return!0;const{operations:i}=e;switch(t){case"INSERT":return i.supportsAdd;case"UPDATE":case"DELETE":return i.supportsUpdate;default:return!0}};var Y4;(function(e){e.TOO_SHORT="length-validation-error::too-short"})(Y4||(Y4={}));const JD={type:"number"},ZD={type:"number",intlOptions:{notation:"scientific"}};function KD(e){return e>=1e7||e<=-1e7}function Z4e(e,{validationErrors:t}){return e.max!=null&&e.min!=null?t.outsideRange:e.max!=null?t.outsideRangeMax:t.outsideRangeMin}const K4e=(e,t,i)=>{const{dataType:r,error:s,minLength:c,value:f,required:m}=e,b=t==null?void 0:t.validationErrors;if(!b||!s)return null;if(m&&f===null)return b.cannotBeNull;if(s===tp.VALUE_OUT_OF_RANGE||s===om.OUT_OF_RANGE){const{field:x,range:T}=e,C={type:"date",intlOptions:{timeZone:x.type==="date"&&i?i:void 0,...tC(x)}},L=Z4e(T,t);return jc(L,T,{format:{max:r==="date"?C:T.max!=null&&KD(T.max)?ZD:JD,min:r==="date"?C:T.min!=null&&KD(T.min)?ZD:JD}})}return s===tp.INVALID_CODED_VALUE?b.invalidCodedValue:s===am.INVALID_TYPE?b.invalidType:s===Y4.TOO_SHORT?jc(b.tooShort,{min:c}):null},Y4e=e=>{var s;if(!e)return;const t=e.layer,i=t&&"geometryType"in t?t.geometryType:void 0,r=(s=e.geometry)==null?void 0:s.type;return r==="polyline"||i==="polyline"?"line":r||i||"table"},Q4e=e=>{var i;const t=[];if(e.formTemplate){const{description:r,title:s}=e.formTemplate;(i=e.fields)==null||i.forEach(c=>{const f=s&&Fb(s,c.name),m=r&&Fb(r,c.name);(f||m)&&t.push(c.name)})}return t};function X4e(e,t){var r;const i=t??("formTemplate"in e&&e.formTemplate);return i?(((r=i.elements)==null?void 0:r.filter(HY))??[]).some(({fieldName:s})=>!e.fieldsIndex.get(s)):!1}function eSe(e,t){return e==null||t.onValue!==e&&t.offValue!==e}function tSe(e,t){var i;switch(t.objectType){case"any":return!0;case"null":return e==null;case"code":return e===((i=t.codedValue)==null?void 0:i.code);case"range":return e!=null&&t.minValue!=null&&t.maxValue!=null&&+e>=t.minValue&&+e<=t.maxValue;default:return t.objectType,!1}}let zc=class extends ht{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,Ze)}addWhen(t,i,r={}){return this._installWatch(t,i,r,_l)}addOnCollectionChange(t,i,{initial:r=!1,final:s=!1}={}){const c=++this._handleId;return this.addHandles([Zr(t,"after-changes",this._createSyncUpdatingCallback(),Mu),Zr(t,"change",i,{onListenerAdd:r?f=>i({added:f.toArray(),removed:[]}):void 0,onListenerRemove:s?f=>i({added:[],removed:f.toArray()}):void 0})],c),xt(()=>this.removeHandles(c))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(xt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(Q3)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},s){const c=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,c);const f=s(t,i,r);return this.addHandles(f,c),xt(()=>this.removeHandles(c))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),s=Ze(t,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(Q3),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(wS(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(Q3))}),Q3)}}};g([S({readOnly:!0})],zc.prototype,"updating",void 0),zc=g([Q("esri.core.support.UpdatingHandles")],zc);const Q3=-42;let Tf=class extends ht{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.codedValue=null}};g([S()],Tf.prototype,"objectType",void 0),g([S()],Tf.prototype,"maxValue",void 0),g([S()],Tf.prototype,"minValue",void 0),g([S()],Tf.prototype,"codedValue",void 0),Tf=g([Q("esri.layers.support.ContingentValue")],Tf);const $n=Tf;let If=class extends ht{constructor(t){super(t),this.isRetired=!1}};g([S()],If.prototype,"id",void 0),g([S()],If.prototype,"isRetired",void 0),g([S()],If.prototype,"subtype",void 0),g([S()],If.prototype,"values",void 0),If=g([Q("esri.layers.support.Contingency")],If);const YD=If;let Hv=class extends ht{constructor(t){super(t)}};g([S()],Hv.prototype,"fieldGroup",void 0),g([S()],Hv.prototype,"type",void 0),Hv=g([Q("esri.layers.support.ContingencyConstraintViolation")],Hv);const QD=Hv;let Jv=class extends ht{constructor(t){super(t)}};g([S()],Jv.prototype,"contingentValuesAllGroups",void 0),g([S()],Jv.prototype,"contingentValuesByFieldGroup",void 0),Jv=g([Q("esri.layers.support.ContingentValuesResult")],Jv);const iSe=Jv;let Mf=class extends ht{constructor(t){super(t),this.fields=null,this.isEditingRestrictive=!1}};g([S()],Mf.prototype,"name",void 0),g([S()],Mf.prototype,"fields",void 0),g([S()],Mf.prototype,"isEditingRestrictive",void 0),g([S()],Mf.prototype,"contingencies",void 0),Mf=g([Q("esri.layers.support.FieldGroup")],Mf);const YM=Mf;var ad;let ld=ad=class extends ap(Ma){constructor(e){super(e),this.request=Ut,this.fieldGroups=null,this.fieldGroupDefinitions=null}initialize(){}get subtypeFieldName(){const{layer:e}=this;return e.type==="subtype-group"?e.subtypeField:e.typeIdField}static async createLoadedLayerContingentValuesCache(e){await e.load();const t=e.sourceJSON;if(e.layerId===void 0)return null;const i=t.hasContingentValuesDefinition;if(i)return new ad({layer:e}).load();if(i===void 0){const r=wu(e.url);if(r==null)return null;const s=r.url.path;if((await ad._staticFetchEnterpriseFeatureRoot(s)).supportsQueryDataElements){const c=e.layerId.toString(),f=await ad._staticFetchEnterpriseFieldGroup(s,c);if(f){const m=f.map(b=>({name:b.name,isEditingRestrictive:b.isEditingRestrictive,fields:b.fieldNames.names.map(x=>e.fieldsIndex.normalizeFieldName(x))}));return new ad({layer:e,fieldGroupDefinitions:m}).load()}}}return null}async load(e){const t=this.layer.load(e).then(()=>this._initializeContingentValues(this.fieldGroupDefinitions,e));return this.addResolvingPromise(t),this}validateContingencyConstraints(e,t){const i=Object.keys(e),r=[],s=[];for(const c of this.fieldGroups){const f=c.isEditingRestrictive?"error":"warning";if(t&&!c.fields.some(T=>t.includes(T)))continue;if(!c.fields.every(T=>i.includes(T))){s.push(new QD({fieldGroup:c,type:f}));continue}let m=!1;const b=e[this.subtypeFieldName],x=c.contingencies.filter(T=>!(!T.isRetired&&T.subtype)||T.subtype.code===b);for(const T of x){let C=!0;for(const L in T.values){const N=T.values[L];if(N.objectType!=="any"){if(N.objectType==="null"){if(e[L]!=null){C=!1;break}}else if(N.objectType==="code"){if(e[L]!==N.codedValue.code){C=!1;break}}else if(N.objectType==="range"){const D=e[L];if(D<N.minValue||D>N.maxValue){C=!1;break}}}}if(C){m=!0;break}}m||r.push(new QD({fieldGroup:c,type:f}))}return{invalid:r,incomplete:s}}getContingentValues(e,t,i=!1){const r=e[this.subtypeFieldName],s=r!=null,c={};let f=[];const m=this.fieldGroups.filter(b=>b.fields.includes(t));f.push(new $n({objectType:"any"}));for(const b of m){let x=[];const T=b.contingencies.filter(N=>!(N.isRetired||N.subtype&&s&&N.subtype.code!==r));let C=!1;const L={};for(const N of T){let D,G=!0;for(const q in N.values){const J=N.values[q];if(t!==q){if(e[q]!==void 0&&J.objectType!=="any"){if(J.objectType==="null")e[q]!==null&&(G=!1);else if(J.objectType==="code")e[q]!==J.codedValue.code&&(G=!1);else if(J.objectType==="range"){const ne=e[q];(ne<J.minValue||ne>J.maxValue)&&(G=!1)}}}else D=J,C=C||J.objectType==="range"}if(D&&G){if(D.objectType==="any"){x.length=0,x.push(D);break}const q=this._generateKey(D);L[q]||x.push(D),L[q]=!0}}C&&(x=this._joinRange(x)),c[b.name]=x,f=i?this._filterIntersection(f,x):[]}return m.length===1&&i&&(f=[]),new iSe({contingentValuesAllGroups:f,contingentValuesByFieldGroup:c})}_generateKey(e){switch(e.objectType){case"any":return"@any@";case"null":return"@null@";case"code":return e.codedValue.name+e.codedValue.code.toString();case"range":return e.minValue.toString()+"-"+e.maxValue.toString()}}_joinRange(e){let t,i;e.sort((s,c)=>s.objectType==="null"?-1:c.objectType==="null"?1:s.minValue-c.minValue);const r=[];for(const s of e)s.objectType!=="null"?t!=null&&i!=null?i<s.minValue?(r.push(new $n({objectType:"range",minValue:t,maxValue:i})),t=s.minValue,i=s.maxValue):i<s.maxValue&&(i=s.maxValue):(t=s.minValue,i=s.maxValue):r.push(s);return r.push(new $n({objectType:"range",minValue:t,maxValue:i})),r}_filterIntersection(e,t){var s,c;if(e.length===0||t.length===0)return[];if(e[0].objectType==="any")return t;if(t[0].objectType==="any")return e;const i=e[0].objectType==="range"||((s=e[1])==null?void 0:s.objectType)==="range",r=t[0].objectType==="range"||((c=t[1])==null?void 0:c.objectType)==="range";return i||r?this._intersectRanges(e,t):this._intersectValues(e,t)}_intersectRanges(e,t){const i=[];let r,s=0;for(const c of e)for(;s<t.length;s++){const f=t[s];if(c.objectType==="null"&&f.objectType==="null")i.push(new $n({objectType:"null"}));else{if(c.objectType==="null")break;if(f.objectType==="null")continue}if(c.maxValue<f.minValue)break;if(c.maxValue===f.minValue){i.push(new $n({objectType:"range",minValue:c.maxValue,maxValue:f.minValue}));break}if(!(c.minValue>f.maxValue))if(c.minValue!==f.maxValue){if(r=c.minValue>f.minValue?c.minValue:f.minValue,c.maxValue<f.maxValue){i.push(new $n({objectType:"range",minValue:r,maxValue:c.maxValue}));break}i.push(new $n({objectType:"range",minValue:r,maxValue:f.maxValue}))}else i.push(new $n({objectType:"range",minValue:c.minValue,maxValue:f.maxValue}))}return i}_intersectValues(e,t){const i=[];for(const r of e)t.some(s=>{if(r.objectType===s.objectType)switch(r.objectType){case"any":case"null":return!0;case"code":return r.codedValue.code===s.codedValue.code&&r.codedValue.name===s.codedValue.name}return!1})&&i.push(r);return i}static async _staticFetchEnterpriseFeatureRoot(e,t){return Ut(e,{responseType:"json",query:{f:"json"},...t}).then(i=>i.data)}static async _staticFetchEnterpriseFieldGroup(e,t,i){return Ut(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...i}).then(r=>{var s;return((s=r.data.layerDataElements)==null?void 0:s[0].dataElement.fieldGroups)??[]})}async _initializeContingentValues(e,t){const i=e??await this._fetchFieldGroupDefs(t);if(i.length===0)return void(this.fieldGroups=[]);const r=await this._fetchContingentValues(i,t);this.fieldGroups=r}async _fetchFieldGroupDefs(e){if(this.layer.layerId===void 0)return[];const t=this.layer.sourceJSON,i=this.layer.layerId.toString(),r=wu(this.layer.url).url.path;return t.hasContingentValuesDefinition?(await this._fetchAGOLFieldGroup(r,i,e)).map(s=>({name:s.name,isEditingRestrictive:s.restrictive,fields:s.fields.map(c=>this.layer.fieldsIndex.normalizeFieldName(c))})):t.hasContingentValuesDefinition!==void 0?[]:this._fetchEnterpriseFeatureRoot(r,e).then(async s=>s.supportsQueryDataElements?(await this._fetchEnterpriseFieldGroup(r,i,e)).map(c=>({name:c.name,isEditingRestrictive:c.isEditingRestrictive,fields:c.fieldNames.names.map(f=>this.layer.fieldsIndex.normalizeFieldName(f))})):[])}async _fetchAGOLFieldGroup(e,t,i){return Ut(`${e}/${t}/fieldgroups`,{responseType:"json",query:{f:"json"},...i}).then(r=>r.data.fieldGroups??[])}async _fetchEnterpriseFieldGroup(e,t,i){return ad._staticFetchEnterpriseFieldGroup(e,t,i)}async _fetchEnterpriseFeatureRoot(e,t){return ad._staticFetchEnterpriseFeatureRoot(e,t)}async _fetchContingentValues(e,t){if(this.layer.layerId===void 0)return[];const i=this.layer.sourceJSON,r=this.layer.layerId.toString(),s=wu(this.layer.url).url.path;if(i.hasContingentValuesDefinition){const f=await this._fetchAGOLContingentValues(s,r,t);return this._constructFieldGroupsAGOL(e,f)}const c=await this._fetchEnterpriseContingentValues(s,r,t);return this._constructFieldGroupsEnterprise(e,c)}_constructFieldGroupsAGOL(e,t){return e.map(i=>{const r=t.contingentValuesDefinition.fieldGroups.find(s=>s.name===i.name);if(r){let s=[];return s=t.contingentValuesDefinition.hasSubType?this._parseAGOLFieldGroupSubtype(i,t,r.subTypes):this._parseAGOLFieldGroup(i,t,r.contingentValues),new YM({name:i.name,isEditingRestrictive:i.isEditingRestrictive,fields:i.fields,contingencies:s})}return null}).filter(Yr)}_parseAGOLFieldGroupSubtype(e,t,i){let r=[];return i==null||i.forEach(s=>{const c=this._getSubtypeAGOL(s.name);r=r.concat(this._parseAGOLFieldGroup(e,t,s.contingentValues,c))}),r}_parseAGOLFieldGroup(e,t,i,r=null){const s=[];for(const c of i??[]){const f=this._parseAGOLContingency(c,e,t,r);s.push(f)}return s}_parseAGOLContingency(e,t,i,r){const s=e.id,c=!!e.retired&&e.retired===1,f={};for(let m=0,b=0;m<t.fields.length;m++){const x=t.fields[m],T=i.typeCodes[e.types[m]];if(T==="Code"){let C=e.values[b];b++;const L=this._getDomain(r,x),N=this.layer.getField(x);if((N==null?void 0:N.type)==="string"){const q=i.stringDicts.find(J=>J.domain===(L==null?void 0:L.name));q&&(C=q.entries[C])}const D=L==null?void 0:L.codedValues.find(q=>q.code===C),G=new $n({codedValue:D,objectType:"code"});f[x]=G}else if(T==="Range"){const C=e.values[b];b++;const L=C.range[0],N=C.range[1],D=new $n({minValue:L,maxValue:N,objectType:"range"});f[x]=D}else if(T==="Any"){const C=new $n({objectType:"any"});f[x]=C}else{const C=new $n({objectType:"null"});f[x]=C}}return new YD({id:s,isRetired:c,subtype:r,values:f})}_constructFieldGroupsEnterprise(e,t){const i=t.fieldGroups;return e.map(r=>{const s=i.find(c=>c.name===r.name);if(s){const c=s.contingencies.map(f=>{const m=f.id,b=f.isRetired||!1,x=this._getSubtypeEnterprise(f.subtypeCode),T={};for(let C=0;C<r.fields.length;C++){const L=r.fields[C];let N=f.values[C];if(typeof N=="number"||typeof N=="string"){const D=this._getDomain(x,L),G=this.layer.getField(L);T4(G)?N=t.stringDictionary[N]:sC(G)&&(N=new Date(`${N}+00:00`).getTime());const q=D==null?void 0:D.codedValues.find(ne=>ne.code===N),J=new $n({codedValue:q,objectType:"code"});T[L]=J}else if(typeof N=="object"){const D=N.minValue,G=N.maxValue,q=new $n({minValue:D,maxValue:G,objectType:"range"});T[L]=q}else if(N){const D=new $n({objectType:"any"});T[L]=D}else{const D=new $n({objectType:"null"});T[L]=D}}return new YD({id:m,isRetired:b,subtype:x,values:T})});return new YM({name:r.name,isEditingRestrictive:r.isEditingRestrictive,fields:r.fields,contingencies:c})}return null}).filter(Yr)}async _fetchEnterpriseContingentValues(e,t,i){return Ut(`${e}/queryContingentValues`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...i}).then(r=>{var s;return(s=r.data.contingentValueSets)==null?void 0:s[0]})}async _fetchAGOLContingentValues(e,t,i){return Ut(`${e}/${t}/contingentValues`,{responseType:"json",query:{f:"json"},...i}).then(r=>r.data)}_getSubtypeEnterprise(e){const t=this.layer.sourceJSON;let i;if(t.subtypes){const r=t.subtypes.find(s=>s.code===e);i=rM.fromJSON(r)}return i||null}_getSubtypeAGOL(e){const t=this.layer.sourceJSON;let i;if(t.subtypes){const r=t.subtypes.find(s=>s.name===e);i=rM.fromJSON(r)}return i||null}_findDomainByFieldName(e,t){const i=e.domains;if(i){const[r,s]=Object.entries(i).find(([c])=>c.trim().toLowerCase()===t.trim().toLowerCase())||[];return s||null}return null}_getDomain(e,t){const i=e?this._findDomainByFieldName(e,t):this.layer.getFieldDomain(t);return(i==null?void 0:i.type)==="inherited"?this.layer.getFieldDomain(t):i}};g([S({constructOnly:!0})],ld.prototype,"layer",void 0),g([S({constructOnly:!0})],ld.prototype,"request",void 0),g([S({type:[YM]})],ld.prototype,"fieldGroups",void 0),g([S({constructOnly:!0})],ld.prototype,"fieldGroupDefinitions",void 0),g([S()],ld.prototype,"subtypeFieldName",null),ld=ad=g([Q("esri.layers.support.LayerContingentValuesCache")],ld);const rSe=ld;let ko=class extends ht{constructor(t){super(t),this.element=null,this.feature=null,this.layer=null,this.timeZone=null,this.type=null,this.visibilityExpressionExecutor=null}get description(){var t;return(t=this.element)==null?void 0:t.description}get evaluatedVisibilityExpression(){const{visibilityExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get label(){var t;return(t=this.element)==null?void 0:t.label}get visible(){return this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null}};g([S({readOnly:!0})],ko.prototype,"description",null),g([S({constructOnly:!0})],ko.prototype,"element",void 0),g([S()],ko.prototype,"evaluatedVisibilityExpression",null),g([S()],ko.prototype,"feature",void 0),g([S()],ko.prototype,"label",null),g([S()],ko.prototype,"layer",void 0),g([S()],ko.prototype,"timeZone",void 0),g([S()],ko.prototype,"type",void 0),g([S()],ko.prototype,"visible",null),g([S()],ko.prototype,"visibilityExpressionExecutor",void 0),ko=g([Q("esri.widgets.FeatureForm.InputBase")],ko);const YY=ko;let ud=class extends YY{constructor(t){super(t),this.arcadeEditType="NA",this.editableExpressionExecutor=null}get editable(){return!!this.layerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get evaluatedEditableExpression(){const{editableExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get layerAllowsEdits(){const{layer:t}=this;if(!t)return!1;const i=g0(t),r=i==null?void 0:i.operations.supportsEditing,s=J4e(i,this.arcadeEditType);return!(!r||!s)}};g([S()],ud.prototype,"arcadeEditType",void 0),g([S()],ud.prototype,"editable",null),g([S()],ud.prototype,"editableExpressionExecutor",void 0),g([S()],ud.prototype,"evaluatedEditableExpression",null),g([S()],ud.prototype,"layerAllowsEdits",null),ud=g([Q("esri.widgets.FeatureForm.EditableInput")],ud);const QY=ud;var ha;(function(e){e.Text="text",e.Number="number",e.Date="date",e.Unsupported="unsupported"})(ha||(ha={}));const XD="__internal-type-based-coded-value-domain__";let Ct=class extends QY{constructor(t){super(t),this._storedValue=null,this.error=null,this.preservesValueWhenHidden=!0,this.field=null,this.group=null,this.requiredExpressionExecutor=null,this.type="field",this._fieldInputWasVisibleDuringLifetime=!1,this.valueExpressionExecutor=null}initialize(){this.addHandles(Ze(()=>this.feature,()=>this._fieldInputWasVisibleDuringLifetime=!1,Mu))}get _dateFormRange(){const{element:t,field:i}=this;if(this.dataType!=="date")return{};const r=t!=null&&t.domain?Sy(i,t.domain):null;if(!(t!=null&&t.input))return r??{};const s=t.input,{type:c}=s;let f={};if(c!=="date-picker"&&c!=="time-picker"&&c!=="datetimeoffset-picker"||(f=AB(i,s.max,s.min)),c==="datetime-picker"){const{max:x,min:T}=s;f={max:x!=null&&eV(x)?x.getTime():null,min:T!=null&&eV(T)?T.getTime():null}}const{max:m,min:b}=f;if(r){const{max:x,min:T}=r,C=Jp(x)&&(m==null||m!=null&&x<m),L=Jp(T)&&(b==null||b!=null&&T>b);return{max:C?x:m??null,min:L?T:b??null,rawMax:C?r.rawMax:(f==null?void 0:f.rawMax)??null,rawMin:L?r.rawMin:(f==null?void 0:f.rawMin)??null}}return{min:b,max:m,rawMax:(f==null?void 0:f.rawMax)??null,rawMin:(f==null?void 0:f.rawMin)??null}}get _dateRange(){const{_dateFormRange:t,field:i}=this;if(this.dataType!=="date")return{};const r=Sy(i);if(!r)return t;const{max:s,min:c,rawMax:f,rawMin:m}=t;if(i.type==="date"){const{max:b,min:x}=r;return{max:Jp(s)&&(b===null||b!=null&&s<b)?s:b??null,min:Jp(c)&&(x===null||x!=null&&c>x)?c:x??null}}if(i.type==="date-only"||i.type==="time-only"||i.type==="timestamp-offset"){const{max:b,min:x,rawMax:T,rawMin:C}=r,L=Jp(s)&&f&&(b==null||s<b);return{max:L?s:b,min:Jp(c)&&m&&(x==null||c>x)?c:x,rawMax:L?f:T,rawMin:L?m:C}}return{max:null,min:null}}get _configAllowsEdits(){var c,f;const{element:t,layer:i,name:r}=this;if(t!=null)return t.editableExpression?!!this.evaluatedEditableExpression:t.editable!==!1;if(i!=null&&i.userHasUpdateItemPrivileges)return!0;const s=i&&"popupTemplate"in i?(f=(c=i==null?void 0:i.popupTemplate)==null?void 0:c.fieldInfos)==null?void 0:f.find(({fieldName:m})=>m===r):null;return(s==null?void 0:s.isEditable)??!0}get _layerAndFieldAllowEdits(){var t;return this.layerAllowsEdits&&((t=this.field)==null?void 0:t.editable)}get _isVisibleByDefault(){const{field:t,layer:i}=this;return!!(t!=null&&t.visible)&&RB(t,i)}get _isEditTrackingField(){var t;return nC(this.layer).includes((t=this.name)==null?void 0:t.toLowerCase())}get _shouldUseValueExpression(){return this._layerAndFieldAllowEdits&&!this._configAllowsEdits&&this.valueExpressionExecutor!=null}get _isSubtypeField(){var i;const{layer:t}=this;if(t&&"subtypeField"in t){const{subtypeField:r,fieldsIndex:s}=t;return(((i=s.get(r))==null?void 0:i.name)??r)===this.name}return!1}get test(){return{_isSubtypeField:this._isSubtypeField}}get dataType(){const{field:t}=this;return jy(t)?ha.Number:T4(t)?ha.Text:K4(t)||Jb(t)?ha.Date:ha.Unsupported}get dateDataType(){if(this.dataType===ha.Date)return this.field.type!=="date"?"string":"number"}get description(){const{element:t,feature:i,layer:r,timeZone:s}=this,c=t==null?void 0:t.description;return r!=null&&c!=null?l2({label:c,attributes:i.attributes,fieldsIndex:r.fieldsIndex,timeZone:s}):c}get domain(){var m;const{layer:t}=this,{typeFieldName:i,types:r}=KM(t);if(this._isSubtypeField&&"subtypes"in t&&t.subtypes)return new L4({name:XD,codedValues:t.subtypes.map(({code:b,name:x})=>new qf({code:b,name:x}))});if(i===this.name&&this.field.domain==null)return new L4({name:XD,codedValues:r.map(({code:b,name:x})=>new qf({code:b,name:x}))});const{feature:s}=this,c=t==null?void 0:t.getFieldDomain(this.name,{feature:s}),f=(m=this.element)==null?void 0:m.domain;return f!=null&&this._isDomainCompatible(f)?f:c}get editable(){return!!this._layerAndFieldAllowEdits&&(this.evaluatedEditableExpression??this._configAllowsEdits)}get evaluatedRequiredExpression(){const{requiredExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get evaluatedValueExpression(){const{valueExpressionExecutor:t}=this;return t!=null?t.lastEvaluatedValue:null}get hint(){var t;return(t=this.element)==null?void 0:t.hint}get includeDate(){return!(this.dataType!==ha.Date||this.field.type==="time-only")}get includeTime(){var s;const{element:t,field:i}=this;if(this.dataType!==ha.Date)return!1;if(i.type==="time-only")return!0;if(i.type==="date-only")return!1;const r=((s=t==null?void 0:t.input)==null?void 0:s.type)==="datetime-picker"?t.input.includeTime:void 0;return r===void 0||r}get includeTimeOffset(){var i;if(this.field.type!=="timestamp-offset")return!1;const t=(i=this.element)==null?void 0:i.input;return!t||t.type==="datetimeoffset-picker"&&t.includeTimeOffset}set initialFeature(t){this._set("initialFeature",t),this.notifyChange("valid")}get inputType(){var t,i;return(i=(t=this.element)==null?void 0:t.input)==null?void 0:i.type}get hasInvalidSwitchValue(){const{element:t}=this,i=T0(t,"switch")?t.input:null;return!i||eSe(this.value,i)}get isRelationshipKeyField(){var r;const{field:t,layer:i}=this;return q2(i)&&!!((r=i.relationships)!=null&&r.some(s=>s.keyField===t.name))}get label(){const{element:t,feature:i,field:r,layer:s,timeZone:c}=this;return s!=null&&(t==null?void 0:t.label)!=null?l2({label:t.label,attributes:i.attributes,fieldsIndex:s.fieldsIndex,timeZone:c}):(t==null?void 0:t.label)||r.alias||r.name}get maxLength(){if(this.dataType===ha.Date)return-1;const{field:i,element:r}=this,s=(i==null?void 0:i.length)??-1,c=BD(r)?r.input.maxLength:NaN;return c!=null&&!isNaN(c)&&c>=-1&&(s===-1||c<=s)?c:s}get minLength(){if(this.dataType===ha.Date)return-1;const{field:i,element:r}=this,s=(i==null?void 0:i.length)??-1,c=BD(r)?r.input.minLength:NaN;return c!=null&&!isNaN(c)&&c>=-1&&(s===-1||c<=s)?c:-1}get name(){var t;return(t=this.field)==null?void 0:t.name}get range(){const{domain:t,element:i,field:r}=this;if(this.dataType==="date")return this._dateRange;const s=Sy(r,t)||Qpe(r,t),c=(s==null?void 0:s.max)===Number.MAX_VALUE?null:(s==null?void 0:s.max)??null,f=(s==null?void 0:s.min)===-Number.MAX_VALUE?null:(s==null?void 0:s.min)??null;if(!(i!=null&&i.domain)||i.domain.type!=="range")return{max:c,min:f};const{max:m,min:b}=Sy(r)||{};return{max:m!=null&&(c===null||c!=null&&m<c)?m:c,min:b!=null&&(f===null||f!=null&&b>f)?b:f}}get required(){var f;const{editable:t,evaluatedRequiredExpression:i,field:r,visible:s,_isSubtypeField:c}=this;return t?(r==null?void 0:r.nullable)===!1||c?!0:!(!s||((f=this.group)==null?void 0:f.visible)===!1||i==null)&&i:!1}set required(t){this._overrideIfSome("required",t)}get showNoValueOptionEnabled(){const{element:t}=this;return!this.required&&(!qD(t)||t.input.showNoValueOption)}get showNoValueLabel(){const{element:t}=this;return qD(t)?t.input.noValueOptionLabel:null}get submittable(){const{field:t,required:i,valid:r,value:s}=this;return(!i||s!=null)&&(!!r||this.initialFeature.getAttribute(t.name)===s)}get timeResolution(){var i;const t=(i=this.element)==null?void 0:i.input;if(t&&(t.type==="datetimeoffset-picker"||t.type==="time-picker"))return t.timeResolution??"minutes"}get timeStep(){return this.timeResolution!=null?lpe.get(this.timeResolution):void 0}get updating(){const{editableExpressionExecutor:t,valueExpressionExecutor:i,visibilityExpressionExecutor:r,preservesValueWhenHidden:s}=this;return i!=null&&i.updating||t!=null&&t.updating||s===!1&&r!=null&&r.updating}get valid(){const t=this.editable?this._validate():null;return this._set("error",t),t===null}get value(){var t,i,r,s;if(this._fieldInputWasVisibleDuringLifetime=this._fieldInputWasVisibleDuringLifetime||this.visible&&((t=this.group)==null?void 0:t.visible)!==!1,this.preservesValueWhenHidden===!1&&this._fieldInputWasVisibleDuringLifetime&&(((i=this.visibilityExpressionExecutor)==null?void 0:i.lastEvaluatedValue)===!1||((s=(r=this.group)==null?void 0:r.visibilityExpressionExecutor)==null?void 0:s.lastEvaluatedValue)===!1))return this._storedValue!==null&&this.set("_storedValue",null),null;if(this._shouldUseValueExpression){const c=this.evaluatedValueExpression;return this.dataType===ha.Date?this._arcadeOutputToDateFieldValue(c):c!=null&&typeof c=="object"?c.toString():c}return this._storedValue}set value(t){this.notifyChange("evaluatedVisibilityExpression"),this.set("_storedValue",t)}get visible(){return!this._isEditTrackingField&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null||this._isVisibleByDefault)}_arcadeOutputToDateFieldValue(t){const i=this.field.type;try{if(typeof t=="object"){if(t===null)throw new me("feature-form:invalid-date-value");if(fpe(t))return ppe(t,i);if("getTime"in t&&typeof t.getTime=="function"&&i==="date")return parseInt(t.getTime(),10);if(i==="date-only"||i==="time-only"||i==="timestamp-offset")return t.toString()}else{if(typeof t=="string")return i==="date"?parseInt(t,10):t;if(typeof t=="number"&&i==="date")return t}throw new me("feature-form:invalid-date-value")}catch{return i==="date"?NaN:""}}_isDomainCompatible(t){const{field:i}=this;if((t==null?void 0:t.type)==="coded-value"){const r=typeof t.codedValues[0].code;if(r==="string"&&T4(i)||r==="number"&&jy(i))return!0}return!!((t==null?void 0:t.type)==="range"&&jy(i)||K4(i)||Jb(i))}_validate(){const{dataType:t,domain:i,field:r,initialFeature:s,minLength:c,range:f,required:m,valid:b,value:x}=this,T=m&&x==null,C=b!==void 0;return!T&&s.getAttribute(r.name)===x&&C?null:T?am.INVALID_TYPE:t==="text"&&c>-1&&typeof x=="string"&&x.length<c?Y4.TOO_SHORT:t!=="date"||x==null||ype({type:r.type,range:f,value:x})?i?x!==null||m?CB(r,x):null:zB(r,x):om.OUT_OF_RANGE}};g([S()],Ct.prototype,"_dateFormRange",null),g([S()],Ct.prototype,"_dateRange",null),g([S()],Ct.prototype,"_storedValue",void 0),g([S()],Ct.prototype,"_configAllowsEdits",null),g([S()],Ct.prototype,"_layerAndFieldAllowEdits",null),g([S()],Ct.prototype,"_isVisibleByDefault",null),g([S()],Ct.prototype,"_isEditTrackingField",null),g([S()],Ct.prototype,"_shouldUseValueExpression",null),g([S()],Ct.prototype,"_isSubtypeField",null),g([S()],Ct.prototype,"dataType",null),g([S()],Ct.prototype,"dateDataType",null),g([S()],Ct.prototype,"description",null),g([S()],Ct.prototype,"domain",null),g([S()],Ct.prototype,"editable",null),g([S({readOnly:!0})],Ct.prototype,"error",void 0),g([S({constructOnly:!0})],Ct.prototype,"preservesValueWhenHidden",void 0),g([S()],Ct.prototype,"evaluatedRequiredExpression",null),g([S()],Ct.prototype,"evaluatedValueExpression",null),g([S()],Ct.prototype,"field",void 0),g([S()],Ct.prototype,"group",void 0),g([S({readOnly:!0})],Ct.prototype,"hint",null),g([S()],Ct.prototype,"includeDate",null),g([S()],Ct.prototype,"includeTime",null),g([S()],Ct.prototype,"includeTimeOffset",null),g([S()],Ct.prototype,"initialFeature",null),g([S({readOnly:!0})],Ct.prototype,"inputType",null),g([S()],Ct.prototype,"hasInvalidSwitchValue",null),g([S()],Ct.prototype,"isRelationshipKeyField",null),g([S()],Ct.prototype,"label",null),g([S()],Ct.prototype,"maxLength",null),g([S()],Ct.prototype,"minLength",null),g([S({readOnly:!0})],Ct.prototype,"name",null),g([S()],Ct.prototype,"range",null),g([S()],Ct.prototype,"required",null),g([S()],Ct.prototype,"requiredExpressionExecutor",void 0),g([S()],Ct.prototype,"showNoValueOptionEnabled",null),g([S()],Ct.prototype,"submittable",null),g([S()],Ct.prototype,"timeResolution",null),g([S()],Ct.prototype,"timeStep",null),g([S({readOnly:!0})],Ct.prototype,"type",void 0),g([S()],Ct.prototype,"updating",null),g([S()],Ct.prototype,"valid",null),g([S({value:null})],Ct.prototype,"value",null),g([S()],Ct.prototype,"valueExpressionExecutor",void 0),g([S()],Ct.prototype,"visible",null),Ct=g([Q("esri.widgets.FeatureForm.FieldInput")],Ct);const eV=e=>e&&!Number.isNaN(e.valueOf()),tV=Ct;var Q4;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(Q4||(Q4={}));const nSe={[Q4.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let sSe=class XY extends Error{constructor(t,i){super(El(nSe[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,XY)}};function f1(e,t,i){return e<t?e-t:e>i?e-i:0}function y1(e,t,i){return e<t?t:e>i?i:e}let Tb=class Cr{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,c=0,f=0,m=0,b){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(c)||isNaN(f)||isNaN(m))return null;const x=Xe.local(t,i).daysInMonth;let T=Xe.fromObject({day:y1(r,1,x),year:t,month:y1(i,1,12),hour:y1(s,0,23),minute:y1(c,0,59),second:y1(f,0,59),millisecond:y1(m,0,999)},{zone:hu(b)});return T=T.plus({months:f1(i,1,12),days:f1(r,1,x),hours:f1(s,0,23),minutes:f1(c,0,59),seconds:f1(f,0,59),milliseconds:f1(m,0,999)}),new Cr(T)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=hu(i);return t.isUnknownTimeZone||r===fl.instance?Cr.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Cr(t._date.setZone(r))}static dateJSToArcadeDate(t){return new Cr(Xe.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=hu(i);return new Cr(Xe.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new Cr(Xe.fromMillis(t,{zone:fl.instance}))}static unknownDateJSToArcadeDate(t){return new Cr(Xe.fromMillis(t.getTime(),{zone:fl.instance}))}static epochToArcadeDate(t,i="system"){const r=hu(i);return new Cr(Xe.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new Cr(t)}clone(){return new Cr(this._date)}changeTimeZone(t){const i=hu(t);return Cr.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=hu(i);return t.zone===fl.instance||r===fl.instance?Cr.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Cr(t.setZone(r))}static nowToArcadeDate(t){const i=hu(t);return new Cr(Xe.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new Cr(Xe.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Cr.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===fl.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new Cr(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Cr(this._date.toUTC())}toLocal(){return new Cr(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Xe.fromISO(t,{setZone:!0});return new Cr(i)}};function hu(e,t=!0){if(e instanceof C0)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return fl.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=Pr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=ho.create(e);if(!i.isValid){if(t)throw new sSe(Q4.TimeZoneNotRecognized);return null}return i}let oSe=class{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let i=0;i<this.length();i++)t.push(this.get(i));return t}};function iV(e){e=e.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of e.match(i)||[])switch(r){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=r;break;default:r.length>=2&&r.slice(0,1)==="["&&r.slice(-1)==="]"?t+=`'${r.slice(1,-1)}'`:t+=`'${r}'`}return t}let rV=class Co{constructor(t,i,r){this._year=t,this._month=i,this._day=r,this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(t){return t instanceof Co&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new Co(this._year,this._month,this._day)}toDateTime(t){return Xe.fromObject({day:this.day,month:this.month,year:this.year},{zone:hu(t)})}toDateTimeLuxon(t){return Xe.fromObject({day:this.day,month:this.month,year:this.year},{zone:hu(t)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(t=null,i=!0){if(t===null||t==="")return this.toString();if(i&&(t=iV(t)),!t)return"";const r=this.toDateTime("unknown");return Tb.dateTimeToArcadeDate(r).toFormat(t,{locale:Cs(),numberingSystem:"latn"})}toArcadeDate(){const t=this.toDateTime("unknown");return Tb.dateTimeToArcadeDate(t)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(t,i){return Co.fromDateTime(this.toUTCDateTime().plus({[t]:i}))}toUTCDateTime(){return Xe.utc(this.year,this.month,this.day,0,0,0,0)}difference(t,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}static fromMilliseconds(t){const i=Xe.fromMillis(t,{zone:Pr.utcInstance});return i.isValid?Co.fromParts(i.year,i.month,i.day):null}static fromSeconds(t){const i=Xe.fromSeconds(t,{zone:Pr.utcInstance});return i.isValid?Co.fromParts(i.year,i.month,i.day):null}static fromReader(t){if(!t)return null;const i=t.split("-");return i.length!==3?null:new Co(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10))}static fromParts(t,i,r){const s=new Co(t,i,r);return s.isValid===!1?null:s}static fromDateJS(t){return Co.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return Co.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,i=null){if(t===""||t===null)return null;const r=[];if(i)(i=iV(i))&&r.push(i);else if(i===null||i===""){const s=Xe.fromISO(t,{setZone:!0});return s.isValid?Co.fromParts(s.year,s.month,s.day):null}for(const s of r){const c=Xe.fromFormat(t,i??s);if(c.isValid)return new Co(c.year,c.month,c.day)}return null}static fromNow(t="system"){const i=Xe.fromJSDate(new Date).setZone(hu(t));return new Co(i.year,i.month,i.day)}};function TNe(e){if(e==null)return null;if(typeof e=="number")return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function INe(e){if(e==null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new rr({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function MNe(e){if(e==null)return null;if(typeof e=="number")return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function kNe(e){if(e==null)return null;const t=e.clone();return e.cache._geVersion!==void 0&&(t.cache._geVersion=e.cache._geVersion),t}function X3(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function nV(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of e.match(t)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}let sV=class Ql{constructor(t,i,r,s){this._hour=t,this._minute=i,this._second=r,this._millisecond=s,this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return t instanceof Ql&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new Ql(this.hour,this.minute,this.second,this.millisecond)}isValid(){return X3(this.hour)&&X3(this.minute)&&X3(this.second)&&X3(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(t=null){return t===null||t===""?this.toString():(t=nV(t))?Xe.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(t,{locale:Cs(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,i,r,s){const c=new Ql(t,i,r,s);return c.isValid()?c:null}static fromReader(t){if(!t)return null;const i=t.split(":");return i.length!==3?null:new Ql(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),0)}static fromMilliseconds(t){if(t>864e5||t<0)return null;const i=Math.floor(t/1e3%60),r=Math.floor(t/6e4%60),s=Math.floor(t/36e5%24),c=Math.floor(t%1e3);return new Ql(s,r,i,c)}static fromDateJS(t){return new Ql(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new Ql(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,i=null){if(t===""||t===null)return null;const r=[];i?(i=nV(i))&&r.push(i):i!==null&&i!==""||(r.push("HH:mm:ss"),r.push("HH:mm:ss.SSS"),r.push("hh:mm:ss a"),r.push("hh:mm:ss.SSS a"),r.push("HH:mm"),r.push("hh:mm a"),r.push("H:mm"),r.push("h:mm a"),r.push("H:mm:ss"),r.push("h:mm:ss a"),r.push("H:mm:ss.SSS"),r.push("h:mm:ss.SSS a"));for(const s of r){const c=Xe.fromFormat(t,s);if(c.isValid)return new Ql(c.hour,c.minute,c.second,c.millisecond)}return null}plus(t,i){switch(t){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return Ql.fromDateTime(this.toUTCDateTime().plus({[t]:i}))}return null}toUTCDateTime(){return Xe.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(t,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}},Ib=null;function aSe(e,t,i,r={}){const s=t.elementType,c="value",f=s.type==="array"?[{name:c,type:s.type,elementType:s.elementType}]:s.type==="dictionary"?[{name:c,type:s.type,properties:s.properties}]:[{name:c,type:s.type}];return new oSe(e.map(m=>{const b={};return EA(b,f,{[c]:m},i,r),b[c]}))}function lSe(e,t,i={}){const r=e instanceof u9?new oA({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return t.constructFeatureSet(r,i.spatialReference,null,!0,i.lruCache,i.interceptor)}function uSe(e,t,i={}){const{spatialReference:r,interceptor:s,lruCache:c}=i;return typeof e=="string"?t.createFeatureSetCollectionFromService(e,r,c,s):t.createFeatureSetCollectionFromMap(e,r,c,s)}function cSe(e,t,i,r={}){const s={};return EA(s,t.properties,e,i,r),new Ib.Dictionary(s)}function EA(e,t,i,r,s={}){const c={};for(const f of Object.keys(i))c[f.toLowerCase()]=i[f];for(const f of t){const m=f.name.toLowerCase();if(s.variablesPreProcessed)e[m]=c[m];else switch(f.type){case"array":{const b=c[m];e[m]=b==null?null:aSe(b,f,r,s);break}case"feature":{const b=c[m];e[m]=b==null?null:Ib.Feature.createFromGraphic(b,s==null?void 0:s.timeZone);break}case"featureSet":{const b=c[m];e[m]=b==null?null:r?lSe(b,r,s):null;break}case"featureSetCollection":{const b=c[m];e[m]=b==null?null:r?uSe(b,r,s):null;break}case"dictionary":{const b=c[m];e[m]=b==null?null:cSe(b,f,r,s);break}case"date":{const b=c[m];e[m]=b?b instanceof Tb?b:s!=null&&s.timeZone?Tb.dateJSAndZoneToArcadeDate(b,s==null?void 0:s.timeZone):Tb.dateJSToArcadeDate(b):null;break}case"dateOnly":{const b=c[m];e[m]=b?b instanceof rV?b:rV.fromReader(b):null;break}case"time":{const b=c[m];e[m]=b?b instanceof sV?b:sV.fromReader(b):null;break}case"knowledgeGraph":case"geometry":case"boolean":case"text":case"number":e[m]=c[m]}}}function eQ(e,t){for(const i of e)t.push(i),i.type==="dictionary"&&eQ(i.properties,t);return t}function oV(e,t,i,r,s){const{spatialReference:c,interceptor:f,lruCache:m,console:b,abortSignal:x,timeZone:T,services:C={portal:Xr.getDefault()}}=i,L={vars:{},spatialReference:c,interceptor:f,timeZone:T,lrucache:m,useAsync:s,services:C,console:b,abortSignal:x};return t&&EA(L.vars,e.variables,t,r,i),L}function X4(e,t){switch(t.getArcadeType(e)){case"number":case"text":case"boolean":case"point":case"polygon":case"polyline":case"multipoint":case"extent":return e;case"date":return e.toJSDate();case"time":case"dateOnly":return e.toString();case"feature":{const i=(e.type,e),r="geometry"in i?i.geometry():null,s="readAttributes"in i?i.readAttributes():i.attributes;return new Dn({geometry:r,attributes:s})}case"dictionary":{const i=e,r=i.attributes,s={};for(const c of Object.keys(r))s[c]=X4(i.field(c),t);return s}case"array":return("toArray"in e?e.toArray():e).map(i=>X4(i,t))}return e}const aV={variables:[{name:"$feature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"},{name:"$userInput",type:"geometry"},{name:"$graph",type:"knowledgeGraph"}]},lV={variables:[{name:"$feature",type:"feature"},{name:"$aggregatedFeatures",type:"featureSet"}]},uV=new Map([["form-constraint",{variables:[{name:"$feature",type:"feature"}]}],["feature-z",{variables:[{name:"$feature",type:"feature"}]}],["field-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$datastore",type:"featureSetCollection"}]}],["form-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$originalFeature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$featureSet",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"},{name:"$editContext",type:"dictionary",properties:[{name:"editType",type:"text"}]}]}],["labeling",{variables:[{name:"$feature",type:"feature"}]}],["popup",aV],["popup-element",aV],["feature-reduction-popup",lV],["feature-reduction-popup-element",lV],["visualization",{variables:[{name:"$feature",type:"feature"},{name:"$view",type:"dictionary",properties:[{name:"scale",type:"number"}]}]}]]);function tQ(e){const t=uV.get(e);if(!t){const i=Array.from(uV.keys()).map(r=>`'${r}'`).join(", ");throw new me("createArcadeProfile:invalid-profile-name",`Invalid profile name '${e}'. You must specify one of the following values: ${i}`)}return ye(t)}async function iQ(e,t,i={}){Ib||(Ib=await Cu());const{arcade:r,arcadeUtils:s}=Ib,{loadScriptDependencies:c,referencesMember:f,scriptIsAsync:m}=r,b=eQ(t.variables,[]),x=b.filter(ae=>ae.type==="featureSet"||ae.type==="featureSetCollection").map(ae=>ae.name.toLowerCase()),T=r.parseScript(e,x);if(!T)throw new me("arcade:invalid-script","Unable to create SyntaxTree");const C=s.extractFieldNames(T),L=r.scriptTouchesGeometry(T),N=b.map(ae=>ae.name.toLowerCase()).filter(ae=>f(T,ae)),D=m(T,x);await c(T,D,x);const G={vars:{},spatialReference:null,useAsync:D};for(const ae of N)G.vars[ae]="any";const{lruCache:q}=i,J=r.compileScript(T,G),ne=r.featureSetUtils(),{services:ue}=i;return{execute:(ae,pe={})=>{if(D)throw new me("arcade:invalid-execution-mode","Cannot execute the script in synchronous mode");const ge=J(oV(t,ae,{lruCache:q,...pe},ne,D));return pe.rawOutput?ge:X4(ge,s)},executeAsync:async(ae,pe={})=>{const ge=await J(oV(t,ae,{lruCache:q,services:ue,...pe},ne,D));return pe.rawOutput?ge:X4(ge,s)},isAsync:D,variablesUsed:N,fieldsUsed:C,geometryUsed:L,syntaxTree:T}}const CNe=Object.freeze(Object.defineProperty({__proto__:null,createArcadeExecutor:iQ,createArcadeProfile:tQ},Symbol.toStringTag,{value:"Module"}));var rQ;const hSe=Symbol("FormExpressionArcadeExecutor");let _s=class extends ht{constructor(t){super(t),this[rQ]=!0,this._lastEvaluatedValue=null,this._abortController=new AbortController,this._stale=!1,this._updatingTracking=new zc,this._executeAsyncDebounced=ba(async(i,r,s)=>{const c=await this.executor.executeAsync(i,{...r,abortSignal:s});return s.aborted?this._lastEvaluatedValue:(this._lastEvaluatedValue=c,this._stale=!1,c)})}get isAsync(){return this.executor.isAsync}get fieldsUsed(){return this.executor.fieldsUsed}get syntaxTree(){return this.executor.syntaxTree}get updating(){return this._updatingTracking.updating}get stale(){return this._stale}get geometryUsed(){return this.executor.geometryUsed}get variablesUsed(){return this.executor.variablesUsed}get lastEvaluatedValue(){return this._lastEvaluatedValue}abort(){this._abortController.abort()}execute(t,i){this._abortController=new AbortController;const r=this.executor.execute(t,{...i,abortSignal:this._abortController.signal});return this._lastEvaluatedValue=r,r}async executeAsync(t,i){return this._abortController=new AbortController,this._updatingTracking.addPromise(this._executeAsyncDebounced(t,i??{},this._abortController.signal))}markStale(){this._stale=!0}reset(){this.abort(),this._lastEvaluatedValue=null,this._stale=!1}};rQ=hSe,g([S()],_s.prototype,"_lastEvaluatedValue",void 0),g([S()],_s.prototype,"_stale",void 0),g([S()],_s.prototype,"_updatingTracking",void 0),g([S({constructOnly:!0})],_s.prototype,"executor",void 0),g([S()],_s.prototype,"isAsync",null),g([S()],_s.prototype,"fieldsUsed",null),g([S()],_s.prototype,"syntaxTree",null),g([S()],_s.prototype,"updating",null),g([S()],_s.prototype,"stale",null),g([S()],_s.prototype,"geometryUsed",null),g([S()],_s.prototype,"variablesUsed",null),g([S()],_s.prototype,"lastEvaluatedValue",null),_s=g([Q("esri.widgets.FeatureForm.FormExpressionArcadeExecutor")],_s);const dSe=async(e,t)=>{const i=tQ("form-calculation"),r=await iQ(e,i,{});return t!=null&&t.fieldsIndex&&(r.fieldsUsed=A0(t.fieldsIndex,r.fieldsUsed)),new _s({executor:r})},Rx="#JSAPI_FORM_EXPRESSIONS_MANAGER_GEOMETRY",pSe="esri.widgets.FeatureForm.FormExpressionsManager";let Xl=class extends ht{constructor(t){super(t),this._fieldReferencesLookup=new Map,this._fieldsAffectedLookup=new Map,this.preserveFieldValuesWhenHidden=!0,this._latestFieldValues={...t.feature.attributes}}initialize(){this._dependencyGraph=this._buildDependencyGraph()}destroy(){this.resetExecutors()}get _asyncExecutors(){return this.executors.filter(t=>t.isAsync)}get _baseContext(){const{editType:t,layer:i,map:r,originalFeature:s,spatialReference:c,timeZone:f}=this.arcadeContextInfo,m=(i==null?void 0:i.type)==="scene"&&i.associatedLayer!=null?i.associatedLayer:i;return[{$originalfeature:s,$editcontext:{editType:t},$layer:m,$featureset:m,$datastore:i==null?void 0:i.url,$map:r},{rawOutput:!0,spatialReference:c??void 0,timeZone:f}]}set feature(t){this._latestFieldValues={...t==null?void 0:t.attributes},this._set("feature",t)}evaluateAll(){return this._evaluate(this.executors)}evaluateAsyncExpressions(){return this._evaluate(this._asyncExecutors)}evaluateExpressions(t){return this._evaluate(t)}evaluateInvalidated(t){const{_fieldReferencesLookup:i,_latestFieldValues:r,feature:s}=this,c=new Set;for(const f of t)if(r[f]=s.getAttribute(f),i.has(f))for(const m of i.get(f))c.add(m);return this._evaluate([...c])}async evaluateInvalidatedByGeometry(){if(this._fieldReferencesLookup.has(Rx))return this._evaluate([...this._fieldReferencesLookup.get(Rx)])}resetExecutors(){for(const t of this.executors)t.reset()}_buildDependencyGraph(){var b;const{_fieldReferencesLookup:t,_fieldsAffectedLookup:i,executors:r,preserveFieldValuesWhenHidden:s}=this,c=new Map(this.fieldInputs.map(x=>[x.name,x])),f=s===!1,m=new Map(r.map(x=>[x,new Array]));for(const x of r){for(const T of x.fieldsUsed){ib(t,T,()=>new Set).add(x);const C=c.get(T);[C==null?void 0:C.valueExpressionExecutor,C==null?void 0:C.editableExpressionExecutor,f?(b=C==null?void 0:C.group)==null?void 0:b.visibilityExpressionExecutor:null,f?C==null?void 0:C.visibilityExpressionExecutor:null].filter(L=>L!=null&&L!==x).forEach(L=>{m.get(L).push(x),ib(i,L,()=>new Set).add(C)})}x.geometryUsed&&ib(t,Rx,()=>new Set).add(x)}return m}async _evaluate(t){const i=new Map,{_dependencyGraph:r,_fieldsAffectedLookup:s,_latestFieldValues:c}=this;for(const m of t)nQ(m,i,r);for(const[m,{resolver:b,dependencyPromises:x}]of i)Promise.all(x).then(async()=>{const[T,C]=this._makeContext(c);return m.executeAsync(T,C)}).then(()=>{if(s.has(m))for(const T of s.get(m))this._latestFieldValues[T.name]=T.value;b.resolve()},T=>{!T||cs(T)||cV(T)||m.markStale(),b.reject(T)});const f=(await Promise.allSettled(Array.from(i.values(),({resolver:m})=>m.promise))).filter(m=>m.status==="rejected"&&!(cs(m.reason)||cV(m.reason)));if(f.length>0)throw new AggregateError(f,"One or more expression executions failed")}_makeContext(t){const[i,r]=this._baseContext,s=this.feature.clone();return s.attributes=t,[{...i,$feature:s},r]}get test(){return{baseContext:this._baseContext}}};g([S()],Xl.prototype,"_asyncExecutors",null),g([S()],Xl.prototype,"_baseContext",null),g([S()],Xl.prototype,"feature",null),g([S({constructOnly:!0})],Xl.prototype,"preserveFieldValuesWhenHidden",void 0),g([S()],Xl.prototype,"executors",void 0),g([S()],Xl.prototype,"fieldInputs",void 0),g([S()],Xl.prototype,"arcadeContextInfo",void 0),Xl=g([Q(pSe)],Xl);const nQ=(e,t,i)=>{if(t.has(e))return;const r=Sa();t.set(e,{resolver:r,dependencyPromises:[]}),e.abort();const s=i.get(e);for(const c of s)nQ(c,t,i),t.get(c).dependencyPromises.push(r.promise)},cV=e=>e&&typeof e=="object"&&"message"in e&&e.message==="Cancelled";let mc=class extends YY{constructor(t){super(t),this._expressionTrackingHandles=new Map,this.type="group"}initialize(){this.addHandles([Ze(()=>[this.visible,this.inputs],([t])=>{const{inputs:i}=this,r=!!t&&void 0;for(const s of i)Id(s)&&(s.required=r)},{initial:!0,equals:(t,i)=>i[0]===t[0]&&i[1]===t[1]})])}destroy(){for(const t of this._expressionTrackingHandles.values())t.remove()}get initialState(){return this.element.initialState||"expanded"}get inputs(){return this._get("inputs")}set inputs(t){this.removeAllHandles(),t&&this.addHandles(t.map(i=>Ze(()=>i.visible,()=>this._dirtyEvaluatedVisibilityExpression()))),this._set("inputs",t)}get label(){return this.element.label}set label(t){const{element:i}=this;i&&(i.label=t)}get open(){return this.initialState==="expanded"}set open(t){this._override("open",t)}get state(){return Su(ke.getLogger(this),"state",{replacement:"open",version:"4.28",warnOnce:!0}),this.open?"expanded":"collapsed"}set state(t){Su(ke.getLogger(this),"state",{replacement:"open",version:"4.28",warnOnce:!0}),this.open=t==="expanded"}get visible(){return this.evaluatedVisibilityExpression!==!1&&this.inputs&&this.inputs.some(t=>t.visible)}_dirtyEvaluatedVisibilityExpression(){const{element:t}=this;t.visibilityExpression&&this.notifyChange("evaluatedVisibilityExpression")}};g([S()],mc.prototype,"initialState",null),g([S()],mc.prototype,"inputs",null),g([S()],mc.prototype,"label",null),g([S()],mc.prototype,"open",null),g([S()],mc.prototype,"type",void 0),g([S()],mc.prototype,"visible",null),mc=g([Q("esri.widgets.FeatureForm.GroupInput")],mc);const fSe=mc,Nx=100;let Ei=class extends ti(dp(ht)){constructor(t){super(t),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:i}=this;i&&i.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:i}=this;i&&i.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:i}=this;i&&i.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const i=new AbortController;this._queryAbortController=i,await ky(this._query()),this._queryAbortController===i&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const i=new AbortController;this._queryFeatureCountAbortController=i,await ky(this._queryFeatureCount()),this._queryFeatureCountAbortController===i&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryPageController=async()=>{const i=new AbortController;this._queryPageAbortController=i,await ky(this._queryPage()),this._queryPageAbortController===i&&(this._queryPageAbortController=null)},this._queryDebounced=ba(this._queryController,Nx),this._queryFeatureCountDebounced=ba(this._queryFeatureCountController,Nx),this._queryPageDebounced=ba(this._queryPageController,Nx),this._query=async()=>{const{_queryAbortController:i,relatedFeatures:r}=this;this.featureCount&&(this._destroyRelatedFeatureViewModels(),this.featurePage=1,r.removeAll(),this.destroyed||r.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:i==null?void 0:i.signal}))))},this.addHandles([Ze(()=>{var i;return[this.displayCount,this.graphic,this.layer,(i=this.layer)==null?void 0:i.loaded,this.map,this.orderByFields,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount]},()=>this._queryDebounced(),Ri),Ze(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageDebounced()),Ze(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountDebounced())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(t){const{featuresPerPage:i,featureCount:r}=this,s=1,c=Math.ceil(r/i)||1;this._set("featurePage",Math.min(Math.max(t,s),c))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:t,relatedLayer:i}=this;return t&&(i!=null&&i.loaded)?t.map(r=>{const s=r.clone();return s.field=SA(r.field,i),s}):t??[]}get supportsCacheHint(){var t,i,r;return!!((r=(i=(t=this.layer)==null?void 0:t.capabilities)==null?void 0:i.queryRelated)!=null&&r.supportsCacheHint)}get canLoad(){return!!this.map&&typeof this.relationshipId=="number"&&typeof this.objectId=="number"}get canQuery(){var i,r;const t=(r=(i=this.layer)==null?void 0:i.capabilities)==null?void 0:r.queryRelated;return!!(this.relatedLayer&&this.relationship&&typeof this.relationshipId=="number"&&typeof this.objectId=="number"&&(t!=null&&t.supportsCount)&&(t!=null&&t.supportsPagination))}get itemDescriptionFieldName(){var t;return((t=this.orderByFieldsFixedCasing[0])==null?void 0:t.field)||null}set displayCount(t){this._set("displayCount",Math.min(Math.max(t,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){var t,i;return(this.objectIdField&&((i=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:i[this.objectIdField]))??null}get objectIdField(){var t;return((t=this.layer)==null?void 0:t.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new it}get relatedLayer(){const{layer:t,map:i,relationship:r}=this;return t!=null&&t.loaded&&i&&r?V4e(i,t,r)??null:null}get relationship(){var r;const{relationshipId:t,layer:i}=this;return typeof t=="number"?((r=i==null?void 0:i.relationships)==null?void 0:r.find(({id:s})=>s===t))??null:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new it}get state(){const{_queryAbortController:t,_queryFeatureCountAbortController:i,_queryPageAbortController:r,canQuery:s,_loaded:c,canLoad:f}=this;return i||f&&!c?"loading":t||r?"querying":s?"ready":"disabled"}getRelatedFeatureByObjectId(t){return this.relatedFeatures.find(i=>i.getObjectId()===t)}refresh(){this._queryFeatureCountDebounced()}_destroyRelatedFeatureViewModels(){var t;(t=this.relatedFeatureViewModels)==null||t.forEach(i=>!i.destroyed&&i.destroy()),this.relatedFeatureViewModels.removeAll()}async _queryFeatureCount(){const{layer:t,relatedLayer:i,relationshipId:r,objectId:s,_queryFeatureCountAbortController:c,canQuery:f,supportsCacheHint:m}=this;if(await(t==null?void 0:t.load()),await(i==null?void 0:i.load()),!f||!t||!i)return void this._set("featureCount",0);const b=i.createQuery(),x=new r2({cacheHint:m,relationshipId:r,returnGeometry:!1,objectIds:[s],where:b.where??void 0}),T=await t.queryRelatedFeaturesCount(x,{signal:c==null?void 0:c.signal});this._set("featureCount",T[s]||0)}_sliceFeatures(t){const{showAllEnabled:i,displayCount:r}=this;return i?t:r?t.slice(0,r):[]}async _queryPage(){const{relatedFeatures:t,featurePage:i,showAllEnabled:r,_queryPageAbortController:s,featureCount:c}=this;!r||i<2||!c||t.addMany(await this._queryRelatedFeatures({signal:s==null?void 0:s.signal}))}async _queryRelatedFeatures(t){var Ae;const{orderByFieldsFixedCasing:i,showAllEnabled:r,featuresPerPage:s,displayCount:c,layer:f,relationshipId:m,featurePage:b,featureCount:x,relatedLayer:T,supportsCacheHint:C}=this,{canQuery:L,objectId:N}=this;if(!L||!f||!T)return[];const D=r?((b-1)*s+x)%x:0,G=r?s:c,q=T.objectIdField,J=[...i.map(Ce=>Ce.field),...Q4e(T),q].filter(Yr),ne=i.map(Ce=>`${Ce.field} ${Ce.order}`),ue=T.createQuery(),ae=new r2({orderByFields:ne,start:D,num:G,outFields:J,cacheHint:C,relationshipId:m,returnGeometry:!1,objectIds:[N],where:ue.where??void 0}),pe=await f.queryRelatedFeatures(ae,{signal:t==null?void 0:t.signal}),ge=((Ae=pe[N])==null?void 0:Ae.features)||[];return ge.forEach(Ce=>{Ce.sourceLayer=T,Ce.layer=T}),ge}};g([S()],Ei.prototype,"_loaded",void 0),g([S()],Ei.prototype,"_queryAbortController",void 0),g([S()],Ei.prototype,"_queryPageAbortController",void 0),g([S()],Ei.prototype,"_queryFeatureCountAbortController",void 0),g([S({value:1})],Ei.prototype,"featurePage",null),g([S()],Ei.prototype,"featuresPerPage",void 0),g([S({readOnly:!0})],Ei.prototype,"orderByFieldsFixedCasing",null),g([S({readOnly:!0})],Ei.prototype,"supportsCacheHint",null),g([S({readOnly:!0})],Ei.prototype,"canLoad",null),g([S({readOnly:!0})],Ei.prototype,"canQuery",null),g([S()],Ei.prototype,"description",void 0),g([S({readOnly:!0})],Ei.prototype,"itemDescriptionFieldName",null),g([S({value:3})],Ei.prototype,"displayCount",null),g([S({type:Dn})],Ei.prototype,"graphic",void 0),g([S()],Ei.prototype,"layer",void 0),g([S()],Ei.prototype,"map",void 0),g([S({readOnly:!0})],Ei.prototype,"objectId",null),g([S({readOnly:!0})],Ei.prototype,"objectIdField",null),g([S()],Ei.prototype,"orderByFields",void 0),g([S({readOnly:!0})],Ei.prototype,"relatedFeatures",null),g([S({readOnly:!0})],Ei.prototype,"relatedLayer",null),g([S({readOnly:!0})],Ei.prototype,"relationship",null),g([S()],Ei.prototype,"featureCount",void 0),g([S({readOnly:!0})],Ei.prototype,"relatedFeatureViewModels",null),g([S()],Ei.prototype,"relationshipId",void 0),g([S()],Ei.prototype,"showAllEnabled",void 0),g([S()],Ei.prototype,"state",null),g([S()],Ei.prototype,"title",void 0),Ei=g([Q("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],Ei);const ySe=Ei,mSe=3;let qi=class extends QY{constructor(t){super(t),this._relationshipVM=null,this.group=null,this.type="relationship",this.addHandles([Ze(()=>({feature:this.feature,element:this.element,layer:this.layer}),i=>this._createRelationshipVM(i),Ri),Zr(()=>this.relatedLayer,"edits",()=>{var i;return(i=this._relationshipVM)==null?void 0:i.refresh()})])}destroy(){var t;(t=this._relationshipVM)==null||t.destroy()}get canAddRelatedFeature(){const{editable:t,featureCount:i,relationship:r}=this;if(!r||!this.loaded||!this.relatedLayerAllowsAdds)return!1;const{cardinality:s,role:c}=r;return!(s==="one-to-one"&&i>0)&&s!=="many-to-many"&&!(s==="one-to-many"&&c==="destination"&&i>0)&&t}get displayCount(){return this.element.displayCount??mSe}get displayType(){return this.element.displayType}get editable(){return!!this.relatedLayerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get featureCount(){var t;return((t=this._relationshipVM)==null?void 0:t.featureCount)??0}get loaded(){var t;return((t=this._relationshipVM)==null?void 0:t.state)!=="loading"}get map(){return this._get("map")}set map(t){var i;t&&((i=this._relationshipVM)==null||i.set("map",t)),this._set("map",t)}get orderByFields(){return this.element.orderByFields}get originHasValidKey(){return!(!this.relationship||!this.feature.getAttribute(this.relationship.keyField))}get relationship(){var t;return(t=this._relationshipVM)==null?void 0:t.relationship}get relationshipId(){return this.element.relationshipId}get relatedFeatureInfos(){var m;const{_relationshipVM:t,timeZone:i}=this;if(!((m=t==null?void 0:t.relatedFeatures)!=null&&m.length)||!(t!=null&&t.relatedLayer))return[];const{itemDescriptionFieldName:r,relatedFeatures:s,relatedLayer:c}=t,f=c&&"formTemplate"in c&&c.formTemplate?c.formTemplate.title:void 0;return s.map(b=>{let x;if(r){const T=b.getAttribute(r),C=c.fieldsIndex.get(r);if(C){const L=KY({values:[T],fields:[C],timeZone:i??void 0})[r];L!=null&&(x=L.toString())}}return{feature:b,description:x,title:f?l2({label:f,attributes:b.attributes,fieldsIndex:c.fieldsIndex,timeZone:i}):void 0}}).toArray()}get relatedLayer(){var t;return(t=this._relationshipVM)==null?void 0:t.relatedLayer}get relatedLayerIsTable(){var t;return!!((t=this.relatedLayer)!=null&&t.isTable)}get relatedLayerAllowsAdds(){var r;const{relatedLayer:t}=this;if(!t||!this.relatedLayerAllowsEdits)return!1;const i=g0(t);return!!((r=i==null?void 0:i.operations)!=null&&r.supportsAdd)}get relatedLayerAllowsEdits(){var r;const{relatedLayer:t}=this;if(!t)return!1;const i=g0(t);return!!((r=i==null?void 0:i.operations)!=null&&r.supportsEditing)}get showAllEnabled(){return this._get("showAllEnabled")}set showAllEnabled(t){var i;(i=this._relationshipVM)==null||i.set("showAllEnabled",t),this._set("showAllEnabled",t)}get showAllActionVisible(){return!this.showAllEnabled&&this.featureCount>0&&this.featureCount>this.displayCount}get visible(){const{relationship:t}=this;if(!t)return!1;const{cardinality:i}=t;return i!=="many-to-many"&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null)}get updating(){var t,i;return((t=this._relationshipVM)==null?void 0:t.state)==="loading"||((i=this._relationshipVM)==null?void 0:i.state)==="querying"}incrementPage(){this._relationshipVM&&this._relationshipVM.featurePage++}getRelatedFeatureByObjectId(t){var i;return(i=this._relationshipVM)==null?void 0:i.getRelatedFeatureByObjectId(t)}_createRelationshipVM(t){var T;const{feature:i,element:r,layer:s}=t;if((T=this._relationshipVM)==null||T.destroy(),!i||!r||!s)return;const{displayCount:c,map:f,orderByFields:m,relationshipId:b,showAllEnabled:x}=this;q2(s)&&(this._relationshipVM=new ySe({graphic:i,displayCount:c,layer:s,map:f,orderByFields:m,relationshipId:b,showAllEnabled:x}))}};g([S()],qi.prototype,"_relationshipVM",void 0),g([S()],qi.prototype,"canAddRelatedFeature",null),g([S()],qi.prototype,"displayCount",null),g([S()],qi.prototype,"displayType",null),g([S()],qi.prototype,"editable",null),g([S()],qi.prototype,"featureCount",null),g([S()],qi.prototype,"group",void 0),g([S()],qi.prototype,"loaded",null),g([S()],qi.prototype,"map",null),g([S()],qi.prototype,"orderByFields",null),g([S()],qi.prototype,"originHasValidKey",null),g([S()],qi.prototype,"relationship",null),g([S()],qi.prototype,"relationshipId",null),g([S()],qi.prototype,"relatedFeatureInfos",null),g([S()],qi.prototype,"relatedLayer",null),g([S()],qi.prototype,"relatedLayerIsTable",null),g([S()],qi.prototype,"relatedLayerAllowsAdds",null),g([S()],qi.prototype,"relatedLayerAllowsEdits",null),g([S()],qi.prototype,"showAllEnabled",null),g([S()],qi.prototype,"showAllActionVisible",null),g([S({readOnly:!0})],qi.prototype,"type",void 0),g([S()],qi.prototype,"visible",null),g([S()],qi.prototype,"updating",null),qi=g([Q("esri.widgets.FeatureForm.RelationshipInput")],qi);const gSe=qi,jx=new Dn({attributes:{}}),vSe=["editableExpression","requiredExpression","valueExpression","visibilityExpression"],bSe=["visibilityExpression"],wSe=["editableExpression","visibilityExpression"],_Se="#JSAPI_CONTINGENT_VALUE_EMPTY_HASH",m1="#JSAPI_CONTINGENT_VALUE_ANY_HASH",SSe="#JSAPI_CONTINGENT_VALUE_NULL_HASH",sQ="esri.widgets.FeatureForm.FeatureFormViewModel",O_=()=>ke.getLogger(sQ);let qt=class extends g2(Ps.EventedAccessor){constructor(t){super(t),this._expressionExecutorsInUse=new Set,this._expressionExecutorLookup=new Map,this._expressionsManager=null,this._contingentValuesCache=null,this._featureClone=jx.clone(),this._initialFeature=jx.clone(),this._timeZone=null,this._updatingHandles=new zc,this.arcadeEditType="NA",this.contingencyConstraintViolations=new Map,this.disabled=!1,this.highlightHelper=null,this.inputs=[],this.map=null,this.relatedRecordCallbacks=null,this.strict=!1}initialize(){const t=Ze(()=>{var s;return[this.layer,!!((s=this.layer)!=null&&s.loaded),this.formTemplate,this.feature,this.timeZone,this.arcadeEditType]},async([s,c])=>{s!=null&&(c?this._updatingHandles.addPromise(this._updateInputs()):s.load().catch(()=>{}))},{equals:([s,c,f,m,b,x],[T,C,L,N,D,G])=>s===T&&c===C&&f===L&&m===N&&b===D&&x===G,initial:!0}),i=Ze(()=>this._arcadeContextInfo,s=>{this._expressionsManager!=null&&(this._expressionsManager.arcadeContextInfo=s,this._updatingHandles.addPromise(this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())))}),r=Ze(()=>this.layer,s=>{const c=(s==null?void 0:s.type)==="subtype-sublayer"?s.parent:(s==null?void 0:s.type)==="feature"?s:null;c&&this.addResolvingPromise(rSe.createLoadedLayerContingentValuesCache(c).then(f=>{this._contingentValuesCache=f,this.notifyChange("fieldsWithContingentValues")}))},{initial:!0});this.addHandles([t,i,r])}destroy(){var t;this.feature=null,this.layer=null,this._contingentValuesCache=tr(this._contingentValuesCache),(t=this.highlightHelper)==null||t.removeAll(),this._updatingHandles.destroy()}get _expressionInfosLookup(){var t,i;return new Map((i=(t=this.formTemplate)==null?void 0:t.expressionInfos)==null?void 0:i.map(r=>[r.name,r]))}get activeRelationshipInput(){return this.allRelationshipInputs.find(t=>t.relationshipId===this.relationshipId)}get _arcadeContextInfo(){const{_initialFeature:t,arcadeEditType:i,layer:r,map:s,spatialReference:c,timeZone:f}=this;return{layer:qb(r)?r:null,originalFeature:t,editType:i,map:s,spatialReference:c,timeZone:f}}get allFieldInputs(){return W4e(this.inputs)}get allGroupInputs(){return this.inputs.filter(Vd)}get allRelationshipInputs(){return q4e(this.inputs)}get _layerFieldsByName(){var t;return new Map((t=this.layer)==null?void 0:t.fields.map(i=>[i.name,i]))}get feature(){return this._get("feature")}set feature(t){this._featureClone=t?t.clone():jx.clone(),this._initialFeature=this._featureClone.clone(),this._expressionsManager&&(this._expressionsManager.feature=this._featureClone),t?(this._resetFieldInputValues(this._featureClone),this.allRelationshipInputs.forEach(i=>i.feature=t)):(this.inputs.forEach(i=>i.destroy()),this.inputs.length=0),this.contingencyConstraintViolations.clear(),this._set("feature",t)}get fieldsWithContingentValues(){if(this._contingentValuesCache==null)return new Set;const t=this._contingentValuesCache.fieldGroups.flatMap(i=>i.fields);return new Set(t)}get fieldsWithInvalidCodedValue(){const t=this.allFieldInputs;return new Set(t.filter(i=>{const{name:r,domain:s,value:c}=i;if((s==null?void 0:s.type)==="coded-value"){const f=this.getFieldValueOptionsForField(r);return c!=null&&c!==""&&!f.flat().some(m=>m.value===c)}return!1}))}get formTemplate(){return this.layer&&"formTemplate"in this.layer?this.layer.formTemplate:null}set formTemplate(t){t===void 0?this._clearOverride("formTemplate"):this._override("formTemplate",t)}get formDescription(){const{formTemplate:t,layer:i}=this;return t!=null&&t.description&&i?l2({label:t.description,attributes:this.getValues(),fieldsIndex:i.fieldsIndex,timeZone:this.timeZone}):null}get formTitle(){const{formTemplate:t,layer:i}=this;return t!=null&&t.title&&i?l2({label:t.title,attributes:this.getValues(),fieldsIndex:i.fieldsIndex,timeZone:this.timeZone}):null}get formHeaderVisible(){const{activeRelationshipInput:t,formDescription:i,formTitle:r}=this;return!(t||!i&&!r)}get joinedContingentValues(){return this._joinContingentValues()}get layer(){var t;return(t=this.feature)!=null&&t.sourceLayer&&"applyEdits"in this.feature.sourceLayer?this.feature.sourceLayer:null}set layer(t){this._override("layer",t)}get relationshipId(){return this._get("relationshipId")}set relationshipId(t){const i=this.allRelationshipInputs;if(t!=null&&t===this.relationshipId||i.forEach(r=>r.showAllEnabled=!1),t!=null){const r=i.find(s=>s.relationshipId===t);r&&(r.showAllEnabled=!0)}this._set("relationshipId",t)}get spatialReference(){var t;return((t=this.layer)==null?void 0:t.spatialReference)??null}set spatialReference(t){this._override("spatialReference",t)}get state(){var t;return(t=this.layer)!=null&&t.loaded?"ready":"disabled"}get submittable(){return!!this.valid||this.allFieldInputs.filter(t=>!t.valid).every(({submittable:t})=>t)}get timeZone(){const{layer:t}=this;if(t&&"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone)return po;const i=t&&"preferredTimeZone"in t&&t.preferredTimeZone;return this._timeZone===w0?i||po:this._timeZone||ku}set timeZone(t){this._timeZone=t}get updating(){return this._updatingHandles.updating}get valid(){const t=this.allFieldInputs;return t.length>0&&t.every(({valid:i})=>i)}get view(){return Su(O_(),"view",{replacement:"FeatureForm.map",version:"4.27"}),this._get("view")}set view(t){Su(O_(),"view",{replacement:"FeatureForm.map",version:"4.27"}),this._set("view",t),t!=null&&t.map&&(this.map=t.map)}findField(t){return this.allFieldInputs.find(i=>i.name===t)}getFieldValueOptionsForField(t,i){var f;const r=this.findField(t);if(!r)return[[],[]];const s=((f=r.domain)==null?void 0:f.type)==="coded-value"?r.domain.codedValues.map(({name:m,code:b})=>({name:m,value:b})):[],c=this.fieldsWithContingentValues.has(t)?this._getContingentValueOptionsForField(t,i):[];if(c.length>0){const m=new Set(c.map(b=>b.value));return[c,s.filter(b=>!m.has(b.value))]}return[s,[]]}getValue(t){const{_featureClone:i,layer:r}=this,s=!!(r!=null&&r.getField(t));return i.getAttribute(t)??(s?null:void 0)}setValue(t,i){const{_featureClone:r,strict:s}=this,c=this.findField(t);i=i===""?null:i,c&&r.getAttribute(t)!==i&&(c.value=i,s&&!c.valid||(this._afterValueChange(c),this._expressionsManager!=null&&this._updatingHandles.addPromise(this._expressionsManager.evaluateInvalidated([c.name]).finally(()=>this._afterExpressionsEvaluated()))))}getValues(){return{...this._featureClone.attributes}}overrideInitialFeature(t){this._initialFeature=t}submit(){const t=this.allFieldInputs,i=new Set(t.filter(c=>c.valid).map(({name:c})=>c)),r=t.filter(c=>!c.valid).map(({name:c})=>c),s=this.getValues();if(this.validateContingencyConstraints(s,{includeIncompleteViolations:!0}).length>0)for(const[c,f]of this.contingencyConstraintViolations.entries())f.type==="error"&&(i.delete(c),r.push(c));this.emit("submit",{valid:[...i],invalid:r,values:s})}validateContingencyConstraints(t,i){const{_contingentValuesCache:r}=this,s=new Map;if(this.contingencyConstraintViolations=s,r==null)return[];const{invalid:c,incomplete:f}=r.validateContingencyConstraints(t),m=[...c,...i!=null&&i.includeIncompleteViolations?f:[]];for(const b of m)for(const x of b.fieldGroup.fields)s.set(x,b);return m}notifyFeatureGeometryChanged(){const{_expressionsManager:t,feature:i,_featureClone:r}=this;r.geometry=i.geometry,t!=null&&this._updatingHandles.addPromise(t.evaluateInvalidatedByGeometry().finally(()=>this._afterExpressionsEvaluated()))}_emitChangeEvent({name:t,valid:i,value:r}){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:t,value:r,valid:i})}async _updateInputs(){this._stopExpressions();const{_featureClone:t,_initialFeature:i,arcadeEditType:r,formTemplate:s,inputs:c,layer:f,timeZone:m}=this;if(!f)return;const b={arcadeEditType:r,feature:t,initialFeature:i,layer:f,timeZone:m},x=c.slice(),T=s!=null&&s.elements&&s.elements.length>0?await this._updateInputsUsingFormElements(x,s.elements,b):this._updateInputsUsingLayerFields(x,f==null?void 0:f.fields,b);this.inputs=T,await this._startExpressions()}async _updateInputsUsingFormElements(t,i,r){const s=new Map;for(const m of t)if(Vd(m)){s.set(m.element,m);for(const b of m.inputs)b.element&&s.set(b.element,b)}else m.element&&s.set(m.element,m);const c=new Map,f=this._updateInputsUsingFormElementsRecursive({existingInputsByElement:s,updatedElements:i.filter(hV),sharedInitializationProperties:r,group:null,newExpressionExecutorPromises:c});for(const[m,b]of s.entries())s.delete(m),b.destroy();return await Promise.all(Array.from(c.values())),f}_updateInputsUsingFormElementsRecursive(t){const{existingInputsByElement:i,updatedElements:r,sharedInitializationProperties:s,group:c,newExpressionExecutorPromises:f}=t,m=[];for(const b of r){const x=i.has(b),T=x?i.get(b):Fx(b)?this._makeGroupInputFromElement(b,s):HY(b)?this._makeFieldInputFromElement(b,s,c):WD(b)?this._makeRelationshipInputFromElement(b,s,c):null;if(T){if(m.push(T),this._assignExpressionExecutors(T,b,f),x)if(i.delete(b),Vd(T)){const{feature:C,timeZone:L}=s;T.set({feature:C,timeZone:L})}else if(qy(T)){const C=this.relationshipId===b.relationshipId;T.set(s),T.set({map:this.map,showAllEnabled:C})}else T.set(s);if(Fx(b)){const C=b.elements.filter(L=>hV(L));T.inputs=this._updateInputsUsingFormElementsRecursive({existingInputsByElement:i,updatedElements:C,sharedInitializationProperties:s,group:T,newExpressionExecutorPromises:f})}}}return m}_updateInputsUsingLayerFields(t,i,r){var C;if(!Array.isArray(i))return O_().warn(this.declaredClass,"No attribute fields found."),[];const s=new Map;for(const L of t)if(Vd(L)){for(const N of L.inputs)N.destroy();L.inputs.length=0,L.destroy()}else qy(L)?L.destroy():Id(L)&&(L.element!==null?L.destroy():s.set(L.field,L));const c=[],{arcadeEditType:f,feature:m,initialFeature:b,layer:x,timeZone:T}=r;for(const L of i){const N=s.get(L)??new tV({arcadeEditType:f,field:L,feature:m,initialFeature:b,layer:x,value:(m==null?void 0:m.getAttribute(L.name))??null,preservesValueWhenHidden:(C=this.formTemplate)==null?void 0:C.preserveFieldValuesWhenHidden,timeZone:T});c.push(N),s.delete(L)}for(const[L,N]of s.entries())s.delete(L),N.destroy();return c}_resetFieldInputValues(t){for(const i of this.allFieldInputs)i.value=t.getAttribute(i.name)}_makeFieldInputFromElement(t,i,r){var C;const{arcadeEditType:s,feature:c,initialFeature:f,layer:m,timeZone:b}=i,{fieldName:x}=t,T=x&&this._layerFieldsByName.get(x);return T?new tV({arcadeEditType:s,element:t,field:T,value:(c==null?void 0:c.getAttribute(t.fieldName))??null,feature:c,initialFeature:f,layer:m,group:r,preservesValueWhenHidden:(C=this.formTemplate)==null?void 0:C.preserveFieldValuesWhenHidden,timeZone:b}):null}_makeGroupInputFromElement(t,i){const{feature:r,layer:s}=i;return new fSe({element:t,inputs:[],feature:r,layer:s})}_makeRelationshipInputFromElement(t,i,r=null){const{map:s}=this,{feature:c,layer:f,timeZone:m}=i,b=new gSe({element:t,feature:c,group:r,layer:f,map:s,timeZone:m});return b.addHandles(Zr(()=>b.relatedLayer,"edits",()=>{var x;return(x=this._expressionsManager)==null?void 0:x.evaluateAsyncExpressions()})),b}_assignExpressionExecutors(t,i,r){var f;const s=Fx(i)?bSe:WD(i)?wSe:vSe,c=[];for(const m of s){const b=`${m}Executor`;if(t[b]){this._useExecutor(t[b]);continue}const x=i[m],{_expressionExecutorLookup:T}=this;if(x!=null&&x!==""){const C=((f=this._expressionInfosLookup.get(x))==null?void 0:f.expression)??x;if(T.has(C))t[b]=this._useExecutor(T.get(C));else if(r.has(C)){const L=r.get(C).then(N=>(t[b]=N,N));r.set(C,L)}else{const L=dSe(C,this.layer).then(N=>(t[b]=this._useExecutor(N),T.set(C,N),N));r.set(C,L)}}}return c}_createExpressionsManager(t){const{_arcadeContextInfo:i,_featureClone:r,allFieldInputs:s,formTemplate:c}=this;this._expressionsManager=new Xl({executors:t,feature:r,arcadeContextInfo:i,fieldInputs:s,preserveFieldValuesWhenHidden:(c==null?void 0:c.preserveFieldValuesWhenHidden)===!0})}async _startExpressions(){if(this._expressionExecutorsInUse.size===0)return;const t=Array.from(this._expressionExecutorsInUse);this._createExpressionsManager(t),await this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())}_stopExpressions(){this._expressionsManager=tr(this._expressionsManager),this._expressionExecutorsInUse.clear()}_useExecutor(t){return this._expressionExecutorsInUse.add(t),t}_afterValueChange(t){var T;const{name:i,value:r}=t,{_featureClone:s,formTemplate:c,layer:f}=this;if(!f)return;const m=s.getAttribute(i);s.setAttribute(i,r);const{typeFieldName:b,types:x}=KM(f);if(i===b&&r!==m){if(f.type==="subtype-sublayer"){const L=(T=f.parent)==null?void 0:T.findSublayerForFeature(s);s.sourceLayer=this.feature.sourceLayer=L}const C=new Set;for(const L of x)if(L.domains&&typeof L.domains=="object")for(const N of Object.keys(L.domains))C.add(N);for(const L of C){const N=this.findField(L);N&&N.notifyChange("domain")}}if(c!=null){const{description:C,title:L}=c;L&&Fb(L,i)&&this.notifyChange("formTitle"),C&&Fb(C,i)&&this.notifyChange("formDescription")}this._emitChangeEvent(t)}_afterExpressionsEvaluated(){const{_featureClone:t}=this;for(const i of this.allFieldInputs)i.value!==t.getAttribute(i.name)&&this._afterValueChange(i)}_joinContingentValues(){const t=this._contingentValuesCache;if(t==null)return[];const{typeFieldName:i}=KM(this.layer),r=i?this.getValue(i):null,s=[];for(const m of t.fieldGroups){const{contingencies:b,fields:x,name:T}=m,C=[];for(const L of b)L.isRetired||L.subtype!=null&&L.subtype.code!==r||C.push({values:L.values});C.length>0&&s.push({name:T,fields:x,contingencies:C})}const[c,f]=this._generateJoinPlan(s);return[...c.flatMap(m=>this._joinFieldGroupContingencies(m)),...f.flatMap(m=>m.contingencies)]}_generateJoinPlan(t){const i=new Map,r=[],s=new Set;for(const x of t)for(const T of x.fields)if(i.has(T)){const C=i.get(T),L=x,N=[C.name,L.name].sort().join("|");if(s.has(N))continue;r.push([C,L]),s.add(N),i.set(T,L)}else i.set(T,x);const c=new Set(r.flat()),f=new Set(t);for(const x of c)f.delete(x);const m=new Map,b=new Map;for(const x of new Set(r.flat())){const T=Symbol(x.name);m.set(T,new Set([x])),b.set(x,T)}for(const[x,T]of r){const C=b.get(x),L=b.get(T);if(C===L)continue;const N=m.get(C),D=m.get(L);for(const G of D)N.add(G),b.set(G,C);m.delete(L)}return[[...m.values()].map(x=>[...x]),[...f]]}_joinFieldGroupContingencies(t){var x,T;const i=t.slice(),r=i.shift();let s=i.shift(),c=this._generateJoinKey(r.fields,s.fields),f=new Set([...r.fields,...s.fields]),m=new Map;for(const C of r.contingencies){const[L]=this._hashContingency(C,c.codedValueFields,!0);m.has(L)?(x=m.get(L))==null||x.push(C):m.set(L,[C])}for(;i.length>0;){const C=new Map,L=i.shift(),N=this._generateJoinKey(f,L.fields);for(const D of s.contingencies){const[G,q]=this._hashContingency(D,c.codedValueFields),J=q?this._findMatchingContingenciesWithAnyHashMask(m,G):m.get(G);if(m.has(m1)&&(J==null||J.push(...this._findMatchingContingenciesContainingAny(D,m.get(m1),c.codedValueFields))),J!=null)for(const ne of J){const ue=c.rangeFields.length>0?this._joinContingenciesWithRangeDomains(ne,D,c.rangeFields):this._joinContingencies(ne,D);if(ue==null)break;const[ae]=this._hashContingency(ue,N.codedValueFields,!0);C.has(ae)?(T=C.get(ae))==null||T.push(ue):C.set(ae,[ue])}}m=C,s=L,c=N,f=new Set([...f,...s.fields])}const b=[];for(const C of s.contingencies){const[L,N]=this._hashContingency(C,c.codedValueFields),D=N?this._findMatchingContingenciesWithAnyHashMask(m,L):m.get(L);if(m.has(m1)&&D.push(...this._findMatchingContingenciesContainingAny(C,m.get(m1),c.codedValueFields)),D!=null)for(const G of D){const q=c.rangeFields.length>0?this._joinContingenciesWithRangeDomains(G,C,c.rangeFields):this._joinContingencies(G,C);q!=null&&b.push(q)}}return b}_joinContingencies(t,i){const r={values:{...t.values,...i.values}};for(const[s,c]of Object.entries(r.values))c.objectType==="any"&&t.values[s]!=null&&(r.values[s]=t.values[s]);return r}_joinContingenciesWithRangeDomains(t,i,r){const s=this._joinContingencies(t,i);for(const c of r){const f=t.values[c],m=i.values[c],{leftIsNull:b,rightIsNull:x,bothAreNull:T,leftIsAny:C,rightIsAny:L,bothAreAny:N,leftIsRange:D,rightIsRange:G}=this._compareObjectTypes(f.objectType,m.objectType);if(T||N)continue;if(b&&L||x&&C){s.values[c]=new $n({objectType:"null"});continue}if(b&&G||x&&D)return null;C?(f.minValue=-1/0,f.maxValue=1/0):L&&(m.minValue=-1/0,m.maxValue=1/0);const q=Math.max(f.minValue,m.minValue),J=Math.min(f.maxValue,m.maxValue);if(q>J)return null;s.values[c]=new $n({objectType:"range",minValue:q,maxValue:J})}return s}_findMatchingContingenciesContainingAny(t,i,r){return i.filter(s=>r.every(c=>{var b,x;const f=s.values[c],m=t.values[c];return f.objectType==="any"||m.objectType==="any"||((b=f.codedValue)==null?void 0:b.code)===((x=m.codedValue)==null?void 0:x.code)}))}_findMatchingContingenciesWithAnyHashMask(t,i){const r=RegExp(`${i}$`),s=[];for(const[c,f]of t){if(c===m1)break;r.test(c)&&s.push(...f)}return s}_generateJoinKey(t,i){var x;const r=Array.isArray(t)?new Set(t):t,s=Array.isArray(i)?new Set(i):i,c=r.size<s.size?r:s,f=c===r?s:r,m=new Set,b=new Set;for(const T of c)if(f.has(T)){const C=(x=this.layer)==null?void 0:x.getFieldDomain(T,{feature:this.feature});if(C==null)continue;switch(C.type){case"coded-value":m.add(T);break;case"range":b.add(T)}}return{codedValueFields:[...m],rangeFields:[...b]}}_contingencyIsValid(t,i){const r={};for(const{name:s,value:c}of this.allFieldInputs)this.fieldsWithContingentValues.has(s)&&c!=null&&s!==t&&(r[s]=c);return Object.entries(r).every(([s,c])=>!i.values.hasOwnProperty(s)||tSe(c,i.values[s]))}_getContingentValueOptionsForField(t,i){const r=this.joinedContingentValues.slice(),s=new Map,c={code:"",name:i??"No value"};for(const f of r){const m=f.values[t];if((m==null?void 0:m.objectType)==="code"||(m==null?void 0:m.objectType)==="null"){const{code:b,name:x}=m.codedValue&&m.objectType!=="null"?m.codedValue:c;!s.has(b)&&this._contingencyIsValid(t,f)&&s.set(b,{name:x,value:b})}}return[...s.values()]}_hashContingency(t,i,r=!1){var f;if(i.length<1)return[_Se,!1];const s=[];let c=!1;for(const m of i){const b=t.values[m];if(b.objectType==="any"){if(r)return[m1,!0];c=!0,s.push(`${m}:.*`)}else b.objectType==="null"?s.push(`${m}:${SSe}`):s.push(`${m}:${(f=b.codedValue)==null?void 0:f.code}`)}return[s.sort().join("&"),c]}_compareObjectTypes(t,i){return{leftIsNull:t==="null",rightIsNull:i==="null",bothAreNull:t==="null"&&i==="null",leftIsAny:t==="any",rightIsAny:i==="any",bothAreAny:t==="any"&&i==="any",leftIsRange:t==="range",rightIsRange:i==="range"}}};function hV(e){return e.type==="field"||e.type==="group"||e.type==="relationship"||(O_().warn("form-info::unsupported-element-type","Only element types 'field', 'group' and 'relationship' are supported",`Element ${e.label} has unsupported type '${e.type}'`),!1)}g([S()],qt.prototype,"_expressionInfosLookup",null),g([S()],qt.prototype,"_featureClone",void 0),g([S()],qt.prototype,"_timeZone",void 0),g([S()],qt.prototype,"activeRelationshipInput",null),g([S()],qt.prototype,"_arcadeContextInfo",null),g([S()],qt.prototype,"allFieldInputs",null),g([S()],qt.prototype,"allGroupInputs",null),g([S()],qt.prototype,"allRelationshipInputs",null),g([S()],qt.prototype,"_layerFieldsByName",null),g([S()],qt.prototype,"arcadeEditType",void 0),g([S()],qt.prototype,"contingencyConstraintViolations",void 0),g([S()],qt.prototype,"disabled",void 0),g([S()],qt.prototype,"feature",null),g([S()],qt.prototype,"fieldsWithContingentValues",null),g([S()],qt.prototype,"fieldsWithInvalidCodedValue",null),g([S({type:JJ})],qt.prototype,"formTemplate",null),g([S()],qt.prototype,"formDescription",null),g([S()],qt.prototype,"formTitle",null),g([S()],qt.prototype,"formHeaderVisible",null),g([S()],qt.prototype,"highlightHelper",void 0),g([S()],qt.prototype,"inputs",void 0),g([S()],qt.prototype,"joinedContingentValues",null),g([S()],qt.prototype,"layer",null),g([S()],qt.prototype,"map",void 0),g([S()],qt.prototype,"relatedRecordCallbacks",void 0),g([S()],qt.prototype,"relationshipId",null),g([S()],qt.prototype,"spatialReference",null),g([S()],qt.prototype,"state",null),g([S()],qt.prototype,"strict",void 0),g([S()],qt.prototype,"submittable",null),g([S()],qt.prototype,"timeZone",null),g([S()],qt.prototype,"updating",null),g([S()],qt.prototype,"valid",null),g([S()],qt.prototype,"view",null),g([S()],qt.prototype,"getValues",null),g([S()],qt.prototype,"submit",null),qt=g([Q(sQ)],qt);const TA=qt;function mm({level:e,class:t,...i},r){const s=oQ(e);return ee(`h${s}`,{...i,"aria-level":String(s),class:x0(Ht.heading,t),role:"heading"},r)}function oQ(e){return Rn(Math.ceil(e),1,6)}function Mb(e,t=1){return oQ(e+t)}function IA(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,r=Array.isArray(e)?e:$Se(e);i.push(...r)}}function $Se(e){return e.split(",").map(t=>t.trim())}const Vp="data-field-name";let ur=class extends rh{constructor(t,i){super(t,i),this._attemptFocusOnNextRender=!1,this._dateComponentMap=new Map,this._inputsWithChanges=new Set,this._focusedFieldName=null,this._listObserverNode=null,this._listObserver=new IntersectionObserver(r=>{r.length&&r[0].isIntersecting&&this._incrementRelatedRecordPage()},{root:window.document}),this.groupDisplay="all",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesFeature=null,this.messagesTemplates=null,this.viewModel=new TA,this._onShowAllRelatedRecordsClick=r=>{const{feature:s,relatedRecordCallbacks:c}=this;s&&(c!=null&&c.showAllRelatedRecords)&&c.showAllRelatedRecords({parentFeature:s,relationshipId:r})},this._onAddRelatedRecordsClick=(r,s)=>{const{feature:c,relatedRecordCallbacks:f}=this;c&&(f!=null&&f.addRelatedRecord)&&f.addRelatedRecord({parentFeature:c,relatedLayer:s,relationshipId:r})},this._activeCombobox=null,this._activeComboboxClosedByWorkaround=!1,this._onFormKeyDown=this._onFormKeyDown.bind(this),this._onFormSubmit=this._onFormSubmit.bind(this),this._onGroupToggle=this._onGroupToggle.bind(this),this._onComponentBlur=this._onComponentBlur.bind(this),this._onComponentFocus=this._onComponentFocus.bind(this),this._onComponentKeyDown=this._onComponentKeyDown.bind(this),this._afterComponentCreate=this._afterComponentCreate.bind(this),this._afterComponentCreateOrUpdate=this._afterComponentCreateOrUpdate.bind(this),this._afterDateComponentCreate=this._afterDateComponentCreate.bind(this),this._afterDateComponentCreateOrUpdate=this._afterDateComponentCreateOrUpdate.bind(this),this._afterRadioGroupCreateOrUpdate=this._afterRadioGroupCreateOrUpdate.bind(this),this._onComboboxOpen=this._onComboboxOpen.bind(this),this._onComboboxClose=this._onComboboxClose.bind(this),this.onScroll=this.onScroll.bind(this)}initialize(){this.addHandles([Ze(()=>this.feature,()=>{this._inputsWithChanges.clear(),this._dateComponentMap.clear(),Fn(()=>!this.viewModel.updating).then(()=>{const t=this._getFocusableInput("forward");this._syncGroupInputStates(),this._focusedFieldName=(t==null?void 0:t.name)||null,this._attemptFocusOnNextRender=!0})}),Ze(()=>this.groupDisplay,()=>this._syncGroupInputStates()),this.on("submit",t=>{if(t.invalid.length>0){const[i]=t.invalid;t.invalid.forEach(r=>this._inputsWithChanges.add(r)),this._focusedFieldName=i,this._attemptFocusOnNextRender=!0,this.scheduleRender()}}),Ze(()=>[this.viewModel.activeRelationshipInput,this._listObserverNode],()=>this._onObserverChange())])}loadDependencies(){return Fs({block:()=>te(()=>import("./calcite-block-DxySUjck.js"),__vite__mapDeps([182,183,181,180,184,185,186,187,188,189,190,191,192,193,194,179,195,196,197,198,199,200,201,202])),button:()=>te(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([203,204,205,180,184,206,194,189,185,186,181,187,179,195])),combobox:()=>te(()=>import("./calcite-combobox-BNaERb7c.js"),__vite__mapDeps([207,208,209,210,192,180,191,205,184,206,194,189,185,186,181,190,187,211,212,213,179,214,183,215])),"combobox-item":()=>te(()=>import("./calcite-combobox-item-vFn6F153.js"),__vite__mapDeps([216,214,183,181,180,184,212,194,179])),"combobox-item-group":()=>te(()=>import("./calcite-combobox-item-group-BaN8TBvV.js"),__vite__mapDeps([217,218,180,212])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),input:()=>te(()=>import("./calcite-input-DnrPXp_3.js"),__vite__mapDeps([219,220,180,205,184,186,206,194,189,185,181,187,211,221,179,215,222])),"input-date-picker":()=>te(()=>import("./calcite-input-date-picker-Ba5_7ni8.js"),__vite__mapDeps([223,185,180,186,181,191,192,205,184,206,194,189,190,187,188,179,199,211,221,215,224,222])),"input-message":()=>te(()=>import("./calcite-input-message-ktWFDTSj.js"),__vite__mapDeps([225,215,180,179,181])),"input-number":()=>te(()=>import("./calcite-input-number-RS_t--Iy.js"),__vite__mapDeps([226,227,180,205,184,186,206,194,189,185,181,187,211,221,179,215,222])),"input-time-picker":()=>te(()=>import("./calcite-input-time-picker-vAI2ySnd.js"),__vite__mapDeps([228,205,180,184,186,206,194,189,185,181,199,187,229,179,211,221,193,195,215,224,222,198,191,192,190,188,200])),"input-time-zone":()=>te(()=>import("./calcite-input-time-zone-0hPKU3Ue.js"),__vite__mapDeps([230,206,180,194,184,185,186,181,187,189,205,213,179,208,209,210,192,191,190,211,212,214,183,215,218])),label:()=>te(()=>import("./calcite-label-D93hjYEn.js"),__vite__mapDeps([231,206,180,194])),list:()=>te(()=>import("./calcite-list-D463cNQk.js"),__vite__mapDeps([232,180,184,181,233,234,189,187,185,186,210,192,179,220,205,206,194,211,221,215,222,195,202])),"list-item":()=>te(()=>import("./calcite-list-item-48qnNiBd.js"),__vite__mapDeps([235,180,184,185,186,181,187,189,234,233,193,194,179,195,201])),loader:()=>te(()=>import("./calcite-loader-Dt8Lxnnv.js"),__vite__mapDeps([236,195,180,185,186,181])),notice:()=>te(()=>import("./calcite-notice-le1pOBrg.js"),__vite__mapDeps([237,183,181,180,189,185,186,187,190,194,179])),"radio-button":()=>te(()=>import("./calcite-radio-button-r-YlYtsD.js"),__vite__mapDeps([238,197,180,205,184,206,194,189])),"radio-button-group":()=>te(()=>import("./calcite-radio-button-group-DXqMDzWN.js"),__vite__mapDeps([239,181,180,189,211,179,215])),switch:()=>te(()=>import("./calcite-switch-Qj7GNGrH.js"),__vite__mapDeps([240,241,180,205,184,186,206,194,189])),"text-area":()=>te(()=>import("./calcite-text-area-FGP97tlb.js"),__vite__mapDeps([242,205,180,206,194,185,186,181,189,187,184,211,221,179,215,243,192]))})}destroy(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode)}get _relatedRecordsEnabled(){const t=this.relatedRecordCallbacks;return!(!t||!(t.addRelatedRecord||t.editRelatedRecord||t.showAllRelatedRecords))}get disabled(){return this.viewModel.disabled}set disabled(t){this.viewModel.disabled=t}get feature(){return this.viewModel.feature}set feature(t){this.viewModel.feature=t}get formTemplate(){return this.viewModel.formTemplate}set formTemplate(t){this.viewModel.formTemplate=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get map(){return this.viewModel.map}set map(t){this.viewModel.map=t}get relatedRecordCallbacks(){return this.viewModel.relatedRecordCallbacks}set relatedRecordCallbacks(t){this.viewModel.relatedRecordCallbacks=t}get relationshipId(){return this.viewModel.relationshipId}set relationshipId(t){this.viewModel.relationshipId=t}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(t){this.viewModel.spatialReference=t}get strict(){return this.viewModel.strict}set strict(t){this.viewModel.strict=t}get timeZone(){return this.viewModel.timeZone}set timeZone(t){this.viewModel.timeZone=t}get view(){return Su(ke.getLogger(this),"view",{replacement:"Use FeatureForm.map instead.",version:"4.27"}),this.viewModel.view}set view(t){Su(ke.getLogger(this),"view",{replacement:"Use FeatureForm.map instead.",version:"4.27"}),this.viewModel.view=t}getValues(){return this.viewModel.getValues()}submit(){return this.viewModel.submit()}render(){const{state:t}=this.viewModel;return ee("div",{class:this.classes(Pi.base,Ht.widget,Ht.panel),onscroll:this.onScroll},t==="ready"?this._renderForm():null)}_renderForm(){return ee("form",{class:Pi.form,novalidate:!0,onkeydown:this._onFormKeyDown,onsubmit:this._onFormSubmit},this._renderHeader(),this._renderContent())}_renderHeader(){const t=this.viewModel;if(!t.formHeaderVisible)return;const i=t.formTitle!=null&&ee(mm,{key:"title",level:this.headingLevel},t.formTitle),r=t.formDescription!=null&&ee("p",{class:Pi.description,key:"description"},t.formDescription);return ee("div",{class:Pi.formHeader},i,r)}_renderContent(){const{viewModel:t}=this;return t.activeRelationshipInput?this._renderActiveRelationshipInput(t.activeRelationshipInput):t.inputs.filter(Yr).filter(i=>i.visible).map((i,r)=>Vd(i)?this._renderGroup(i,r):Id(i)?this._renderLabeledField(i):qy(i)?this._renderRelationshipInput(i):void 0)}_renderActiveRelationshipInput(t){return this._renderRelationshipInput(t)}_renderDescriptionOrEmpty(t,i){return t==null?null:ee("div",{class:this.classes(Pi.description),id:i},t)}_renderGroup(t,i){const{disabled:r,formTemplate:s,headingLevel:c}=this,{description:f,inputs:m,label:b,open:x}=t,T=m.filter(G=>G.visible),C=this.viewModel.findField(this._focusedFieldName),L=(C==null?void 0:C.group)===t,N=`${this.id}_group_${i}`,D=this.groupDisplay==="sequential";return ee("calcite-block",{class:this.classes(Pi.group,D?Pi.groupSequential:null,L?Pi.groupActive:null,r?Pi.inputDisabled:null),collapsible:!0,"data-group":t,description:f||void 0,disabled:r,heading:`${b}`,headingLevel:s!=null&&s.title?Mb(c):c,id:N,key:N,open:x,onCalciteBlockToggle:({target:G})=>this._onGroupToggle(G,t)},T.map(G=>Id(G)?this._renderLabeledField(G):qy(G)?this._renderRelationshipInput(G):void 0))}_getFocusableInput(t,i){const r=this.viewModel.allFieldInputs,s=t==="forward"?r:r.slice().reverse();let c;if(!i||qy(i))c=0;else if(Vd(i)){const f=i.inputs.find(Id);c=f?s.indexOf(f):0}else{let f;if(Px(i)&&!i.group.open){const m=i.group.inputs.filter(Id);f=t==="forward"?m[m.length-1]:m[0]}else f=i;c=s.indexOf(f)+1}for(let f=c;f<s.length;f++){const m=s[f];if(m.visible&&Id(m))return m}return null}_renderLabeledField(t){var x;const{dataType:i,feature:r,label:s,layer:c,required:f}=t,m={"aria-label":f?jc(this.messages.requiredFieldLabel,{name:s}):s,class:Pi.label,key:`${c.id}-${r.uid}-${t.name}`},b=[ee("div",{class:Pi.labelTextContent,key:"labelTextContainer"},s,f?ee("span",{"aria-hidden":"true",title:this.messagesCommon.required},"*"):void 0),i!=="unsupported"?this._renderFieldInput(t):this._renderReadOnlyComponent(t),this._renderAuxiliaryText(t)];return i==="date"&&((x=t.domain)==null?void 0:x.type)!=="coded-value"?ee("label",{...m},b):ee("calcite-label",{...m},b)}_renderFieldInput(t){const{dataType:i,domain:r,inputType:s,name:c}=t,f=this.getCommonInputProps(t);if((r==null?void 0:r.type)==="coded-value"){const m=this.viewModel.getFieldValueOptionsForField(c,this.messages.empty);return s!=="switch"||t.hasInvalidSwitchValue?s==="radio-buttons"?this._renderRadioButtonComponents(t,m.flat(),f):this._renderComboBoxComponent(t,m,f):this._renderSwitchComponent(t,f)}return s==="datetime-picker"||i==="date"?this._renderDateComponents(t,f):i==="number"?this._renderNumberComponent(t,f):this._renderStringComponent(t,f)}_renderStringComponent(t,i){return t.inputType==="text-area"?i.readOnly?ee("calcite-input",{...i,loading:t.updating,type:"textarea",onCalciteInputInput:r=>this._saveValueFromComponent(r.target)}):ee("calcite-text-area",{...i,resize:"vertical",onCalciteTextAreaInput:r=>this._saveValueFromComponent(r.target)}):ee("calcite-input",{...i,loading:t.updating,type:"text",onCalciteInputInput:r=>this._saveValueFromComponent(r.target)})}_renderNumberComponent(t,i){return ee("calcite-input-number",{...i,integer:Jpe(t.field),loading:t.updating,type:"number",onCalciteInputNumberInput:r=>this._saveValueFromComponent(r.target)})}_renderDateComponents(t,i){const{field:r}=t;switch(r.type){case"date":return this._renderDateFieldComponents(t,i);case"date-only":return this._renderDateOnlyFieldComponent(t,i);case"time-only":return this._renderTimeOnlyFieldComponent(t,i);case"timestamp-offset":return this._renderTimestampOffsetFieldComponents(t,i);default:return this._renderReadOnlyComponent(t,TB(r,i.value,{timeZone:this.timeZone,...tC(r)}))}}_renderDateOnlyFieldComponent(t,i){const{range:r,valid:s,value:c}=t,{class:f,key:m,readOnly:b}=i,{rawMax:x,rawMin:T}=r;return ee("calcite-input-date-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!s,class:f,"data-date-part":"date","data-field-name":i[Vp],key:`${m}-date-input`,max:sm(x)?x:void 0,min:sm(T)?T:void 0,numberingSystem:lv,onblur:C=>{this._focusedFieldName=null,this._saveValueFromDateComponent(C.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:b,value:c!=null?`${c}`:void 0,onCalciteInputDatePickerChange:C=>this._saveValueFromDateComponent(C.target)})}_renderTimeOnlyFieldComponent(t,i){const{valid:r,value:s}=t,{class:c,key:f,readOnly:m}=i;return ee("calcite-input-time-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!r,class:c,"data-date-part":"time","data-field-name":i[Vp],key:`${f}-time-input`,numberingSystem:lv,onblur:b=>{this._focusedFieldName=null,this._saveValueFromDateComponent(b.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:m,step:t.timeStep,value:s!=null?`${s}`:void 0,onCalciteInputTimePickerChange:b=>this._saveValueFromDateComponent(b.target)})}_renderTimestampOffsetFieldComponents(t,i){const{name:r,range:s,timeZone:c,valid:f,value:m}=t,{class:b,key:x,readOnly:T}=i,{rawMax:C,rawMin:L}=s,N={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!f,numberingSystem:lv,overlayPositioning:"fixed",readOnly:T,[Vp]:r,onfocus:this._onComponentFocus},D=R5(C,c),G=R5(L,c),q=R5(m,c);return ee("div",{class:Pi.dateInputContainer,key:`${x}-date-time-container`},ee("calcite-input-date-picker",{...N,class:b,"data-date-part":"date",key:`${x}-date-input`,max:(D==null?void 0:D.date)??void 0,min:(G==null?void 0:G.date)??void 0,onblur:J=>{this._focusedFieldName=null,this._saveValueFromDateComponent(J.target)},value:q.date??void 0,onCalciteInputDatePickerChange:J=>this._saveValueFromDateComponent(J.target)}),ee("calcite-input-time-picker",{...N,class:b,"data-date-part":"time",key:`${x}-time-input`,onblur:J=>{this._focusedFieldName=null,this._saveValueFromDateComponent(J.target)},step:t.timeStep,value:q.time??void 0,onCalciteInputTimePickerChange:J=>this._saveValueFromDateComponent(J.target)}),t.includeTimeOffset?ee("calcite-input-time-zone",{...N,class:b,"data-date-part":"timeZone",disabled:T,key:`${x}-timezone-input`,onblur:J=>{this._focusedFieldName=null,this._saveValueFromDateComponent(J.target)},value:q.timeZoneOffset??"0",onCalciteInputTimeZoneChange:J=>this._saveValueFromDateComponent(J.target)}):null)}_renderDateFieldComponents(t,i){const{includeTime:r,name:s,valid:c,value:f}=t,{class:m,key:b,max:x,min:T,readOnly:C}=i,{timeZone:L}=this,N={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!c,numberingSystem:lv,overlayPositioning:"fixed",readOnly:C,[Vp]:s,onfocus:this._onComponentFocus},D=Y6(f,L),G=Y6(x,L),q=Y6(T,L);return ee("div",{class:Pi.dateInputContainer,key:`${b}-date-time-container`},ee("calcite-input-date-picker",{...N,class:m,"data-date-part":"date",key:`${b}-date-input`,max:(G==null?void 0:G.date)??void 0,min:(q==null?void 0:q.date)??void 0,onblur:J=>{this._focusedFieldName=null,this._saveValueFromDateComponent(J.target)},value:D.date??void 0,onCalciteInputDatePickerChange:J=>this._saveValueFromDateComponent(J.target)}),r?ee("calcite-input-time-picker",{...N,class:m,"data-date-part":"time",key:`${b}-time-input`,onblur:J=>{this._focusedFieldName=null,this._saveValueFromDateComponent(J.target)},step:1,value:D.time??void 0,onCalciteInputTimePickerChange:J=>this._saveValueFromDateComponent(J.target)}):null)}_renderReadOnlyComponent(t,i){const r=this.getCommonInputProps(t);return ee("calcite-input",{...r,class:this.classes(Pi.fieldInput,Pi.inputDisabled),readOnly:!0,type:"text",value:i!=null?`${i}`:r.value})}_renderComboBoxComponent(t,i,r){const{value:s,name:c}=t,{messages:f,messagesTemplates:m,viewModel:b,_inputsWithChanges:x}=this,T=i.map(ne=>ne.map(({name:ue,value:ae})=>ee("calcite-combobox-item",{key:`#${ae}`,selected:s===ae,textLabel:ue,value:`${ae}`}))),[C,L]=T;this.viewModel.fieldsWithInvalidCodedValue.has(t)&&L.unshift(ee("calcite-combobox-item",{key:"incompatible-option",readOnly:!0,textLabel:`${t.value}`,value:`${t.value}`}));const N=L.length>0?[ee("calcite-combobox-item-group",{key:"recommended",label:f.recommended},C),ee("calcite-combobox-item-group",{key:"other",label:m.other},L)]:C,D=b.arcadeEditType==="INSERT",G=x.has(c),q=s==null&&(!D||G);t.showNoValueOptionEnabled&&N.unshift(ee("calcite-combobox-item",{key:"empty-option",selected:q,textLabel:t.showNoValueLabel||f.empty,value:""}));const J=D&&t.showNoValueOptionEnabled&&!G?()=>{}:r.onblur;return ee("calcite-combobox",{...r,allowCustomValues:!1,clearDisabled:!0,disabled:r.readOnly,onblur:J,overlayPositioning:"fixed",selectionMode:"single",onCalciteComboboxBeforeOpen:this._onComboboxOpen,onCalciteComboboxChange:({target:ne})=>{q&&ne.selectedItems.length===0?this._ignoreDeselectionOfNoValueOption(ne):this._saveValueFromComponent(ne)},onCalciteComboboxClose:this._onComboboxClose},N)}_renderRadioButtonComponents(t,i,r){const{name:s,value:c}=t,f=i.map(({name:m,value:b})=>this._renderRadioButtonComponent({key:m,label:m,name:s,value:b,selected:b===c,props:r}));if(t.showNoValueOptionEnabled){const m="",b=t.showNoValueLabel||this.messages.empty,x=c===m||c===null;f.unshift(this._renderRadioButtonComponent({key:"empty-option",label:b,name:s,value:m,selected:x,props:r}))}return ee("calcite-radio-button-group",{afterCreate:this._afterRadioGroupCreateOrUpdate,afterUpdate:this._afterRadioGroupCreateOrUpdate,class:Pi.inputRadioGroup,"data-field-name":r[Vp],key:`${r.key}-radio-group`,layout:"vertical",name:r.key,required:r.required},f)}_renderSwitchComponent(t,i){const{value:r}=t,s=!!T0(t.element,"switch")&&r===t.element.input.onValue;return ee("calcite-switch",{...i,checked:s,class:Pi.inputSwitch,disabled:i.readOnly,onblur:()=>{this._focusedFieldName=null},onCalciteSwitchChange:c=>this._saveValueFromComponent(c.target)})}_renderRadioButtonComponent({key:t,name:i,value:r,selected:s,label:c,props:f}){return ee("calcite-label",{class:Pi.inputRadioLabel,key:t,layout:"inline"},ee("calcite-radio-button",{...f,afterCreate:void 0,afterUpdate:void 0,checked:s,class:Pi.inputRadio,disabled:f.readOnly,name:i,onblur:()=>{this._focusedFieldName=null},value:r,onCalciteRadioButtonChange:({target:m})=>{m.checked&&this._saveValueFromComponent(m)}}),c)}_renderAuxiliaryText(t){const i=t.name,r=this._inputsWithChanges.has(i)&&!t.valid?K4e(t,this.messages,this.timeZone):this.viewModel.contingencyConstraintViolations.get(i)!=null?this.messages.validationErrors.valuesIncompatible:t.valueExpressionExecutor!=null&&t.valueExpressionExecutor.stale?this.messages.valueExpressionError:null;return r!=null?ee("calcite-input-message",{icon:!0,status:"invalid"},r):this._renderDescriptionOrEmpty(t.description)}_renderShowAllRelatedRecordsListItem(t){const{featureCount:i,relationshipId:r,showAllActionVisible:s}=t,{relatedRecordCallbacks:c}=this;if(!s||!(c!=null&&c.showAllRelatedRecords))return;const f=this.messages;return ee("calcite-list-item",{description:jc(f.totalCount,{count:i}),label:f.showAll,value:!0,onCalciteListItemSelect:()=>this._onShowAllRelatedRecordsClick(r)},ee("calcite-icon",{icon:"list",scale:"s",slot:"content-end"}))}_renderAddRelatedRecordButton(t){const{canAddRelatedFeature:i,relationshipId:r,relatedLayer:s}=t,{messages:c,relatedRecordCallbacks:f}=this;if(i&&(f!=null&&f.addRelatedRecord)&&s)return ee("calcite-button",{alignment:"center",appearance:"outline-fill",class:Pi.centeredButton,disabled:t.updating||!t.originHasValidKey,iconStart:"plus",key:`${r}-add-button`,onclick:()=>{!t.updating&&t.originHasValidKey&&this._onAddRelatedRecordsClick(r,s)},round:!0,scale:"s",width:"half"},t.relatedLayerIsTable?c.addRecord:c.addFeature)}_renderRelatedRecordListItem(t,i){const{feature:r,description:s,title:c}=t,{feature:f,relatedRecordCallbacks:m}=this,{highlightHelper:b}=this.viewModel,x=()=>{b==null||b.removeAll(),m!=null&&m.editRelatedRecord&&f&&m.editRelatedRecord({parentFeature:f,relationshipId:i,relatedFeature:r})},T=b?()=>b.add(r):void 0,C=b?()=>b.remove(r):void 0;return ee("calcite-list-item",{bind:this,description:s,key:`${i}-${r.uid}`,label:c,onclick:x,onmouseenter:T,onmouseleave:C,value:c},ee("calcite-icon",{icon:Y4e(r),scale:"m",slot:"content-start"}),ee("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderRelationshipInput(t){if(!this._relatedRecordsEnabled||!t.editable)return;const{featureCount:i,relationshipId:r,showAllEnabled:s}=t,c=s?null:this._renderDescriptionOrEmpty(t.description),f=i>0?this._renderRelatedRecordsList(t):t.loaded?t.originHasValidKey?this._renderNoRelatedRecordsNotice():this._renderNoValidOriginKeyNotice(t):void 0;return ee("calcite-label",{class:this.classes(Pi.label,Pi.relatedRecordsLabel),key:`relationship-${r}-container`},ee("div",null,this._renderRelatedRecordsHeaderContainer(t),c,f),this._renderAddRelatedRecordButton(t))}_renderRelatedRecordsHeaderContainer(t){var r;const i=t.updating||!t.loaded;return ee("div",{class:Pi.relatedRecordsHeader,key:`relationship-${t.relationshipId}-header`},ee("span",null,t.label),i?ee("calcite-loader",{inline:!0,key:"loader",label:(r=this.messagesCommon)==null?void 0:r.loading,scale:"s",type:"indeterminate"}):void 0)}_renderRelatedRecordsList(t){const{relationshipId:i}=t;return ee("calcite-list",{class:Pi.relatedRecordsList},t.relatedFeatureInfos.map(r=>this._renderRelatedRecordListItem(r,i)),this._renderShowAllRelatedRecordsListItem(t),this._renderObserverNode())}_renderNoValidOriginKeyNotice(t){var x,T,C;const{messages:i}=this,r=t.relatedLayerIsTable?i.noOriginKeyRecord:i.noOriginKeyFeature,s=(x=t.relationship)==null?void 0:x.keyField,c=this.viewModel.findField(s),f=(T=t.layer)==null?void 0:T.fieldsIndex.get(s),m=(c==null?void 0:c.label)||(f==null?void 0:f.alias)||s,b=jc(r,{relatedLayerName:(C=t.relatedLayer)==null?void 0:C.title,originKeyField:m});return ee("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},ee("div",{slot:"message"},b))}_renderNoRelatedRecordsNotice(){return ee("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},ee("div",{slot:"message"},this.messagesFeature.noRelatedFeatures))}_renderObserverNode(){var t;if((t=this.viewModel.activeRelationshipInput)!=null&&t.showAllEnabled)return ee("div",{afterCreate:this._afterListObserverCreated,afterRemoved:this._afterListObserverRemoved,bind:this,class:Pi.listObserver,key:"feature-observer"})}getCommonInputProps(t){const{disabled:i}=this,{editable:r,hint:s,label:c,maxLength:f,minLength:m,name:b,range:{max:x,min:T},required:C,valid:L,value:N}=t,D=this._inputsWithChanges.has(b),G=!r||i;return{afterCreate:this._afterComponentCreate,afterUpdate:this._afterComponentCreateOrUpdate,"aria-invalid":L?"false":"true",class:this.classes(Pi.fieldInput,G?Pi.inputDisabled:null,D&&!L?Pi.inputInvalid:null),key:b,label:c,max:x??void 0,min:T??void 0,maxLength:f>-1?f:void 0,minLength:m>-1?m:void 0,placeholder:s??void 0,readOnly:G,required:C,value:N==null?"":`${N}`,onblur:this._onComponentBlur,onfocus:this._onComponentFocus,onkeydown:this._onComponentKeyDown,[Vp]:b}}_getFieldInputFromHTMLElement(t){return this.viewModel.findField(t.getAttribute(Vp))}_afterDateComponentCreate(t){const i=this._getFieldInputFromHTMLElement(t),r=t.dataset.datePart,s=this._dateComponentMap.get(i.name);if("valueAsDate"in t&&t.value!=null){const c=t.value,f=new ResizeObserver(()=>{t.value=void 0,t.value=c,f.unobserve(t)});f.observe(t)}if(s!=null)switch(r){case"date":s.date=t;break;case"time":s.time=t;break;case"timeZone":s.timeZone=t}else this._dateComponentMap.set(i.name,{[r]:t});this._afterDateComponentCreateOrUpdate(t)}_afterDateComponentCreateOrUpdate(t){this._afterComponentCreateOrUpdate(t)}_afterComponentCreate(t){const i=this._getFieldInputFromHTMLElement(t);B4e(i)&&t.value!=null&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"}),this._afterComponentCreateOrUpdate(t)}_afterRadioGroupCreateOrUpdate(t){const i=t.selectedItem,r=t.querySelector("calcite-radio-button"),s=i||r;s&&this._afterComponentCreateOrUpdate(s)}_afterComponentCreateOrUpdate(t){const{viewModel:i}=this,r=this._getFieldInputFromHTMLElement(t),s=i.findField(this._focusedFieldName);this._attemptFocusOnNextRender&&s===r&&(this._attemptFocusOnNextRender=!1,Px(r)&&(r.group.open=!0),t.setFocus())}_onComponentFocus(t){const i=t.target,r=this._getFieldInputFromHTMLElement(i);this._focusedFieldName=r.name}_onComponentBlur(t){const i=t.target;this._focusedFieldName=null,this._saveValueFromComponent(i)}_saveValueFromDateComponent(t){const{timeZone:i}=this,r=this._getFieldInputFromHTMLElement(t),s=r.field.type,{name:c,range:f}=r,m=this._dateComponentMap.get(c);if(!m)return;let b=this.viewModel.getValue(c),x=null;s==="date-only"?x=t.value:s==="time-only"?(b=ET(b),x=ET(t.value)):x=s==="timestamp-offset"?t.value!=null?hpe({dateComponent:m.date,timeComponent:m.time,timeZoneComponent:m.timeZone,oldValue:b,defaultTimeZone:i}):null:t.value!=null?dpe({oldValue:b,dateComponent:m.date,timeComponent:m.time,timeZone:i,max:f.max,min:f.min}):null,x!==null&&t.value?b!==x&&this._updateFieldValue(c,x):this._updateFieldValue(c,null)}_saveValueFromComponent(t){const i=this._getFieldInputFromHTMLElement(t);this._updateFieldValue(i.name,this._parseValue(t))}_onComponentKeyDown({key:t,target:i}){const r=this._getFieldInputFromHTMLElement(i);t==="Enter"&&Px(r)&&!r.group.open&&(r.group.open=!0)}_updateFieldValue(t,i){if(this.viewModel.setValue(t,i),this._inputsWithChanges.add(t),this.viewModel.fieldsWithContingentValues.has(t)){const r=Object.fromEntries(Object.entries(this.getValues()).filter(([s,c])=>c!=null));this.viewModel.validateContingencyConstraints(r)}}_parseValue(t){const i=this._getFieldInputFromHTMLElement(t),r=t.value;return T0(i.element,"switch")?t.checked?i.element.input.onValue:i.element.input.offValue:r==null||r===""?null:i.dataType==="number"?r==="-0"||r==="-0."||r==="-0,"?r:parseFloat(r):i.field.type==="date"?parseFloat(r):r}_ignoreDeselectionOfNoValueOption(t){const{firstChild:i,selectedItems:r}=t;r.length===0&&i&&"selected"in i?i.selected=!0:ke.getLogger(this).warnOnce("Failed to override user attempt to deselect 'No value' option.")}_onGroupToggle(t,i){var r;t.open?(i.open=!0,this._focusedFieldName=((r=this._getFocusableInput("forward",i))==null?void 0:r.name)||null,this._attemptFocusOnNextRender=!0,this.groupDisplay==="sequential"&&this.viewModel.allGroupInputs.forEach(s=>{s!==i&&(s.open=!1)})):i.open=!1,this.scheduleRender()}_onFormSubmit(t){t.preventDefault()}_onFormKeyDown(t){t.key==="Enter"&&this.viewModel.submit()}_afterListObserverCreated(t){this.viewModel.activeRelationshipInput&&(this._listObserverNode=t)}_afterListObserverRemoved(){this._listObserverNode=null}_onObserverChange(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode);const t=this.viewModel.activeRelationshipInput;t&&this._listObserverNode&&t.showAllEnabled&&this._listObserver.observe(this._listObserverNode)}_incrementRelatedRecordPage(){const t=this.viewModel.activeRelationshipInput;t==null||t.incrementPage()}_syncGroupInputStates(){if(this.groupDisplay!=="sequential")return;const t=this.viewModel.allGroupInputs;if(!t.length)return;const i=t.filter(r=>r.open);i.length===0?t[0].open=!0:i.length>1&&i.slice(1).forEach(r=>r.open=!1)}_onComboboxClose(t){this._activeComboboxClosedByWorkaround||this._activeCombobox!==t.target||(this._activeCombobox=null)}_onComboboxOpen(t){this._activeComboboxClosedByWorkaround=!1,this._activeCombobox=t.target}onScroll(t){if(this._activeCombobox){const i=this._activeCombobox.getBoundingClientRect(),r=t.target.getBoundingClientRect();i.bottom>r.bottom?(this._activeComboboxClosedByWorkaround=!0,this._activeCombobox.open=!1):(this._activeComboboxClosedByWorkaround&&(this._activeCombobox.open=!0,this._activeComboboxClosedByWorkaround=!1),this._activeCombobox.reposition())}}};g([S()],ur.prototype,"_listObserverNode",void 0),g([S()],ur.prototype,"_relatedRecordsEnabled",null),g([S()],ur.prototype,"disabled",null),g([S()],ur.prototype,"feature",null),g([S()],ur.prototype,"formTemplate",null),g([S()],ur.prototype,"groupDisplay",void 0),g([S()],ur.prototype,"headingLevel",void 0),g([S()],ur.prototype,"label",null),g([S()],ur.prototype,"layer",null),g([S()],ur.prototype,"map",null),g([S(),ao("esri/widgets/FeatureForm/t9n/FeatureForm")],ur.prototype,"messages",void 0),g([S(),ao("esri/t9n/common")],ur.prototype,"messagesCommon",void 0),g([S(),ao("esri/widgets/Feature/t9n/Feature")],ur.prototype,"messagesFeature",void 0),g([S(),ao("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],ur.prototype,"messagesTemplates",void 0),g([S()],ur.prototype,"relatedRecordCallbacks",null),g([S()],ur.prototype,"relationshipId",null),g([S()],ur.prototype,"spatialReference",null),g([S()],ur.prototype,"strict",null),g([S()],ur.prototype,"timeZone",null),g([S()],ur.prototype,"view",null),g([S(),IA(["value-change","submit"])],ur.prototype,"viewModel",void 0),ur=g([Q("esri.widgets.FeatureForm")],ur);const aQ=ur,jNe=Object.freeze(Object.defineProperty({__proto__:null,default:aQ},Symbol.toStringTag,{value:"Module"}));function lQ(e,t,i,r){if(e)if(e.type!=="CIMTextSymbol"){if(e.effects)for(const s of e.effects)TSe(s,t);if(e.symbolLayers)for(const s of e.symbolLayers)switch(s.type){case"CIMPictureMarker":case"CIMVectorMarker":xSe(s,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":!(r!=null&&r.preserveOutlineWidth)&&s.width&&(s.width*=t);break;case"CIMPictureFill":s.height&&(s.height*=t),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t);break;case"CIMHatchFill":lQ(s.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t),s.separation&&(s.separation*=t)}}else e.height!=null&&(e.height*=t)}function xSe(e,t,i){if(e&&(e.markerPlacement&&ESe(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&e.anchorPointUnits==="Absolute"&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=e.size!=null?e.size*t:0,e.type==="CIMVectorMarker"&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||lQ(r.symbol,t,!0,i)}function ESe(e,t){switch(s9(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const i=e.placementTemplate.map(r=>r*t);e.placementTemplate=i}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const i=e.placementTemplate.map(r=>r*t);e.placementTemplate=i}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function TSe(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const i=e.dashTemplate.map(r=>r*t);e.dashTemplate=i}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function uQ(e){const t=[];return QM(_J(e),t),t.length?new ot(wJ(t[0])):null}function QM(e,t){var s;if(!e)return;let i;i=e.type==="CIMTextSymbol"?e.symbol:e;const r=e.type==="CIMPolygonSymbol";if(i!=null&&i.symbolLayers){for(const c of i.symbolLayers)if(!(c.colorLocked||r&&($J(c)||SJ(c)&&c.markerPlacement&&s9(c.markerPlacement))))switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":c.tintColor&&dV(t,c.tintColor);break;case"CIMVectorMarker":(s=c.markerGraphics)==null||s.forEach(f=>{QM(f.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":dV(t,c.color);break;case"CIMHatchFill":QM(c.lineSymbol,t)}}}function dV(e,t){for(const i of e)if(i.join(".")===t.join("."))return;e.push(t)}function DNe(e,t,i){t instanceof ot||(t=new ot(t));const r=_J(e);r&&XM(r,t)}function XM(e,t,i){var c;if(!e)return;let r;r=e.type==="CIMTextSymbol"?e.symbol:e;const s=(r==null?void 0:r.type)==="CIMPolygonSymbol";if(r!=null&&r.symbolLayers)for(const f of r.symbolLayers){if(f.colorLocked||s&&($J(f)||SJ(f)&&f.markerPlacement&&s9(f.markerPlacement)))continue;const m=t.toArray();switch(f.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":f.tintColor=m;break;case"CIMVectorMarker":(c=f.markerGraphics)==null||c.forEach(b=>{XM(b.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":f.color=m;break;case"CIMHatchFill":XM(f.lineSymbol,t)}}}const cQ="picture-fill",hQ="simple-fill",ISe="simple-line",dQ="simple-marker",MSe="text",kSe="cim",pV=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),Dx=new BH(1e3);function VNe(e){const t=e.style;let i=null;if(e)switch(e.type){case dQ:t!=="cross"&&t!=="x"&&(i=e.color);break;case hQ:t&&t!=="solid"?t!=="none"&&(i={type:"pattern",x:0,y:0,src:ei(`esri/symbols/patterns/${t}.png`),width:5,height:5}):i=e.color;break;case cQ:i={type:"pattern",src:e.url,width:ls(e.width)*e.xscale,height:ls(e.height)*e.yscale,x:ls(e.xoffset),y:ls(e.yoffset)};break;case MSe:i=e.color;break;case kSe:i=uQ(e)}return i}function CSe(e,t){const i=e+"-"+t;return Dx.get(i)!==void 0?Promise.resolve(Dx.get(i)):Ut(e,{responseType:"image"}).then(r=>{const s=r.data,c=s.naturalWidth,f=s.naturalHeight,m=document.createElement("canvas");m.width=c,m.height=f;const b=m.getContext("2d");b.fillStyle=t,b.fillRect(0,0,c,f),b.globalCompositeOperation="destination-in",b.drawImage(s,0,0);const x=m.toDataURL();return Dx.put(i,x),x})}function MA(e){if(!e)return null;let t=null;switch(e.type){case hQ:case cQ:case dQ:t=MA(e.outline);break;case ISe:{const i=ls(e.width);e.style!=null&&e.style!=="none"&&i!==0&&(t={color:e.color,style:kA(e.style),width:i,cap:e.cap,join:e.join==="miter"?ls(e.miterLimit):e.join},t.dashArray=pQ(t).join(",")||"none");break}default:t=null}return t}function pQ(e){if(!(e!=null&&e.style))return[];const{dashArray:t,style:i,width:r}=e;if(typeof t=="string"&&t!=="none")return t.split(",").map(f=>Number(f));const s=r??0,c=pV.has(i)?pV.get(i).map(f=>f*s):[];if(e.cap!=="butt")for(const[f,m]of c.entries())c[f]=f%2==1?m+s:Math.max(m-s,1);return c}const kA=(()=>{const e={};return t=>{if(e[t])return e[t];const i=t.replaceAll("-","");return e[t]=i,i}})(),ASe=new ot([128,128,128]);var dn;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(dn||(dn={}));const kb={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function OSe(e,t,i){const r=dn.size;let s=r,c=r;e<1?s*=.75:e>1&&(c*=1.25);const f=0,m=0;let b=r,x=r;return t&&i&&(s=c=b=x=0),[{type:"path",path:[{command:"M",values:[b,f]},{command:"L",values:[i?b:.875*b,f]},{command:"L",values:[i?s-.5*b:m,c-.5*x]},{command:"L",values:[s-.5*b,c-.5*x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[b,f]},{command:"L",values:[b,t?f:.125*x]},{command:"L",values:[s-.5*b,t?c-.5*x:x]},{command:"L",values:[s-.5*b,c-.5*x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s-.5*b,c-.5*x]},{command:"L",values:[i?s-.5*b:m,c-.5*x]},{command:"L",values:[i?s-.5*b:m,t?c-.5*x:x]},{command:"L",values:[s-.5*b,t?c-.5*x:x]},{command:"Z",values:[]}]}]}function LSe(e){const t=dn.size,i=.5*e,r=0,s=0;return[{type:"path",path:[{command:"M",values:[s,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+i]},{command:"L",values:[s,.7*t+i-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+i]},{command:"L",values:[t,i]},{command:"L",values:[t,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,r]},{command:"L",values:[t,r]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[s,.7*t*.5]},{command:"Z",values:[]}]}]}function PSe(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function FSe(e,t){let i=t?dn.tallSymbolWidth:e;const r=e,s=t?4:6;i<=dn.size?i-=.5*s:i-=s;const c=0,f=0,m=t?.35*i:.5*i;return[{type:"path",path:[{command:"M",values:[.5*i,c]},{command:"L",values:[i,.5*m]},{command:"L",values:[.5*i,m]},{command:"L",values:[f,.5*m]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[c,.5*m]},{command:"L",values:[.5*i,m]},{command:"L",values:[.5*i,r]},{command:"L",values:[f,r-.5*m]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*i,m]},{command:"L",values:[.5*i,r]},{command:"L",values:[i,r-.5*m]},{command:"L",values:[i,.5*m]},{command:"Z",values:[]}]}]}function RSe(e,t){let i=t?dn.tallSymbolWidth:e;const r=e,s=t?4:6;i<=dn.size?i-=.5*s:i-=s;const c=.5*i,f=.15*i,m=0,b=r-f;return[{type:"ellipse",cx:.5*i,cy:b,rx:c,ry:f},{type:"path",path:[{command:"M",values:[m,f]},{command:"L",values:[m,b]},{command:"L",values:[i,b]},{command:"L",values:[i,f]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*i,cy:f,rx:c,ry:f}]}function NSe(e,t){let i=t?dn.tallSymbolWidth:e;const r=e,s=t?4:6;i<=dn.size?i-=.5*s:i-=s;const c=.15*i,f=r-c;return[{type:"ellipse",cx:.5*i,cy:f,rx:.5*i,ry:c},{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,f]},{command:"L",values:[0,f]},{command:"Z",values:[]}]}]}function jSe(e){let t=e;const i=e,r=6;t<dn.size?t-=.5*r:t-=r;const s=.15*t,c=0;return[{type:"path",path:[{command:"M",values:[0,c]},{command:"L",values:[t,c]},{command:"L",values:[.5*t,i-s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:c,rx:.5*t,ry:s}]}function DSe(e){let t=e;const i=e,r=4;t<dn.size?t-=.5*r:t-=r;const s=0,c=0,f=t,m=i,b=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*f,s]},{command:"L",values:[f,.5*m-b]},{command:"L",values:[.45*f-b,.5*m+b]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*f,s]},{command:"L",values:[.45*f-b,.5*m+b]},{command:"L",values:[c,.5*m-b]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[c,.5*m-b]},{command:"L",values:[.45*f-b,.5*m+b]},{command:"L",values:[.45*f,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*f,i]},{command:"L",values:[f,.5*m-b]},{command:"L",values:[.45*f-b,.5*m+b]},{command:"Z",values:[]}]}]}function VSe(e){const t=e,i=2;let r=e;r<dn.size?r-=.5*i:r-=i;const s=0,c=0;return[{type:"path",path:[{command:"M",values:[.45*t,s]},{command:"L",values:[t,r]},{command:"L",values:[.45*t,.6*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,s]},{command:"L",values:[.45*t,.6*r]},{command:"L",values:[c,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[c,r]},{command:"L",values:[.45*t,.6*r]},{command:"L",values:[t,r]},{command:"Z",values:[]}]}]}function Zd(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function zNe(e,t){if(e==null)return new ot;if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const i=new ot(e);return new ot([Zd(i.r,t),Zd(i.g,t),Zd(i.b,t),i.a])}function ek(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function zSe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function USe(e,t,i,r,s,c){const f=new Float32Array(6);return f[0]=e,f[1]=t,f[2]=i,f[3]=r,f[4]=s,f[5]=c,f}function GSe(e,t){return new Float32Array(e,t,6)}function fQ(e,t,i,r){const s=t[r],c=t[r+1];e[r]=i[0]*s+i[2]*c+i[4],e[r+1]=i[1]*s+i[3]*c+i[5]}function WSe(e,t,i,r=0,s=0,c=2){const f=s||t.length/c;for(let m=r;m<f;m++)fQ(e,t,i,m*c)}Object.freeze(Object.defineProperty({__proto__:null,clone:zSe,create:ek,createView:GSe,fromValues:USe,transform:fQ,transformMany:WSe},Symbol.toStringTag,{value:"Module"}));function qSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function x9(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function BSe(e,t,i,r,s,c,f){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=c,e[5]=f,e}function HSe(e,t){const i=t[0],r=t[1],s=t[2],c=t[3],f=t[4],m=t[5];let b=i*c-r*s;return b?(b=1/b,e[0]=c*b,e[1]=-r*b,e[2]=-s*b,e[3]=i*b,e[4]=(s*m-c*f)*b,e[5]=(r*f-i*m)*b,e):null}function JSe(e){return e[0]*e[3]-e[1]*e[2]}function Df(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=t[4],b=t[5],x=i[0],T=i[1],C=i[2],L=i[3],N=i[4],D=i[5];return e[0]=r*x+c*T,e[1]=s*x+f*T,e[2]=r*C+c*L,e[3]=s*C+f*L,e[4]=r*N+c*D+m,e[5]=s*N+f*D+b,e}function yQ(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=t[4],b=t[5],x=Math.sin(i),T=Math.cos(i);return e[0]=r*T+c*x,e[1]=s*T+f*x,e[2]=r*-x+c*T,e[3]=s*-x+f*T,e[4]=m,e[5]=b,e}function mQ(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=t[4],b=t[5],x=i[0],T=i[1];return e[0]=r*x,e[1]=s*x,e[2]=c*T,e[3]=f*T,e[4]=m,e[5]=b,e}function gQ(e,t,i){const r=t[0],s=t[1],c=t[2],f=t[3],m=t[4],b=t[5],x=i[0],T=i[1];return e[0]=r,e[1]=s,e[2]=c,e[3]=f,e[4]=r*x+c*T+m,e[5]=s*x+f*T+b,e}function ZSe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function KSe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function YSe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function QSe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function XSe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function e9e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function vQ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function t9e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function i9e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function r9e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function n9e(e,t){const i=e[0],r=e[1],s=e[2],c=e[3],f=e[4],m=e[5],b=t[0],x=t[1],T=t[2],C=t[3],L=t[4],N=t[5],D=Nn();return Math.abs(i-b)<=D*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(r-x)<=D*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(s-T)<=D*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(c-C)<=D*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(f-L)<=D*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(m-N)<=D*Math.max(1,Math.abs(m),Math.abs(N))}const s9e=Df,o9e=vQ;Object.freeze(Object.defineProperty({__proto__:null,add:e9e,copy:qSe,determinant:JSe,equals:n9e,exactEquals:r9e,frob:XSe,fromRotation:ZSe,fromScaling:KSe,fromTranslation:YSe,identity:x9,invert:HSe,mul:s9e,multiply:Df,multiplyScalar:t9e,multiplyScalarAndAdd:i9e,rotate:yQ,scale:mQ,set:BSe,str:QSe,sub:o9e,subtract:vQ,translate:gQ},Symbol.toStringTag,{value:"Module"}));const a9e="http://www.w3.org/2000/svg";let l9e=0,u9e=0;const fV=Ee("android"),c9e=Ee("chrome")||fV&&fV>=4?"auto":"optimizeLegibility",h9e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},d9e=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let cr={},mi={};const p9e=Math.PI;let f9e=1;function Iy(e,t){const i=e*(p9e/180);return Math.abs(t*Math.sin(i))+Math.abs(t*Math.cos(i))}function bQ(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function wQ(e,t,i,r,s){if(e){if(e.type==="circle")return ee("circle",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",r:e.r,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-dashoffset":i.dashOffset,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(e.type==="ellipse")return ee("ellipse",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",rx:e.rx,ry:e.ry,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(e.type==="rect")return ee("rect",{fill:t,"fill-rule":"evenodd",height:e.height,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,width:e.width,x:e.x,y:e.y});if(e.type==="image")return ee("image",{alt:s||"image",height:e.height,href:e.src,preserveAspectRatio:"none",width:e.width,x:e.x,y:e.y});if(e.type==="path"){const c=typeof e.path!="string"?bQ(e.path):e.path;return ee("path",{d:c,fill:t,"fill-rule":"evenodd",stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width})}if(e.type==="text")return mS(r),ee("text",{"dominant-baseline":r.dominantBaseline,fill:t,"fill-rule":"evenodd","font-family":r.font.family,"font-size":r.font.size,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,kerning:r.kerning,rotate:r.rotate,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,"text-anchor":r.align,"text-decoration":r.decoration,"text-rendering":c9e,x:e.x,y:e.y},e.text)}return null}function _Q(e){const t={fill:"none",pattern:null,linearGradient:null};if(e){if("type"in e&&e.type==="pattern"){const i="patternId-"+ ++l9e;t.fill=`url(#${i})`,t.pattern={id:i,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&e.type==="linear"){const i="linearGradientId-"+ ++u9e;t.fill=`url(#${i})`,t.linearGradient={id:i,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(r=>({offset:r.offset,color:r.color&&new ot(r.color).toString()}))}}else if(e){const i=new ot(e);t.fill=i.toString()}}return t}function SQ(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new ot(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashoffset&&(t.dashOffset=e.dashoffset),e.style&&!e.dashArray&&(t.dashArray=pQ(e).join(",")||"none")),t}function $Q(e,t){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(e){const r=e.alignBaseline,s=r==="baseline"?"auto":r==="top"?"text-top":r==="bottom"?"hanging":r;i.align=e.align,i.dominantBaseline=s,i.decoration=e.decoration,i.kerning=e.kerning?"auto":"0",i.rotate=e.rotated?"90":"0",mS(t),i.font.style=t.style||"normal",i.font.variant=t.variant||"normal",i.font.weight=t.weight||"normal",i.font.size=t.size&&t.size.toString()||"10pt",i.font.family=t.family||"serif"}return i}function y9e(e){const{pattern:t,linearGradient:i}=e;if(t)return ee("pattern",{height:t.height,id:t.id,patternUnits:"userSpaceOnUse",width:t.width,x:t.x,y:t.y},ee("image",{height:t.image.height,href:t.image.href,width:t.image.width,x:t.image.x,y:t.image.y}));if(i){const r=i.stops.map((s,c)=>ee("stop",{key:`${c}-stop`,offset:s.offset,"stop-color":s.color}));return ee("linearGradient",{gradientUnits:"userSpaceOnUse",id:i.id,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2},r)}return null}function m9e(e,t){if(!e||e.length===0)return null;const i=[];for(const r of e){const{shape:s,fill:c,stroke:f,font:m}=r,b=_Q(c),x=SQ(f),T=s.type==="text"?$Q(s,m):null,C=wQ(s,b.fill,x,T);C&&i.push(C)}return ee("mask",{id:t,maskUnits:"userSpaceOnUse"},ee("g",null,i))}function yV(e,t,i){return gQ(e,x9(e),[t,i])}function mV(e,t,i,r,s){return mQ(e,x9(e),[t,i]),e[4]=e[4]*t-r*t+r,e[5]=e[5]*i-s*i+s,e}function g9e(e,t,i,r){const s=t%360*Math.PI/180;yQ(e,x9(e),s);const c=Math.cos(s),f=Math.sin(s),m=e[4],b=e[5];return e[4]=m*c-b*f+r*f-i*c+i,e[5]=b*c+m*f-i*f-r*c+r,e}function ms(e,t){cr&&"left"in cr?(cr.left!=null&&cr.left>e&&(cr.left=e),(cr.right==null||cr.right<e)&&(cr.right=e),(cr.top==null||cr.top>t)&&(cr.top=t),(cr.bottom==null||cr.bottom<t)&&(cr.bottom=t)):cr={left:e,bottom:t,right:e,top:t}}function gV(e){const t=e.args,i=t.length;let r;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(r=0;r<i;r+=2)ms(t[r],t[r+1]);mi.x=t[i-2],mi.y=t[i-1];break;case"H":for(r=0;r<i;++r)ms(t[r],mi.y);mi.x=t[i-1];break;case"V":for(r=0;r<i;++r)ms(mi.x,t[r]);mi.y=t[i-1];break;case"m":{let s=0;for(("x"in mi)||(ms(mi.x=t[0],mi.y=t[1]),s=2),r=s;r<i;r+=2)ms(mi.x+=t[r],mi.y+=t[r+1]);break}case"l":case"t":for(r=0;r<i;r+=2)ms(mi.x+=t[r],mi.y+=t[r+1]);break;case"h":for(r=0;r<i;++r)ms(mi.x+=t[r],mi.y);break;case"v":for(r=0;r<i;++r)ms(mi.x,mi.y+=t[r]);break;case"c":for(r=0;r<i;r+=6)ms(mi.x+t[r],mi.y+t[r+1]),ms(mi.x+t[r+2],mi.y+t[r+3]),ms(mi.x+=t[r+4],mi.y+=t[r+5]);break;case"s":case"q":for(r=0;r<i;r+=4)ms(mi.x+t[r],mi.y+t[r+1]),ms(mi.x+=t[r+2],mi.y+=t[r+3]);break;case"A":for(r=0;r<i;r+=7)ms(t[r+5],t[r+6]);mi.x=t[i-2],mi.y=t[i-1];break;case"a":for(r=0;r<i;r+=7)ms(mi.x+=t[r+5],mi.y+=t[r+6])}}function vV(e,t,i){const r=h9e[e.toLowerCase()];let s;typeof r=="number"&&(r?t.length>=r&&(s={action:e,args:t.slice(0,t.length-t.length%r)},i.push(s),gV(s)):(s={action:e,args:[]},i.push(s),gV(s)))}function v9e(e){const t=(typeof e.path!="string"?bQ(e.path):e.path).match(d9e),i=[];if(cr={},mi={},!t)return null;let r="",s=[];const c=t.length;for(let m=0;m<c;++m){const b=t[m],x=parseFloat(b);isNaN(x)?(r&&vV(r,s,i),s=[],r=b):s.push(x)}vV(r,s,i);const f={x:0,y:0,width:0,height:0};return cr&&"left"in cr&&(f.x=cr.left,f.y=cr.top,f.width=cr.right-cr.left,f.height=cr.bottom-cr.top),f}function b9e(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const i=v9e(e);t.x=i.x,t.y=i.y,t.width=i.width,t.height=i.height}return t}function w9e(e){const t={x:0,y:0,width:0,height:0};let i=null,r=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(const c of e)i?(i.x=Math.min(i.x,c.x),i.y=Math.min(i.y,c.y),r=Math.max(r,c.x+c.width),s=Math.max(s,c.y+c.height)):(i=t,i.x=c.x,i.y=c.y,r=c.x+c.width,s=c.y+c.height);return i&&(i.width=r-i.x,i.height=s-i.y),i}function _9e(e,t,i,r,s,c,f,m,b){let x=(f&&c?Iy(c,t):t)/2,T=(f&&c?Iy(c,i):i)/2;if(b){const ne=b[0],ue=b[1];x=(f&&c?Iy(c,ne):ne)/2,T=(f&&c?Iy(c,ue):ue)/2}const C=e.width+r,L=e.height+r,N=ek(),D=ek();let G=!1;if(s&&C!==0&&L!==0){const ne=t!==i?t/i:C/L,ue=t>i?t:i;let ae=1,pe=1;isNaN(ue)||(ne>1?(ae=ue/C,pe=ue/ne/L):(pe=ue/L,ae=ue*ne/C)),Df(D,D,mV(N,ae,pe,x,T)),G=!0}const q=e.x+(C-r)/2,J=e.y+(L-r)/2;if(Df(D,D,yV(N,x-q,T-J)),!G&&(C>t||L>i)){const ne=C/t>L/i,ue=(ne?t:i)/(ne?C:L);Df(D,D,mV(N,ue,ue,q,J))}return c&&Df(D,D,g9e(N,c,q,J)),m&&Df(D,D,yV(N,m[0],m[1])),`matrix(${D[0]},${D[1]},${D[2]},${D[3]},${D[4]},${D[5]})`}function S9e(e,t,i){const r=e==null?void 0:e.effects.find(x=>x.type==="bloom");if(!r)return null;const{strength:s,radius:c}=r,f=s>0?c:0,m=(s+f)*t,b=4*s+1;return ee("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${i}`,width:"300%",x:"-100%",y:"-100%"},ee("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(s+.5*f)*(5**(t/100)*(.4+t/100)),result:"dilate"}),ee("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:m/25}),ee("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:m/50}),ee("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},ee("feFuncR",{slope:b,type:"linear"}),ee("feFuncG",{slope:b,type:"linear"}),ee("feFuncB",{slope:b,type:"linear"})),ee("feMerge",null,ee("feMergeNode",{in:"intensityBlur"}),ee("feMergeNode",{in:"intensityBrightness"}),ee("feGaussianBlur",{stdDeviation:s/10})))}function $9e(e,t,i,r={}){var T;const s=[],c=[],f=++f9e,m=S9e(r.effectView,t,f);let b=null;if(m){const C=(T=r.effectView)==null?void 0:T.effects.find(G=>G.type==="bloom"),L=(C.strength?C.strength+C.radius/2:0)/3,N=t+t*L,D=i+i*L;b=[Math.max(N,10),Math.max(D,10)]}for(let C=0;C<e.length;C++){const L=e[C],N=[],D=[];let G=0,q=0,J=0;for(const ae of L){const{shape:pe,fill:ge,stroke:Ae,font:Ce,offset:qe}=ae;r.ignoreStrokeWidth||pe.type==="text"||(G+=(Ae==null?void 0:Ae.width)||0);const Ge=_Q(ge),Ue=SQ(Ae),et=pe.type==="text"?$Q(pe,Ce):null;s.push(y9e(Ge)),N.push(wQ(pe,Ge.fill,Ue,et,r.ariaLabel)),D.push(b9e(pe)),qe&&(q+=qe[0],J+=qe[1])}const ne=_9e(w9e(D),t,i,G,r.scale??!1,r.rotation,r.useRotationSize??!1,[q,J],b);let ue=null;if(r.masking){const ae=`mask-${C}`,pe=r.masking[C];s.push(m9e(pe,ae)),ue=`url(#${ae})`}c.push(ue?ee("g",{mask:ue},ee("g",{transform:ne},N)):ee("g",{transform:ne},N))}return r.useRotationSize&&r.rotation&&(t=Iy(r.rotation,t),i=Iy(r.rotation,i)),m&&(mS(b),t=b[0],i=b[1]),ee("svg",{"aria-labelledby":r.ariaLabel,focusable:!1,height:i,role:"img",style:"display: block;",width:t,xmlns:a9e},m,ee("defs",null,s),m?ee("g",{filter:`url(#bloom${f})`},c):c)}const x9e=new ot("white");function E9e(e){var i,r;const t=(i=e.symbolLayers)==null?void 0:i.at(-1);if(t&&"outline"in t)return(r=t==null?void 0:t.outline)==null?void 0:r.size}function UNe(e){var t;if(!e)return 0;if(ip(e)){const i=E9e(e);return i??0}return zo((t=MA(e))==null?void 0:t.width)}function T9e(e){if(e==null||!("symbolLayers"in e)||e.symbolLayers==null)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some(t=>t.type==="object");case"line-3d":return e.symbolLayers.some(t=>t.type==="path");case"polygon-3d":return e.symbolLayers.some(t=>t.type==="object"||t.type==="extrude");default:return!1}}function I9e(e){var t;return((t=e.resource)==null?void 0:t.href)??""}function GNe(e,t){if(!e)return null;let i=null;return ip(e)?i=M9e(e):t9(e)&&(i=e.type==="cim"?uQ(e):e.color?new ot(e.color):null),i?u2(i,t):null}function M9e(e){const t=e.symbolLayers;if(!t)return null;let i=null;return t.forEach(r=>{var s;r.type==="object"&&((s=r.resource)!=null&&s.href)||(i=r.type==="water"?r.color:r.material?r.material.color:null)}),i?new ot(i):null}function u2(e,t){if(t==null||e==null)return e;const i=e.toRgba();return i[3]=i[3]*t,new ot(i)}function k9e(e,t,i){const r=e.symbolLayers;if(!r)return;const s=c=>u2(t=t??c??(i!=null?x9e:null),i);r.forEach(c=>{var f,m;if(c.type!=="object"||!((f=c.resource)!=null&&f.href)||t)if(c.type==="water")c.color=s(c.color);else{const b=c.material!=null?c.material.color:null,x=s(b);c.material==null?c.material=new Wo({color:x}):c.material.color=x,i!=null&&"outline"in c&&((m=c.outline)==null?void 0:m.color)!=null&&(c.outline.color=u2(c.outline.color,i))}})}function C9e(e,t,i){var r;(t=t??e.color)&&(e.color=u2(t,i)),i!=null&&"outline"in e&&((r=e.outline)!=null&&r.color)&&(e.outline.color=u2(e.outline.color,i))}function Vx(e,t,i){e&&(t||i!=null)&&(t&&(t=new ot(t)),ip(e)?k9e(e,t,i):t9(e)&&C9e(e,t,i))}async function A9e(e,t){const i=e.symbolLayers;i&&await hoe(i,async r=>O9e(r,t))}async function O9e(e,t){switch(e.type){case"extrude":P9e(e,t);break;case"icon":case"line":case"text":L9e(e,t);break;case"path":R9e(e,t);break;case"object":await F9e(e,t)}}function L9e(e,t){const i=xQ(t);i!=null&&(e.size=i)}function xQ(e){for(const t of e)if(typeof t=="number")return t;return null}function P9e(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function F9e(e,t){const{resourceSize:i,symbolSize:r}=await N9e(e),s=EQ(t,i,r);e.width=Cb(t[0],r[0],i[0],s),e.depth=Cb(t[1],r[1],i[1],s),e.height=Cb(t[2],r[2],i[2],s)}function R9e(e,t){const i=EQ(t,nW,[e.width,void 0,e.height]);e.width=Cb(t[0],e.width,1,i),e.height=Cb(t[2],e.height,1,i)}function EQ(e,t,i){for(let r=0;r<3;r++){const s=e[r];switch(s){case"symbol-value":{const c=i[r];return c!=null?c/t[r]:1}case"proportional":break;default:if(s&&t[r])return s/t[r]}}return 1}async function N9e(e){const{computeObjectLayerResourceSize:t}=await te(()=>import("./symbolLayerUtils-C-C8BcC6.js"),[]),i=await t(e,10),{width:r,height:s,depth:c}=e,f=[r,c,s];let m=1;for(let b=0;b<3;b++){const x=f[b];if(x!=null){m=x/i[b];break}}for(let b=0;b<3;b++)f[b]==null&&(f[b]=i[b]*m);return{resourceSize:i,symbolSize:f}}function Cb(e,t,i,r){switch(e){case"proportional":return i*r;case"symbol-value":return t??i;default:return e}}function j9e(e,t){const i=xQ(t);if(i!=null)switch(e.type){case"simple-marker":e.size=i;break;case"picture-marker":{const r=e.width/e.height;r>1?(e.width=i,e.height=i*r):(e.width=i*r,e.height=i);break}case"simple-line":e.width=i;break;case"text":e.font.size=i}}async function D9e(e,t){if(e&&t)return ip(e)?A9e(e,t):void(t9(e)&&j9e(e,t))}function V9e(e,t,i){if(e&&t!=null)if(ip(e)){const r=e.symbolLayers;r&&r.forEach(s=>{if(s&&s.type==="object")switch(i){case"tilt":s.tilt=(s.tilt??0)+t;break;case"roll":s.roll=(s.roll??0)+t;break;default:s.heading=(s.heading??0)+t}})}else t9(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle+=t))}function TQ(e){if(!e)return null;const t=e.effects.filter(i=>i.type!=="bloom").map(i=>i.toJSON());return N7(t)}function WNe(e){return e!=null&&e.type==="polygon-3d"&&e.symbolLayers.some(t=>t.type==="extrude")}async function z9e(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}const bV=N5e();function U9e(e,t){bV.append(e,t),bV.detach(t)}function E9(e,t,i){const r=Math.ceil(t[0]),s=Math.ceil(t[1]);if(!e.some(f=>!!f.length))return null;const c=(i==null?void 0:i.node)||document.createElement("div");return i.opacity!=null&&(c.style.opacity=i.opacity.toString()),i.effectView!=null&&(c.style.filter=TQ(i.effectView)),U9e(c,()=>$9e(e,r,s,i)),c}function G9e(e,t){e=Math.ceil(e),t=Math.ceil(t);const i=document.createElement("canvas");i.width=e,i.height=t,i.style.width=e+"px",i.style.height=t+"px";const r=i.getContext("2d");return r.clearRect(0,0,e,t),r}function W9e(e,t,i){return e?Ut(e,{responseType:"image"}).then(r=>{const s=r.data,c=s.width,f=s.height,m=c/f;let b=t;if(i){const x=Math.max(c,f);b=Math.min(b,x)}return{image:s,width:m<=1?Math.ceil(b*m):b,height:m<=1?b:Math.ceil(b/m)}}):Promise.reject(new me("renderUtils: imageDataSize","href not provided."))}function q9e(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function B9e(e,t,i,r,s){switch(s){case"multiply":e[t]*=i[0],e[t+1]*=i[1],e[t+2]*=i[2],e[t+3]*=i[3];break;default:{const c=n9({r:e[t],g:e[t+1],b:e[t+2]});c.h=r.h,c.s=r.s,c.v=c.v/100*r.v;const f=L0(c);e[t]=f.r,e[t+1]=f.g,e[t+2]=f.b,e[t+3]*=i[3];break}}}function H9e(e,t,i,r,s){return W9e(e,t,s).then(c=>{const f=c.width??t,m=c.height??t;if(c.image&&q9e(i,r)){let b=c.image.width,x=c.image.height;Ee("edge")&&/\.svg$/i.test(e)&&(b-=1,x-=1);const T=G9e(f,m);T.drawImage(c.image,0,0,b,x,0,0,f,m);const C=T.getImageData(0,0,f,m),L=[i.r/255,i.g/255,i.b/255,i.a],N=n9(i);for(let D=0;D<C.data.length;D+=4)B9e(C.data,D,L,N,r);T.putImageData(C,0,0),e=T.canvas.toDataURL("image/png")}else{const b=Et==null?void 0:Et.findCredential(e);if(b!=null&&b.token){const x=e.includes("?")?"&":"?";e=`${e}${x}token=${b.token}`}}return{url:e,width:f,height:m}}).catch(()=>({url:e,width:t,height:t}))}function J9e(e){return e=e||globalThis.location.hostname,Z9e.some(t=>(e==null?void 0:e.match(t))!=null)}function wV(e,t){return e&&(t=t||globalThis.location.hostname)?t.match(IQ)!=null||t.match(kQ)!=null?e.replace("static.arcgis.com","staticdev.arcgis.com"):t.match(MQ)!=null||t.match(CQ)!=null?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}const IQ=/^devext.arcgis.com$/,MQ=/^qaext.arcgis.com$/,kQ=/^[\w-]*\.mapsdevext.arcgis.com$/,CQ=/^[\w-]*\.mapsqa.arcgis.com$/,Z9e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,IQ,MQ,/^jsapps.esri.com$/,kQ,CQ];function AQ(e,t,i,r){const s=e.name;return s==null?Promise.reject(new me("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName&&e.styleName==="Esri2DPointSymbolsStyle"?K9e(s,t,r):jJ(e,t,r).then(c=>LQ(c,s,t,i,Oye,r))}function OQ(e,t){return t.items.find(i=>i.name===e)}function LQ(e,t,i,r,s,c){var N,D;const f=(i==null?void 0:i.portal)!=null?i.portal:Xr.getDefault(),m={portal:f,url:Nr(e.baseUrl),origin:"portal-item"},b=OQ(t,e.data);if(!b){const G=`The symbol name '${t}' could not be found`;return Promise.reject(new me("symbolstyleutils:symbol-name-not-found",G,{symbolName:t}))}let x=ep(s(b,r),m),T=((N=b.thumbnail)==null?void 0:N.href)??null;const C=(D=b.thumbnail)==null?void 0:D.imageData;J9e()&&(x=wV(x)??"",T=wV(T));const L={portal:f,url:Nr(a8(x)),origin:"portal-item"};return CC(x,c).then(G=>{const q=r==="cimRef"?DJ(G.data):G.data,J=UH(q,L);if(J&&ip(J)){if(T){const ne=ep(T,m);J.thumbnail=new i0({url:ne})}else C&&(J.thumbnail=new i0({url:`data:image/png;base64,${C}`}));e.styleUrl?J.styleOrigin=new Yb({portal:i.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(J.styleOrigin=new Yb({portal:i.portal,styleName:e.styleName,name:t}))}return J})}function K9e(e,t,i){const r=Lye.replaceAll(/\{SymbolName\}/gi,e),s=t.portal!=null?t.portal:Xr.getDefault();return CC(r,i).then(c=>{const f=DJ(c.data);return UH(f,{portal:s,url:Nr(a8(r)),origin:"portal-item"})})}const Y9e=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:LQ,getStyleItemFromStyle:OQ,resolveWebStyleSymbol:AQ},Symbol.toStringTag,{value:"Module"})),Vf=dn.size,L_=dn.maxSize,CA=dn.maxOutlineSize,_V=dn.lineWidth,tk=dn.tallSymbolWidth;function My(e){const t=e.outline,i=e.material!=null?e.material.color:null,r=i!=null?i.toHex():null;if(t==null||"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&r==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const s=ls(t.size)||0;return{color:"rgba("+(t.color!=null?t.color.toRgba():"255,255,255,1")+")",width:Math.min(s,CA),style:"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"?kA(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}async function Q9e(e,t){var r,s,c;if((r=e.thumbnail)!=null&&r.url)return e.thumbnail.url;if(t.type==="icon"&&((s=t==null?void 0:t.resource)==null?void 0:s.href))return I9e(t);const i=ei("esri/images/Legend/legend3dsymboldefault.png");if(e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)){const f=await AQ(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch(()=>null);if(f&&"thumbnail"in f&&((c=f.thumbnail)!=null&&c.url))return f.thumbnail.url}return i}function zx(e,t=1){const i=e.a,r=n9(e),s=r.h,c=r.s/t,f=100-(100-r.v)/t,{r:m,g:b,b:x}=L0({h:s,s:c,v:f});return[m,b,x,i]}function eS(e){var t;return e.type==="water"?e.color==null?null:e.color:((t=e.material)==null?void 0:t.color)==null?null:e.material.color}function vi(e,t=0){const i=eS(e);if(!i){if(e.type==="fill")return null;const s=ASe.r,c=Zd(s,t);return[c,c,c,100]}const r=i.toRgba();for(let s=0;s<3;s++)r[s]=Zd(r[s],t);return r}async function PQ(e,t){const i=e.style;return i==="none"?null:{type:"pattern",x:0,y:0,src:await CSe(ei(`esri/symbols/patterns/${i}.png`),t.toCss(!0)),width:5,height:5}}function SV(e){return e.outline?My(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function AA(e,t){const i=eS(e);if(!i)return null;let r="rgba(";return r+=Zd(i.r,t)+",",r+=Zd(i.g,t)+",",r+=Zd(i.b,t)+",",r+i.a+");"}function ik(e,t){const i=AA(e,t);return i?"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:i,width:Math.min(e.size?ls(e.size):.75,CA),style:"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"?kA(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?ls(2):e.join:null}:{}}function e5(e,t,i){const r=i!=null?.75*i:0;return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function X9e(e){const t=e.depth,i=e.height,r=e.width;return r!==0&&t!==0&&i!==0&&r===t&&r!=null&&i!=null&&r<i}function e$e(e,t,i){const r=[];if(!e)return r;switch(e.type){case"icon":{const f=t,m=t;switch(e.resource&&e.resource.primitive||Bfe){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:vi(e,0),stroke:My(e)});break;case"square":r.push({shape:{type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[0,0]},{command:"L",values:[f,0]},{command:"L",values:[f,m]},{command:"Z",values:[]}]},fill:vi(e,0),stroke:My(e)});break;case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[.5*f,0]},{command:"L",values:[f,m]},{command:"Z",values:[]}]},fill:vi(e,0),stroke:My(e)});break;case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*f,0]},{command:"L",values:[.5*f,m]},{command:"M",values:[0,.5*m]},{command:"L",values:[f,.5*m]}]},stroke:SV(e)});break;case"x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[f,m]},{command:"M",values:[f,0]},{command:"L",values:[0,m]}]},stroke:SV(e)});break;case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[.5*f,0]},{command:"L",values:[f,.5*m]},{command:"L",values:[.5*f,m]},{command:"Z",values:[]}]},fill:vi(e,0),stroke:My(e)})}break}case"object":switch(e.resource&&e.resource.primitive||Kfe){case"cone":{const s=e5(vi(e,0),vi(e,-.6),i?tk:t),c=NSe(t,i);r.push({shape:c[0],fill:s},{shape:c[1],fill:s});break}case"inverted-cone":{const s=vi(e,0),c=e5(s,vi(e,-.6),t),f=jSe(t);r.push({shape:f[0],fill:c},{shape:f[1],fill:s});break}case"cube":{const s=FSe(t,i);r.push({shape:s[0],fill:vi(e,0)},{shape:s[1],fill:vi(e,-.3)},{shape:s[2],fill:vi(e,-.5)});break}case"cylinder":{const s=e5(vi(e,0),vi(e,-.6),i?tk:t),c=RSe(t,i);r.push({shape:c[0],fill:s},{shape:c[1],fill:s},{shape:c[2],fill:vi(e,0)});break}case"diamond":{const s=DSe(t);r.push({shape:s[0],fill:vi(e,-.3)},{shape:s[1],fill:vi(e,0)},{shape:s[2],fill:vi(e,-.3)},{shape:s[3],fill:vi(e,-.7)});break}case"sphere":{const s=e5(vi(e,0),vi(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:s});break}case"tetrahedron":{const s=VSe(t);r.push({shape:s[0],fill:vi(e,-.3)},{shape:s[1],fill:vi(e,0)},{shape:s[2],fill:vi(e,-.6)});break}}break}return r}function T9(e){const t=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null;return t?ls(t):null}function t$e(e){return e.type==="icon"?"multiply":"tint"}async function i$e(e,t){const i=T9(t),r=t!=null&&t.maxSize?ls(t.maxSize):null,s=(t==null?void 0:t.disableUpsampling)??!1,c=e.symbolLayers,f=[];let m=0,b=0;const x=c.at(-1);let T;x&&x.type==="icon"&&(T=x.size&&ls(x.size)),c.forEach(N=>{var q,J;if(N.type!=="icon"&&N.type!=="object")return;const D=N.type==="icon"?N.size&&ls(N.size):0,G=i||D?Math.ceil(Math.min(i||D,r||L_)):Vf;if((q=N==null?void 0:N.resource)!=null&&q.href){const ne=Q9e(e,N).then(ue=>{var ge;const ae=(ge=N==null?void 0:N.material)==null?void 0:ge.color,pe=t$e(N);return H9e(ue,G,ae,pe,s)}).then(ue=>{const ae=ue.width,pe=ue.height;return m=Math.max(m,ae),b=Math.max(b,pe),[{shape:{type:"image",x:0,y:0,width:ae,height:pe,src:ue.url},fill:null,stroke:null}]});f.push(ne)}else{let ne=G;N.type==="icon"&&T&&i&&(ne=G*(D/T));const ue=(t==null?void 0:t.symbolConfig)==="tall"||((J=t==null?void 0:t.symbolConfig)==null?void 0:J.isTall)||N.type==="object"&&X9e(N);m=Math.max(m,ue?tk:ne),b=Math.max(b,ne),f.push(Promise.resolve(e$e(N,ne,ue)))}});const C=await Promise.allSettled(f),L=[];return C.forEach(N=>{N.status==="fulfilled"?L.push(N.value):N.reason&&ke.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",N.reason)}),E9(L,[m,b],{node:t==null?void 0:t.node,scale:!1,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel})}function r$e(e,t){const i=e.symbolLayers,r=[],s=T9e(e),c=T9(t),f=(t!=null&&t.maxSize?ls(t.maxSize):null)||CA;let m,b=0,x=0;return i.forEach((T,C)=>{if(!T||T.type!=="line"&&T.type!=="path")return;const L=[];switch(T.type){case"line":{const N=ik(T,0);if(N==null)break;const D=(N==null?void 0:N.width)||0;C===0&&(m=D);const G=Math.min(c||D,f),q=C===0?G:c?G*(D/m):G,J=q>_V/2?2*q:_V;x=Math.max(x,q),b=Math.max(b,J),N.width=q,L.push({shape:{type:"path",path:[{command:"M",values:[0,.5*x]},{command:"L",values:[b,.5*x]}]},stroke:N});break}case"path":{const N=Math.min(c||Vf,f),D=vi(T,0),G=vi(T,-.2),q=AA(T,-.4),J=q?{color:q,width:1}:{};if(T.profile==="quad"){const ne=T.width,ue=T.height,ae=OSe(ne&&ue?ne/ue:1,ue===0,ne===0),pe={...J,join:"bevel"};L.push({shape:ae[0],fill:G,stroke:pe},{shape:ae[1],fill:G,stroke:pe},{shape:ae[2],fill:D,stroke:pe})}else L.push({shape:kb.pathSymbol3DLayer[0],fill:G,stroke:J},{shape:kb.pathSymbol3DLayer[1],fill:D,stroke:J});x=Math.max(x,N),b=x}}r.push(L)}),Promise.resolve(E9(r,[b,x],{node:t==null?void 0:t.node,scale:s,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel}))}async function n$e(e,t){const i=e.type==="mesh-3d",r=e.symbolLayers,s=T9(t),c=t!=null&&t.maxSize?ls(t.maxSize):null,f=s||Vf,m=[];let b=0,x=0,T=!1;for(let C=0;C<r.length;C++){const L=r.at(C),N=[];if(!i||L.type==="fill"){switch(L.type){case"fill":{const D=Math.min(f,c||L_);if(b=Math.max(b,D),x=Math.max(x,D),T=!0,i){const G=kb.meshSymbol3DFill,q=AA(L,-.4),J=q?{color:q,width:1,join:"round"}:{};N.push({shape:G[0],fill:vi(L,0),stroke:J},{shape:G[1],fill:vi(L,-.2),stroke:J},{shape:G[2],fill:vi(L,-.6),stroke:J})}else{let G=vi(L,0);const q="pattern"in L?L.pattern:null,J=My(L),ne=eS(L);q!=null&&q.type==="style"&&q.style!=="solid"&&ne&&(G=await PQ(q,ne)),N.push({shape:kb.fill[0],fill:G,stroke:J})}break}case"line":{const D=ik(L,0);if(D==null)break;const G={stroke:D,shape:kb.fill[0]};b=Math.max(b,Vf),x=Math.max(x,Vf),N.push(G);break}case"extrude":{const D={join:"round",width:1,...ik(L,-.4)},G=vi(L,0),q=vi(L,-.2),J=Math.min(f,c||L_),ne=LSe(J);D.width=1,N.push({shape:ne[0],fill:q,stroke:D},{shape:ne[1],fill:q,stroke:D},{shape:ne[2],fill:G,stroke:D});const ue=Vf,ae=.7*Vf+.5*J;b=Math.max(b,ue),x=Math.max(x,ae);break}case"water":{const D=eS(L),G=zx(D),q=zx(D,2),J=zx(D,3),ne=PSe();T=!0,N.push({shape:ne[0],fill:G},{shape:ne[1],fill:q},{shape:ne[2],fill:J});const ue=Math.min(f,c||L_);b=Math.max(b,ue),x=Math.max(x,ue);break}}m.push(N)}}return E9(m,[b,x],{node:t==null?void 0:t.node,scale:T,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel})}function s$e(e,t){if(e.symbolLayers.length===0)return Promise.reject(new me("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return i$e(e,t);case"line-3d":return r$e(e,t);case"polygon-3d":case"mesh-3d":return n$e(e,t)}return Promise.reject(new me("symbolPreview: swatchInfo3D","symbol not supported."))}const o$e=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:PQ,getSizeFromOptions:T9,getSymbolLayerFill:vi,previewSymbol3D:s$e},Symbol.toStringTag,{value:"Module"}));let g1=null;const $V=[255,255,255];function xV(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function qNe(e,t,i){const{backgroundColor:r,outline:s,dotSize:c}=e,f=(i==null?void 0:i.swatchSize)||dn.size,m=.8,b=Math.round(f*f/Math.max(c,.5)**2*m),x=window.devicePixelRatio,T=document.createElement("canvas"),C=f*x;T.width=C,T.height=C,T.style.width=T.width/x+"px",T.style.height=T.height/x+"px";const L=T.getContext("2d");if(r&&(L.fillStyle=r.toCss(!0),L.fillRect(0,0,C,C),L.fill()),L.fillStyle=(t==null?void 0:t.toCss(!0))??"",g1&&g1.length/2===b)for(let D=0;D<2*b;D+=2){const G=g1[D],q=g1[D+1];L.fillRect(G,q,c*x,c*x),L.fill()}else{g1=[];for(let D=0;D<2*b;D+=2){const G=xV(0,C),q=xV(0,C);g1.push(G,q),L.fillRect(G,q,c*x,c*x),L.fill()}}s&&(s.color&&(L.strokeStyle=s.color.toCss(!0)),L.lineWidth=s.width,L.strokeRect(0,0,C,C));const N=new Image(f,f);return N.src=T.toDataURL(),N.ariaLabel=(i==null?void 0:i.ariaLabel)??null,N.alt=(i==null?void 0:i.ariaLabel)??"",N}function BNe(e,t={}){const i=t.radius||40,r=2*Math.PI*i,s=e.length,c=r/s,f=[],m=MA(t.outline);(m==null?void 0:m.width)!=null&&(m.width*=2),(m||t.backgroundColor)&&f.push({shape:{type:"circle",cx:i,cy:i,r:i},fill:t.backgroundColor,stroke:m,offset:[0,0]});const b=t.values,x=b&&b.length===s&&b.reduce((D,G)=>D+G,0)===100,T=[0];for(let D=0;D<s;D++){let G=null;x&&(G=b[D]*r/100,T.push(G+T[D])),f.push({shape:{type:"circle",cx:i,cy:i,r:i/2},fill:[0,0,0,0],stroke:{width:i,dashArray:`${(G??c)/2} ${r}`,dashoffset:"-"+(x?T[D]/2:D*(c/2)),color:e[D]},offset:[0,0]})}let C=null;const L=2*i+((m==null?void 0:m.width)||0),N=t.holePercentage;if(N){m&&f.push({shape:{type:"circle",cx:i,cy:i,r:i*N},fill:null,stroke:m,offset:[0,0]});const D=L/2;C=[[{shape:{type:"circle",cx:D,cy:D,r:D},fill:$V,stroke:m?{...m,color:$V}:null,offset:[0,0]},{shape:{type:"circle",cx:D,cy:D,r:i*N},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return E9([f],[L,L],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:C,rotation:-90,ariaLabel:t.ariaLabel})}function HNe(e,t={}){const s=t.align==="horizontal",c=s?75:24,f=s?24:75,m=t.width??c,b=t.height??f,x=t.gradient??!0,T=window.devicePixelRatio,C=m*T,L=b*T,N=document.createElement("canvas");N.width=C,N.height=L,N.ariaLabel=t.ariaLabel??null,N.style.width=`${m}px`,N.style.height=`${b}px`;const D=N.getContext("2d"),G=s?C:0,q=s?0:L;if(x){const ne=D.createLinearGradient(0,0,G,q),ue=e.length,ae=ue===1?0:1/(ue-1);e.forEach((pe,ge)=>ne.addColorStop(ge*ae,pe.toString())),D.fillStyle=ne,D.fillRect(0,0,C,L)}else{const ne=s?C/e.length:C,ue=s?L:L/e.length;let ae=0,pe=0;for(const ge of e)D.fillStyle=ge.toString(),D.fillRect(ae,pe,ne,ue),ae=s?ae+ne:0,pe=s?0:pe+ue}const J=document.createElement("div");return J.style.width=`${m}px`,J.style.height=`${b}px`,a$e(J,t==null?void 0:t.effectList),J.appendChild(N),J}function a$e(e,t){if(!t)return;e.style.filter=TQ(t);const i=t.effects;if(i){for(const r of i)if((r==null?void 0:r.type)==="drop-shadow"){r.offsetX<0?e.style.marginLeft=`${Math.abs(r.offsetX)}px`:e.style.marginRight=`${r.offsetX}px`;break}}}async function FQ(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:i}=await te(()=>import("./previewWebStyleSymbol-DlSVFscg.js"),[]);return i(e,FQ,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:i}=await te(()=>Promise.resolve().then(()=>o$e),void 0);return i(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:i}=await te(()=>import("./previewSymbol2D-CuUePCAr.js"),__vite__mapDeps([244,108]));return i(e,t)}case"cim":{const{previewCIMSymbol:i}=await te(()=>import("./previewCIMSymbol-CqiJYdri.js"),__vite__mapDeps([245,106,107,108,23,105,96,93,101,109,100,246,247,248]));return i(e,t)}default:return}}function RQ(e){return e&&"opacity"in e?e.opacity*RQ(e.parent):1}async function rk(e,t){var ue;if(!e)return;const i=e.sourceLayer,r=(t!=null&&t.useSourceLayer?i:e.layer)??i,s=RQ(r);if(e.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){const ae=e.symbol.type==="web-style"?await z9e(e.symbol,{...t,cache:t!=null?t.webStyleCache:null}):e.symbol.clone();return Vx(ae,null,s),ae}const c=(t==null?void 0:t.renderer)??l$e(r);let f=c&&"getSymbolAsync"in c?await c.getSymbolAsync(e,t):null;if(!f)return;if(f=f.type==="web-style"?await f.fetchSymbol({...t,cache:t!=null?t.webStyleCache:null}):f.clone(),!c||!("visualVariables"in c)||!((ue=c.visualVariables)!=null&&ue.length))return Vx(f,null,s),f;if("arcadeRequiredForVisualVariables"in c&&c.arcadeRequiredForVisualVariables&&(t==null?void 0:t.arcade)==null){const ae={...t};ae.arcade=await Cu(),t=ae}const{getColor:m,getOpacity:b,getAllSizes:x,getRotationAngle:T}=await te(()=>Promise.resolve().then(()=>P0e),void 0),C=[],L=[],N=[],D=[];for(const ae of c.visualVariables)switch(ae.type){case"color":C.push(ae);break;case"opacity":L.push(ae);break;case"rotation":D.push(ae);break;case"size":ae.target||N.push(ae)}const G=!!C.length&&C[C.length-1],q=G?m(G,e,t):null,J=!!L.length&&L[L.length-1];let ne=J?b(J,e,t):null;if(s!=null&&(ne=ne!=null?ne*s:s),Vx(f,q,ne),N.length){const ae=x(N,e,t);await D9e(f,ae)}for(const ae of D)V9e(f,T(ae,e,t),ae.axis);return f}function l$e(e){if(e)return"renderer"in e?e.renderer:void 0}var nk;const u$e="esri.widgets.FeatureTemplates.TemplateItem";let sl=nk=class extends ht{constructor(e){super(e),this._activeFetchInfo={id:null,request:null},this.disabled=!1,this.layer=null,this.template=null,this.thumbnail=null}initialize(){this.addHandles(Ze(()=>{const{layer:e}=this;return[e&&"renderer"in e?e.renderer:null,this.template]},()=>{this._activeFetchInfo.id=null,this._activeFetchInfo.request=null,this._set("thumbnail",null)},Ri))}get description(){var e;return(e=this.template)==null?void 0:e.description}set description(e){this.template&&(this.template.description=e)}get label(){var e;return(e=this.template)==null?void 0:e.name}set label(e){this.template&&(this.template.name=e)}get id(){var e;return`${this.label??""}${(e=this.layer)==null?void 0:e.id}`}get supportsUpload(){var e;return((e=this.layer)==null?void 0:e.type)==="scene"}clone(){const e=this.thumbnail!=null?this.thumbnail.cloneNode(!0):null,t=new nk({layer:this.layer,template:this.template});return t._set("thumbnail",e),t}static async fetchThumbnail(e,t){var s;const i=await c$e(e,t);if(i==null)return null;const r={maxSize:36};return((s=e.renderer)==null?void 0:s.type)==="dictionary"&&(r.fieldMap=e.renderer.fieldMap??void 0,r.feature={attributes:t.prototype.attributes??{}}),await FQ(i,r)}};async function c$e(e,t){const{renderer:i}=e;if(i){const r=new Dn({attributes:t.prototype.attributes}),s=await i.getSymbolAsync(r);if(s)return s}return h$e(e)}async function h$e(e){const{geometryType:t}=e,i=t==="point"||t==="multipoint"?await te(()=>Promise.resolve().then(()=>s0e),void 0):t==="polyline"?await te(()=>Promise.resolve().then(()=>Efe),void 0):t==="polygon"||t==="mesh"||t==="multipatch"?await te(()=>Promise.resolve().then(()=>n0e),void 0):null;return i?new i.default:null}g([S()],sl.prototype,"description",null),g([S()],sl.prototype,"disabled",void 0),g([S()],sl.prototype,"label",null),g([S()],sl.prototype,"layer",void 0),g([S()],sl.prototype,"template",void 0),g([S({readOnly:!0})],sl.prototype,"thumbnail",void 0),g([S()],sl.prototype,"id",null),g([S()],sl.prototype,"supportsUpload",null),sl=nk=g([Q(u$e)],sl);const sk=sl;let dy=class extends dp(ht){constructor(t){super(t),this.items=null,this.label=null}get id(){return this.label}findByTemplate(t){return this.items.find(i=>i.template===t)}};g([S()],dy.prototype,"items",void 0),g([S()],dy.prototype,"label",void 0),g([S()],dy.prototype,"id",null),dy=g([Q("esri.widgets.FeatureTemplates.TemplateItemGroup")],dy);const d$e=dy,tS=e=>e==null||typeof e!="object"?[]:[..."templates"in e&&Array.isArray(e.templates)?e.templates:[],..."types"in e&&Array.isArray(e.types)?e.types.flatMap(t=>t.templates):[]];var Zv;const p$e=({layer:e})=>({key:e,label:e.title??""}),f$e=({layer:e})=>({key:e.geometryType,label:e.geometryType??""});let es=Zv=class extends Ps.EventedAccessor{constructor(e){super(e),this._groupPool=new a0(d$e),this._itemPool=new a0(sk),this.disabled=!1,this.disabledItemFunction=null,this.filterFunction=null,this.selectedItem=null}initialize(){this._get("groupBy")||(this.groupBy="layer")}get _featureTemplatesByLayer(){if(!this.layers)return new Map;const e=new Map;for(const t of this.layers)if(t.type==="subtype-group")for(const i of t.sublayers)e.set(i,tS(i));else e.set(t,tS(t));return e}set groupBy(e){if(this._set("groupBy",e),typeof e!="function")switch(e){case"layer":this._groupByFunction=p$e;break;case"geometry":this._groupByFunction=f$e;break;default:this._groupByFunction=null}else this._groupByFunction=t=>this._ensureGroupByObject(e(t))}set layers(e){const t="layers";if(this.removeHandles(t),e){const i=()=>this.notifyChange("state");this.addHandles(e.map(r=>_l(()=>r.loadStatus,i)),t)}this._set("layers",e)}get layers(){return this._get("layers")}get state(){const{layers:e}=this;return e&&e.length!==0?e.some(t=>t.loadStatus==="loading"||t.loadStatus==="not-loaded")?"loading":"ready":"disabled"}get numberOfFeatureTemplates(){return Array.from(this._featureTemplatesByLayer.values()).reduce((e,t)=>e+t.length,0)}get items(){var c,f,m;if(this.numberOfFeatureTemplates===0)return this._releasePreviousItems(),[];const e=this._featureTemplatesByLayer,t=[],i=this.filterFunction!=null?this.filterFunction:Zv._nullFilterFunction;for(const[b,x]of e)if(b.loaded||b.type==="subtype-sublayer"&&((c=b.parent)!=null&&c.loaded)){const T=(f=g0(b))==null?void 0:f.operations;if(T!=null&&T.supportsEditing&&(T!=null&&T.supportsAdd))for(const C of x)t.push({layer:b,template:C,matchesFilter:i({label:C.name})})}if(this._groupByFunction==null){const b=t.filter(({matchesFilter:x})=>x).map(({template:x,layer:T})=>this._createItem(x,T));return this._releasePreviousItems(),b}const r=new Map;for(const b of t){const{template:x,layer:T}=b,C=this._groupByFunction({template:x,layer:T}),{key:L,label:N}=C.key!=null?C:Zv.nullGroupBy;r.has(L)||r.set(L,{label:N,templateItemInfos:[]}),(m=r.get(L))==null||m.templateItemInfos.push(b)}const s=[];for(const b of r.values()){const{label:x,templateItemInfos:T}=b,C=T.filter(({matchesFilter:N})=>N),L=i({label:x})?T:T.length>0?C:[];if(L.length>0){const N=L.map(({template:D,layer:G})=>this._createItem(D,G));s.push(this._createGroup(x,N))}}return s.length===1&&s[0].label===Zv.nullGroupBy.label?(this._releasePreviousItems(),s[0].items):(this._releasePreviousItems(),s)}refresh(){this.notifyChange("items")}select(e,{emit:t=!0}={}){const i=this.selectedItem,r=(e==null?void 0:e.clone())||null;this._set("selectedItem",r),t&&this.emit("select",{item:r,oldItem:i,template:(r==null?void 0:r.template)??null})}_createItem(e,t){var s;const i=this._itemPool.acquire(),r=((s=this.disabledItemFunction)==null?void 0:s.call(this,{template:e,layer:t}))??!1;return i.set({disabled:r,layer:t,template:e}),i}_createGroup(e,t){const i=this._groupPool.acquire();return i.set("label",e),i.items=t,i}_releasePreviousItems(){this._destroyItems(this._get("items"))}_destroyItems(e){e&&(e[0]instanceof sk?e.forEach(t=>this._destroyItem(t)):e.forEach(t=>this._destroyGroup(t)))}_destroyGroup(e){e.items.forEach(t=>this._destroyItem(t)),e.items.length=0,this._groupPool.release(e)}_destroyItem(e){e.layer=null,e.template=null,this._itemPool.release(e)}_ensureGroupByObject(e){return typeof e=="string"?{key:e,label:e}:e}};es.nullGroupBy={key:Symbol(),label:"Other"},es._nullFilterFunction=e=>!0,g([S()],es.prototype,"_featureTemplatesByLayer",null),g([S()],es.prototype,"_groupByFunction",void 0),g([S()],es.prototype,"disabled",void 0),g([S()],es.prototype,"disabledItemFunction",void 0),g([S()],es.prototype,"filterFunction",void 0),g([S()],es.prototype,"groupBy",null),g([S()],es.prototype,"layers",null),g([S()],es.prototype,"state",null),g([S({readOnly:!0})],es.prototype,"numberOfFeatureTemplates",null),g([S({readOnly:!0})],es.prototype,"items",null),g([S({readOnly:!0})],es.prototype,"selectedItem",void 0),es=Zv=g([Q("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],es);const ok=es,cd="esri-item-list",t5=`${cd}__list-item`,gu={base:cd,filterContainerSticky:`${cd}__filter-container--sticky`,group:`${cd}__group`,groupHeader:`${cd}__group__header`,item:t5,itemDisabled:`${t5}--disabled`,itemIcon:`${t5}-icon`,itemContentEnd:`${t5}-content-end`,noMatchesMessage:`${cd}__no-matches-message`,scroller:`${cd}__scroller`,scrollerEnabled:`${cd}__scroller--enabled`},y$e=4;function NQ(e){const{disabled:t,filterText:i="",id:r,messages:s,onFilterChange:c,...f}=e;return ee("div",{key:r},e.filterEnabled??1?v$e({disabled:t,filterText:i,id:r,messages:s,onFilterChange:c}):null,g$e({...f,disabled:t,enableListScroll:e.enableListScroll??!0,filterText:i,messages:s}))}function m$e(e){return!!e.items}function g$e(e){const{headingLevel:t,items:i,...r}=e;return i.length===0?ee("div",{class:gu.noMatchesMessage,key:"no-matches"},e.messages.noMatches):ee("div",{class:x0({[gu.scroller]:!0,[gu.scrollerEnabled]:!!e.enableListScroll}),key:"item-container"},i.map(s=>m$e(s)?b$e({...r,group:s,headingLevel:t}):OA({...r,grouped:!0,item:s})))}function v$e(e){const{disabled:t,messages:i,filterText:r,enableListScroll:s}=e;return ee("div",{class:s?void 0:gu.filterContainerSticky,key:"filter"},ee("calcite-input",{disabled:t,placeholder:i.filterPlaceholder,type:"search",value:r,onCalciteInputInput:c=>{const f=c.currentTarget;e.onFilterChange&&e.onFilterChange(f.value)}}))}function OA(e){const{disabled:t,grouped:i,identify:r,item:s,onItemMouseEnter:c,onItemMouseLeave:f,onItemSelect:m,renderIcon:b,renderCustomItem:x,renderItemContent:T,renderItemContentEnd:C,renderItemLabel:L,renderItemDescription:N,selectedItem:D}=e,G=EV(s,r),q=G===EV(D,r),J=x==null?void 0:x(e);if(J)return J;const ne=T==null?void 0:T(s),ue=C==null?void 0:C(s),ae=!(!s.disabled&&!t);return ee("calcite-list-item",{afterUpdate:pe=>{pe.selected=q},"aria-level":i?"2":"",class:x0({[gu.item]:!0,[gu.itemDisabled]:ae}),"data-item":s,description:ne?void 0:(N==null?void 0:N(s))??void 0,disabled:ae,key:G,label:ne?void 0:(L==null?void 0:L(s))??s.label??void 0,onmouseenter:pe=>c==null?void 0:c(Ux(pe)),onmouseleave:pe=>f==null?void 0:f(Ux(pe)),selected:q,tabIndex:ae?-1:0,onCalciteListItemSelect:pe=>{pe.preventDefault(),m==null||m(Ux(pe))}},ee("div",{class:gu.itemIcon,key:"content-start",slot:"content-start"},b==null?void 0:b(s)),ne?ee("div",{key:"content",slot:"content"},ne):null,ue?ee("div",{class:gu.itemContentEnd,key:"content-end",slot:"content-end"},ue):null)}function EV(e,t){return e?`${(t==null?void 0:t(e))||e.id}__${e.label}`:""}function Ux(e){return e.currentTarget["data-item"]}function b$e(e){const{disabled:t,group:i,headingLevel:r=y$e,selectionMode:s="none",renderCustomGroupContent:c,...f}=e,m=c==null?void 0:c(e);return ee("div",{class:gu.group,key:i.label??void 0},ee(mm,{class:gu.groupHeader,level:r},i.label),m||ee("calcite-list",{disabled:t,selectionAppearance:"border",selectionMode:s},i.items.map(b=>OA({...f,disabled:t,item:b,grouped:!0}))))}let P_=class extends ht{constructor(t){super(t),this.filter=!0}};g([S({type:Boolean,nonNullable:!0})],P_.prototype,"filter",void 0),P_=g([Q("esri.widgets.FeatureTemplates.VisibleElements")],P_);const jQ=P_,w$e={base:"esri-feature-templates"};function _$e(e){return e.length>0&&ZY(e[0])}function S$e(e){return e.id}let vr=class extends rh{constructor(t,i){super(t,i),this.enableListScroll=!0,this.filterText="",this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.selectionMode="none",this.viewModel=new ok,this.visibleElements=new jQ,this.renderCustomItem=r=>null,this.renderCustomGroupContent=r=>null,this.renderItemLabel=()=>null,this.renderItemDescription=()=>null,this.renderItemContent=r=>null,this.renderItemContentEnd=r=>null,this._iconIntersectionObserver=new IntersectionObserver((r,s)=>{r.forEach(async c=>{if(c.isIntersecting){const f=c.target;if(x$e(f))return void s.unobserve(f);const m=$$e(f),{layer:b,template:x}=m;TV(f,!0);const T=await sk.fetchThumbnail(b,x).catch(()=>(TV(f,!1),null));if(T==null)return;f.appendChild(T)}})}),this._renderItemIcon=r=>e0(r.layer)?ee("span",{"data-has-icon":!0,"data-item":r,key:"icon"},ee("calcite-icon",{icon:"table"})):ee("span",{afterCreate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,afterUpdate:this._afterItemCreateOrUpdate,"data-has-icon":!1,"data-item":r,key:"icon"}),this._afterItemCreateOrUpdate=r=>{var s;(s=this._iconIntersectionObserver)==null||s.observe(r)},this._afterItemRemoved=r=>{var s;(s=this._iconIntersectionObserver)==null||s.unobserve(r)}}initialize(){const t=({label:i})=>!this.filterText||!!(i!=null&&i.toLowerCase().includes(this.filterText.toLowerCase()));this.addHandles(Ze(()=>this.viewModel,(i,r)=>{i&&!i.filterFunction&&(this.filterFunction=t),r&&r!==i&&r.filterFunction===t&&(r.filterFunction=null)},Ri))}destroy(){var t;(t=this._iconIntersectionObserver)==null||t.disconnect(),this._iconIntersectionObserver=null}loadDependencies(){return Fs({icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),loader:()=>te(()=>import("./calcite-loader-Dt8Lxnnv.js"),__vite__mapDeps([236,195,180,185,186,181])),input:()=>te(()=>import("./calcite-input-DnrPXp_3.js"),__vite__mapDeps([219,220,180,205,184,186,206,194,189,185,181,187,211,221,179,215,222])),list:()=>te(()=>import("./calcite-list-D463cNQk.js"),__vite__mapDeps([232,180,184,181,233,234,189,187,185,186,210,192,179,220,205,206,194,211,221,215,222,195,202])),"list-item":()=>te(()=>import("./calcite-list-item-48qnNiBd.js"),__vite__mapDeps([235,180,184,185,186,181,187,189,234,233,193,194,179,195,201])),notice:()=>te(()=>import("./calcite-notice-le1pOBrg.js"),__vite__mapDeps([237,183,181,180,189,185,186,187,190,194,179]))})}get disabled(){return this.viewModel.disabled}set disabled(t){this.viewModel.disabled=t}get filterFunction(){return this.viewModel.filterFunction}set filterFunction(t){this.viewModel.filterFunction=t}get groupBy(){return this.viewModel.groupBy}set groupBy(t){this.viewModel.groupBy=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get layers(){return this.viewModel.layers}set layers(t){this.viewModel.layers=t}get selectedItem(){return this.viewModel.selectedItem}select(t,i){return this.viewModel.select(t,i)}render(){const{disabled:t,enableListScroll:i,filterText:r,headingLevel:s,messages:c,viewModel:{items:f,numberOfFeatureTemplates:m,selectedItem:b,state:x}}=this,T=this.visibleElements.filter&&m>1;if(_$e(f)){const C=f.find(L=>L.label===ok.nullGroupBy.label);C&&(C.label=c.other)}return ee("div",{"aria-label":c.widgetLabel,class:this.classes(w$e.base,Ht.widget)},x==="loading"?ee("calcite-loader",{key:"loader",label:this.messagesCommon.loading,type:"indeterminate"}):x==="ready"?ee(NQ,{disabled:t,enableListScroll:i,filterEnabled:T,filterText:r,headingLevel:s,id:this.id,identify:S$e,items:f,messages:{filterPlaceholder:c.filterPlaceholder,noItems:c.noItems,noMatches:c.noMatches},renderCustomGroupContent:this.renderCustomGroupContent,renderCustomItem:this.renderCustomItem,renderIcon:this._renderItemIcon,renderItemContent:this.renderItemContent,renderItemContentEnd:this.renderItemContentEnd,renderItemDescription:this.renderItemDescription,renderItemLabel:this.renderItemLabel,selectedItem:b??void 0,selectionMode:this.selectionMode??void 0,onFilterChange:C=>{this.filterText=C,this.viewModel.refresh()},onItemSelect:C=>!ZY(C)&&this.viewModel.select(C)}):null)}};function $$e(e){return e==null?void 0:e["data-item"]}function x$e(e){return!!(e!=null&&e["data-has-icon"])}function TV(e,t){e&&(e["data-has-icon"]=t)}g([S()],vr.prototype,"disabled",null),g([S()],vr.prototype,"enableListScroll",void 0),g([S()],vr.prototype,"filterFunction",null),g([S()],vr.prototype,"filterText",void 0),g([S()],vr.prototype,"groupBy",null),g([S()],vr.prototype,"headingLevel",void 0),g([S()],vr.prototype,"label",null),g([S()],vr.prototype,"layers",null),g([S(),ao("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],vr.prototype,"messages",void 0),g([S(),ao("esri/t9n/common")],vr.prototype,"messagesCommon",void 0),g([S({readOnly:!0})],vr.prototype,"selectedItem",null),g([S()],vr.prototype,"selectionMode",void 0),g([S(),IA("select")],vr.prototype,"viewModel",void 0),g([S({type:jQ,nonNullable:!0})],vr.prototype,"visibleElements",void 0),g([S()],vr.prototype,"renderCustomItem",void 0),g([S()],vr.prototype,"renderCustomGroupContent",void 0),g([S()],vr.prototype,"renderItemLabel",void 0),g([S()],vr.prototype,"renderItemDescription",void 0),g([S()],vr.prototype,"renderItemContent",void 0),g([S()],vr.prototype,"renderItemContentEnd",void 0),vr=g([Q("esri.widgets.FeatureTemplates")],vr);const DQ=vr,YNe=Object.freeze(Object.defineProperty({__proto__:null,default:DQ},Symbol.toStringTag,{value:"Module"}));let kf=class extends Ps.EventedAccessor{constructor(t){super(t),this.location=null,this.screenLocationEnabled=!1,this.view=null,this.addHandles([_l(()=>{const i=this.screenLocationEnabled?this.view:null;return i?[i.size,i.type==="3d"?i.camera:i.viewpoint]:null},()=>this.notifyChange("screenLocation")),Ze(()=>this.screenLocation,(i,r)=>{i!=null&&r!=null&&this.emit("view-change")})])}destroy(){this.view=null}get screenLocation(){const{location:t,view:i,screenLocationEnabled:r}=this,s=i==null?void 0:i.spatialReference,c=s?JZ(t,s).geometry:null;return r&&c&&(i!=null&&i.ready)?i.toScreen(c):null}};g([S()],kf.prototype,"location",void 0),g([S()],kf.prototype,"screenLocation",null),g([S()],kf.prototype,"screenLocationEnabled",void 0),g([S()],kf.prototype,"view",void 0),kf=g([Q("esri.widgets.support.AnchorElementViewModel")],kf);const E$e=kf,T$e="esri.widgets.CompassViewModel";let F_=class extends E$e{constructor(t){super(t),this.visible=!1}};g([S()],F_.prototype,"visible",void 0),F_=g([Q(T$e)],F_);const LA=F_,Gx="esri-spinner",Wx={base:Gx,spinnerStart:`${Gx}--start`,spinnerFinish:`${Gx}--finish`};let Cf=class extends rh{constructor(t,i){super(t,i),this._animationDelay=500,this._animationPromise=null,this.viewModel=new LA}initialize(){this.addHandles(Ze(()=>this.visible,t=>this._visibleChange(t)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}show(t){const{location:i,promise:r}=t??{};i&&(this.viewModel.location=i),this.visible=!0;const s=()=>this.hide();r&&r.catch(()=>{}).then(s)}hide(){this.visible=!1}render(){const{visible:t}=this,{screenLocation:i}=this.viewModel,r=!!i,s=t&&r,c=!t&&r,f={[Wx.spinnerStart]:s,[Wx.spinnerFinish]:c},m=this._getPositionStyles();return ee("div",{class:this.classes(Wx.base,f),styles:m})}_visibleChange(t){if(t)return void(this.viewModel.screenLocationEnabled=!0);const i=_U(this._animationDelay);this._animationPromise=i,i.catch(()=>{}).then(()=>{this._animationPromise===i&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:t,view:i}=this.viewModel;if(i==null||t==null)return{};const{padding:r}=i;return{left:t.x-r.left+"px",top:t.y-r.top+"px"}}};g([S()],Cf.prototype,"location",null),g([S()],Cf.prototype,"view",null),g([S({type:LA})],Cf.prototype,"viewModel",void 0),g([S()],Cf.prototype,"visible",null),Cf=g([Q("esri.widgets.Spinner")],Cf);const I$e=Cf,v1="esri-editor",zp={base:v1,helpMessage:`${v1}__help-message`,updateActions:`${v1}__update-actions`,updateActionsList:`${v1}__update-actions-list`,featureTemplatesContainer:`${v1}__feature-templates-container`,templateItemContentEnd:`${v1}__template-item-content-end`,widgetIcon:Td.edit};let R_=class extends it{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(it.ofType(this.itemType.Type))(t):new it(t)}};function M$e(e,t){return{type:e,cast:gG,set(i){const r=u0(i,this._get(t),e);r.owner=this,this._set(t,r)}}}g([S()],R_.prototype,"owner",null),R_=g([Q("esri.core.support.OwningCollection")],R_);let Ab=class extends R_{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};g([h8({Type:Dn,ensureType:wr(Dn)})],Ab.prototype,"itemType",void 0),Ab=g([Q("esri.support.GraphicsCollection")],Ab);let gc=class extends uZ(aK(z8)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Ab,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,i){return super.on(t,i)}graphicChanged(t){this.emit("graphic-update",t)}};g([S({type:bZ})],gc.prototype,"elevationInfo",void 0),g([S(M$e(Ab,"graphics"))],gc.prototype,"graphics",void 0),g([S({type:["show","hide"]})],gc.prototype,"listMode",void 0),g([S()],gc.prototype,"screenSizePerspectiveEnabled",void 0),g([S({readOnly:!0})],gc.prototype,"type",void 0),g([S({constructOnly:!0})],gc.prototype,"internal",void 0),gc=g([Q("esri.layers.GraphicsLayer")],gc);const B2=gc,nje=Object.freeze(Object.defineProperty({__proto__:null,default:B2},Symbol.toStringTag,{value:"Module"}));let N_=class extends ht{constructor(t){super(t),this.enabled=!1}};g([S({type:Boolean,nonNullable:!0})],N_.prototype,"enabled",void 0),N_=g([Q("esri.views.interactive.sketch.SketchLabelOptions")],N_);const PA=N_;let Ob=class extends ht{constructor(t){super(t),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};g([S({type:String,nonNullable:!0})],Ob.prototype,"mode",void 0),Ob=g([Q("esri.widgets.Sketch.SketchTooltipOptions.ElevationOptions")],Ob);let Ss=class extends ht{constructor(t){super(t),this.area=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}toJSON(){return{area:this.area,direction:this.direction,distance:this.distance,elevation:this.elevation,header:this.header,helpMessage:this.helpMessage,orientation:this.orientation,radius:this.radius,rotation:this.rotation,scale:this.scale,size:this.size,totalLength:this.totalLength}}};g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"area",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"direction",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"distance",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"elevation",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"header",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"helpMessage",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"orientation",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"radius",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"rotation",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"scale",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"size",void 0),g([S({type:Boolean,nonNullable:!0})],Ss.prototype,"totalLength",void 0),Ss=g([Q("esri.widgets.Sketch.SketchTooltipOptions.VisibleElements")],Ss);const VQ=Ss;let eu=class extends ht{constructor(t){super(t),this.enabled=!1,this.forceEnabled=!1,this.inputEnabled=!0,this.elevation=new Ob,this.visibleElements=new VQ,this.visualVariables=null}get effectiveEnabled(){return this.forceEnabled||this.enabled}};g([S({type:Boolean,nonNullable:!0})],eu.prototype,"enabled",void 0),g([S()],eu.prototype,"forceEnabled",void 0),g([S()],eu.prototype,"effectiveEnabled",null),g([S({type:Boolean,nonNullable:!0})],eu.prototype,"inputEnabled",void 0),g([S({type:Ob,nonNullable:!0})],eu.prototype,"elevation",void 0),g([S({type:VQ,nonNullable:!0})],eu.prototype,"visibleElements",void 0),g([S()],eu.prototype,"visualVariables",void 0),eu=g([Q("esri.widgets.sketch.SketchTooltipOptions")],eu);const FA=eu;let py=class extends ht{constructor(t){super(t),this.labels=new PA,this.tooltips=new FA,this.values=new v9}};g([S({nonNullable:!0,type:PA})],py.prototype,"labels",void 0),g([S({nonNullable:!0,type:FA})],py.prototype,"tooltips",void 0),g([S({nonNullable:!0,type:v9})],py.prototype,"values",void 0),py=g([Q("esri.views.interactive.sketch.SketchOptions")],py);const bp=py;function zQ(e){return e?Rr:F$e}function k$e(e,t){return t!=null&&t.mode?t.mode:zQ(e).mode}function C$e(e,t){return t??zQ(e)}function UQ(e,t){return k$e(e!=null&&e.hasZ,t)}function cje(e,t){return C$e(e!=null&&!!e.hasZ,t)}function I9(e){const t=NA(e);return UQ(e.geometry,t)}function hje(e){const t=NA(e),i=UQ(e.geometry,t);return{mode:i,offset:t!=null&&i!=="on-the-ground"?P$e(t):0}}function RA(e){if(I9(e)==="on-the-ground")return!1;const t=NA(e),i=t!=null&&t.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!i||i==="0")}function NA(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function jA(e,t){if(!(e!=null&&e.offset))return 0;const{offset:i,unit:r}=e;if(r==="decimal-degrees")return 0;const s=r!=="unknown"&&r?r:"meters",c=Voe(t);return c?Jt(i,s,c):0}function dje(e,t,i){if(!(i!=null&&i.mode))return;const r=e.hasZ?e.z:0,s=jA(i,e.spatialReference);switch(i.mode){case"absolute-height":return r-s;case"on-the-ground":return 0;case"relative-to-ground":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"ground")??0)+s);case"relative-to-scene":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"scene")??0)+s)}}function A$e(e,t,i,r=null){return WQ(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,i,r)}function GQ(e,t,i,r,s=null){return WQ(e,t[0],t[1],t.length>2?t[2]:0,i,r,s)}function WQ(e,t,i,r,s,c,f=null){if(c==null)return;const m=f!=null?f.mode:"absolute-height";if(m==="on-the-ground")return 0;const{absoluteZ:b}=O$e(t,i,r,s,e,c);return L$e(b,t,i,r,s,e,f,m)}function O$e(e,t,i,r,s,c){const f=jA(c,r);switch(c.mode){case"absolute-height":return{absoluteZ:i+f,elevation:0};case"on-the-ground":{const m=s.elevationProvider.getElevation(e,t,0,r,"ground")??0;return{absoluteZ:m,elevation:m}}case"relative-to-ground":{const m=s.elevationProvider.getElevation(e,t,i,r,"ground")??0;return{absoluteZ:i+m+f,elevation:m}}case"relative-to-scene":{const m=s.elevationProvider.getElevation(e,t,i,r,"scene")??0;return{absoluteZ:i+m+f,elevation:m}}}}function L$e(e,t,i,r,s,c,f,m){const b=jA(f,s);switch(m){case"absolute-height":return e-b;case"relative-to-ground":return e-((c.elevationProvider.getElevation(t,i,r,s,"ground")??0)+b);case"relative-to-scene":return e-((c.elevationProvider.getElevation(t,i,r,s,"scene")??0)+b)}}function pje(e,t){if(t==null)return!1;const{mode:i}=t;return i!=null&&(e==="scene"&&i==="relative-to-scene"||e==="ground"&&i!=="absolute-height")}function fje(e,t,i){return i&&i.mode!==t?`${e} only support ${t} elevation mode`:null}function yje(e,t,i){return(i==null?void 0:i.mode)===t?`${e} do not support ${t} elevation mode`:null}function mje(e,t){return(t==null?void 0:t.featureExpressionInfo)!=null&&t.featureExpressionInfo.expression!=="0"?`${e} do not support featureExpressionInfo`:null}function gje(e,t){t&&e.warn(".elevationInfo=",t)}function P$e(e){return((e==null?void 0:e.offset)??0)*zge(e==null?void 0:e.unit)}const Rr={mode:"absolute-height",offset:0},F$e={mode:"on-the-ground",offset:null};function R$e(e,t,i){return lo(e,t,i)}function vje(e){return e}function bje(e){return e}function Lu(e,t,i){return lo(e,t,i)}function gm(e){return $a(e)}function Kr(e,t,{coordinateHelper:i,elevationInfo:r}){return e?Kv(i.vectorToDehydratedPoint(e,N$e),t,r):null}function Kv(e,t,i){if(e==null)return null;if(t==null)return lo(e.x,e.y,e.z??0);if(t.type==="2d")return lo(e.x,e.y,0);const r=A$e(t,e,i,Rr)??0;return lo(e.x,e.y,r)}function wje(e,t){return Gm(e[0],e[1],e[2],t)}function IV(e,t,{z:i,m:r},s){const{spatialReference:c,elevationInfo:f}=s;let m;i==null&&r==null?m=void 0:t==null||t.type==="2d"?m=i??void 0:m=GQ(t,e,c,Rr,f)??0;const b=Gm(e[0],e[1],m,c);return r!=null&&(b.m=r,b.hasM=!0),b}const N$e=Gm(0,0,0,null);let gl=class extends $e{constructor(){super(...arguments),this.enabled=!0}};g([S({type:Boolean})],gl.prototype,"enabled",void 0),gl=g([Q("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],gl);let Bi=class extends $e{constructor(t){super(t),this.lineSnapper=new gl,this.parallelLineSnapper=new gl,this.rightAngleSnapper=new gl,this.rightAngleTriangleSnapper=new gl,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new ot([255,127,0]),this.orangeTransparent=new ot([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};g([S({type:gl,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Bi.prototype,"lineSnapper",void 0),g([S({type:gl,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Bi.prototype,"parallelLineSnapper",void 0),g([S({type:gl,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Bi.prototype,"rightAngleSnapper",void 0),g([S({type:gl,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Bi.prototype,"rightAngleTriangleSnapper",void 0),g([S({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Bi.prototype,"shortLineThreshold",void 0),g([S({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Bi.prototype,"distance",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Bi.prototype,"pointThreshold",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Bi.prototype,"intersectionParallelLineThreshold",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Bi.prototype,"parallelLineThreshold",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Bi.prototype,"verticalLineThresholdMeters",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Bi.prototype,"touchSensitivityMultiplier",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Bi.prototype,"pointOnLineThreshold",void 0),g([S({type:ot,nonNullable:!0})],Bi.prototype,"orange",void 0),g([S({type:ot,nonNullable:!0})],Bi.prototype,"orangeTransparent",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Bi.prototype,"lineHintWidthReference",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Bi.prototype,"lineHintWidthTarget",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Bi.prototype,"lineHintFadedExtensions",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Bi.prototype,"parallelLineHintWidth",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],Bi.prototype,"parallelLineHintLength",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],Bi.prototype,"parallelLineHintOffset",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],Bi.prototype,"rightAngleHintSize",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],Bi.prototype,"rightAngleHintOutlineSize",void 0),g([S({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],Bi.prototype,"satisfiesConstraintScreenThreshold",void 0),Bi=g([Q("esri.views.interactive.snapping.Settings.Defaults")],Bi);const Uc=new Bi;var Tn;(function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"})(Tn||(Tn={}));function $je(e,t,i){const r=Xt(e,t)/Xt(e,e);return En(i,e,r)}function qx(e,t){return Xt(e,t)/Os(e)}function j$e(e,t){const i=Xt(e,t)/(Os(e)*Os(t));return-OS(i)}function xje(e,t,i){jn(i5,e),jn(Bx,t);const r=Xt(i5,Bx),s=OS(r),c=co(i5,i5,Bx);return Xt(c,i)<0?2*Math.PI-s:s}const i5=Je(),Bx=Je();function DA(){return[1,0,0,0,1,0,0,0,1]}function D$e(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function V$e(e,t,i,r,s,c,f,m,b){return[e,t,i,r,s,c,f,m,b]}function z$e(e,t){return new Float64Array(e,t,9)}const U$e=DA();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:U$e,clone:D$e,create:DA,createView:z$e,fromValues:V$e},Symbol.toStringTag,{value:"Module"}));function VA(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function G$e(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function W$e(e,t,i,r,s,c,f,m,b,x,T,C,L,N,D,G){return[e,t,i,r,s,c,f,m,b,x,T,C,L,N,D,G]}function q$e(e,t){return new Float64Array(e,t,16)}const B$e=VA();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:B$e,clone:G$e,create:VA,createView:q$e,fromValues:W$e},Symbol.toStringTag,{value:"Module"}));function zA(){return[0,0,0,1]}function H$e(e){return[e[0],e[1],e[2],e[3]]}function J$e(e,t,i,r){return[e,t,i,r]}function Z$e(e,t){return new Float64Array(e,t,4)}const K$e=zA();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:K$e,clone:H$e,create:zA,createView:Z$e,fromValues:J$e},Symbol.toStringTag,{value:"Module"}));let Bm=class Af{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return this._itemsPtr===0&&Hy(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new Af(hn)}static createVec3f64(){return new Af(Je)}static createVec4f64(){return new Af(yp)}static createMat3f64(){return new Af(DA)}static createMat4f64(){return new Af(VA)}static createQuatf64(){return new Af(zA)}get test(){return{length:this._items.length}}};const Eje=Bm.createVec2f64(),In=Bm.createVec3f64(),Y$e=Bm.createVec4f64();Bm.createMat3f64();const Q$e=Bm.createMat4f64(),Tje=Bm.createQuatf64();function Ije(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],i=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],r=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}function Mje(e,t){const i=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),r=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),s=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return _r(e,i,r,s),e}function kje(e,t,i){i=i||e;const r=Xt(e,t);_r(i,e[0]-r*t[0],e[1]-r*t[1],e[2]-r*t[2]),jn(i,i)}function UA(e,t,i){Math.abs(e[0])>Math.abs(e[1])?_r(t,0,1,0):_r(t,1,0,0),co(i,e,t),co(t,i,e),jn(i,i),jn(t,t)}function Cje(e,t,i,r,s,c){const f=e+(t-e)*s;return f+(i+(r-i)*s-f)*c}function Aje(e,t,i,r=Je()){const s=Os(e),c=Os(t),f=Xt(e,t)/(s*c);if(f<.9999999999999999){const m=Math.acos(f),b=((1-i)*s+i*c)/Math.sin(m),x=b/s*Math.sin((1-i)*m),T=b/c*Math.sin(i*m);return En(Kf,e,x),En(Yf,t,T),xa(r,Kf,Yf)}return _2(r,e,t,i)}function Oje(e,t,i,r=Je(),s=Je()){const c=Os(e),f=Os(t),m=Xt(e,t)/(c*f);if(m<.9999999999999999){const b=Math.acos(m),x=Math.sin(b),T=Math.sin(i*b),C=Math.sin((1-i)*b),L=(1-i)*c+i*f;{const N=L/x,D=N/f*T;En(Kf,e,N/c*C),En(Yf,t,D),xa(r,Kf,Yf)}{const N=1/c*(-Math.cos((1-i)*b)*b*L+C*(-c+f));En(Kf,e,N);const D=1/f*(Math.cos(i*b)*b*L+T*(-c+f));En(Yf,t,D),xa(s,Kf,Yf),En(s,s,1/x)}return s}return _2(r,e,t,i),fr(s,t,e),jn(s,s),s}function Lje(e,t,i){e=jn(Kf,e),t=jn(Yf,t);const r=OS(Xt(e,t));if(i){const s=co(X$e,e,t);if(Xt(s,i)<0)return-r}return r}function Pje(e){const t=e.length;return i=>{if(i<=e[0][0])return e[0][1];if(i>=e[t-1][0])return e[t-1][1];let r=1;for(;i>e[r][0];)r++;const s=e[r-1][0],c=e[r][0],f=(c-i)/(c-s);return f*e[r-1][1]+(1-f)*e[r][1]}}function Fje(e,t,i,r){fr(MV,t,e),fr(kV,i,e),co(r,MV,kV),jn(r,r),r[3]=-Xt(e,r)}function Rje(e,t){if(_r(t,0,0,0),e.length>0){for(let i=0;i<e.length;++i)xa(t,t,e[i]);En(t,t,1/e.length)}}const MV=Je(),kV=Je(),X$e=Je(),Kf=Je(),Yf=Je();function fo(e=Yv){return[e[0],e[1],e[2],e[3]]}function Nje(e=Yv[0],t=Yv[1],i=Yv[2],r=Yv[3]){return qQ(e,t,i,r,Y$e.get())}function e6e(e,t){return qQ(t[0],t[1],t[2],t[3],e)}function jje(e){return e}function qQ(e,t,i,r,s=fo()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function Dje(e,t,i){return Iu(i,e),i[3]=t,i}function H2(e,t,i){const r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return i[0]=t[0]*s,i[1]=t[1]*s,i[2]=t[2]*s,i[3]=-(i[0]*e[0]+i[1]*e[1]+i[2]*e[2]),i}function BQ(e,t,i,r=fo()){const s=i[0]-t[0],c=i[1]-t[1],f=i[2]-t[2],m=e[0]-t[0],b=e[1]-t[1],x=e[2]-t[2],T=c*x-f*b,C=f*m-s*x,L=s*b-c*m,N=T*T+C*C+L*L,D=Math.abs(N-1)>1e-5&&N>1e-12?1/Math.sqrt(N):1;return r[0]=T*D,r[1]=C*D,r[2]=L*D,r[3]=-(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]),r}function HQ(e,t,i,r=0,s=Math.floor(i*(1/3)),c=Math.floor(i*(2/3))){if(i<3)return!1;t(Jg,r);let f=s,m=!1;for(;f<i-1&&!m;)t(b1,f),f++,m=!Ni(Jg,b1);if(!m)return!1;for(f=Math.max(f,c),m=!1;f<i&&!m;)t(zf,f),f++,fr(r5,Jg,b1),jn(r5,r5),fr(n5,b1,zf),jn(n5,n5),m=!Ni(Jg,zf)&&!Ni(b1,zf)&&Math.abs(Xt(r5,n5))<t6e;return m?(BQ(Jg,b1,zf,e),!0):(r!==0||s!==1||c!==2)&&HQ(e,t,i,0,1,2)}function Vje(e,t,i=!0){const r=t.length/3;return HQ(e,(s,c)=>_r(s,t[3*c+0],t[3*c+1],t[3*c+2]),i?r-1:r)}const t6e=.99619469809,Jg=Je(),b1=Je(),zf=Je(),r5=Je(),n5=Je();function zje(e,t,i){return t!==e&&e6e(e,t),e[3]=-Xt(e,i),e}function Uje(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Gje(e,t,i,r){return co(zf,t,e),H2(i,zf,r)}function JQ(e,t,i,r){return M9(e,t,fr(In.get(),i,t),n6e,r)}function Wje(e,t,i){return t!=null&&M9(e,t.origin,t.direction,s6e,i)}function qje(e,t,i){return M9(e,t.origin,t.vector,_u.NONE,i)}function Bje(e,t,i){return M9(e,t.origin,t.vector,_u.CLAMP,i)}function i6e(e,t){return J2(e,t)>=0}function Hje(e,t){const i=Xt(e,t.ray.direction),r=-J2(e,t.ray.origin);if(r<0&&i>=0)return!1;if(i>-1e-6&&i<1e-6)return r>0;if((r<0||i<0)&&!(r<0&&i<0))return!0;const s=r/i;return i>0?s<t.c1&&(t.c1=s):s>t.c0&&(t.c0=s),t.c0<=t.c1}function Jje(e,t){const i=Xt(e,t.ray.direction),r=-J2(e,t.ray.origin);if(i>-1e-6&&i<1e-6)return r>0;const s=r/i;return i>0?s<t.c1&&(t.c1=s):s>t.c0&&(t.c0=s),t.c0<=t.c1}function ZQ(e,t,i){const r=En(In.get(),e,-e[3]),s=r6e(e,fr(In.get(),t,r),In.get());return xa(i,s,r),i}function Zje(e,t,i,r){const s=e,c=In.get(),f=In.get();UA(s,c,f);const m=fr(In.get(),i,t),b=qx(c,m),x=qx(f,m),T=qx(s,m);return _r(r,b,x,T)}function r6e(e,t,i){const r=En(In.get(),e,Xt(e,t));return fr(i,t,r),i}function ak(e,t){return Math.abs(J2(e,t))}function J2(e,t){return Xt(e,t)+e[3]}function M9(e,t,i,r,s){const c=Xt(e,i);if(c===0)return!1;let f=-(Xt(e,t)+e[3])/c;return r&_u.CLAMP&&(f=Rn(f,0,1)),!(!(r&_u.INFINITE_MIN)&&f<0||!(r&_u.INFINITE_MAX)&&f>1)&&(xa(s,t,En(s,i,f)),!0)}const Yv=[0,0,1,0];var _u;(function(e){e[e.NONE=0]="NONE",e[e.CLAMP=1]="CLAMP",e[e.INFINITE_MIN=4]="INFINITE_MIN",e[e.INFINITE_MAX=8]="INFINITE_MAX"})(_u||(_u={}));const n6e=_u.INFINITE_MIN|_u.INFINITE_MAX,s6e=_u.INFINITE_MAX;let o6e=class{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&Hy(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*CV);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,CV));t++)this._items.push(this._allocator())}};const CV=1024;function k9(e){return e?AV($a(e.origin),$a(e.direction)):AV(Je(),Je())}function AV(e,t){return{origin:e,direction:t}}function Yje(e,t){return o0(e.origin,t.origin)&&o0(e.direction,t.direction)}function Qje(e,t){const i=c6e.get();return i.origin=e,i.direction=t,i}function Xje(e,t=k9()){return l6e(e.origin,e.direction,t)}function a6e(e,t,i=k9()){return Iu(i.origin,e),fr(i.direction,t,e),i}function l6e(e,t,i=k9()){return Iu(i.origin,e),Iu(i.direction,t),i}function eDe(e,t){const i=co(In.get(),jn(In.get(),e.direction),fr(In.get(),t,e.origin));return Xt(i,i)}function u6e(e,t,i){const r=Xt(e.direction,fr(i,t,e.origin));return xa(i,e.origin,En(i,e.direction,r)),i}const c6e=new o6e(()=>k9()),h6e=GA();function GA(){return yp()}const KQ=r9,d6e=r9;function YQ(e,t){return O4(t,e)}function QQ(e,t){return eh(e[0],e[1],e[2],t)}function p6e(e){return e}function f6e(e){e[0]=e[1]=e[2]=e[3]=0}function y6e(e,t){return e[0]=e[1]=e[2]=0,e[3]=t,e}function C9(e){return e[3]}function m6e(e){return e}function g6e(e,t,i,r){return eh(e,t,i,r)}function v6e(e,t,i){return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),i[3]=e[3]+t,i}function b6e(e,t,i){return ke.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),e!==i&&YQ(e,i),i}function A9(e,t,i){if(t==null||!eX(e,t,iS))return!1;let{t0:r,t1:s}=iS;if((r<0||s<r&&s>0)&&(r=s),r<0)return!1;if(i){const{origin:c,direction:f}=t;i[0]=c[0]+f[0]*r,i[1]=c[1]+f[1]*r,i[2]=c[2]+f[2]*r}return!0}function XQ(e,t,i){const r=a6e(t,i);if(!eX(e,r,iS))return[];const{origin:s,direction:c}=r,{t0:f,t1:m}=iS,b=x=>{const T=Je();return ln(T,s,c,x),O9(e,T,T)};return Math.abs(f-m)<Nn()?[b(f)]:[b(f),b(m)]}const iS={t0:0,t1:0};function eX(e,t,i){const{origin:r,direction:s}=t,c=w6e;c[0]=r[0]-e[0],c[1]=r[1]-e[1],c[2]=r[2]-e[2];const f=s[0]*s[0]+s[1]*s[1]+s[2]*s[2];if(f===0)return!1;const m=2*(s[0]*c[0]+s[1]*c[1]+s[2]*c[2]),b=m*m-4*f*(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]-e[3]*e[3]);if(b<0)return!1;const x=Math.sqrt(b);return i.t0=(-m-x)/(2*f),i.t1=(-m+x)/(2*f),!0}const w6e=Je();function _6e(e,t){return A9(e,t,null)}function S6e(e,t,i){if(A9(e,t,i))return i;const r=tX(e,t,In.get());return xa(i,t.origin,En(In.get(),t.direction,Im(t.origin,r)/Os(t.direction))),i}function tX(e,t,i){const r=In.get(),s=Q$e.get();co(r,t.origin,t.direction);const c=C9(e);co(i,r,t.origin),En(i,i,1/Os(i)*c);const f=iX(e,t.origin),m=j$e(t.origin,i);return gW(s,m+f,r),lW(i,i,s),i}function $6e(e,t,i){return A9(e,t,i)?i:(u6e(t,e,i),O9(e,i,i))}function O9(e,t,i){const r=fr(In.get(),t,e),s=En(In.get(),r,e[3]/Os(r));return xa(i,s,e)}function x6e(e,t){const i=fr(In.get(),t,e),r=AS(i),s=e[3]*e[3];return Math.sqrt(Math.abs(r-s))}function iX(e,t){const i=fr(In.get(),t,e),r=Os(i),s=C9(e),c=s+Math.abs(s-r);return OS(s/c)}const Hx=Je();function rX(e,t,i,r){const s=fr(Hx,t,e);switch(i){case Wd.X:{const c=lR(s,Hx)[2];return _r(r,-Math.sin(c),Math.cos(c),0)}case Wd.Y:{const c=lR(s,Hx),f=c[1],m=c[2],b=Math.sin(f);return _r(r,-b*Math.cos(m),-b*Math.sin(m),Math.cos(f))}case Wd.Z:return jn(r,s);default:return}}function nX(e,t){const i=fr(lk,t,e);return Os(i)-e[3]}function E6e(e,t,i,r){const s=nX(e,t),c=rX(e,t,Wd.Z,lk),f=En(lk,c,i-s);return xa(r,t,f)}function T6e(e,t){const i=v0(e,t),r=C9(e);return i<=r*r}function I6e(e,t,i=yp()){const r=Im(e,t),s=e[3],c=t[3];return r+c<s?(O4(i,e),i):r+s<c?(O4(i,t),i):(_2(i,e,t,(r+c-s)/(2*r)),i[3]=(r+s+c)/2,i)}const lk=Je(),M6e=GA(),tDe=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:h6e,altitudeAt:nX,angleToSilhouette:iX,axisAt:rX,clear:f6e,closestPoint:$6e,closestPointOnSilhouette:tX,containsPoint:T6e,copy:YQ,create:GA,distanceToSilhouette:x6e,elevate:v6e,equals:d6e,exactEquals:KQ,fromCenterAndRadius:QQ,fromRadius:y6e,fromValues:g6e,getCenter:m6e,getRadius:C9,intersectLine:XQ,intersectRay:A9,intersectRayClosestSilhouette:S6e,intersectsRay:_6e,projectPoint:O9,setAltitudeAt:E6e,setExtent:b6e,tmpSphere:M6e,union:I6e,wrap:p6e},Symbol.toStringTag,{value:"Module"}));function Jx(e,t){return e[0]*t[1]-e[1]*t[0]}function k6e(e,t,i){const r=gp(i,t)/Ou(i);return EK(e,i,r)}function Zx(e,t,i,r,s=i){return Qr(s0,r,i),Qr(rS,t,s),k6e(vm,rS,s0),SK(e,s,vm)}function C6e(e,t,i,r){Qr(s0,t,i);const s=r/m9(s0);return _a(e,i,s0,s)}function iDe(e,t){const i=e.start,r=e.end,s=t.start,c=t.end,f=Qr(s0,r,i),m=Qr(sX,c,s),b=Jx(f,m);if(Math.abs(b)<=O6e)return[];const x=Qr(rS,i,s),T=Jx(m,x)/b,C=Jx(f,x)/b;if(T>=0){if(C>=0||t.type===ir.LINE)return[_a(vm,i,f,T)]}else if(e.type===ir.LINE&&(C>=0||t.type===ir.LINE))return[_a(vm,i,f,T)];return[]}function A6e(e,t,i){const r=[],s=Qr(s0,e.end,e.start),c=Qr(sX,e.start,t),f=Ou(s),m=2*gp(s,c),b=m*m-4*f*(Ou(c)-i*i);if(b===0){const x=-m/(2*f);(e.type===ir.LINE||x>=0)&&r.push(_a(vm,e.start,s,x))}else if(b>0){const x=Math.sqrt(b),T=(-m+x)/(2*f);(e.type===ir.LINE||T>=0)&&r.push(_a(vm,e.start,s,T));const C=(-m-x)/(2*f);(e.type===ir.LINE||C>=0)&&r.push(_a(rS,e.start,s,C))}return r}var ir;(function(e){e[e.RAY=0]="RAY",e[e.LINE=1]="LINE"})(ir||(ir={}));const O6e=1e-6,s0=hn(),sX=hn(),rS=hn(),vm=hn();function WA({start:e,end:t,type:i},r,s){const c=[],f=Qr(Z2,t,e),m=Qr(L9,e,r),b=Ou(f),x=2*gp(f,m),T=x*x-4*b*(Ou(m)-s*s);if(T===0){const C=-x/(2*b);(i===qo.PLANE||C>=0)&&c.push(_a(hn(),e,f,C))}else if(T>0){const C=Math.sqrt(T),L=(-x+C)/(2*b);(i===qo.PLANE||L>=0)&&c.push(_a(hn(),e,f,L));const N=(-x-C)/(2*b);(i===qo.PLANE||N>=0)&&c.push(_a(hn(),e,f,N))}return c}function oX(e,t){const i=e.start,r=e.end,s=Qr(Z2,r,i),c=_r(F9,-s[1],s[0],0),f=t.start,m=t.end,b=so(HA,m,f),x=Xt(b,c),T=_r(pX,i[0],i[1],0),C=so(fX,T,f),L=Xt(C,c),N=Nn();if(Math.abs(x)<N)return[];const D=ln(yX,f,b,L/x);if(t.type===ir.RAY){const G=so(uk,D,f);if(Xt(G,b)<-N)return[]}if(e.type===qo.HALF_PLANE){const G=kK(L9,D,i);if(gp(G,s)<-N)return[]}return[$a(D)]}function L6e(e,t){return F6e(nS(JA,t[2],e),t)}function aX(e,t){return hX(nS(JA,0,e),nS(D6e,0,t)).map(([r,s])=>Bd(r,s))}function lX(e,t){return qA(e,nS(JA,e[2],t))}function uX(e,t,i){const r=Qr(Z2,e,t),s=m9(r),c=s===0?1:i/s,f=Je();return _a(f,t,r,c),f[2]=e[2],f}function qA(e,{start:t,end:i,type:r},s=Je()){const c=so(P9,e,t),f=so(F9,i,t),m=Xt(c,f)/Xt(f,f);return ln(s,t,f,r===ir.RAY?Math.max(m,0):m)}const P6e=(()=>{const e=Je(),t=Je(),i=Je();return({start:r,end:s},{center:c,radius:f,normal:m,slicePlane:b})=>{const x=H2(c,m,j6e);if(zi(ak(x,r),0)&&zi(ak(x,s),0)){UA(m,e,t);const C=(D,G)=>(fr(i,G,c),dA(D,Xt(i,e),Xt(i,t)),D),L=A6e({start:C(Z2,r),end:C(L9,s),type:ir.LINE},PK,f),N=[];for(const[D,G]of L){const q=Iu(Je(),c);ln(q,q,e,D),ln(q,q,t,G),b&&!Kd(b,q)||N.push(q)}return N}const T=Je();return JQ(x,r,s,T)?!zi(Im(T,c),f)||b&&!Kd(b,T)?[]:[T]:[]}})();function cX({start:e,end:t,type:i},r,s){const c=[],f=fr(P9,t,e),m=Qr(L9,e,r),b=Ou(f),x=2*gp(f,m),T=x*x-4*b*(Ou(m)-s*s);if(T===0){const C=-x/(2*b);(i===ir.LINE||C>=0)&&c.push(ln(Je(),e,f,C))}else if(T>0){const C=Math.sqrt(T),L=(-x+C)/(2*b);(i===ir.LINE||L>=0)&&c.push(ln(Je(),e,f,L));const N=(-x-C)/(2*b);(i===ir.LINE||N>=0)&&c.push(ln(Je(),e,f,N))}return c}function hX(e,t){const i=e.start,r=e.end,s=t.start,c=t.end,f=so(P9,r,i),m=so(F9,c,s),b=so(HA,s,i),x=co(pX,f,m);if(!zi(Xt(b,x),0))return[];const T=m4(x);if(zi(T,0))return[];const C=co(fX,b,m),L=Xt(C,x)/T,N=ln(yX,i,f,L);if(e.type===ir.RAY){const D=so(uk,N,i);if(Xt(f,D)<-Nn())return[]}if(t.type===ir.RAY){const D=so(uk,N,s);if(Xt(m,D)<-Nn())return[]}return[$a(N)]}function F6e({start:e,end:t,type:i},r){const s=so(P9,r,e),c=so(F9,t,e),f=co(HA,c,s),m=m4(f)/m4(c),b=Nn();if(m<b)switch(i){case ir.LINE:return[$a(r)];case ir.RAY:return Xt(c,s)<-b?[]:[$a(r)]}return[]}function BA(e,t,i,r){const[s,c]=e,[f,m]=i,b=f-s,x=m-c,T=b*b+x*x,C=Math.sqrt(T);if(C>t+r)return[];if(C<Math.abs(t-r))return[];if(zi(C,0)&&zi(t,r))return[];const L=(t*t-r*r+T)/(2*C),N=Math.sqrt(t*t-L*L),D=N*x/C,G=N*b/C,[q,J]=pA(Z2,e,i,L/C);return zi(D,G)?[Bd(q,J)]:[Bd(q+D,J-G),Bd(q-D,J+G)]}function nS(e,t,{start:i,end:r,type:s}){return _r(e.start,i[0],i[1],t),_r(e.end,r[0],r[1],t),e.type=N6e[s],e}function dX(e,t){return zi(e[2],t[2])}function zi(e,t){return M5(Math.abs(e-t),0,Nn())}function R6e(e,t){return t.filter(i=>Kd(e,i))}function Kd(e,t){return i6e(e,t)}var qo;(function(e){e[e.PLANE=0]="PLANE",e[e.HALF_PLANE=1]="HALF_PLANE"})(qo||(qo={}));const N6e={[qo.PLANE]:ir.LINE,[qo.HALF_PLANE]:ir.RAY},Z2=hn(),L9=hn(),P9=Je(),F9=Je(),HA=Je(),pX=Je(),fX=Je(),yX=Je(),uk=Je(),j6e=fo(),JA={start:Je(),end:Je(),type:ir.LINE},D6e={start:Je(),end:Je(),type:ir.LINE};class Ml{intersect(t){return vc(this,t)}closestPoints(t){return[this.closestTo(t)]}}class Hm extends Ml{constructor(t){super(),this.point=t}equals(t){return this===t||ll(t)&&Ni(this.point,t.point)}closestTo(){return gm(this.point)}}class ZA extends Ml{constructor(t,i,r){super(),this.start=t,this.end=i,this.lineLike={start:t,end:i,type:r}}equals(t){return this===t||lu(t)&&this.lineLike.type===t.lineLike.type&&Ni(this.start,t.start)&&Ni(this.end,t.end)}closestTo(t){const i=qA(t,this.lineLike);return i}}class KA extends ZA{constructor(t,i){super(t,i,ir.LINE)}}class V6e extends ZA{constructor(t,i){super(t,i,ir.RAY)}}class mX extends Ml{constructor(t){super(),this.constraints=t}equals(t){return this===t||ck(t)&&o0(this.constraints,t.constraints,(i,r)=>i.equals(r))}closestTo(t){let i,r=1/0;for(const s of this.constraints){const c=s.closestTo(t),f=v0(t,c);f<r&&(r=f,i=c)}return i?gm(i):t}closestPoints(t){return this.constraints.flatMap(i=>i===this?[]:i.closestPoints(t))}}class gX extends Ml{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||cu(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const i=uX(t,this.center,this.radius);return i}}class YA extends Ml{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||wc(t)&&Ni(this.center,t.center)&&this.radius===t.radius}closestTo(t){const i=uX(t,this.center,this.radius);return i[2]=this.center[2],i}asCircle(){return new QA(gm(this.center),this.radius,Lu(0,0,1))}}class QA extends Ml{constructor(t,i,r,s=void 0){super(),this.center=t,this.radius=i,this.normal=r,this.slicePlane=s}equals(t){return this===t||hd(t)&&Ni(this.center,t.center)&&Ni(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:i,radius:r}=this;ZQ(this.getPlane(z6e),t,Kx);const s=so(Kx,Kx,i),c=AS(s);if(zi(c,0))return gm(t);const f=r/Math.sqrt(c),m=ln(Je(),i,s,f),{slicePlane:b}=this;if(b&&!Kd(b,m)){const x=eO(b,this);return(x==null?void 0:x.closestTo(t))??gm(t)}return m}getPlane(t=fo()){return H2(this.center,this.normal,t)}}const Kx=Je(),z6e=fo();class U6e extends Ml{constructor(t){super(),this.z=t}equals(t){return this===t||bc(t)&&this.z===t.z}closestTo(t){return lo(t[0],t[1],this.z)}getPlane(t=fo()){return _r(OV,0,0,this.z),H2(OV,sW,t)}}const OV=Je();class XA extends Ml{constructor(t,i,r){super(),this.start=t,this.end=i,this.planeLike={start:t,end:i,type:r}}equals(t){return this===t||uu(t)&&this.planeLike.type===t.planeLike.type&&Ni(this.start,t.start)&&Ni(this.end,t.end)}closestTo(t){return lX(t,this.planeLike)}closestEndTo(t){const{start:i,end:r}=this.planeLike;return Math.sign(gp(Qr(G6e,r,i),Qr(W6e,t,i)))>0?this.end:this.start}getPlane(t=fo()){const i=Iu(LV,this.end);return i[2]+=1,BQ(this.start,this.end,i,t)}getSlicePlane(t=fo()){const{start:i,end:r,type:s}=this.planeLike;if(s===qo.PLANE)return;const c=_r(LV,i[0],i[1],0),f=_r(PV,r[0],r[1],0),m=fr(PV,f,c);return H2(c,m,t),t}}const G6e=hn(),W6e=hn(),LV=Je(),PV=Je();class vX extends XA{constructor(t,i){super(t,i,qo.HALF_PLANE)}}class bX extends XA{constructor(t,i){super(t,i,qo.PLANE)}}class q6e extends Ml{constructor(t,i){super(),this.sphere=QQ(t,i)}equals(t){return this===t||_c(t)&&KQ(this.sphere,t.sphere)}closestTo(t){const i=O9(this.sphere,t,Je());return i}get center(){return this.sphere}get radius(){return this.sphere[3]}}class wX extends Ml{constructor(t,i,r){super(),this.start=t,this.end=i,this.getZ=r,this.planeLike={start:t,end:i,type:qo.PLANE}}equals(t){return this===t||sS(t)&&Ni(this.start,t.start)&&Ni(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return K6e(this,t)}addIfOnTheGround(t,i){for(const r of i){const s=this.getZ(r[0],r[1])??0;zi(r[2],s)&&(r[2]=s,t.push(r))}}}class B6e extends Ml{constructor(t,i,r,s,c){super(),this._origin=t,this._spatialReference=i,this._distanceMeters=r,this._elevationMeters=s,this._directionDegrees=c}equals(t){return this===t||hxe(t)&&MK(this._origin,t._origin)&&this._distanceMeters===t._distanceMeters&&this._elevationMeters===t._elevationMeters&&this._directionDegrees===t._directionDegrees}closestTo([t,i,r]){if(dA(Fh,t,i),this._directionDegrees!=null&&this._distanceMeters!=null)Hd(Fh,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(this._directionDegrees!=null)J6e(Fh,this._origin,this._directionDegrees,Fh,this._spatialReference);else if(this._distanceMeters!=null){const{azimuth:s}=vp(H6e,this._origin,Fh,this._spatialReference);Hd(Fh,this._origin,s??0,this._distanceMeters,this._spatialReference)}return R$e(Fh[0],Fh[1],this._elevationMeters??r)}}const Fh=[0,0],H6e=new Wm;function J6e(e,t,i,r,s){let{azimuth:c,distance:f}=vp(Z6e,t,r,s);c??(c=0);let m=f*Math.cos((c-i)*Ts);m=Math.max(0,m),Hd(e,t,i,m,s)}const Z6e=new Wm;function K6e(e,t){const i=lX(t,e.planeLike);return i[2]=e.getZ(i[0],i[1])??SX,i}function vc(e,t){if(ck(e)){const i=[];for(const r of e.constraints){const s=r.intersect(t);s&&i.push(s)}return tO(i)}if(ck(t))return vc(t,e);if(sS(e))return FV(e,t);if(sS(t))return FV(t,e);if(ll(e)){const{point:i}=e;if(ll(t))return Ni(i,t.point)?e:void 0;const r=t.closestTo(i);return uW(r,i)?e:void 0}if(lu(e)){if(ll(t))return vc(t,e);if(lu(t))return vl(hX(e.lineLike,t.lineLike));if(bc(t))return Y6e(e,t);if(uu(t))return vl(oX(t.planeLike,e.lineLike));if(cu(t))return vl(cX(e.lineLike,t.center,t.radius));if(hd(t))return vl(P6e(e.lineLike,t));if(wc(t))return Q6e(e,t);if(_c(t))return X6e(e,t)}else if(bc(e)){if(ll(t)||lu(t))return vc(t,e);if(bc(t))return exe(e,t);if(uu(t))return txe(e,t);if(cu(t))return ixe(e,t);if(hd(t))return nxe(e,t);if(wc(t))return rxe(e,t);if(_c(t))return sxe(e,t)}else if(uu(e)){if(ll(t)||lu(t)||bc(t))return vc(t,e);if(uu(t))return Yx(aX(e.planeLike,t.planeLike));if(cu(t))return Yx(WA(e.planeLike,t.center,t.radius));if(hd(t))return axe(e,t);if(wc(t))return oxe(e,t);if(_c(t))return lxe(e,t)}else if(cu(e)){if(ll(t)||lu(t)||bc(t)||uu(t))return vc(t,e);if(cu(t))return Yx(BA(e.center,e.radius,t.center,t.radius));if(hd(t))return void 0;if(wc(t))return uxe(e,t);if(_c(t))return void 0}else if(hd(e)){if(ll(t)||lu(t)||bc(t)||uu(t)||cu(t))return vc(t,e);if(hd(t))return void 0;if(wc(t))return t.asCircle(),void 0;if(_c(t))return void 0}else if(wc(e)){if(ll(t)||lu(t)||bc(t)||uu(t)||cu(t)||hd(t))return vc(t,e);if(wc(t))return cxe(t,e);if(_c(t))return void 0}else if(_c(e)){if(ll(t)||lu(t)||bc(t)||uu(t)||cu(t)||wc(t))return vc(t,e);if(_c(t))return void 0}}const Y6e=(()=>{const e=fo();return(t,i)=>{const{start:r,end:s}=t;if(dX(r,s)&&zi(r[2],i.z))return t;const c=Je();return JQ(i.getPlane(e),r,s,c)?new Hm(c):void 0}})();function Q6e({lineLike:e},{center:t,radius:i}){const r=t[2];return vl(cX(e,t,i).filter(s=>zi(s[2],r)))}function X6e({lineLike:e},{sphere:t}){return vl(XQ(t,e.start,e.end))}const eO=(()=>{const e=yp(),t=Je(),i=Je();return(r,s,c)=>{const{normal:f,center:m,radius:b}=s;UA(f,t,i);const x=r,T=b*Xt(x,t),C=b*Xt(x,i);KH(e,m[0],m[1],m[2],1);const L=nJ(r,e),N=Math.hypot(T,C),D=zi(N,0);if(zi(ak(r,m),0)){if(D)return s;if(zi(b,0))return!c||Kd(c,m)?new Hm(gm(m)):void 0;co(t,x,f),jn(t,t);const ge=new Array,Ae=$a(m);ln(Ae,Ae,t,b),c&&!Kd(c,Ae)||ge.push(Ae);const Ce=$a(m);return ln(Ce,Ce,t,-b),c&&!Kd(c,Ce)||ge.push(Ce),vl(ge)}if(D)return;const G=-L/N;if(Math.abs(G)>1||zi(G,1))return;const q=Math.atan(T/C),J=F8(G)-q,ne=Math.PI-J,ue=new Array,ae=Je();ln(ae,m,t,b*Math.cos(J)),ln(ae,ae,i,b*Math.sin(J)),ue.push(ae);const pe=Je();return ln(pe,m,t,b*Math.cos(ne)),ln(pe,pe,i,b*Math.sin(ne)),ue.push(pe),vl(c?R6e(c,ue):ue)}})();function exe(e,t){return zi(e.z,t.z)?e:void 0}function txe({z:e},{planeLike:t}){const[i,r]=t.start,[s,c]=t.end,f=Lu(i,r,e),m=Lu(s,c,e);return t.type===qo.PLANE?new KA(f,m):new V6e(f,m)}function ixe(e,t){const[i,r]=t.center;return new YA(Lu(i,r,e.z),t.radius)}function rxe(e,t){return zi(t.center[2],e.z)?t:void 0}const nxe=(()=>{const e=fo();return(t,i)=>eO(t.getPlane(e),i,i.slicePlane)})();function sxe(e,{center:t,radius:i}){const r=Math.abs(t[2]-e.z);if(r>i&&!zi(r,i))return;const s=Lu(t[0],t[1],e.z),c=Math.sqrt(i**2-r**2);return zi(c,0)?void 0:new YA(s,c)}const oxe=(()=>{const e=fo();return(t,{center:i,radius:r})=>{const s=WA(t.planeLike,i,r),c=i[2];t.getSlicePlane(e);const f=new Array;for(const[m,b]of s){const x=[m,b,c];Kd(e,x)&&f.push(x)}return vl(f)}})(),axe=(()=>{const e=fo(),t=fo();return(i,r)=>eO(i.getPlane(e),r,i.getSlicePlane(t))})(),lxe=(()=>{const e=fo();return(t,{center:i,radius:r})=>{const s=t.getPlane(e),c=J2(s,i),f=Math.abs(c);if(f>r&&!zi(f,r))return;const m=$a(s),b=ln(Je(),i,m,c),x=Math.sqrt(r**2-c**2);return zi(x,0)?new Hm(ZQ(s,i,Je())):new QA(b,x,m,t.getSlicePlane())}})();function uxe(e,t){const i=Kc(e.center,t.center);return zi(i,0)&&zi(e.radius,t.radius)?t:_X(BA(e.center,e.radius,t.center,t.radius),t.center[2])}function cxe(e,t){if(!dX(e.center,t.center))return;const i=Kc(e.center,t.center);return zi(i,0)&&zi(e.radius,t.radius)?e:_X(BA(e.center,e.radius,t.center,t.radius),e.center[2])}function FV(e,t){const{planeLike:i,getZ:r}=e,s=new Array;if(ll(t))e.addIfOnTheGround(s,L6e(i,t.point));else if(lu(t))e.addIfOnTheGround(s,oX(i,t.lineLike));else if(cu(t))for(const[c,f]of WA(i,t.center,t.radius)){const m=r(c,f);m!=null&&s.push(lo(c,f,m))}else if(uu(t)||sS(t))for(const[c,f]of aX(i,t.planeLike)){const m=r(c,f)??SX;s.push(lo(c,f,m))}return vl(s)}function Yx(e){return tO(e.map(([t,i])=>{const r=Lu(t,i,0),s=Lu(t,i,1);return new KA(r,s)}))}function vl(e){return tO(e.map(t=>t?new Hm(t):void 0))}function _X(e,t){return vl(e.map(([i,r])=>[i,r,t]))}function tO(e){if(e.length!==0)return e.length===1?e[0]??void 0:new mX(e.filter(Yr))}function ck(e){return e instanceof mX}function ll(e){return e instanceof Hm}function lu(e){return e instanceof ZA}function bc(e){return e instanceof U6e}function uu(e){return e instanceof XA}function cu(e){return e instanceof gX}function wc(e){return e instanceof YA}function hd(e){return e instanceof QA}function _c(e){return e instanceof q6e}function sS(e){return e instanceof wX}function hxe(e){return e instanceof B6e}const SX=0;function dxe(e){var i;const t=e.layer;return"floorInfo"in t&&((i=t.floorInfo)!=null&&i.floorField)&&"floors"in e.view?$X(e.view.floors,t.floorInfo.floorField):null}function rDe(e,t){var i;return"floorInfo"in t&&((i=t.floorInfo)!=null&&i.floorField)?$X(e,t.floorInfo.floorField):null}function $X(e,t){if(!(e!=null&&e.length))return null;const i=e.filter(r=>r!=="").map(r=>`'${r}'`);return i.push("''"),`${t} IN (${i.join(",")}) OR ${t} IS NULL`}let pxe=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const s=t[r],c=new mU(s,void 0,void 0,2,2);this._properties[r]={pool:c,acquired:[]}}this._afterDispatchHandle=fne(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)CF(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)r.acquired.push(s),s=r.pool.acquire();return s}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const s of i.acquired)CF(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}};const fxe=Ee("mac")?"Meta":"Ctrl",yxe=new Set(["Alt","Ctrl","Meta","Shift","Primary"]),mxe=e=>yxe.has(e);let gxe=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}};const RV=()=>ke.getLogger("esri.views.input.InputHandler");let xX=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?RV().error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const c=typeof t=="string"?new gxe(t,s):t,f=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},m=T=>{const C=this._incoming[T.match.eventType];if(C){const L=C.indexOf(T);C.splice(L,1),f(),this._manager&&this._manager.updateDependencies()}},b=new vxe(c,r,{onPause:m,onRemove:m,onResume:T=>{const C=this._incoming[T.match.eventType];C&&!C.includes(T)&&(C.push(T),f(),this._manager&&this._manager.updateDependencies())}});let x=this._incoming[c.eventType];return x||(x=[],this._incoming[c.eventType]=x),x.push(b),f(),this._manager&&this._manager.updateDependencies(),b}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new bxe(t,{onEmit:(r,s,c,f)=>{var m;(m=this._manager)==null||m.emit(r.eventType,s,c,f)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):RV().error("This InputHandler is not registered with an InputManager")}_handleEvent(t){var r;const i=this._incoming[t.type];if(i){for(const s of i)if(s.match.matches(t)&&((r=s.callback)==null||r.call(s,t),t.shouldStopPropagation()))break}}},vxe=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},bxe=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},wxe=class extends xX{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>{this._update(i.data)})}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s}=t;i===this._value&&this._x===r&&this._y===s||(this._value=i,this._x=r,this._y=s,this._onChange(i,r,s))}},_xe=class{constructor(t,i){this._observable=new ES,this._value=t,this._equalityFunction=i}get value(){return It(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function Sxe(e,t=Yz){return new _xe(e,t)}let $xe=class extends xX{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Sxe(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},Da=class extends ht{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=fxe,this._latestPointerType="mouse",this._propertiesPool=new pxe({latestPointerLocation:Txe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=Xi.INTERNAL){if(this._nameToGroup[t])return void ke.getLogger(this).error("There is already an InputHandler group registered under the name `"+t+"`");if(i.length===0)return void ke.getLogger(this).error("Can't register a group of zero handlers");const s={name:t,handlers:i.map(c=>({handler:c,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let c=s.handlers.length-1;c>=0;c--){const f=s.handlers[c];this._handlers.push(f),f.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(m,b,x,T,C)=>{this._emitInputEvent(f.priorityIndex+1,m,b,x,C,T)},setPointerCapture:(m,b)=>{this._setPointerCapture(s,f,m,b)},setEventCallback:m=>{f.eventCallback=m},setUninstallCallback:m=>{f.uninstallCallback=m},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ke.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers&&this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let c=s.handler.hasSideEffects;if(!c){for(const f of s.handler.outgoingEventTypes)if(t.has(f)){c=!0;break}}if(c)for(const f of s.handler.incomingEventMatches){t.add(f.eventType);for(const m of f.keyModifiers)mxe(m)||i.add(m)}s.active=c}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r){this._latestPointerType=t;const s=this._get("latestPointerLocation");if(s==null||s.x!==i||s.y!==r){const c=this._propertiesPool.get("latestPointerLocation");c.x=i,c.y=r,this._set("latestPointerLocation",c)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const c=i;this._pointerCaptures.delete(c.native.pointerId)}this._updateKeyModifiers(t,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,s=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,r,s)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const s=()=>{if(!r){const m=new Set;this._activeKeyModifiers.forEach(b=>{m.add(b)}),this._activeKeyModifiers=m,r=!0}},c=(m,b)=>{b&&!this._activeKeyModifiers.has(m)?(s(),this._activeKeyModifiers.add(m)):!b&&this._activeKeyModifiers.has(m)&&(s(),this._activeKeyModifiers.delete(m))};if(t==="key-down"||t==="key-up"){const m=i.key;this._keyModifiers.has(m)&&c(m,t==="key-down")}const f=i.native;c("Alt",!(!f||!f.altKey)),c("Ctrl",!(!f||!f.ctrlKey)),c("Shift",!(!f||!f.shiftKey)),c("Meta",!(!f||!f.metaKey)),c("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new wxe((t,i,r)=>this._setLatestPointer(t,i,r)),this._multiTouchHandler=new $xe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Xi.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Xi.INTERNAL)}_setPointerCapture(t,i,r,s){const c=t.name+"-"+i.priorityIndex,f=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,f),s?(f.add(c),f.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):f.has(c)&&(f.delete(c),f.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,s){this._emitInputEvent(0,t,i,r,s)}_emitInputEvent(t,i,r,s,c,f){const m=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),b=c!==void 0&&c,x={event:new xxe(i,r,m,f||this._activeKeyModifiers,b),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(x):this._doNewPropagation(x)}_doNewPropagation(t){this._currentPropagation={events:new e2,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:c,priorityIndex:f}=t.events.pop(),m=(i=c.data)==null?void 0:i.eventId;if(!(m!=null&&this._stoppedPropagationEventIds.has(m)))for(t.currentHandler=this._handlersPriority[f];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!c.shouldStopPropagation()&&((s=(r=t.currentHandler).eventCallback)==null||s.call(r,c)),c.shouldStopPropagation()){m!=null&&this._stoppedPropagationEventIds.add(m);break}if(c.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:c,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new e2;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const c=r.keyModifiers.filter(f=>s.keyModifiers.includes(f));if(c.length===r.keyModifiers.length!=(c.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get debug(){const t=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{t(()=>{this._onEventReceived(i,r)})},disablePointerCapture:t}}};g([S({readOnly:!0})],Da.prototype,"hasPendingInputs",null),g([S({constructOnly:!0})],Da.prototype,"eventSource",void 0),g([S({constructOnly:!0})],Da.prototype,"recognizers",void 0),g([S()],Da.prototype,"_latestPointerType",void 0),g([S()],Da.prototype,"latestPointerType",null),g([S()],Da.prototype,"multiTouchActive",null),g([S({readOnly:!0})],Da.prototype,"latestPointerLocation",void 0),g([S()],Da.prototype,"_paused",void 0),g([S({readOnly:!0})],Da.prototype,"updating",null),Da=g([Q("esri.views.input.InputManager")],Da);let xxe=class{constructor(t,i,r,s,c){this.type=t,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=c,this._propagationState=Sd.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Sd.STOPPED}shouldStopPropagation(){return(this._propagationState&Sd.STOPPED)!=0}async(t){this._propagationState|=Sd.PAUSED;const i=(r,s)=>{this._propagationState&=~Sd.PAUSED;const c=this._resumeCallback;if(this._resumeCallback=null,c&&c(),s)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(this._propagationState&Sd.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Sd;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Sd||(Sd={}));const Xi={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let Exe=class{};const Txe=Exe,Er={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},NV={toggle:"Control"},yDe={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"};function N0(e,t){const i=e.x-t.x,r=e.y-t.y;return i*i+r*r}function Ixe(e,t){return Math.sqrt(N0(e,t))}function iO(e,t){t.sort((i,r)=>v0(i.targetPoint,e)-v0(r.targetPoint,e))}var Ia;function mDe({point:e,distance:t,returnEdge:i,vertexMode:r,coordinateHelper:{spatialReference:s},filter:c},f,m){return m=m!=null?m.clone():new ih({where:"1=1"}),c&&(m.geometry=c.geometry,m.distance=c.distance,m.spatialRelationship=c.spatialRelationship,m.where=zS(m.where,c.where),m.timeExtent=Sge(m.timeExtent,c.timeExtent),m.objectIds=Mxe(m.objectIds,c.objectIds)),{point:Gm(e[0],e[1],e[2],s.toJSON()),mode:f,distance:t,returnEdge:i,vertexMode:r,query:m.toJSON()}}function Mxe(e,t){return e||t?t?e?Array.from(EU(new Set(e),new Set(t))):t:e:null}function oS(e,t,i){return{left:Kr(e.leftVertex.pos,t,i),right:Kr(e.rightVertex.pos,t,i)}}function gDe(e){return e.createQuery()}(function(e){e[e.TARGET=0]="TARGET",e[e.REFERENCE=1]="REFERENCE",e[e.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"})(Ia||(Ia={}));const jV=Symbol("snapping-toggle");function kxe(e,t=()=>{}){const i=Ze(()=>({view:e.view,snappingOptions:e.snappingOptions}),({view:r,snappingOptions:s})=>{if(e.removeHandles(jV),!r||!s)return;const c=Xi.TOOL,f=[r.on("key-down",m=>{m.key!==NV.toggle||m.repeat||(s.enabledToggled=!0,t())},c),r.on("key-up",m=>{m.key===NV.toggle&&(s.enabledToggled=!1,t())},c),r.on("pointer-move",m=>{const b=m.native.ctrlKey;s.enabledToggled!==b&&(s.enabledToggled=b,t())},c)];e.addHandles(f,jV)},Is);e.addHandles(i)}function DV(e){var t;return yZ(e)&&"utilityNetworks"in e&&!!((t=e.utilityNetworks)!=null&&t.length)}function EX(e){return e&&typeof e.highlight=="function"}function vDe(e){return e&&typeof e.maskOccludee=="function"}function Cxe(e,t,i){return e==null||e>i&&(t===0||e<t)}function bDe(e,t){return e!=null&&e>0||t!=null&&t>0}function wDe(e){const t=e.effectiveScaleRange;return{minScale:(t==null?void 0:t.minScale)??0,maxScale:(t==null?void 0:t.maxScale)??0}}function _De(e){return e!=null&&typeof e=="object"&&"createQuery"in e&&"queryFeatures"in e&&"layer"in e&&"view"in e}let ua=class extends ht{get layerView(){var t,i;return(i=(t=this.view)==null?void 0:t.allLayerViews)==null?void 0:i.find(r=>r.layer===this.layer)}get valid(){return this._valid}get subtypeFilter(){var c,f;const{layer:t,snappingSource:i}=this;if(!sv(t)||!((c=t.subtypes)!=null&&c.length))return{mode:"not-in-use",filter:null};const r=i.layerSource.sublayerSources.filter(m=>{var b;return m.enabled&&m.layer.visible&&Cxe((b=this.view)==null?void 0:b.scale,m.layer.effectiveScaleRange.minScale,m.layer.effectiveScaleRange.maxScale)}).map(m=>m.layer.subtypeCode);if(!r.length)return{mode:"none-visible",filter:null};if(r.length===t.subtypes.length)return{mode:"all-visible",filter:null};const s=((f=t.fieldsIndex.get(t.subtypeField))==null?void 0:f.name)??t.subtypeField;return r.length===1?{mode:"in-use",filter:`${s} = ${r.getItemAt(0)}`}:{mode:"in-use",filter:`${s} IN (${r.join(", ")})`}}get floorFilter(){const{view:t,layer:i}=this;return t&&i?dxe({view:t,layer:i}):null}constructor(t){super(t),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:t,snappingSource:i}=this;if("refresh"in t){const r=t;this.addHandles(r.on("refresh",()=>i.refresh()))}this.loadRules(),this.addHandles([Ze(()=>i.updating,r=>i.layerSource.updating=r,Is),Ze(()=>i.availability,r=>i.layerSource.availability=r,Is)])}getFetchCandidatesParameters(t,i,r){var L,N,D,G,q;if(!this.valid)return[];const{layer:s,layerView:c,floorFilter:f,rulesTable:m,subtypeFilter:b}=this,x={distance:r,mode:((L=this.view)==null?void 0:L.type)??"2d",point:t,coordinateHelper:i.coordinateHelper,...this._types,filter:c&&"filter"in c?c.filter:null};if(f&&(x.filter=Qx(x.filter,f)),b.mode!=="not-in-use"&&b.mode!=="all-visible"){if(b.mode==="none-visible")return[];x.filter?x.filter.where=zS(x.filter.where,b.mode):x.filter=new _b({where:b.filter})}const T=i.feature,C=((N=T==null?void 0:T.sourceLayer)==null?void 0:N.type)==="subtype-sublayer"?T.sourceLayer.parent:T==null?void 0:T.sourceLayer;if(m&&T&&DV((D=this.view)==null?void 0:D.map)&&(lb(s)||sv(s))&&s.layerId&&(lb(C)||sv(C))&&((G=this.view.map.utilityNetworks)!=null&&G.find(J=>J.isUtilityLayer(C)))){if(m.loadStatus!=="loaded")return[];const J=[],ne=s.layerId,ue=(q=m.getFeatureSQL(C,T))==null?void 0:q[ne];if(!ue)return[];const ae=ue.anyVertex;let pe=ue.endVertex;return pe&&ae&&pe===ae&&(pe=""),pe&&J.push({...x,returnEdge:!1,vertexMode:"ends",filter:Qx(x.filter,pe)}),ae&&J.push({...x,returnEdge:!1,vertexMode:"all",filter:Qx(x.filter,ae)}),J}return[x]}async loadRules(){var r,s;const{layer:t,view:i}=this;if(t&&i&&DV(i==null?void 0:i.map)&&(lb(t)||sv(t))){const c=(r=i.map.utilityNetworks)==null?void 0:r.find(f=>f.isUtilityLayer(t));if(c)try{this.rulesTable=await c.getRulesTable(),await((s=this.rulesTable)==null?void 0:s.load())}catch{return void ke.getLogger("esri.views.interactive.snapping.FeatureSnappingSourceInfo").error("Failed to load rules table for snapping source",t.title)}}this._valid=!0}get _types(){return{returnEdge:!0,vertexMode:"all"}}remove(){this.destroy()}destroy(){var t;(t=this.snappingSource)==null||t.destroy()}};function Qx(e,t){return e==null?new _b({where:t}):e.where?new _b({where:zS(e.where,t)}):new _b({where:t})}g([S({constructOnly:!0})],ua.prototype,"layer",void 0),g([S({constructOnly:!0})],ua.prototype,"snappingSource",void 0),g([S({constructOnly:!0})],ua.prototype,"view",void 0),g([S()],ua.prototype,"layerView",null),g([S()],ua.prototype,"rulesTable",void 0),g([S()],ua.prototype,"valid",null),g([S()],ua.prototype,"subtypeFilter",null),g([S()],ua.prototype,"floorFilter",null),g([S()],ua.prototype,"_valid",void 0),ua=g([Q("esri.views.interactive.snapping.FeatureSnappingSourceInfo")],ua);let Jm=class{constructor(t,i,r,s){this.targetPoint=t,this.constraint=i,this.isDraped=r,this.domain=s}},rO=class extends Jm{constructor({targetPoint:t,objectId:i,constraint:r,isDraped:s}){super(t,r,s,Tn.FEATURE),this.objectId=i}},R9=class{constructor(t,i){this.isDraped=t,this.domain=i}},Pu=class TX extends R9{constructor(t,i,r,s,c=Tn.ALL,f=!0,m=!0){super(s,c),this.type=t,this.lineStart=i,this.lineEnd=r,this.fadeLeft=f,this.fadeRight=m}equals(t){return t instanceof TX&&this.type===t.type&&Ni(this.lineStart,t.lineStart)&&Ni(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return Im(this.lineStart,this.lineEnd)}},Axe=class extends rO{constructor(t){super({...t,isDraped:!0,constraint:new wX(t.edgeStart,t.edgeEnd,t.getGroundElevation)})}get hints(){return[new Pu(Ia.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}},IX=class extends rO{constructor(t){super({...t,constraint:new KA(t.edgeStart,t.edgeEnd)})}get hints(){return[new Pu(Ia.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}},MX=class kX extends R9{constructor(t,i,r,s,c=Tn.ALL){super(s,c),this.previousVertex=t,this.centerVertex=i,this.nextVertex=r}equals(t){return t instanceof kX&&Ni(this.previousVertex,t.previousVertex)&&Ni(this.centerVertex,t.centerVertex)&&Ni(this.nextVertex,t.nextVertex)}},nO=class extends Jm{constructor({targetPoint:t,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:c,objectId:f,isDraped:m}){super(t,i,m,Tn.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=c,this.objectId=f}get hints(){const t=this.previousVertex,i=this.otherVertexType===bm.CENTER?this.otherVertex:this.targetPoint,r=this.otherVertexType===bm.CENTER?this.targetPoint:this.otherVertex;return[new Pu(Ia.TARGET,i,r,this.isDraped,this.domain),new Pu(Ia.REFERENCE,t,i,this.isDraped,this.domain),new MX(this.previousVertex,i,r,this.isDraped,this.domain)]}};var bm;(function(e){e[e.NEXT=0]="NEXT",e[e.CENTER=1]="CENTER"})(bm||(bm={}));function kDe(e,t,i,r){i.projectToRenderScreen(e,VV),i.projectToRenderScreen(t,zV),Qr(r,zV,VV),TK(r,r)}function Oxe(e,t,i,r,s=Je()){const c=Iu(hk,e);return c[2]=GQ(r,c,t,i)||0,r.renderCoordsHelper.toRenderCoords(c,t,s),s}function us(e,t,i,r){return r.type==="2d"?(s5.x=e[0],s5.y=e[1],s5.spatialReference=t,r.toScreen(s5)):(Oxe(e,t,i,r,hk),r.state.camera.projectToScreen(hk,Xx),b4(Xx[0],Xx[1]))}const s5=Gm(0,0,0,null),hk=Je(),VV=fW(),zV=fW(),Xx=pW();let dd=class extends ht{get updating(){return this._snappingSources.some(t=>t==null||t.valid&&t.snappingSource.updating)||this._updatingHandles.updating}constructor(t){super(t),this.options=null,this._domain=Tn.FEATURE,this._updatingHandles=new zc,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const t=pq(()=>{var i;return(i=this.options)==null?void 0:i._effectiveFeatureSources},(i,r)=>this._createSourceInfo(i,r));this._snappingSources=t,this.addHandles(sU(t))}destroy(){this._set("options",null),this._updatingHandles.destroy()}async fetchCandidates(t,i,r,s){var b;if(!(i&this._domain&&this.options!=null&&this.options.effectiveFeatureEnabled))return[];const c=[],f=this._computeScreenSizeDistanceParameters(t,r);for(const x of this._snappingSources){if(x==null||!x.valid||!x.snappingSource.layerSource.enabled||(b=x.layerView)!=null&&b.suspended)continue;const T=x.getFetchCandidatesParameters(t,r,f);for(const C of T)c.push(x.snappingSource.fetchCandidates(C,s).then(L=>L.filter(N=>!this._candidateIsExcluded(x.snappingSource,N,r.excludeFeature))))}const m=(await Jre(c)).flat();return this._addRightAngleCandidates(m,t,f,r),dr(s),iO(t,m),m}_addRightAngleCandidates(t,i,r,s){var C,L,N,D,G,q,J,ne;const c=s.vertexHandle!=null?(L=(C=s.vertexHandle.rightEdge)==null?void 0:C.rightVertex)==null?void 0:L.pos:s.editGeometryOperations!=null&&s.editGeometryOperations.data.type==="polygon"?(D=(N=s.editGeometryOperations.data.components[0])==null?void 0:N.getFirstVertex())==null?void 0:D.pos:null,f=s.vertexHandle!=null?(q=(G=s.vertexHandle.leftEdge)==null?void 0:G.leftVertex)==null?void 0:q.pos:s.editGeometryOperations!=null?(ne=(J=s.editGeometryOperations.data.components[0])==null?void 0:J.getLastVertex())==null?void 0:ne.pos:null,{view:m}=this,b=Kr(c,m,s),x=Kr(f,m,s),T=t.length;for(let ue=0;ue<T;ue++)this._addRightAngleCandidate(t[ue],x,i,r,t),this._addRightAngleCandidate(t[ue],b,i,r,t)}_addRightAngleCandidate(t,i,r,s,c){if(i==null||!Lxe(t))return;const f=t.constraint.closestTo(i),m=(f[0]-r[0])/s.x,b=(f[1]-r[1])/s.y,{start:x,end:T}=t.constraint;if(m*m+b*b<=1){const C=new nO({targetPoint:f,otherVertex:i,otherVertexType:bm.NEXT,previousVertex:Kc(f,x)>Kc(f,T)?x:T,constraint:new vX(i,f),objectId:t.objectId,isDraped:t.isDraped});c.push(C)}}_computeScreenSizeDistanceParameters(t,i){let r=this.options!=null?this.options.distance*(i.pointer==="touch"?this.options.touchSensitivityMultiplier:1):0;return this.view==null?{x:r,y:r,z:r,distance:r}:this.view.type==="2d"?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(t,r,this.view,i)}_computeScreenSizeDistanceParameters3D(t,i,r,s){const{spatialReference:c}=s;r.renderCoordsHelper.toRenderCoords(t,c,UV);const f=r.state.camera.computeScreenPixelSizeAt(UV),m=f*r.renderCoordsHelper.unitInMeters,b=m/Hc(c),x=m/Ub(c),T=i*b,C=i*x,L=us(t,c,Rr,r),N=L?eE(L,t,b,0,0,r,s):0,D=L?eE(L,t,0,b,0,r,s):0,G=L?eE(L,t,0,0,x,r,s):0;return{x:N===0?0:T/N,y:D===0?0:T/D,z:G===0?0:C/G,distance:f*i}}_candidateIsExcluded(t,i,r){if(r==null)return!1;const s=this._getCandidateObjectId(i);if(s==null)return!1;const c=t.layerSource.layer;return c.type==="graphics"?r.uid===s:r.sourceLayer===c&&!(!r.attributes||!("objectIdField"in c))&&r.attributes[c.objectIdField]===s}_getCandidateObjectId(t){return t instanceof rO?t.objectId:null}async _createSourceInfo(t,i){const r=t.layer;r.loaded||(await r.load(),dr(i));const{view:s}=this,c=await this._createFeatureSnappingSourceType(t);return dr(i),new ua(c==null?{}:{snappingSource:c,view:s,layer:r})}async _createFeatureSnappingSourceType(t){switch(t.layer.type){case"feature":case"geojson":case"csv":case"oriented-imagery":case"subtype-group":case"wfs":return this._createFeatureSnappingSourceFeatureLayer(t);case"graphics":return this._createFeatureSnappingSourceGraphicsLayer(t);case"map-notes":return this._createFeatureSnappingSourceMapNotesLayer(t);case"scene":case"building-scene":return this._createFeatureSnappingSourceSceneLayer(t)}return null}async _createFeatureSnappingSourceSceneLayer(t){const{view:i}=this;return i==null||i.type!=="3d"?null:new(await this._getSourceModule("scene")).SceneLayerSnappingSource({layerSource:t,view:i})}async _createFeatureSnappingSourceFeatureLayer(t){var i;switch((i=t.layer.source)==null?void 0:i.type){case"feature-layer":case"oriented-imagery":return new(await this._getSourceModule("featureService")).FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:t});case"memory":case"csv":case"geojson":case"wfs":return t.layer.geometryType==="mesh"?null:new(await this._getSourceModule("featureCollection")).FeatureCollectionSnappingSource({layerSource:t,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(t){return new(await this._getSourceModule("graphics")).GraphicsSnappingSource({getGraphicsLayers:()=>[t.layer],spatialReference:this.spatialReference,view:this.view,layerSource:t})}async _createFeatureSnappingSourceMapNotesLayer(t){return new(await this._getSourceModule("notes")).GraphicsSnappingSource({getGraphicsLayers:()=>{var i;return((i=t.layer.sublayers)==null?void 0:i.toArray())??[]},spatialReference:this.spatialReference,view:this.view,layerSource:t})}async _getSourceModule(t){const i=this._sourceModules[t];if(i.loader==null){const r=this._loadSourceModule(t),s={module:null,loader:r};this._sourceModules[t]=s;const c=await r,f={module:c,loader:r};return this._sourceModules[t]=f,c}return i.module==null?i.loader:i.module}_loadSourceModule(t){const i=this._updatingHandles;switch(t){case"featureService":return i.addPromise(te(()=>import("./FeatureServiceSnappingSource-BnbIrRm1.js"),__vite__mapDeps([249,250,5,251,135,252,253,254,255,256,9,4,48])));case"featureCollection":return i.addPromise(te(()=>import("./FeatureCollectionSnappingSource-Cyz6M_uH.js"),__vite__mapDeps([257,250,253,254,255,77])));case"graphics":case"notes":return i.addPromise(te(()=>import("./GraphicsSnappingSource-fj7hl24t.js"),__vite__mapDeps([258,250,259,40,20,21,22,23,34,35,36,37,38,39,26,41,42,43,44,45,28,29,30,46,47,48,49,253,254,255,77])));case"scene":return i.addPromise(te(()=>import("./SceneLayerSnappingSource-BmPdpQIZ.js"),__vite__mapDeps([260,261,9,52,53,54,55,56,57,58,59,60,61,62,63,64,254,255])))}}get test(){return{snappingSources:this._snappingSources}}};function Lxe(e){return(e instanceof IX||e instanceof Axe)&&!Pxe(e)}function Pxe({constraint:{start:e,end:t}}){const i=v0(e,t),r=Kc(e,t);return i<Nn()||r/i<Rxe}function eE(e,t,i,r,s,c,{spatialReference:f}){const m=Iu(Fxe,t);m[0]+=i,m[1]+=r,m[2]+=s;const b=us(m,f,Rr,c);return b?Ixe(b,e):1/0}g([S({constructOnly:!0})],dd.prototype,"spatialReference",void 0),g([S({constructOnly:!0})],dd.prototype,"view",void 0),g([S()],dd.prototype,"options",void 0),g([S({readOnly:!0})],dd.prototype,"updating",null),g([S()],dd.prototype,"_snappingSources",void 0),dd=g([Q("esri.views.interactive.snapping.FeatureSnappingEngine")],dd);const UV=Je(),Fxe=Je(),Rxe=1e-4;let N9=class{constructor(t,i){this.view=t,this.options=i,this.squaredShortLineThreshold=Uc.shortLineThreshold*Uc.shortLineThreshold}snap(t,i){return i.vertexHandle!=null?i.vertexHandle.type!=="vertex"?[]:this.snapExistingVertex(t,i):this.snapNewVertex(t,i)}edgeExceedsShortLineThreshold(t,i){return this.exceedsShortLineThreshold(Kr(t.leftVertex.pos,this.view,i),Kr(t.rightVertex.pos,this.view,i),i)}exceedsShortLineThreshold(t,i,{spatialReference:r}){return this.squaredShortLineThreshold===0||N0(us(i,r,Rr,this.view),us(t,r,Rr,this.view))>this.squaredShortLineThreshold}isVertical(t,i,{spatialReference:r}){const s=Hc(r);return z2(t,i)*s<Uc.verticalLineThresholdMeters}squaredProximityThreshold(t){return t==="touch"?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:i}=this.options,r=t*i;return r*r}},CX=class extends Jm{constructor({lineStart:t,lineEnd:i,targetPoint:r,isDraped:s}){super(r,new bX(t,i),s,Tn.SELF),this._referenceLineHint=new Pu(Ia.REFERENCE_EXTENSION,t,i,s,this.domain)}get hints(){return[this._referenceLineHint,new Pu(Ia.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}};function Nxe(e,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(r,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var AX={exports:{}};(function(e,t){function i(){function s(h){if(typeof h=="number")return Y.Tc.Zg(h);if(h==null)return null;if(ds[h]!=null)return Y.Tc.Zg(ds[h]);throw Error("Unrecognised Unit Type")}function c(h){if(typeof h=="number")return Y.Tc.Zg(h);if(h==null)return null;if(Du[h]!=null)return Y.Tc.Zg(Du[h]);throw Error("Unrecognised Unit Type")}function f(h){if(h)switch(h){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function m(h,P,_,u){if(_==null||_.B())return null;switch(_.getType()){case Y.qn.Point:return h.exportPoint(P,_,u);case Y.qn.Polygon:return h.exportPolygon(P,_,u);case Y.qn.Polyline:return h.exportPolyline(P,_,u);case Y.qn.MultiPoint:return h.exportMultipoint(P,_,u);case Y.qn.Envelope:return h.exportExtent(P,_,u)}return null}function b(h,P,_,u){if(_.getType()!==Y.qn.Point)throw Error("Geometry not Point");return h.exportPoint(P,_,u)}function x(h,P,_){return h.convertToGEGeometry(P,_)}function T(h){var P=h.wkid;h=h.wkt2||h.wkt;var _=Bo.get(P||h);return _==null&&(P!==-1&&P!=null?(_=Y.Eg.create(P),Bo.set(P,_)):h&&(_=Y.Eg.qP(h),Bo.set(h,_)),js.has(P||h)&&_.VW(js.get(P||h))),_}function C(h){var P,_,u;if(h==null)return null;var a=T(h);return h=a.Hd(),a=a.Kn(),(P={}).tolerance=a,P.unitType=h==null?-1:h.od,P.unitID=h==null?-1:h.Ec(),P.unitBaseFactor=h==null?0:h.ai,P.unitSquareDerivative=h==null?0:(u=(_=Y.Tc.aG(h))===null||_===void 0?void 0:_.Ec())!==null&&u!==void 0?u:0,P}function L(h,P,_,u){return _==null?null:(_=Y.$b.clip(x(h,Ve,_),x(h,Ve,u),T(P)),m(h,Ve,_,P))}function N(h,P,_,u){_=Y.$b.dl(x(h,Ve,_),x(h,Ve,u),T(P)),u=[];for(var a=0;a<_.length;a++)u.push(m(h,Ve,_[a],P));return u}function D(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.contains(x(h,Ve,_),x(h,Ve,u),T(P))}function G(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.BP(x(h,Ve,_),x(h,Ve,u),T(P))}function q(h,P,_,u,a){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.tb(x(h,Ve,_),x(h,Ve,u),T(P),s(a))}function J(h,P,_,u){return!(_==null&&u!=null||u==null&&_!=null)&&Y.$b.Nb(x(h,Ve,_),x(h,Ve,u),T(P))}function ne(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.TS(x(h,Ve,_),x(h,Ve,u),T(P))}function ue(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.touches(x(h,Ve,_),x(h,Ve,u),T(P))}function ae(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.qY(x(h,Ve,_),x(h,Ve,u),T(P))}function pe(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.TP(x(h,Ve,_),x(h,Ve,u),T(P))}function ge(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.DU(x(h,Ve,_),x(h,Ve,u),T(P))}function Ae(h,P,_,u,a){if(_==null||u==null)throw Error("Illegal Argument Exception");return Y.$b.yB(x(h,Ve,_),x(h,Ve,u),T(P),a)}function Ce(h,P,_){if(_==null)throw Error("Illegal Argument Exception");return Y.$b.dT(x(h,Ve,_),T(P))}function qe(h,P,_){if(_==null)throw Error("Illegal Argument Exception");return _=Y.$b.eC(x(h,Ve,_),T(P)),m(h,Ve,_,P)}function Ge(h,P,_,u){if(u===void 0&&(u=!1),_==null)throw Error("Illegal Argument Exception");if(Array.isArray(_)){var a=u,n=[];for(u=0;u<_.length;u++)n.push(x(h,Ve,_[u]));for(_=Y.$b.jP(n,a),a=Array(_.length),u=0;u<_.length;u++)a[u]=m(h,Ve,_[u],P);return a}return u=Y.$b.iP(x(h,Ve,_),T(P)),m(h,Ve,u,P)}function Ue(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(_)){for(var a=[],n=0;n<_.length;n++)a.push(x(h,Ve,_[n]));for(_=Y.$b.QP(a,x(h,Ve,u),T(P)),u=Array(_.length),n=0;n<_.length;n++)u[n]=m(h,Ve,_[n],P);return u}return n=Y.$b.im(x(h,Ve,_),x(h,Ve,u),T(P)),m(h,Ve,n,P)}function et(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(_)){for(var a=[],n=0;n<_.length;n++)a.push(x(h,Ve,_[n]));for(_=Y.$b.VX(a,x(h,Ve,u),T(P)),u=Array(_.length),n=0;n<_.length;n++)u[n]=m(h,Ve,_[n],P);return u}return n=Y.$b.ep(x(h,Ve,_),x(h,Ve,u),T(P)),m(h,Ve,n,P)}function nt(h,P,_,u){if(_==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(_)){for(var a=[],n=0;n<_.length;n++)a.push(x(h,Ve,_[n]));for(_=Y.$b.RS(a,x(h,Ve,u),T(P)),u=Array(_.length),n=0;n<_.length;n++)u[n]=m(h,Ve,_[n],P);return u}return n=Y.$b.Ea(x(h,Ve,_),x(h,Ve,u),T(P)),m(h,Ve,n,P)}function Qe(h,P,_,u){if(_==null)return null;var a=[];if(Array.isArray(_)){if(_.length===0)return null;for(u=0;u<_.length;u++)a.push(x(h,Ve,_[u]))}else a.push(x(h,Ve,_)),u!=null&&a.push(x(h,Ve,u));return m(h,Ve,Y.$b.jY(a,T(P)),P)}function Tt(h,P,_,u,a,n,o,l){var d=0;if(n!=null)switch(n){case"round":d=0;break;case"bevel":d=1;break;case"miter":d=2;break;case"square":d=3}if(Array.isArray(_)){if(_==null)h=null;else if(_.length===0)h=[];else{var p=[];for(n=0;n<_.length;n++)p.push(x(h,Ve,_[n]));for(_=Y.$b.BU(p,T(P),u,d,o,l,s(a)),u=Array(_.length),n=0;n<_.length;n++)u[n]=m(h,Ve,_[n],P);h=u}return h}return _=Y.$b.offset(x(h,Ve,_),T(P),u,d,o,l,s(a)),m(h,Ve,_,P)}function ri(h,P,_,u,a,n){if(n===void 0&&(n=!1),Array.isArray(_)){if(!Array.isArray(u)){for(var o=[],l=0;l<_.length;l++)o.push(u);u=o}if(u.length!=_.length){if(u.length==0)throw Error("Illegal Argument Exception");o=[];var d=0;for(l=0;l<_.length;l++)u[l]===void 0?o.push(d):(o.push(u[l]),d=u[l]);u=o}return Oe(h,P,_,u,a,!1,n,"geodesic",NaN)}return _=Y.$b.buffer(x(h,Ve,_),T(P),u,s(a),!1,0,NaN),m(h,Ve,_,P)}function yt(h,P,_,u,a,n,o,l){if(Array.isArray(_)){if(!Array.isArray(u)){for(var d=[],p=0;p<_.length;p++)d.push(u);u=d}if(u.length!==_.length){if(u.length===0)throw Error("Illegal Argument Exception");d=[];var y=0;for(p=0;p<_.length;p++)u[p]===void 0?d.push(y):(d.push(u[p]),y=u[p]);u=d}return Oe(h,P,_,u,a,!0,n,o,l)}return o===void 0&&(o=NaN),_=Y.$b.buffer(x(h,Ve,_),T(P),u,s(a),!0,f(n),o),m(h,Ve,_,P)}function Oe(h,P,_,u,a,n,o,l,d){if(d===void 0&&(d=NaN),_==null)return null;if(_.length===0)return[];for(var p=[],y=0;y<_.length;y++)p.push(x(h,Ve,_[y]));for(_=Y.$b.MN(p,T(P),u,s(a),n,o,f(l),d),u=Array(_.length),y=0;y<_.length;y++)u[y]=m(h,Ve,_[y],P);return u}function dt(h,P,_,u,a){var n;return a===void 0&&(a=!0),_=Y.$b.nz(x(h,Ve,_),x(h,Ve,u),a),(n={}).coordinate=b(h,Ve,_.fz(),P),n.distance=_.hz(),n.isRightSide=_.Sz(),n.vertexIndex=_.Ua(),n.isEmpty=_.B(),n}function rt(h,P,_,u){var a;return _=Y.$b.oz(x(h,Ve,_),x(h,Ve,u)),(a={}).coordinate=b(h,Ve,_.fz(),P),a.distance=_.hz(),a.isRightSide=_.Sz(),a.vertexIndex=_.Ua(),a.isEmpty=_.B(),a}function be(h,P,_,u,a,n){var o;for(_=Y.$b.pz(x(h,Ve,_),x(h,Ve,u),a,n),u=[],a=0;a<_.length;a++)_[a].B()===!1&&u.push(((o={}).coordinate=b(h,Ve,_[a].fz(),P),o.distance=_[a].hz(),o.isRightSide=_[a].Sz(),o.vertexIndex=_[a].Ua(),o.isEmpty=_[a].B(),o));return u}function Le(h,P,_,u,a,n){return _=Y.$b.QQ(x(h,Ve,_),T(P),u,a,s(n)),m(h,Ve,_,P)}function Pt(h,P,_,u,a){return _=Y.$b.Qr(x(h,Ve,_),T(P),u,s(a)),m(h,Ve,_,P)}function Dt(h,P,_,u,a,n){return n===void 0&&(n=0),_=Y.$b.Wy(x(h,Ve,_),T(P),u,s(a),n),m(h,Ve,_,P)}function Zt(h,P,_,u){if(_==null)throw Error("Illegal Argument Exception");return Y.$b.JU(x(h,Ve,_),T(P),c(u))}function ii(h,P,_,u){if(_==null)throw Error("Illegal Argument Exception");return Y.$b.KU(x(h,Ve,_),T(P),s(u))}function wi(h,P,_,u,a){if(_==null)throw Error("Illegal Argument Exception");return Y.$b.WQ(x(h,Ve,_),T(P),c(u),f(a))}function ui(h,P,_,u,a){if(_==null)throw Error("Illegal Argument Exception");return Y.$b.ZQ(x(h,Ve,_),T(P),s(u),f(a))}function Li(h){Y.NL.bind(h)}function Cn(h,P,_,u,a){var n=null,o=null;if(u){if(!a)throw Y.i.N("AOI missing Spatial Reference");n=x(h,Ve,u),o=T(a).fh()}return(h=Y.gu.XR(T(P).fh(),T(_).fh(),n,o))!==null?h:null}function sh(h,P,_,u,a){var n=null,o=null;if(u){if(!a)throw Y.i.N("AOI missing Spatial Reference");n=x(h,Ve,u),o=T(a).fh()}return Y.gu.YR(T(P).fh(),T(_).fh(),n,o)}function D0(h,P,_,u,a,n){if(a===void 0&&(a=null),n===void 0&&(n=null),n){var o=new Y.yC;o.Vu=n.densificationStep,o.Jr=n.centralMeridianOfOutputGCS,n.clipWithInputHorizon&&o.PW(n.clipWithInputHorizon),n.clipWithOutputHorizon&&o.QW(n.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(P.length===0)return[];if(a){if(!(n=a.getCachedGeTransformation(_,u)))e:{if(n=a,a=null,n){var l=n.getGTListEntry();if(l!==null){a=new Y.wC(null);for(var d=0,p=l.steps;d<p.length;d++){l=p[d];var y=new Y.Dx(l.geogtran);l.isInverse&&y.Qz(),a.add(y)}o=Y.vr.Nr(T(_).fh(),T(u).fh(),a,o),n.assignCachedGe(_,u,o),n=o;break e}}if(a===null&&n&&n.steps&&0<n.steps.length){for(a=new Y.wC(null),d=0,p=n.steps;d<p.length;d++)(l=p[d]).wkid!=-1&&l.wkid!=null?a.add(Y.Dx.create(l.wkid,l.isInverse)):a.add(Y.Dx.uP(l.wkt,l.isInverse));o=Y.vr.Nr(T(_).fh(),T(u).fh(),a,o),n.assignCachedGe(_,u,o),n=o}else n=Y.vr.Nr(T(_).fh(),T(u).fh(),a,o)}for(_=[],a=0;a<P.length;a++)o=P[a],_.push(ju(h,o,u,n))}else for(n=Y.vr.Nr(T(_).fh(),T(u).fh(),null),_=[],a=0;a<P.length;a++)o=P[a],_.push(ju(h,o,u,n));return _}function ju(h,P,_,u){return P=Y.$b.zh(x(h,Ve,P),u),m(h,Ve,P,_)}function _p(h,P){h!=null&&(h=h.wkid||h.wkt2||h.wkt,js.has(h),js.set(h,P),Bo.has(h)&&Bo.delete(h))}function V0(h){h!=null&&(h=h.wkid||h.wkt2||h.wkt,js.has(h)&&(js.delete(h),Bo.has(h)&&Bo.delete(h)))}function z0(h,P,_,u){if(_==null||u==null)return[];var a=[],n=0;for(_=Y.$b.QS(x(h,Ve,_),x(h,Ve,u),T(P))||[];n<_.length;n++)a.push(m(h,Ve,_[n],P));return a}var nr,Y,jr,kl,Vt=this&&this.__extends||function(){function h(P,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var n in a)a.hasOwnProperty(n)&&(u[n]=a[n])})(P,_)}return function(P,_){function u(){this.constructor=P}h(P,_),P.prototype=_===null?Object.create(_):(u.prototype=_.prototype,new u)}}();(function(h){var P;(P=h.qn||(h.qn={}))[P.Unknown=0]="Unknown",P[P.Point=33]="Point",P[P.Line=322]="Line",P[P.Envelope=197]="Envelope",P[P.MultiPoint=550]="MultiPoint",P[P.Polyline=1607]="Polyline",P[P.Polygon=1736]="Polygon",function(u){u[u.enumMild=0]="enumMild",u[u.enumMedium=1]="enumMedium",u[u.enumHot=2]="enumHot"}(h.YK||(h.YK={}));var _=function(){function u(){this.description=null,this.VA=0}return u.prototype.getType=function(){return 0},u.prototype.Db=function(){return-1},u.prototype.Nf=function(a){this.vc(),a!=this.description&&this.sn(a)},u.prototype.sn=function(){},u.prototype.Jl=function(a){this.vc(),a!=this.description&&(a=h.ee.CR(this.description,a))!=this.description&&this.sn(a)},u.prototype.hasAttribute=function(a){return this.description.hasAttribute(a)},u.prototype.re=function(a){this.vc(),this.description.hasAttribute(a)||(a=h.ee.BR(this.description,a),this.sn(a))},u.prototype.Tg=function(){return null},u.prototype.bn=function(){},u.prototype.A=function(){},u.prototype.Qo=function(){},u.prototype.xc=function(a){this.A(a)},u.prototype.B=function(){return!0},u.prototype.Oa=function(){},u.prototype.Oc=function(){},u.prototype.Ia=function(){return null},u.prototype.copyTo=function(){},u.prototype.Ke=function(){return 0},u.prototype.Qb=function(){return 0},u.prototype.iG=function(){return this.hasAttribute(1)},u.tf=function(a){return 1+((192&a)>>6)>>1},u.Rn=function(a){return(32&a)!=0},u.US=function(a){return(128&a)!=0},u.yd=function(a){return(256&a)!=0},u.xj=function(a){return(512&a)!=0},u.Hc=function(a){return(1024&a)!=0},u.prototype.Of=function(){var a=this.Ia();return this.copyTo(a),a},u.prototype.mg=function(){return null},u.jg=function(a){var n=a.Ia();return a.copyTo(n),n},u.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},u.Ax=function(a){var n=a.getType();if(u.xj(n))return a.I();if(a.B())return 0;if(n==197)return 4;if(n==33)return 1;if(u.yd(n))return 2;throw h.i.fa("missing type")},u}();h.aa=_})(Y||(Y={})),jr=Y||(Y={}),kl=function(){function h(){this.y=this.x=0}return h.construct=function(P,_){var u=new h;return u.x=P,u.y=_,u},h.al=function(P){var _=new h;return _.x=P.x,_.y=P.y,_},h.prototype.ma=function(P,_){this.x=P,this.y=_},h.prototype.L=function(P){this.x=P.x,this.y=P.y},h.prototype.fq=function(P,_){return this.x===P&&this.y===_},h.prototype.Rz=function(P){return 2220446049250313e-31>=Math.abs(this.x-P.x)&&2220446049250313e-31>=Math.abs(this.y-P.y)},h.prototype.qb=function(P){return this.x===P.x&&this.y===P.y},h.prototype.Nb=function(P){return P==this||P instanceof h&&this.x==P.x&&this.y==P.y},h.prototype.sub=function(P){this.x-=P.x,this.y-=P.y},h.prototype.uc=function(P,_){this.x=P.x-_.x,this.y=P.y-_.y},h.prototype.add=function(P,_){_!==void 0?(this.x=P.x+_.x,this.y=P.y+_.y):(this.x+=P.x,this.y+=P.y)},h.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},h.prototype.mt=function(P){this.x=-P.x,this.y=-P.y},h.prototype.NS=function(P,_,u){this.x=P.x*(1-u)+_.x*u,this.y=P.y*(1-u)+_.y*u},h.prototype.Ct=function(P,_){this.x=this.x*P+_.x,this.y=this.y*P+_.y},h.prototype.HW=function(P,_,u){this.x=_.x*P+u.x,this.y=_.y*P+u.y},h.prototype.scale=function(P){this.x*=P,this.y*=P},h.prototype.compare=function(P){return this.y<P.y?-1:this.y>P.y?1:this.x<P.x?-1:this.x>P.x?1:0},h.prototype.normalize=function(){var P=this.length();P==0&&(this.x=1,this.y=0),this.x/=P,this.y/=P},h.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},h.prototype.Sk=function(){return this.x*this.x+this.y*this.y},h.tb=function(P,_){return Math.sqrt(this.yc(P,_))},h.Oy=function(P,_,u,a){return P-=u,_-=a,Math.sqrt(P*P+_*_)},h.prototype.Qh=function(P){return this.x*P.x+this.y*P.y},h.prototype.fD=function(P){return Math.abs(this.x*P.x)+Math.abs(this.y*P.y)},h.prototype.wi=function(P){return this.x*P.y-this.y*P.x},h.prototype.Bt=function(P,_){var u=-this.x*_+this.y*P;this.x=this.x*P+this.y*_,this.y=u},h.prototype.Hv=function(){var P=this.x;this.x=-this.y,this.y=P},h.prototype.MG=function(P){this.x=-P.y,this.y=P.x},h.prototype.ar=function(){var P=this.x;this.x=this.y,this.y=-P},h.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},h.nu=function(P,_){var u=P.qu(),a=_.qu();return a==u?0>(P=P.wi(_))?1:0<P?-1:0:u<a?-1:1},h.yc=function(P,_){var u=P.x-_.x;return u*u+(P=P.y-_.y)*P},h.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},h.prototype.Rc=function(){this.y=this.x=NaN},h.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},h.prototype.offset=function(P,_){var u=h.tb(P,_),a=h.construct(this.x,this.y);if(u==0)return h.tb(a,P);var n=new h;return n.L(_),n.sub(P),a.sub(P),a.wi(n)/u},h.Uq=function(P,_,u){var a=new jr.Wb;a.set(_.x),a.sub(P.x);var n=new jr.Wb;n.set(u.y),n.sub(P.y);var o=new jr.Wb;o.set(_.y),o.sub(P.y);var l=new jr.Wb;return l.set(u.x),l.sub(P.x),a.Ag(n),o.Ag(l),a.sub(o),a.ps()?(a=new jr.hp(_.x),n=new jr.hp(P.x),o=new jr.hp(P.y),a=a.jt(n),P=(P=new jr.hp(u.y)).jt(o),_=(_=new jr.hp(_.y)).jt(o),u=(u=new jr.hp(u.x)).jt(n),a=a.lr(P),_=_.lr(u),(a=a.lr(_)).nT()?-1:a.fS()?1:0):0>(u=a.value())?-1:0<u?1:0},h.prototype.cc=function(){return jr.O.uj(jr.O.uj())},h}(),jr.h=kl,function(h){var P=function(){function _(u){this.Fy=this.Mt=0,this.OX=u}return _.prototype.reset=function(){this.Fy=this.Mt=0},_.prototype.add=function(u){u-=this.Fy;var a=this.Mt+u;this.Fy=a-this.Mt-u,this.Mt=a},_.prototype.sub=function(u){this.add(-u)},_.prototype.rm=function(){return this.OX+this.Mt},_}();h.Fx=P,h.lc=function(){function _(){}return _.Cn=function(u,a){return 0<=a?Math.abs(u):-Math.abs(u)},_.sign=function(u){return 0>u?-1:0<u?1:0},_.RK=function(u){return u-360*Math.floor(u/360)},_.round=function(u){return Math.floor(u+.5)},_.ox=function(u){return u*u},_.hq=function(u,a,n){return .5>=n?u+(a-u)*n:a-(a-u)*(1-n)},_.OG=function(u,a,n,o){.5>=n?(o.x=u.x+(a.x-u.x)*n,o.y=u.y+(a.y-u.y)*n):(o.x=a.x-(a.x-u.x)*(1-n),o.y=a.y-(a.y-u.y)*(1-n))},_.lT=function(u,a,n,o,l,d){.5>=l?(d.x=u+(n-u)*l,d.y=a+(o-a)*l):(d.x=n-(n-u)*(1-l),d.y=o-(o-a)*(1-l))},_}()}(Y||(Y={})),function(h){var P=function(_){function u(){var a=_.call(this)||this;return a.sa=0,a.na=0,a.pa=0,a.la=0,a.ka=null,a}return Vt(u,_),u.prototype.ac=function(){return h.h.construct(this.sa,this.na)},u.prototype.Yp=function(a){a.x=this.sa,a.y=this.na},u.prototype.Dc=function(a){this.em(0,a)},u.prototype.ZB=function(a,n){this.em(0,h.h.construct(a,n))},u.prototype.To=function(a){this.hD(0,a)},u.prototype.setStart=function(a){this.uD(0,a)},u.prototype.wv=function(a,n){return this.Od(0,a,n)},u.prototype.YB=function(a,n,o){this.tn(0,a,n,o)},u.prototype.wc=function(){return h.h.construct(this.pa,this.la)},u.prototype.Tr=function(a){a.x=this.pa,a.y=this.la},u.prototype.Qc=function(a){this.em(1,a)},u.prototype.Ql=function(a,n){this.em(1,h.h.construct(a,n))},u.prototype.Po=function(a){this.hD(1,a)},u.prototype.setEnd=function(a){this.uD(1,a)},u.prototype.gv=function(a,n){return this.Od(1,a,n)},u.prototype.OB=function(a,n,o){this.tn(1,a,n,o)},u.prototype.Db=function(){return 1},u.prototype.B=function(){return this.Ac()},u.prototype.Oa=function(){},u.prototype.Ke=function(){return 0},u.prototype.Ea=function(a,n,o,l,d){return this.KM(a,n,o,l,d)},u.prototype.isIntersecting=function(a,n){return this.zr(a,n,!1)!=0},u.prototype.qs=function(a,n){return this.ru(a,n,!1)},u.prototype.ru=function(){return null},u.prototype.Ac=function(){return!1},u.prototype.ay=function(a){if(this.vc(),this.ka==null&&0<a)this.ka=h.O.lg(2*a);else if(this.ka!=null&&this.ka.length<2*a){for(var n=this.ka.slice(0),o=this.ka.length;o<2*a;o++)n[o]=0;this.ka=n}},u.gM=function(a,n,o){if(0<o)var l=0;for(var d=0;d<o;d++)n[0+l]=a[0],l++},u.prototype.em=function(a,n){a!=0?(this.pa=n.x,this.la=n.y):(this.sa=n.x,this.na=n.y)},u.prototype.sn=function(a){if(this.ka!=null){for(var n=h.ee.Iw(a,this.description),o=[],l=u.Gg(this.description,0),d=u.Gg(this.description,1),p=u.Gg(a,0),y=u.Gg(a,1),v=0,$=1,I=a.Aa;$<I;$++){var k=a.kd($),O=h.ra.Va(k);if(n[$]==-1){var F=h.ra.se(k);for(k=0;k<O;k++)o[p+v]=F,o[y+v]=F,v++}else for(F=this.description.$j(n[$])-2,k=0;k<O;k++)o[p+v]=this.ka[l+F],o[y+v]=this.ka[d+F],v++,F++}this.ka=o}this.description=a},u.prototype.hD=function(a,n){if(this.Ac())throw h.i.fa("empty geometry");n.Nf(this.description),n.Ac()&&n.un();for(var o=0;o<this.description.Aa;o++)for(var l=this.description.Ed(o),d=0,p=h.ra.Va(l);d<p;d++){var y=this.Od(a,l,d);n.setAttribute(l,d,y)}},u.prototype.uD=function(a,n){if(this.vc(),n.Ac())throw h.i.fa("empty geometry");for(var o=n.description,l=0,d=o.Aa;l<d;l++)for(var p=o.Ed(l),y=h.ra.Va(p),v=0;v<y;v++){var $=n.Uc(p,v);this.tn(a,p,v,$)}},u.prototype.Od=function(a,n,o){if(this.Ac())throw h.i.fa("This operation was performed on an Empty Geometry.");if(n==0)return a!=0?o!=0?this.la:this.pa:o!=0?this.na:this.sa;if(o>=h.ra.Va(n))throw h.i.ce();var l=this.description.Pf(n);return 0<=l?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[u.Gg(this.description,a)+this.description.$j(l)-2+o]):h.ra.se(n)},u.prototype.tn=function(a,n,o,l){if(this.vc(),o>=h.ra.Va(n))throw h.i.ce();var d=this.description.Pf(n);0>d&&(this.re(n),d=this.description.Pf(n)),n==0?a!=0?o!=0?this.la=l:this.pa=l:o!=0?this.na=l:this.sa=l:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[u.Gg(this.description,a)+this.description.$j(d)-2+o]=l)},u.prototype.copyTo=function(a){if(a.getType()!=this.getType())throw h.i.N();a.description=this.description,a.ay(this.description.Ae.length-2),u.gM(this.ka,a.ka,2*(this.description.Ae.length-2)),a.sa=this.sa,a.na=this.na,a.pa=this.pa,a.la=this.la,a.vc(),this.op(a)},u.prototype.Tg=function(a,n){var o=new h.Nc;return this.Ac()?(o.Oa(),o):(o.oa=this.Od(0,a,n),o.va=o.oa,o.Lk(this.Od(1,a,n)),o)},u.prototype.ZI=function(a){this.Ac()?a.Oa():(a.oa=this.Od(0,0,0),a.va=a.oa,a.Lk(this.Od(1,0,0)))},u.prototype.Tw=function(a,n){n.Nf(this.description),n.Cb(this.hc(a));for(var o=1,l=this.description.Aa;o<l;o++)for(var d=this.description.Ed(o),p=h.ra.Va(d),y=0;y<p;y++){var v=this.Uc(a,d,y);n.setAttribute(d,y,v)}},u.prototype.FM=function(a){if(this.description!=a.description||this.sa!=a.sa||this.pa!=a.pa||this.na!=a.na||this.la!=a.la)return!1;for(var n=0;n<2*(this.description.Ae.length-2);n++)if(this.ka[n]!=a.ka[n])return!1;return!0},u.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},u.prototype.reverse=function(){var a=this.sa;this.sa=this.pa,this.pa=a,a=this.na,this.na=this.la,this.la=a,a=1;for(var n=this.description.Aa;a<n;a++)for(var o=this.description.kd(a),l=0,d=h.ra.Va(o);l<d;l++){var p=this.Od(0,o,l),y=this.Od(1,o,l);this.tn(0,o,l,y),this.tn(1,o,l,p)}},u.prototype.zr=function(a,n,o){var l=this.getType(),d=a.getType();if(l===322){if(d==322)return h.yb.OM(this,a,n,o);throw h.i.Qa()}throw h.i.Qa()},u.prototype.KM=function(a,n,o,l,d){var p=this.getType(),y=a.getType();if(p===322){if(y==322)return h.yb.Zx(this,a,n,o,l,d);throw h.i.Qa()}throw h.i.Qa()},u.prototype.Tx=function(){return null},u.Gg=function(a,n){return n*(a.Ae.length-2)},u.prototype.hc=function(a,n){if(n===void 0)return n=new h.h,this.hc(a,n),n;h.lc.lT(this.sa,this.na,this.pa,this.la,a,n)},u.prototype.fe=function(){return null},u.prototype.eG=function(){return null},u.prototype.cq=function(){return null},u.prototype.Bi=function(){return null},u.prototype.Pn=function(){return null},u.prototype.kg=function(){return null},u.prototype.Ux=function(a,n){return n!==void 0?this.vx(n)-this.vx(a):this.vx(a)},u.prototype.op=function(){},u.prototype.dl=function(){return null},u.prototype.ah=function(){},u.prototype.Uc=function(){return null},u.prototype.Pe=function(){return null},u.prototype.vx=function(){return null},u.prototype.NG=function(){return null},u.prototype.tb=function(a,n){if(!n&&this.zr(a,0,!1)!=0)return 0;n=17976931348623157e292;var o=this.ac(),l=a.fe(o,!1);return o.sub(a.hc(l)),(o=o.length())<n&&(n=o),o=this.wc(),l=a.fe(o,!1),o.sub(a.hc(l)),(o=o.length())<n&&(n=o),o=a.ac(),l=this.fe(o,!1),o.sub(this.hc(l)),(o=o.length())<n&&(n=o),o=a.wc(),l=this.fe(o,!1),o.sub(this.hc(l)),(o=o.length())<n&&(n=o),n},u.prototype.mg=function(){return h.pi.gm(this,null)},u}(h.aa);h.SC=P}(Y||(Y={})),new Y.h,function(h){var P;(P=h.$K||(h.$K={}))[P.Unknown=-1]="Unknown",P[P.Not=0]="Not",P[P.Weak=1]="Weak",P[P.Strong=2]="Strong",function(u){u[u.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",u[u.IsWeakSimple=2]="IsWeakSimple",u[u.IsStrongSimple=4]="IsStrongSimple",u[u.DirtyOGCFlags=8]="DirtyOGCFlags",u[u.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",u[u.DirtyExactIntervals=64]="DirtyExactIntervals",u[u.DirtyLooseIntervals=128]="DirtyLooseIntervals",u[u.DirtyIntervals=192]="DirtyIntervals",u[u.DirtyIsEnvelope=256]="DirtyIsEnvelope",u[u.DirtyLength2D=512]="DirtyLength2D",u[u.DirtyRingAreas2D=1024]="DirtyRingAreas2D",u[u.DirtyCoordinates=1993]="DirtyCoordinates",u[u.DirtyAllInternal=65535]="DirtyAllInternal",u[u.DirtyAll=16777215]="DirtyAll"}(h.MK||(h.MK={}));var _=function(u){function a(){var n=u.call(this)||this;return n.Hm=65535,n.wa=0,n.Pg=-1,n.Bb=null,n}return Vt(a,u),a.prototype.op=function(){},a.prototype.$x=function(){},a.prototype.iy=function(){},a.prototype.I=function(){return this.wa},a.prototype.B=function(){return this.Ac()},a.prototype.Ac=function(){return this.wa==0},a.prototype.ak=function(n){return(this.Hm&n)!=0},a.prototype.Lf=function(n,o){this.Hm=o?this.Hm|n:this.Hm&~n},a.prototype.mc=function(){this.ak(32)&&this.bN()},a.prototype.wx=function(){if(this.Ac())throw h.i.fa("This operation was performed on an Empty Geometry.")},a.prototype.ve=function(n,o){if(0>n||n>=this.wa)throw h.i.fa("index out of bounds");this.mc(),o.Nf(this.description),o.B()&&o.un();for(var l=0;l<this.description.Aa;l++)for(var d=this.description.Ed(l),p=0,y=h.ra.Va(d);p<y;p++){var v=this.za[l].eg(y*n+p);o.setAttribute(d,p,v)}},a.prototype.Ht=function(n,o){this.mc();for(var l=o.description,d=0;d<l.Aa;d++)for(var p=l.Ed(d),y=h.ra.Va(p),v=0;v<y;v++){var $=o.Uc(p,v);this.setAttribute(p,n,v,$)}},a.prototype.D=function(n,o){if(0>n||n>=this.I())throw h.i.ce();this.mc(),this.za[0].tc(2*n,o)},a.prototype.Na=function(n){var o=new h.h;return this.D(n,o),o},a.prototype.Gc=function(n,o){this.za[0].tc(2*n,o)},a.prototype.Cb=function(n,o,l){if(0>n||n>=this.wa)throw h.i.ce();this.mc();var d=this.za[0];l!==void 0?(d.write(2*n,o),d.write(2*n+1,l)):d.Tt(2*n,o),this.Pc(1993)},a.prototype.Cz=function(){if(void 0>=this.I())throw h.i.ce();this.mc();var n=this.za[0],o=new h.Nd;return o.x=n.read(NaN),o.y=n.read(NaN),o.z=this.hasAttribute(1)?this.za[1].eg():h.ra.se(1),o},a.prototype.dC=function(n){if(0>n||n>=this.I())throw h.i.ce();this.re(1),this.mc(),this.Pc(1993);var o=this.za[0];o.write(2*n,(void 0).x),o.write(2*n+1,(void 0).y),this.za[1].pr(n,(void 0).z)},a.prototype.Uc=function(n,o,l){if(0>o||o>=this.wa)throw h.i.ce();var d=h.ra.Va(n);if(l>=d)throw h.i.ce();this.mc();var p=this.description.Pf(n);return 0<=p?this.za[p].eg(o*d+l):h.ra.se(n)},a.prototype.yF=function(n,o){return this.Uc(n,o)},a.prototype.setAttribute=function(n,o,l,d){if(0>o||o>=this.wa)throw h.i.ce();var p=h.ra.Va(n);if(l>=p)throw h.i.ce();this.re(n),this.mc(),n=this.description.Pf(n),this.Pc(1993),this.za[n].pr(o*p+l,d)},a.prototype.ub=function(n){return this.wx(),this.re(n),this.mc(),this.za[this.description.Pf(n)]},a.prototype.hn=function(n,o){if(o!=null&&h.ra.Tp(n)!=o.Tp())throw h.i.N();this.re(n),n=this.description.Pf(n),this.za==null&&(this.za=h.Yc.qI(this.description.Aa)),this.za[n]=o,this.Pc(16777215)},a.prototype.sn=function(n){var o=null;if(this.za!=null){var l=h.ee.Iw(n,this.description);o=[];for(var d=0,p=n.Aa;d<p;d++)l[d]!=-1&&(o[d]=this.za[l[d]])}this.description=n,this.za=o,this.Pg=-1,this.Pc(16777215)},a.prototype.AD=function(n){this.wu(!0),n instanceof h.l?this.$.A(n):this.$.Qo(n)},a.prototype.aN=function(n){this.wu(!1),n instanceof h.l?this.$.A(n):this.$.Qo(n)},a.prototype.bn=function(n){this.wu(!0),this.$.copyTo(n)},a.prototype.A=function(n){this.AD(n)},a.prototype.Qo=function(n){this.AD(n)},a.prototype.xc=function(n){this.aN(n)},a.prototype.Tg=function(n,o){var l=new h.Nc;return this.Ac()?(l.Oa(),l):(this.wu(!0),this.$.Tg(n,o))},a.prototype.cc=function(){var n=this.description.cc();if(!this.Ac())for(var o=this.I(),l=0,d=this.description.Aa;l<d;l++)n=this.za[l].An(n,0,o*h.ra.Va(this.description.Ed(l)));return n},a.prototype.Nb=function(n){if(n==this)return!0;if(!(n instanceof a&&this.description.Nb(n.description))||this.Ac()!=n.Ac())return!1;if(this.Ac())return!0;var o=this.I();if(o!=n.I())return!1;for(var l=0;l<this.description.Aa;l++){var d=this.description.kd(l),p=this.ub(d),y=n.ub(d);if(!p.Nb(y,0,o*h.ra.Va(d)))return!1}return!0},a.prototype.copyTo=function(n){if(n.getType()!=this.getType())throw h.i.N();this.dD(n)},a.prototype.dD=function(n){this.mc(),n.description=this.description,n.za=null;var o=this.description.Aa,l=null;if(this.za!=null){l=[];for(var d=0;d<o;d++)this.za[d]!=null&&(l[d]=this.za[d].GB(this.I()*h.ra.Va(this.description.Ed(d))))}this.$!=null?(n.$=this.$.Ia(),this.$.copyTo(n.$)):n.$=null,n.wa=this.wa,n.Hm=this.Hm,n.za=l;try{this.op(n)}catch{throw n.Oa(),h.i.fu()}},a.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},a.prototype.Pc=function(n){n==16777215&&(this.Pg=-1,this.$x()),this.Hm|=n,this.lM(),this.vc()},a.prototype.wu=function(n){if(this.mc(),this.ak(192))if(this.$==null?this.$=new h.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(n);for(var o=1;o<this.description.Aa;o++)for(var l=this.description.Ed(o),d=h.ra.Va(l),p=this.za[o],y=0;y<d;y++){var v=new h.Nc;v.Oa();for(var $=0;$<this.wa;$++){var I=p.eg($*d+y);v.Zb(I)}this.$.setInterval(l,y,v)}n&&this.Lf(192,!1)}},a.prototype.hy=function(){this.$.Oa();for(var n=this.za[0],o=new h.h,l=0;l<this.wa;l++)n.tc(2*l,o),this.$.Zb(o)},a.prototype.yp=function(n){n.Oa();for(var o=this.za[0],l=new h.h,d=0;d<this.wa;d++)o.tc(2*d,l),n.Zb(l)},a.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=h.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var n=0;n<this.description.Aa;n++){var o=this.description.Ed(n);if(this.za[n]!=null){var l=h.ra.Va(o),d=h.O.truncate(this.za[n].size/l);d<this.wa&&(d=h.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[n].resize(d*l,h.ra.se(o))),d<this.Pg&&(this.Pg=d)}else this.za[n]=h.Yc.YE(o,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},a.prototype.dm=function(n){if(0>n)throw h.i.N();n!=this.wa&&(this.wa=n,this.Pc(65535))},a.prototype.om=function(n){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=n)return this.ak(8)?1:2}return-1},a.prototype.Ch=function(n,o){if(this.QT=o,n==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),n==0)this.Lf(2,!1),this.Lf(4,!1);else if(n==1)this.Lf(2,!0),this.Lf(4,!1);else{if(n!=2)throw h.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},a.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},a.prototype.kD=function(n,o,l,d){if(0>n||n>=this.wa||0>o||o>=this.wa)throw h.i.fa("index out of bounds");this.mc(),d.Nf(this.description),d.B()&&d.un();for(var p=0;p<this.description.Aa;p++)for(var y=this.description.Ed(p),v=0,$=h.ra.Va(y);v<$;v++){var I=this.za[p].eg($*n+v),k=this.za[p].eg($*o+v);d.setAttribute(y,v,h.lc.hq(I,k,l))}},a.prototype.yr=function(n,o){var l=this.za[0].o,d=l[2*n]-l[2*o];return n=l[2*n+1]-l[2*o+1],Math.sqrt(d*d+n*n)},a.prototype.KR=function(n){if(0>n||n>=this.wa)throw h.i.ce();this.mc();var o=new h.Sa;o.Nf(this.description),o.B()&&o.un();for(var l=0;l<this.description.Aa;l++)for(var d=this.description.kd(l),p=0,y=h.ra.Va(d);p<y;p++){var v=this.za[l].eg(y*n+p);o.setAttribute(d,p,v)}return o},a.prototype.Dh=function(n,o){if(0>n||n>=this.wa)throw h.i.ce();if(o.B())throw h.i.N();this.mc();for(var l=o.description,d=0;d<l.Aa;d++)for(var p=l.kd(d),y=h.ra.Va(p),v=0;v<y;v++){var $=o.Uc(p,v);this.setAttribute(p,n,v,$)}},a.prototype.lu=function(){return null},a.prototype.fj=function(){return null},a}(h.aa);h.Gx=_}(Y||(Y={})),function(h){var P=function(){function _(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new h.$c(7),this.Zn=null}return _.prototype.Vo=function(u){this.Zn=u},_.prototype.RP=function(){this.Rv=!1},_.prototype.De=function(u){this.ob.De(u)},_.prototype.Pr=function(u){var a=this.ob.Ce();return this.rX(a),this.uX(u,a),a},_.prototype.MP=function(u){this.ob.jd(u)},_.prototype.addElement=function(u,a){return a==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),a=this.Qe),this.FD(u,0,a)},_.prototype.KD=function(u){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(u,1,this.Qe)},_.prototype.xn=function(u){this.Qe==-1&&(this.Qe=this.Pr(-1));var a=this.Qe,n=this.ob.o;if(a==-1||n[7*a]==-1)return u=this.ob.Ll([-1,-1,-1,u,this.gl(),-1,-1]),(n=this.ob.o)[7*a]=u,this.vp(-1,u,a,n),u;var o=a==-1?-1:n[7*a+2];return u=this.ob.Ll([-1,-1,o,u,this.gl(),-1,-1]),(n=this.ob.o)[7*o+1]=u,this.oy(u,n),n[7*u+2]===-1&&(n[7*a]=u),this.vp(-1,u,a,n),u},_.prototype.zu=function(u,a,n,o){var l=-1;l==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),l=this.Qe);var d=this.ob.o;if(l==-1||d[7*l]==-1)return n=this.ob.Ll([-1,-1,-1,n,this.gl(),-1,-1]),(d=this.ob.o)[7*l]=n,this.vp(-1,n,l,d),n;if(o){o=a!=-1?this.Zn.compare(this,n,a):-1;var p=u!=-1?this.Zn.compare(this,n,u):1}else o=-1,p=1;if(o==0||p==0)return d[7*l+3]=o==0?a:u,-1;for((a!=-1&&u!=-1?this.Tm>h.O.bB(this.Tm)>>1:a!=-1)?u=a:o=p,a=!0;;){if(0>o){if((p=d[7*u])==-1){o=u,n=this.ob.Ll([-1,-1,u,n,this.gl(),-1,-1]),(d=this.ob.o)[7*u]=n;break}u=p}else{if((p=d[7*u+1])==-1){o=d[7*u+6],n=this.ob.Ll([-1,-1,u,n,this.gl(),-1,-1]),(d=this.ob.o)[7*u+1]=n;break}u=p}a&&(o*=-1,a=!1)}return this.oy(n,d),d[7*n+2]===-1&&(d[7*l]=n),this.vp(o,n,l,d),n},_.prototype.FF=function(){return this.iR(this.Qe)},_.prototype.vd=function(u,a){a=a==-1?this.Qe:a,this.Rv?this.LP(u,a):this.iY(u,a)},_.prototype.search=function(u,a){for(a=this.sv(a);a!=-1;){var n=this.Zn.compare(this,u,a);if(n==0)return a;a=0>n?this.ll(a):this.Xp(a)}return-1},_.prototype.IW=function(u){for(var a=this.sv(-1),n=-1;a!=-1;){var o=u.compare(this,a);if(o==0)return a;0>o?a=this.ll(a):(n=a,a=this.Xp(a))}return n},_.prototype.uJ=function(u){for(var a=this.sv(-1),n=-1;a!=-1;){var o=u.compare(this,a);if(o==0)return a;0>o?(n=a,a=this.ll(a)):a=this.Xp(a)}return n},_.prototype.ja=function(u){return this.ob.T(u,3)},_.prototype.ll=function(u){return this.ob.T(u,0)},_.prototype.Xp=function(u){return this.ob.T(u,1)},_.prototype.getParent=function(u){return this.ob.T(u,2)},_.prototype.lb=function(u){return this.ob.T(u,6)},_.prototype.we=function(u){return this.ob.T(u,5)},_.prototype.rc=function(u){return u==-1?this.kl(this.Qe):this.kl(u)},_.prototype.Fc=function(u){return u==-1?this.Zr(this.Qe):this.Zr(u)},_.prototype.ZR=function(u){return u==-1?this.bG(this.Qe):this.bG(u)},_.prototype.Sj=function(u,a){this.NB(u,a)},_.prototype.sv=function(u){return u==-1?this.YF(this.Qe):this.YF(u)},_.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},_.prototype.size=function(u){return u==-1?this.$F(this.Qe):this.$F(u)},_.prototype.KN=function(u,a){for(var n=a[7*u],o=a[7*u+1],l=a[7*u+4];n!=-1||o!=-1;){var d=n!=-1?a[7*n+4]:2147483647;if(o=o!=-1?a[7*o+4]:2147483647,l<=Math.min(d,o))break;d<=o?this.sJ(n,a):this.rJ(u,a),n=a[7*u],o=a[7*u+1]}},_.prototype.oy=function(u,a){if(this.Rv)for(var n=a[7*u+4],o=a[7*u+2];o!=-1&&a[7*o+4]>n;)a[7*o]==u?this.sJ(u,a):this.rJ(o,a),o=a[7*u+2]},_.prototype.rJ=function(u,a){var n=a[7*u+1];a[7*n+2]=a[7*u+2],a[7*u+2]=n;var o=a[7*n];a[7*u+1]=o,o!=-1&&(a[7*o+2]=u),a[7*n]=u,(o=a[7*n+2])!=-1&&(a[7*o]==u?a[7*o]=n:a[7*o+1]=n)},_.prototype.sJ=function(u,a){var n=a[7*u+2];a[7*u+2]=a[7*n+2],a[7*n+2]=u;var o=a[7*u+1];a[7*n]=o,o!=-1&&(a[7*o+2]=n),a[7*u+1]=n,(o=a[7*u+2])!=-1&&(a[7*o]===n?a[7*o]=u:a[7*o+1]=u)},_.prototype.Pk=function(u,a){this.ob.S(u,2,a)},_.prototype.TB=function(u,a){this.ob.S(u,0,a)},_.prototype.XB=function(u,a){this.ob.S(u,1,a)},_.prototype.WB=function(u,a){this.ob.S(u,5,a)},_.prototype.ex=function(u,a){this.ob.S(u,6,a)},_.prototype.XJ=function(u,a){this.ob.S(a,0,u)},_.prototype.rX=function(u){this.ob.S(u,4,0)},_.prototype.uX=function(u,a){this.ob.S(a,5,u)},_.prototype.YF=function(u){return u==-1?-1:this.ob.T(u,0)},_.prototype.kl=function(u){return u==-1?-1:this.ob.T(u,1)},_.prototype.Zr=function(u){return u==-1?-1:this.ob.T(u,2)},_.prototype.iR=function(u){return u==-1?-1:this.ob.T(u,3)},_.prototype.$F=function(u){return u==-1?0:this.ob.T(u,4)},_.prototype.bG=function(u){return this.ob.T(u,5)},_.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},_.prototype.fl=function(u){u!=-1&&this.ob.jd(u)},_.prototype.gl=function(){return this.Tm=h.O.bB(this.Tm),1073741823&this.Tm},_.prototype.FD=function(u,a,n){var o=this.ob.o;if(n==-1||o[7*n]==-1)return u=this.ob.Ll([-1,-1,-1,u,this.gl(),-1,-1]),(o=this.ob.o)[7*n]=u,this.vp(-1,u,n,o),u;for(var l=n==-1?-1:o[7*n];;){var d=a==-1?1:this.Zn.compare(this,u,l);if(0>d){if((d=this.ll(l))==-1){a=l,u=this.ob.Ll([-1,-1,l,u,this.gl(),-1,-1]),(o=this.ob.o)[7*l]=u;break}l=d}else{if(a==1&&d==0)return o[7*n+3]=l,-1;if((d=o[7*l+1])==-1){a=o[7*l+6],u=this.ob.Ll([-1,-1,l,u,this.gl(),-1,-1]),(o=this.ob.o)[7*l+1]=u;break}l=d}}return this.oy(u,o),o[7*u+2]===-1&&(o[7*n]=u),this.vp(a,u,n,o),u},_.prototype.vp=function(u,a,n,o){if(u!=-1){var l=o[7*u+5];o[7*u+5]=a}else l=n==-1?-1:o[7*n+2];o[7*a+5]=l,l!=-1&&(o[7*l+6]=a),o[7*a+6]=u,u==(n==-1?-1:o[7*n+1])&&(o[7*n+1]=a),u==-1&&(o[7*n+2]=a),o[7*n+4]=(n==-1?0:o[7*n+4])+1},_.prototype.AB=function(u,a){var n=this.ob.o,o=n[7*u+5];u=n[7*u+6],o!=-1?n[7*o+6]=u:n[7*a+1]=u,u!=-1?n[7*u+5]=o:n[7*a+2]=o,n[7*a+4]=a===-1?-1:n[7*a+4]-1},_.prototype.iY=function(u,a){this.AB(u,a);var n=this.ll(u),o=this.Xp(u),l=this.getParent(u),d=u;if(n!=-1&&o!=-1){this.Tm=h.O.bB(this.Tm);var p=1073741823<this.Tm?this.lb(u):this.we(u),y=this.getParent(p)==u;this.ob.gC(u,p,0),this.ob.gC(u,p,1),this.ob.gC(u,p,2),l!=-1?this.ll(l)==u?this.TB(l,p):this.XB(l,p):this.XJ(p,a),y?(n==p?(this.TB(p,u),this.Pk(o,p)):o==p&&(this.XB(p,u),this.Pk(n,p)),this.Pk(u,p),l=p):(this.Pk(n,p),this.Pk(o,p),l=this.getParent(u),d=p),n=this.ll(u),o=this.Xp(u),n!=-1&&this.Pk(n,u),o!=-1&&this.Pk(o,u)}n=n!=-1?n:o,l==-1?this.XJ(n,a):this.ll(l)==d?this.TB(l,n):this.XB(l,n),n!=-1&&this.Pk(n,l),this.fl(u)},_.prototype.LP=function(u,a){var n=this.ob.o;n[7*u+4]=2147483647;var o=-1,l=-1,d=a===-1?-1:n[7*a],p=d==u;if(p&&(o=n[7*d],l=n[7*d+1],o==-1&&l==-1))return this.AB(d,a),this.fl(d),void(n[7*a]=-1);this.KN(u,n),(d=n[7*u+2])!=-1&&(n[7*d]==u?n[7*d]=-1:n[7*d+1]=-1),this.AB(u,a),this.fl(u),p&&(n[7*a]=o==-1||n[7*o+2]!=-1?l:o)},_.prototype.NB=function(u,a){this.ob.S(u,3,a)},_}();h.Yj=P}(Y||(Y={})),function(h){var P=function(){function _(u,a){u!==void 0&&this.K(u,a)}return _.prototype.K=function(u,a){this.oa=u,this.va=a,this.normalize()},_.prototype.isIntersecting=function(u){return this.oa<=u.oa?this.va>=u.oa:u.va>=this.oa},_.prototype.move=function(u){this.B()||(this.oa+=u,this.va+=u)},_.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var u=this.oa;this.oa=this.va,this.va=u}isNaN(this.va)&&this.Oa()}},_.prototype.Oa=function(){this.va=this.oa=NaN},_.prototype.B=function(){return isNaN(this.oa)},_.prototype.Zb=function(u){typeof u=="number"?this.B()?this.va=this.oa=u:this.Lk(u):u.B()||(this.B()?(this.oa=u.oa,this.va=u.va):(this.oa>u.oa&&(this.oa=u.oa),this.va<u.va&&(this.va=u.va),this.oa>this.va&&this.Oa()))},_.prototype.Lk=function(u){u<this.oa?this.oa=u:u>this.va&&(this.va=u)},_.prototype.contains=function(u){return typeof u=="number"?u>=this.oa&&u<=this.va:u.oa>=this.oa&&u.va<=this.va},_.prototype.Ea=function(u){this.B()||u.B()?this.Oa():(this.oa<u.oa&&(this.oa=u.oa),this.va>u.va&&(this.va=u.va),this.oa>this.va&&this.Oa())},_.prototype.W=function(u){this.B()||(this.oa-=u,this.va+=u,this.va<this.oa&&this.Oa())},_.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},_.prototype.KB=function(u,a){u>a?(this.oa=a,this.va=u):(this.oa=u,this.va=a)},_.prototype.It=function(u){return h.O.Rk(u,this.oa,this.va)},_.prototype.R=function(){return this.va-this.oa},_.prototype.sf=function(){return .5*(this.oa+this.va)},_.prototype.Nb=function(u){return u==this||u instanceof _&&(!(!this.B()||!u.B())||this.oa==u.oa&&this.va==u.va)},_.prototype.cc=function(){return h.O.uj(h.O.uj())},_}();h.Nc=P}(Y||(Y={})),function(h){var P=new h.Nc,_=new h.Nc,u=function(){this.ne=null,this.pb=-1,this.sb=new h.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new h.Nc,this.Uf.KB(0,0)};h.IY=u;var a=function(){function n(o,l,d){this.g=o,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=l,this.Nq=10*l,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=d,this.TA=new u,this.YH=new u,h.O.truncate(3*o.fd/2)}return n.prototype.mG=function(o,l,d,p){o.ne=p===null?null:p[d[5*l]],o.Tv=o.ne!=null,o.Tv||((p=d[5*l+2])!==-1&&this.g.mW(d[5*l],d[5*p],o.sb),o.ne=o.sb,o.Uf.KB(o.sb.sa,o.sb.pa),o.Uf.va+=this.qa,o.sb.rI(),o.Vv=o.sb.la==o.sb.na,o.Vv||(o.qA=(o.sb.pa-o.sb.sa)/(o.sb.la-o.sb.na)))},n.prototype.OO=function(o,l){var d=o.zr(l,this.qa,!0);return d!=0?d==2?this.Qy():this.xi():(o.Yp(Rs),o.Tr(go),l.Yp(Ns),l.Tr(vo),ji.ma(this.Kq,this.Hk),Rs.qb(Ns)&&this.Hk==Rs.y?0>go.compare(vo)?ji.L(go):ji.L(vo):Rs.qb(vo)&&this.Hk==Rs.y?0>go.compare(Ns)?ji.L(go):ji.L(Ns):Ns.qb(go)&&this.Hk==Ns.y?0>Rs.compare(vo)?ji.L(Rs):ji.L(vo):go.qb(vo)&&this.Hk==go.y&&(0>Rs.compare(Ns)?ji.L(Rs):ji.L(Ns)),o.Pe(ji.y,ji.x)<l.Pe(ji.y,ji.x)?-1:1)},n.prototype.MO=function(o,l){if(o.sb.na==l.sb.na&&o.sb.sa==l.sb.sa)return o.sb.la==l.sb.la&&o.sb.pa==l.sb.pa?this.gA?this.Qy():0:this.PE(o,l);if(o.sb.la==l.sb.la&&o.sb.pa==l.sb.pa)return this.OE(o,l);var d=this.OE(o,l);return o=this.PE(o,l),0>d&&0>o?-1:0<d&&0<o?1:this.xi()},n.prototype.IO=function(o,l){if(o.pa>l.pa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&o.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(o.pa-o.sa)<this.Nq&&l.vi(o.pa,o.la,this.qa))return this.xi();return 1},n.prototype.JO=function(o,l){if(o.sa<l.sa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&o.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(o.sa-o.pa)<this.Nq&&l.vi(o.sa,o.na,this.qa))return this.xi();return-1},n.prototype.KO=function(o,l){var d=new h.h;d.uc(l.wc(),l.ac()),d.ar(),d.normalize();var p=new h.h;p.uc(o.ac(),l.ac());var y=new h.h;y.uc(o.wc(),l.ac()),p=p.Qh(d),d=y.Qh(d),y=Math.abs(p);var v=Math.abs(d);if(y<v){if(y<this.Nq&&l.vi(o.sa,o.na,this.qa))return this.xi()}else if(v<this.Nq&&l.vi(o.pa,o.la,this.qa))return this.xi();return 0>p&&0>d?-1:0<p&&0<d?1:this.xi()},n.prototype.NE=function(o,l){return o.na==l.na&&o.sa==l.sa?this.IO(o,l):o.la==l.la&&o.pa==l.pa?this.JO(o,l):this.KO(o,l)},n.prototype.LO=function(o,l){return o.la==l.la&&o.pa==l.pa&&o.na==l.na&&o.sa==l.sa?this.gA?this.Qy():0:this.xi()},n.prototype.OE=function(o,l){var d=1;if(o.sb.na<l.sb.na){d=-1;var p=o;o=l,l=p}o=o.sb,p=l.sb;var y=o.sa-p.sa;l=l.qA*(o.na-p.na);var v=this.Nq;return y<l-v?-d:y>l+v?d:p.vi(o.sa,o.na,this.qa)?this.xi():y<l?-d:d},n.prototype.PE=function(o,l){var d=1;if(l.sb.la<o.sb.la){d=-1;var p=o;o=l,l=p}o=o.sb,p=l.sb;var y=o.pa-p.sa;l=l.qA*(o.la-p.na);var v=this.Nq;return y<l-v?-d:y>l+v?d:p.vi(o.pa,o.la,this.qa)?this.xi():y<l?-d:d},n.prototype.Qy=function(){return this.rg=!0,this.Ni=new h.Md(5,this.Lo,this.gt),-1},n.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new h.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},n.prototype.NO=function(o,l,d,p){if(this.rg)return-1;var y=this.OH==this.Hk&&this.NH==this.Kq;if(y&&o==this.Ws)var v=this.PH;else v=NaN,this.Ws=-1;return y&&l==this.Xs?y=this.QH:(y=NaN,this.Xs=-1),d.ne.ZI(P),p.ne.ZI(_),P.va<_.oa?-1:_.va<P.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(v)&&(this.Ws=o,this.PH=v=o=d.ne.Pe(this.Hk,this.Kq)),isNaN(y)&&(this.Xs=l,this.QH=y=o=p.ne.Pe(this.Hk,this.Kq)),Math.abs(v-y)<=this.qa?this.OO(d.ne,p.ne):v<y?-1:v>y?1:0)},n.prototype.Kr=function(){this.rg=!1},n.prototype.rm=function(){return this.Ni},n.prototype.$J=function(o,l){this.Hk=o,this.Kq=l,this.gt=this.Lo=this.Xs=this.Ws=-1},n.prototype.compare=function(o,l,d){return this.rg?-1:(o=o.ja(d),this.Dm=d,this.RE(l,l,o,o))},n.prototype.RE=function(o,l,d,p){if(this.Lo==l)var y=this.TA;else this.Lo=l,y=this.TA,this.TA.pb=o,this.mG(y,l,this.g.td.o,this.g.We);if(v==null){this.gt=p;var v=this.YH;this.YH.pb=d,this.mG(v,p,this.g.td.o,this.g.We)}return y.Tv||v.Tv?this.NO(l,p,y,v):y.Uf.va<v.Uf.oa?-1:v.Uf.va<y.Uf.oa?1:(o=y.Vv?1:0,(o|=v.Vv?2:0)==0?this.MO(y,v):o==1?this.NE(y.sb,v.sb):o==2?-1*this.NE(v.sb,y.sb):this.LO(y.sb,v.sb))},n}();h.UC=a}(Y||(Y={})),function(h){var P=function(){function _(u,a){this.g=u,this.qa=a,this.rg=!1,this.Lo=-1,this.Uf=new h.Nc,this.Gq=new h.h,this.Gq.Rc(),this.ie=new h.yb,this.Dm=-1,this.BA=17976931348623157e292}return _.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},_.prototype.Dh=function(u){this.Gq.L(u)},_.prototype.compare=function(u,a){return this.SE(a,u.ja(a))},_.prototype.SE=function(u,a){var n=this.g.bc(a)!=null;if(n||(this.g.ed(a,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),n)throw h.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=u,this.rg=!0,0;this.ie.rI(),n=this.ie.ac(),(a=new h.h).uc(this.ie.wc(),n),a.ar();var o=new h.h;return o.uc(this.Gq,n),n=a.Qh(o),(n/=a.length())<10*-this.qa?-1:n>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((a=Math.abs(n))<this.BA&&(this.Dm=u,this.BA=a),this.rg=!0,a<.25*this.qa)?0:0>n?-1:1},_}();h.aM=P}(Y||(Y={})),function(h){function P(u,a,n,o){n=new Float64Array(u.subarray(n,o)),u.set(n,a)}var _=function(){function u(a){this.Pb=this.pk=!1,this.o=null;var n=a;2>n&&(n=2),this.o=new Float64Array(n),this.size=a}return u.prototype.rotate=function(a,n,o){if(this.Pb)throw h.i.fa("invalid_call");if(n<a||n>o||a>o)throw h.i.N();a!=n&&o!=n&&(this.ni(a,n-a,1),this.ni(n,o-n,1),this.ni(a,o-a,1))},u.qf=function(a,n){var o=new u(a),l=o.o;if(2>a&&(a=2),n!==0)for(var d=0;d<a;d++)l[d]=n;return o},u.Bn=function(a){var n=new u(0);return n.o=new Float64Array(a.o),n.size=a.size,n},u.Lr=function(a,n){var o=new u(0);return o.size=a.size,o.size>n&&(o.size=n),2>(n=o.size)&&(n=2),o.o=new Float64Array(n),o.o.set(a.o.length<=n?a.o:a.o.subarray(0,n),0),o},u.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Float64Array(a):a<=this.o.length||(0<this.o.length?((a=new Float64Array(a)).set(this.o),this.o=a):this.o=new Float64Array(a)))},u.prototype.read=function(a){return this.o[a]},u.prototype.tc=function(a,n){n.x=this.o[a],n.y=this.o[a+1]},u.prototype.get=function(a){return this.o[a]},u.prototype.write=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.set=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.Tt=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},u.prototype.GB=function(a){return u.Lr(this,a)},u.prototype.eg=function(a){return this.read(a)},u.prototype.resize=function(a,n){if(n===void 0&&(n=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Float64Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Float64Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=n}this.size=a},u.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},u.prototype.pr=function(a,n){this.write(a,n)},u.prototype.An=function(a,n,o){for(var l=this.size;n<l&&n<o;n++)a=h.O.uj(this.read(n));return a},u.prototype.Nb=function(a,n,o){if(a==null||!(a instanceof u))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);n<o;n++)if(this.read(n)!=a.read(n))return!1;return!0},u.prototype.addRange=function(a,n,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var p=this.size;if(this.resize(p+o),l)this.o.set(a.o.subarray(n,n+o),p);else{l=o;for(var y=0;y<o;y+=d){l-=d;for(var v=0;v<d;v++)this.o[p+y+v]=a.o[n+l+v]}}},u.prototype.Mn=function(a,n,o,l,d,p,y){if(this.Pb)throw h.i.Hb();if(!d&&(1>p||l%p!=0))throw h.i.N();var v=this.size-y;if(v<l&&this.resize(this.size+l-v),P(this.o,a+l,a,a+(y-a)),this.o==n.o&&a<o&&(o+=l),d)this.o.set(n.o.subarray(o,o+l),a);else for(d=l,y=0;y<l;y+=p)for(d-=p,v=0;v<p;v++)this.o[a+y+v]=n.o[o+d+v]},u.prototype.Iz=function(a,n,o,l,d,p){if(this.Pb)throw h.i.Hb();if(0>p&&(p=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,P(this.o,a+2*l,a,a+(p-a)),d)for(d=0;d<l;d++)p=n[o++],this.o[a++]=p.x,this.o[a++]=p.y;else{d=0;for(var y=l-1;d<l;++d)p=n[o+y],this.o[a++]=p.x,this.o[a++]=p.y,y--}},u.prototype.Ln=function(a,n,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,P(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=n},u.prototype.vj=function(a,n,o){if(this.Pb)throw h.i.Hb();P(this.o,a+2,a,a+(o-a)),this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.Ut=function(a,n,o,l,d,p){if(0>a||0>n||0>l||!d&&(0>=p||n%p!=0)||o.size<l+n)throw h.i.N();if(n!=0)if(this.size<n+a&&this.resize(n+a),o==this)this.Ar(a,n,l,d,p);else if(d)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+n-p,p==1)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,n=h.O.truncate(n/p);d<n;d++){for(var y=0;y<p;y++)this.o[a+y]=o.o[l+y];a+=p,l-=p}},u.prototype.En=function(a,n,o){if(this.Pb||a+n>this.size)throw h.i.Hb();0<o-(a+n)&&P(this.o,a,a+n,a+(o-(a+n))+n),this.size-=n},u.prototype.ni=function(a,n,o){if(this.Pb||1>o||n%o!=0)throw h.i.Hb();for(var l=n>>1,d=0;d<l;d+=o){n-=o;for(var p=0;p<o;p++){var y=this.o[a+d+p];this.o[a+d+p]=this.o[a+n+p],this.o[a+n+p]=y}}},u.prototype.Wj=function(a,n,o){if(0>n||0>o||0>n||o+n>this.size)throw h.i.N();for(var l=n;l<n+o;l++)this.o[l]=a},u.prototype.Ar=function(a,n,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+n),a),l)))for(o=a,a=a+n-d,l=0,n=h.O.truncate(n/2);l<n;l++){for(var p=0;p<d;p++){var y=this.o[o+p];this.o[o+p]=this.o[a+p],this.o[a+p]=y}o+=d,a-=d}},u.prototype.vC=function(a,n,o,l,d){if(0>a||0>n||0>l)throw h.i.N();if(n!=0)for(this.size<(n<<1)+a&&this.resize((n<<1)+a),d||(a+=n-1<<1),d=d?2:-2,n+=l;l<n;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},u.prototype.uC=function(a,n,o){if(0>a||0>n)throw h.i.N();if(n!=0){this.size<(n<<1)+a&&this.resize((n<<1)+a),n+=0;for(var l=0;l<n;l++)this.o[a]=o[l][0],this.o[a+1]=o[l][1],a+=2}},u.prototype.Vw=function(a,n,o,l,d){if(0>a||0>n||0>l||this.size<n+a)throw h.i.N();if(d)for(d=0;d<n;d++)o[l+d]=this.o[a+d];else for(l=l+n-1;a<n;a++)o[l]=this.o[a],l--},u.prototype.uB=function(a,n,o){if(0>a||0>n||this.size<(n>>1)+a)throw h.i.N();if(n!=0){n=0+n;for(var l=0;l<n;l++)o[l][0]=this.o[a],o[l][1]=this.o[a+1],a+=2}},u.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(a,n,o){Array.prototype.sort.call(this.o.subarray(a,n),o)},u.prototype.Tp=function(){return 1},u}();h.be=_}(Y||(Y={})),function(h){function P(u,a,n,o){n=new Int32Array(u.subarray(n,o)),u.set(n,a)}h.rY=function(){this.random=1973};var _=function(){function u(a){this.Pb=this.pk=!1,this.o=null;var n=a;2>n&&(n=2),this.o=new Int32Array(n),this.size=a}return u.prototype.rotate=function(a,n,o){if(this.Pb)throw h.i.fa("invalid_call");if(n<a||n>o||a>o)throw h.i.N();a!=n&&o!=n&&(this.ni(a,n-a,1),this.ni(n,o-n,1),this.ni(a,o-a,1))},u.qf=function(a,n){var o=new u(a),l=o.o;if(2>a&&(a=2),n!==0)for(var d=0;d<a;d++)l[d]=n;return o},u.Bn=function(a){var n=new u(0);return n.o=new Int32Array(a.o),n.size=a.size,n},u.Lr=function(a,n){var o=new u(0);return o.size=a.size,o.size>n&&(o.size=n),2>(n=o.size)&&(n=2),o.o=new Int32Array(n),o.o.set(a.o.length<=n?a.o:a.o.subarray(0,n),0),o},u.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Int32Array(a):a<=this.o.length||(0<this.o.length?((a=new Int32Array(a)).set(this.o),this.o=a):this.o=new Int32Array(a)))},u.prototype.read=function(a){return this.o[a]},u.prototype.tc=function(a,n){n.x=this.o[a],n.y=this.o[a+1]},u.prototype.get=function(a){return this.o[a]},u.prototype.write=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.set=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.Tt=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},u.prototype.GB=function(a){return u.Lr(this,a)},u.prototype.eg=function(a){return this.read(a)},u.prototype.resize=function(a,n){if(n===void 0&&(n=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Int32Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Int32Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=n}this.size=a},u.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},u.prototype.pr=function(a,n){this.write(a,n)},u.prototype.An=function(a,n,o){for(var l=this.size;n<l&&n<o;n++)a=h.O.Th(this.read(n),a);return a},u.prototype.Nb=function(a,n,o){if(a==null||!(a instanceof u))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);n<o;n++)if(this.read(n)!=a.read(n))return!1;return!0},u.prototype.addRange=function(a,n,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var p=this.size;if(this.resize(p+o),l)this.o.set(a.o.subarray(n,n+o),p);else{l=o;for(var y=0;y<o;y+=d){l-=d;for(var v=0;v<d;v++)this.o[p+y+v]=a.o[n+l+v]}}},u.prototype.Mn=function(a,n,o,l,d,p,y){if(this.Pb)throw h.i.Hb();if(!d&&(1>p||l%p!=0))throw h.i.N();if(P(this.o,a+l,a,a+(y-a)),this.o==n.o&&a<o&&(o+=l),d)this.o.set(n.o.subarray(o,o+l),a);else for(d=l,y=0;y<l;y+=p){d-=p;for(var v=0;v<p;v++)this.o[a+y+v]=n.o[o+d+v]}},u.prototype.Iz=function(a,n,o,l,d,p){if(this.Pb)throw h.i.Hb();if(0>p&&(p=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,P(this.o,a+2*l,a,a+(p-a)),d)for(d=0;d<l;d++)p=n[o++],this.o[a++]=p.x,this.o[a++]=p.y;else{d=0;for(var y=l-1;d<l;++d)p=n[o+y],this.o[a++]=p.x,this.o[a++]=p.y,y--}},u.prototype.Ln=function(a,n,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,P(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=n},u.prototype.vj=function(a,n,o){if(this.Pb)throw h.i.Hb();P(this.o,a+2,a,a+(o-a)),this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.Ut=function(a,n,o,l,d,p){if(0>a||0>n||0>l||!d&&(0>=p||n%p!=0)||o.size<l+n)throw h.i.N();if(n!=0)if(this.size<n+a&&this.resize(n+a),o==this)this.Ar(a,n,l,d,p);else if(d)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+n-p,p==1)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,n=h.O.truncate(n/p);d<n;d++){for(var y=0;y<p;y++)this.o[a+y]=o.o[l+y];a+=p,l-=p}},u.prototype.En=function(a,n,o){if(this.Pb||a+n>this.size)throw h.i.Hb();0<o-(a+n)&&P(this.o,a,a+n,a+(o-(a+n))+n),this.size-=n},u.prototype.ni=function(a,n,o){if(this.Pb||1>o||n%o!=0)throw h.i.Hb();for(var l=n>>1,d=0;d<l;d+=o){n-=o;for(var p=0;p<o;p++){var y=this.o[a+d+p];this.o[a+d+p]=this.o[a+n+p],this.o[a+n+p]=y}}},u.prototype.Wj=function(a,n,o){if(0>n||0>o||0>n||o+n>this.size)throw h.i.N();for(var l=n;l<n+o;l++)this.o[l]=a},u.prototype.Ar=function(a,n,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+n),a),l)))for(o=a,a=a+n-d,l=0,n=h.O.truncate(n/2);l<n;l++){for(var p=0;p<d;p++){var y=this.o[o+p];this.o[o+p]=this.o[a+p],this.o[a+p]=y}o+=d,a-=d}},u.prototype.vC=function(a,n,o,l,d){if(0>a||0>n||0>l)throw h.i.N();if(n!=0)for(this.size<(n<<1)+a&&this.resize((n<<1)+a),d||(a+=n-1<<1),d=d?2:-2,n+=l;l<n;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},u.prototype.Vw=function(a,n,o,l,d){if(0>a||0>n||0>l||this.size<n+a)throw h.i.N();if(d)for(d=0;d<n;d++)o[l+d]=this.o[a+d];else for(l=l+n-1;a<n;a++)o[l]=this.o[a],l--},u.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(a,n,o){10>n-a?u.rG(this.o,a,n,o):u.qB(this.o,a,n-1,o)},u.prototype.Tp=function(){return 2},u.prototype.Fc=function(){return this.o[this.size-1]},u.prototype.If=function(){this.resize(this.size-1)},u.prototype.bX=function(a){this.o[this.size-1]=a},u.prototype.SV=function(a){a<this.size-1&&(this.o[a]=this.o[this.size-1]),this.resize(this.size-1)},u.prototype.lF=function(a){for(var n=0,o=this.size;n<o;n++)if(this.o[n]==a)return n;return-1},u.prototype.hG=function(a){return 0<=this.lF(a)},u.rG=function(a,n,o,l){for(var d=n;d<o;d++){for(var p=a[d],y=d-1;y>=n&&0<l(a[y],p);)a[y+1]=a[y],y--;a[y+1]=p}},u.tx=function(a,n,o){var l=a[o];a[o]=a[n],a[n]=l},u.qB=function(a,n,o,l){if(!(n>=o))for(;;){if(9>o-n){u.rG(a,n,o+1,l);break}var d=a[n];u.tx(a,n,o);for(var p=n,y=n;y<o;y++)0>=l(a[y],d)&&(u.tx(a,p,y),p+=1);u.tx(a,p,o),p-n<o-p?(u.qB(a,n,p-1,l),n=p+1):(u.qB(a,p+1,o,l),o=p-1)}},u}();h.ia=_}(Y||(Y={})),function(h){function P(u,a,n,o){n=new Int8Array(u.subarray(n,o)),u.set(n,a)}var _=function(){function u(a){this.o=null;var n=a;2>n&&(n=2),this.o=new Int8Array(n),this.size=a}return u.prototype.rotate=function(a,n,o){if(this.Pb)throw h.i.fa("invalid_call");if(n<a||n>o||a>o)throw h.i.N();a!=n&&o!=n&&(this.ni(a,n-a,1),this.ni(n,o-n,1),this.ni(a,o-a,1))},u.qf=function(a,n){var o=new u(a),l=o.o;if(2>a&&(a=2),n!==0)for(var d=0;d<a;d++)l[d]=n;return o},u.Bn=function(a){var n=new u(0);return n.o=new Int8Array(a.o),n.size=a.size,n},u.Lr=function(a,n){var o=new u(0);return o.size=a.size,o.size>n&&(o.size=n),2>(n=o.size)&&(n=2),o.o=new Int8Array(n),o.o.set(a.o.length<=n?a.o:a.o.subarray(0,n),0),o},u.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Int8Array(a):a<=this.o.length||(0<this.o.length?((a=new Int8Array(a)).set(this.o),this.o=a):this.o=new Int8Array(a)))},u.prototype.read=function(a){return this.o[a]},u.prototype.tc=function(a,n){n.x=this.o[a],n.y=this.o[a+1]},u.prototype.get=function(a){return this.o[a]},u.prototype.write=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.set=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n},u.prototype.Tt=function(a,n){if(this.Pb)throw h.i.Hb();this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},u.prototype.GB=function(a){return u.Lr(this,a)},u.prototype.eg=function(a){return this.read(a)},u.prototype.resize=function(a,n){if(n===void 0&&(n=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Int8Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Int8Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=n}this.size=a},u.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},u.prototype.pr=function(a,n){this.write(a,n)},u.prototype.An=function(a,n,o){for(var l=this.size;n<l&&n<o;n++)a=h.O.Th(this.read(n),a);return a},u.prototype.Nb=function(a,n,o){if(a==null||!(a instanceof u))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);n<o;n++)if(this.read(n)!=a.read(n))return!1;return!0},u.prototype.addRange=function(a,n,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var p=this.size;if(this.resize(p+o),l)this.o.set(a.o.subarray(n,n+o),p);else{l=o;for(var y=0;y<o;y+=d){l-=d;for(var v=0;v<d;v++)this.o[p+y+v]=a.o[n+l+v]}}},u.prototype.Mn=function(a,n,o,l,d,p,y){if(this.Pb)throw h.i.Hb();if(!d&&(1>p||l%p!=0))throw h.i.N();if(P(this.o,a+l,a,a+(y-a)),this.o==n.o&&a<o&&(o+=l),d)this.o.set(n.o.subarray(o,o+l),a);else for(d=l,y=0;y<l;y+=p){d-=p;for(var v=0;v<p;v++)this.o[a+y+v]=n.o[o+d+v]}},u.prototype.Ln=function(a,n,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,P(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=n},u.prototype.Iz=function(a,n,o,l,d,p){if(this.Pb)throw h.i.Hb();if(0>p&&(p=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,P(this.o,a+2*l,a,a+(p-a)),d)for(d=0;d<l;d++)p=n[o++],this.o[a++]=p.x,this.o[a++]=p.y;else{d=0;for(var y=l-1;d<l;++d)p=n[o+y],this.o[a++]=p.x,this.o[a++]=p.y,y--}},u.prototype.vj=function(a,n,o){if(this.Pb)throw h.i.Hb();P(this.o,a+2,a,a+(o-a)),this.o[a]=n.x,this.o[a+1]=n.y},u.prototype.Ut=function(a,n,o,l,d,p){if(0>a||0>n||0>l||!d&&(0>=p||n%p!=0)||o.size<l+n)throw h.i.N();if(n!=0)if(this.size<n+a&&this.resize(n+a),o==this)this.Ar(a,n,l,d,p);else if(d)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+n-p,p==1)for(d=0;d<n;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,n=h.O.truncate(n/p);d<n;d++){for(var y=0;y<p;y++)this.o[a+y]=o.o[l+y];a+=p,l-=p}},u.prototype.En=function(a,n,o){if(this.Pb||a+n>this.size)throw h.i.Hb();0<o-(a+n)&&P(this.o,a,a+n,a+(o-(a+n))+n),this.size-=n},u.prototype.ni=function(a,n,o){if(this.Pb||1>o||n%o!=0)throw h.i.Hb();for(var l=n>>1,d=0;d<l;d+=o){n-=o;for(var p=0;p<o;p++){var y=this.o[a+d+p];this.o[a+d+p]=this.o[a+n+p],this.o[a+n+p]=y}}},u.prototype.Wj=function(a,n,o){if(0>n||0>o||0>n||o+n>this.size)throw h.i.N();for(var l=n;l<n+o;l++)this.o[l]=a},u.prototype.Ar=function(a,n,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+n),a),l)))for(o=a,a=a+n-d,l=0,n=h.O.truncate(n/2);l<n;l++){for(var p=0;p<d;p++){var y=this.o[o+p];this.o[o+p]=this.o[a+p],this.o[a+p]=y}o+=d,a-=d}},u.prototype.vC=function(a,n,o,l,d){if(0>a||0>n||0>l)throw h.i.N();if(n!=0)for(this.size<(n<<1)+a&&this.resize((n<<1)+a),d||(a+=n-1<<1),d=d?2:-2,n+=l;l<n;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},u.prototype.Vw=function(a,n,o,l,d){if(0>a||0>n||0>l||this.size<n+a)throw h.i.N();if(d)for(d=0;d<n;d++)o[l+d]=this.o[a+d];else for(l=l+n-1;a<n;a++)o[l]=this.o[a],l--},u.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(a,n,o){n=this.o.subarray(a,n),Array.prototype.sort.call(n,o),this.o.set(n,a)},u.prototype.zJ=function(a,n){if(this.Pb)throw h.i.fa("invalid call. Attribute Stream is read only.");this.o[a]|=n},u.prototype.KE=function(a,n){if(this.Pb)throw h.i.fa("invalid call. Attribute Stream is read only.");this.o[a]&=~n},u.prototype.Tp=function(){return 1},u}();h.pn=_}(Y||(Y={})),function(h){h.Yc=function(){function P(){}return P.Mr=function(_,u){return h.pn.qf(_,u)},P.Dn=function(_,u){return h.be.qf(_,u)},P.pP=function(_,u,a){switch(_){case 1:_=h.be.qf(u,a);break;case 2:_=h.ia.qf(u,a);break;case 4:_=h.pn.qf(u,a);break;default:throw h.i.Qa()}return _},P.YE=function(_,u){return P.pP(h.ra.Tp(_),u*h.ra.Va(_),h.ra.se(_))},P.Oh=function(_,u){return h.ia.qf(_,u)},P.qI=function(_){var u,a=[];for(u=0;u<_;u++)a.push(null);return a},P}()}(Y||(Y={})),function(h){h.ga=function(P){P===void 0&&(P=0),this.u=P}}(Y||(Y={})),function(h){h.NL=function(){function P(){}return P.bind=function(_){h.Sc=_.PeDefs,h.pf=_.PeFactory,h.NC=_.PeVertcs,h.ej=_.PeCSTransformations,h.MC=_.PeGTTransformations,h.LL=_.PeGeogtran,h.KL=_.PeFactoryCodechange,h.LC=_.PeGCSExtent,h.Cg=_.PePCSInfo,h.ML=_.PeHorizon,h.JL=_.PeCoordsys,h.lp=_.PeGTlistExtended,h.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,h.pf.initialize(null),h.Mx=_.PeGTlistExtendedEntry,h.pf.fromString(h.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},P}(),h.pf=null,h.NC=null,h.JL=null,h.ML=null,h.Cg=null,h.lp=null,h.Mx=null,h.LC=null,h.KL=null,h.LL=null,h.Sc=null,h.MC=null,h.ej=null}(Y||(Y={})),function(h){var P=function(){function _(){}return _.Mb=function(u,a){return 0<=a?_.P(u):-_.P(u)},_.P=function(u){return 0>u?-u:u},_.ti=function(u){return 3552713678800501e-30>u},_.KC=function(u,a,n){return _.P(u-a)<=n*(1+(_.P(u)+_.P(a))/2)},_.Y=function(u,a){return _.KC(u,a,3552713678800501e-30)},_.FL=function(u){return 3552713678800501e-30>=_.P(u)},_.Cd=function(u){return _.FL(u)},_}();h.s=P,h.F=function(){function _(){}return _.gp=function(u,a){var n=0;return(u=P.P(u))+(a=P.P(a))!=0&&(u>a?(n=a/u,n=u*Math.sqrt(1+n*n)):(n=u/a,n=a*Math.sqrt(1+n*n))),n},_.Wq=function(u,a,n,o,l){for(var d=[0,0,0],p=[0,0,0],y=0;2>=y;y++)a[y]-=u[y],n[y]-=a[y];n=d[1]*p[2]-d[2]*p[1],a=d[2]*p[0]-d[0]*p[2],d=d[0]*p[1]-d[1]*p[0],u=-1*(n*u[0]+a*u[1]+d*u[2]),o[0]=n,o[1]=a,o[2]=d,o[3]=u,p=_.on(o),o[0]/=p,o[1]/=p,o[2]/=p,o[3]/=p,l!=0&&(p=P.Cd(d)?P.Cd(u)?P.Mb(1,a):-P.Mb(1,u):P.Mb(1,d),p*=P.Mb(1,l),o[0]*=p,o[1]*=p,o[2]*=p,o[3]*=p)},_.zx=function(u,a,n){n[0]=u[1]*a[2]-a[1]*u[2],n[1]=u[2]*a[0]-a[2]*u[0],n[2]=u[0]*a[1]-a[0]*u[1]},_.St=function(u,a){return u[0]*a[0]+u[1]*a[1]+u[2]*a[2]},_.on=function(u){return _.gp(_.gp(u[0],u[1]),u[2])},_.cl=function(u,a,n,o,l,d,p,y){u=_.n(u,a,n);var v=Math.cos(n);d.u=(u+l)*v*Math.cos(o),p.u=(u+l)*v*Math.sin(o),y.u=(u*(1-a)+l)*Math.sin(n)},_.jO=function(u,a,n,o,l,d,p){var y=_.gp(a,n),v=1*Math.sqrt(1-u),$=v/1;if(P.Y(y,0))d.u=0,l.u=P.Mb(1.570796326794897,o),p.u=P.P(o)-v;else{d.u=Math.atan2(n,a),n=Math.atan2(1*o,v*y),d=Math.cos(n);var I=Math.sin(n);a=v*u/(1-u),u*=1,n=Math.atan2(o+a*I*I*I,y-u*d*d*d),3.141592653589793<P.P(n)&&(n=P.Mb(3.141592653589793,n)-n),n=Math.atan($*Math.tan(n)),I=Math.sin(n),d=Math.cos(n),l.u=Math.atan2(o+a*I*I*I,y-u*d*d*d),1.570796326794897<P.P(l.u)&&(l.u=P.Mb(3.141592653589793,l.u)-l.u),n=Math.atan($*Math.tan(l.u)),I=Math.sin(n),d=Math.cos(n),p.u=(o-v*I)*Math.sin(l.u)+(y-1*d)*Math.cos(l.u)}},_.n=function(u,a,n){return n=Math.sin(n),u/Math.sqrt(1-a*n*n)},_.ot=function(u,a){return Math.atan2(Math.sin(a)*(1-u),Math.cos(a))},_.Qj=function(u,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-u))},_.Rq=function(u,a){if(P.ti(u)||a==0||P.Y(P.P(a),1.570796326794897))return a;if(.006884661117170036>u){var n=Math.sqrt(1-u),o=(1-n)/(1+n),l=o*o,d=o*l,p=o*d,y=o*p,v=o*y,$=o*v,I=1.572916666666667*d-3.2578125*y+4.295068359375*$;u=2.142578125*p-6.071484375*v,n=3.129296875*y-11.249837239583334*$;var k=4.775276692708333*v,O=7.958636765252976*$,F=Math.cos(2*a);return a+Math.sin(2*a)*(1.5*o-.84375*d+.525390625*y-.2688395182291667*$-I+n-O+F*(2*(1.3125*l-1.71875*p+1.650146484375*v)-4*u+6*k+F*(4*I-12*n+24*O+F*(8*u-32*k+F*(16*n-80*O+F*(32*k+64*F*O))))))}for(n=1-u,o=u/2,d=(l=P.P(a))*_.Zu(u)/(1.570796326794897*n),p=9999,v=l,l=0;1e-16<p&&50>l;l++)$=_.w(u,v),y=v-(I=(y=(_.kG(v,u)-o*Math.sin(2*v)/$)/n-d)/($=1/($*$*$))),p=P.P(I),v=y;return 0<=a?v:-v},_.qW=function(u,a){return P.ti(a)?u:u*_.Zu(a)/1.570796326794897},_.ba=function(u){return 0>(u=_.pF(u,6.283185307179586))?u+6.283185307179586:3.141592653589793>P.P(u)||P.Y(P.P(u),3.141592653589793)?u:u-6.283185307179586},_.pF=function(u,a){return u-Math.floor(u/a)*a},_.Ah=function(u,a){if(.006884661117170036>a){var n=(a=(1-(a=Math.sqrt(1-a)))/(1+a))*a,o=n*n;return u/(1+a)*(1+.25*n+.015625*o+.00390625*n*o)*1.570796326794897}return u*_.Zu(a)},_.Vq=function(u,a){var n=P.Mb(1,Math.sin(a));return a=1.570796326794897>=(a=P.P(_.pF(a,3.141592653589793)))?a:3.141592653589793-a,(P.Y(a,1.570796326794897)?a:Math.atan(Math.sqrt(1-u)*Math.tan(a)))*n},_.q=function(u,a,n){if(.006884661117170036>a){var o=(a=(1-(a=Math.sqrt(1-a)))/(1+a))*a,l=a*o,d=a*l,p=a*d,y=a*p,v=a*y,$=-.7291666666666666*l+.2278645833333333*p+.03987630208333334*v,I=.615234375*d-.21533203125*y,k=-.54140625*p+.20302734375*v,O=.48876953125*y,F=-.4488699776785715*v,j=Math.cos(2*n);return u/(1+a)*((1+.25*o+.015625*d+.00390625*y)*n+Math.sin(2*n)*(-1.5*a+.1875*l+.0234375*p+.00732421875*v-$+k-F+j*(2*(.9375*o-.234375*d-.03662109375*y)-4*I+6*O+j*(4*$-12*k+24*F+j*(8*I-32*O+j*(16*k-80*F+j*(32*O+64*j*F)))))))}return u*(_.kG(n,a)-.5*a*Math.sin(2*n)/_.w(a,n))},_.w=function(u,a){return a=Math.sin(a),Math.sqrt(1-u*a*a)},_.Zu=function(u){return P.KC(u,1,2220446049250313e-31)?1:1>u?_.Xw(0,1-u)-u/3*_.Uw(0,1-u):NaN},_.kG=function(u,a){var n=P.Mb(1,u);u=P.P(u);var o=Math.floor(u/1.570796326794897);if(1<a)a=u==0?0:NaN;else if(P.Cd(o))a=(u=_.sin(u))*_.Xw(1-u*u,1-a*u*u)-a/3*u*u*u*_.Uw(1-u*u,1-a*u*u);else{var l=h.O.truncate(o%2),d=_.Zu(a);0<l?(u=1.570796326794897*(o+1)-u,a=d*(o+1)-(a=(u=Math.sin(u))*_.Xw(1-u*u,1-a*u*u)-a/3*u*u*u*_.Uw(1-u*u,1-a*u*u))):(u-=1.570796326794897*o,a=d*o+(a=(u=Math.sin(u))*_.Xw(1-u*u,1-a*u*u)-a/3*u*u*u*_.Uw(1-u*u,1-a*u*u)))}return a*n},_.sin=function(u){u=_.ba(u);var a=P.Mb(1,u);return u=P.P(u),P.Y(u,3.141592653589793)?0:P.Y(u,1.570796326794897)?1*a:Math.sin(u)*a},_.Uw=function(u,a){var n,o,l,d,p=u,y=a,v=1;for(a=0,u=1;o=((n=.2*(p+y+3*v))-p)/n,l=(n-y)/n,d=(n-v)/n,!(1e-4>P.P(o)&&1e-4>P.P(l)&&1e-4>P.P(d));)d=Math.sqrt(y),a+=u/((n=Math.sqrt(v))*(v+(d=Math.sqrt(p)*(d+n)+d*n))),u*=.25,p=.25*(p+d),y=.25*(y+d),v=.25*(v+d);return y=(p=o*l)-(v=d*d),3*a+u*(1+(v=p-6*v)*(.10227272727272728*v-.2142857142857143-.1730769230769231*d*(o=v+y+y))+d*(.1666666666666667*o+d*(-.4090909090909091*y+.1153846153846154*d*p)))/(n*Math.sqrt(n))},_.Xw=function(u,a){for(var n,o,l,d,p=1;o=2-((n=(u+a+p)/3)+u)/n,l=2-(n+a)/n,d=2-(n+p)/n,!(1e-4>P.P(o)&&1e-4>P.P(l)&&1e-4>P.P(d));p=.25*(p+n))n=Math.sqrt(a),o=Math.sqrt(p),u=.25*(u+(n=Math.sqrt(u)*(n+o)+n*o)),a=.25*(a+n);return(1+(.04166666666666666*(u=o*l-d*d)-.1-.06818181818181818*(a=o*l*d))*u+.07142857142857142*a)/Math.sqrt(n)},_.Qw=function(u,a){if(P.ti(u)||a==0||P.Y(P.P(a),1.570796326794897))return a;if(.006884661117170036>u){var n=u*u,o=u*n,l=u*o,d=u*l,p=u*d,y=u*p,v=-(.02708333333333333*o+.03430059523809524*l+.03149181547619048*d+.02634359154541446*p+.02156896735835538*y),$=.007669890873015873*l+.01299603174603175*d+.0148051353064374*p+.01454454953803912*y,I=-(.002275545634920635*d+.004830845032667949*p+.006558395368616723*y),k=.0006957236677288761*p+.001775193002406544*y,O=-.000217324089394402*y,F=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*u+.2083333333333333*n+.09375*o+.04878472222222222*l+.02916666666666667*d+.01938905423280423*p+.01388255931712963*y)-v+I-O+F*(2*(.1041666666666667*n+.0875*o+.06050347222222222*l+.04151785714285714*d+.02958958540013228*p+.02203667534722222*y)-4*$+6*k+F*(4*v-12*I+24*O+F*(8*$-32*k+F*(16*I-80*O+F*(32*k+64*F*O))))))}return a==0||P.Y(P.P(a),1.570796326794897)?n=a:(l=(o=Math.sqrt(u))*Math.sin(a),n=Math.tan(.7853981633974483+a/2)*Math.pow((1-l)/(1+l),o/2),n=2*Math.atan(n)-1.570796326794897),n},_.yO=function(u,a){if(P.ti(u)||a==0||P.Y(P.P(a),1.570796326794897))return a;if(.006884661117170036>u){var n=u*(k=u*(I=u*(F=u*u))),o=u*(O=u*n),l=.05833333333333333*I+.07232142857142858*k+.05634300595238095*n+.0355325796406526*O+.020235546186067*o,d=.02653149801587302*k+.04379960317460317*n+.0429211791776896*O+.03255384637546096*o,p=.01294022817460318*n+.02668104344536636*O+.03155651254609588*o,y=.00659454790965208*O+.0163075268674227*o,v=.003463473736911237*o,$=Math.cos(2*a);return a+Math.sin(2*a)*(.5*u+.2083333333333333*F+.08333333333333333*I+.03611111111111111*k+.01875*n+.01195601851851852*O+.008863673941798942*o-l+p-v+$*(2*(.1458333333333333*F+.1208333333333333*I+.07039930555555556*k+.03616071428571429*n+.01839451058201058*O+.01017113095238095*o)-4*d+6*y+$*(4*l-12*p+24*v+$*(8*d-32*y+$*(16*p-80*v+$*(32*y+64*$*v))))))}var I=Math.sqrt(u),k=I/2,O=Math.tan(.7853981633974483+a/2);u=0,l=1;for(var F=a;l!=0;F=o)n=I*Math.sin(F),o=O*Math.pow((1+n)/(1-n),k),o=2*Math.atan(o)-1.570796326794897,u++,(P.Y(o,F)||3e4<u)&&(l=0);return F},_}()}(Y||(Y={})),function(h){var P=function(){function _(u){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new h.h,this.XH=new h.h,this.KA=!1,this.vq=new h.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=u,this.As=h.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var a=u.getCode();0<a?(this.Kk=a,h.pf.getCode(u)):this.Kk=h.pf.getCode(u),0>this.Kk&&(this.Kk=0);var n=this.Ue.getType();if(this.jH=n==h.Sc.PE_TYPE_PROJCS?2:1,n==h.Sc.PE_TYPE_PROJCS&&!u.loadConstants())throw h.i.N("PeProjcs.loadConstants failed");a=n==h.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),n!=h.Sc.PE_TYPE_GEOGCS&&h.pf.getCode(a),this.Eo=u.getUnit(),this.RH=a.getPrimem().getLongitude(),this.wH=u=a.getUnit().getUnitFactor(),u=Math.PI/(180*u),1e-10>Math.abs(u-1)&&(u=1),this.GA=u,n&h.Sc.PE_TYPE_PROJCS?(a=this.Ue,this.HA=1/a.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=h.Cg.generate(a,h.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=h.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,n=1/a.getUnit().getUnitFactor(),this.sw=.001/a.getDatum().getSpheroid().getAxis()*n,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return _.prototype.$r=function(){return this.Kk},_.prototype.kk=function(){return this.tw},_.Py=function(u,a){return u==a||u!=null&&a!=null&&u.Kk==0&&a.Kk==0&&u.As===a.As},_.prototype.Wc=function(){return this.zl},_.prototype.gh=function(u){u.K(this.so)},_.prototype.pv=function(){return this.so.v},_.prototype.ov=function(){return this.so.C},_.prototype.GR=function(u){u.K(this.uw)},_.prototype.lY=function(){var u=this.Ue.getType();if(u==h.Sc.PE_TYPE_PROJCS){u=this.Ue;var a=this.kk().getCentralMeridian(),n=u.getGeogcs();if(n==null)throw h.i.fa("internal error");a=[[a+(n=1/n.getUnit().getUnitFactor()*Math.PI),0]],h.ej.geogToProj(u,1,a),a=a[0][0],n=u.getParameters()[h.Sc.PE_PARM_X0].getValue();var o=this.ml();u=new h.l,o.A(u),a=(o=Math.abs(a-n))+n,n=-1*o+n,o=u.H,u=u.G;var l=new h.l;l.K(n,u,a,o),this.so==null&&(this.so=l)}else{if(u!=h.Sc.PE_TYPE_GEOGCS)throw h.i.fa("internal error");n=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(u=new h.l).K(-n,-n/2,n,n/2),this.so==null&&(this.so=u)}},_.prototype.mY=function(){var u=this.Ue.getType();if(u==h.Sc.PE_TYPE_PROJCS){var a=this.Ue;if(u=this.kk().getCentralMeridian(),(a=a.getGeogcs())==null)throw h.i.fa("internal error");a=1/a.getUnit().getUnitFactor()*Math.PI;var n=this.Vr(),o=new h.l;n.A(o),(n=new h.l).K(u-a,o.G,u+a,o.H),this.uw==null&&(this.uw=n)}else{if(u!=h.Sc.PE_TYPE_GEOGCS)throw h.i.fa("internal error");a=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(u=new h.l).K(-a,-a/2,a,a/2),this.uw==null&&(this.uw=u)}},_.prototype.bf=function(){return this.GA},_.prototype.pm=function(){return this.HA},_.prototype.Vr=function(){if(this.zl)return this.ul;var u=this.ul;return u??(this.xx(),this.ul)},_.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},_.prototype.xx=function(){if(this.Ue.getType()==h.Sc.PE_TYPE_PROJCS){var u=this.Ue,a=u.getGeogcs(),n=u.horizonGcsGenerate();if(n!=null){var o=n[0].getNump(),l=n[0].getKind();u=0<n[0].getInclusive();var d=this.bf(),p=90*d,y=360*d,v=370*d,$=180*d*h.Sc.PE_HORIZON_DELTA/Math.PI,I=new h.l,k=null;if(1<o){for(var O=1;O<o;O++)if(n[O].getKind()==h.Sc.PE_HORIZON_LINE){k==null&&(k=new h.Ta);var F=n[O].getCoord();k.sx(F[0][0],F[0][1]),k.yj(F[1][0],F[1][1])}}if(l==h.Sc.PE_HORIZON_RECT)n=n[0].getCoord(),I.K(n[0][0],n[0][1]),I.Zb(n[1][0],n[1][1]),Math.abs(I.H-p)<1e-7*$&&(I.H=p),Math.abs(I.G+p)<1e-7*$&&(I.G=-p),I.R()>v&&(n=-400*d,I.K(n,I.G,n+5*y,I.H)),n=new h.Fh(I),this.ul==null&&(this.ul=n,this.Iv=u);else{if(v=new h.Da,y=this.kk().isGcsHorizonMultiOverlap(),I=h.gu.bF(a,h.hu.Integer64),y){for(v=new h.gL,$=h.Gh.local().V(v,I,null),O=0;O<o;O++)if(n[O].getKind()==h.Sc.PE_HORIZON_POLY){for(a=n[O].getSize(),d=n[O].getCoord(),l=[],p=0;p<a;p++)l[p]=h.h.construct(d[p][0],d[p][1]);n[O].getInclusive(),y&&((d=new h.Da).Yk(l,a-1),v.ZX(d),$.qe())}v=$.next()}else for(O=0;O<o;O++)if(n[O].getKind()==h.Sc.PE_HORIZON_POLY){for(a=n[O].getSize(),d=n[O].getCoord(),y=[],p=0;p<a;p++)y[p]=h.h.construct(d[p][0],d[p][1]);n[O].getInclusive(),v.Yk(y,a-1)}u?h.Xj.local().wn(v,I,1):h.kp.local().wn(v,I,1),h.dj.local().wn(v,I,1),this.ul==null&&(this.ul=v,this.Iv=u,this.YG=k)}}}},_.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},_.prototype.DK=function(){if(this.jH==2){var u=this.Ue.horizonPcsGenerate();if(u!=null){var a=u[0].getKind();u[0].getInclusive();var n=u[0].getNump(),o=!1;if(a==h.Sc.PE_HORIZON_RECT)u=u[0].getCoord(),(n=new h.l).K(u[0][0],u[0][1]),n.Zb(u[1][0],u[1][1]),u=new h.Fh(n);else{for(a=-1,o=0;o<n;o++)u[o].getKind()==h.Sc.PE_HORIZON_POLY&&(a=o);for(o=u[a].getSize()-1,u=u[a].getCoord(),n=[],a=0;a<o;a++)n[a]=h.h.construct(u[a][0],u[a][1]);u=a=new h.Da,a.Yk(n,o),o=!0}this.kk().isDensificationNeeded()&&(n=1e5*this.pm(),u=h.Xl.local().V(u,n,null)),o&&(o=new h.Fh,u.bn(o),u.Ke(),u.Qb(),u.qR(),h.Xj.local().wn(u,null,1)),this.Us==null&&(this.Us=u)}}},_.prototype.ml=function(){if(this.zl)return this.Us;var u=this.Us;return u??(this.DK(),this.Us)},_.prototype.nY=function(){if(this.Ue.getType()==h.Sc.PE_TYPE_PROJCS){var u=90*this.bf();u=[[0,u],[0,-u]],h.ej.geogToProj(this.Ue,2,u);var a=this.kk(),n=a.getNorthPoleLocation()!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY;a=a.getSouthPoleLocation()!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(n&&this.HH.ma(u[0][0],u[0][1]),a&&this.XH.ma(u[1][0],u[1][1]))}this.KA=!0},_.prototype.CK=function(){if(this.jH==1){var u=400*this.bf();this.vq.K(-u,-u,u,u)}else u=h.Cg.generate(this.Ue,h.Cg.PE_PCSINFO_OPTION_DOMAIN),u=h.l.construct(u.getDomainMinx(),u.getDomainMiny(),u.getDomainMaxx(),u.getDomainMaxy()),this.vq.B()&&this.vq.K(u)},_.prototype.hR=function(u){this.zl&&u.K(this.vq),this.vq.B()&&this.CK(),u.K(this.vq)},_.prototype.Up=function(){return this.RH},_.prototype.zi=function(){return this.bA},_.prototype.Hd=function(){return this.Eo},_.prototype.Xr=function(){return this.wH},_}();h.OC=P}(Y||(Y={})),function(h){var P=function(){function _(u){this.KT=u,this.As=h.zb.xv(u,0,!0);var a=u.getCode();this.ss=0<a?a:h.pf.getCode(u),0>this.ss&&(this.ss=0),this.Eo=a=this.KT.getUnit(),this.IH=1/a.getUnitFactor(),h.pf.getCode(u)}return _.Py=function(u,a){return u==a||u!=null&&a!=null&&u.ss==0&&a.ss==0&&u.As===a.As},_.prototype.$r=function(){return this.ss},_}();h.PL=P}(Y||(Y={})),function(h){h.Yg=function(){function P(){}return P.tb=function(_,u,a,n,o,l,d,p){if(l!=null||d!=null||p!=null){n=h.F.ba(n),u=h.F.ba(u),a=h.F.ba(a),o=h.F.ba(o),1.570796326794897<h.s.P(a)&&(a=h.s.Mb(3.141592653589793,a)-a,u=h.F.ba(u+3.141592653589793)),1.570796326794897<h.s.P(o)&&(o=h.s.Mb(3.141592653589793,o)-o,n=h.F.ba(n+3.141592653589793));var y=h.F.ba(n-u);if(h.s.Y(a,o)&&(h.s.Y(u,n)||h.s.Y(h.s.P(a),1.570796326794897)))l!=null&&(l.u=0),d!=null&&(d.u=0),p!=null&&(p.u=0);else{if(h.s.Y(a,-o)){if(h.s.Y(h.s.P(a),1.570796326794897))return l!=null&&(l.u=3.141592653589793*_),d!=null&&(d.u=0<a?h.F.ba(3.141592653589793-h.F.ba(n)):h.F.ba(n)),void(p!=null&&(p.u=0<a?h.F.ba(n):h.F.ba(3.141592653589793-h.F.ba(n))));if(h.s.Y(h.s.P(y),3.141592653589793))return l!=null&&(l.u=3.141592653589793*_),d!=null&&(d.u=0),void(p!=null&&(p.u=0))}var v=h.s.P(a)==1.570796326794897?0:Math.cos(a),$=Math.sin(a),I=h.s.P(o)==1.570796326794897?0:Math.cos(o),k=Math.sin(o),O=h.s.P(y)==1.570796326794897?0:Math.cos(y),F=h.s.P(y)==3.141592653589793?0:Math.sin(y);if(l!=null){var j=Math.sin((o-a)/2);y=Math.sin(y/2),l.u=2*Math.asin(Math.sqrt(j*j+v*I*y*y))*_}d!=null&&(d.u=h.s.Y(h.s.P(a),1.570796326794897)?0>a?n:h.F.ba(3.141592653589793-n):Math.atan2(I*F,v*k-$*I*O)),p!=null&&(h.s.Y(h.s.P(o),1.570796326794897)?p.u=0>o?u:h.F.ba(3.141592653589793-u):(p.u=Math.atan2(v*F,k*v*O-I*$),p.u=h.F.ba(p.u+3.141592653589793)))}}},P.rf=function(_,u,a,n,o,l,d){if(l!=null||d!=null){u=h.F.ba(u),a=h.F.ba(a),1.570796326794897<h.s.P(a)&&(a=h.s.Mb(3.141592653589793,a)-a,u=h.F.ba(u+3.141592653589793)),h.s.Y(h.s.P(a),1.570796326794897)&&(u=0),o=h.F.ba(o);var p=h.s.Y(h.s.P(o),1.570796326794897)?0:Math.cos(o),y=h.s.Y(h.s.P(o),3.141592653589793)?0:Math.sin(o),v=h.s.Y(h.s.P(a),1.570796326794897)?0:Math.cos(a),$=Math.sin(a);_=n/_,n=h.s.Y(h.s.P(_),1.570796326794897)?0:Math.cos(_);var I=h.s.Y(h.s.P(_),3.141592653589793)?0:Math.sin(_),k=Math.asin($*n+v*I*p);d!=null&&(d.u=k),l!=null&&(l.u=h.s.Y(h.s.P(k),1.570796326794897)?h.s.Y(a,-k)?0>k?o:h.F.ba(3.141592653589793-o):u:h.s.Y(h.s.P(a),1.570796326794897)&&h.s.Y(_,3.141592653589793)?0>a?o:h.F.ba(3.141592653589793-o):h.F.ba(u+Math.atan2(I*y,v*n-$*I*p)))}},P}()}(Y||(Y={})),function(h){h.Wk=function(){function P(){}return P.tb=function(_,u,a,n,o,l,d,p,y){var v=new h.ga(0),$=new h.ga(0),I=[0,0,0],k=[0,0,0],O=[0,0,0],F=new h.ga(0),j=new h.ga(0),z=new h.ga(0),B=new h.ga(0),H=new h.ga(0);if(d!=null||p!=null||y!=null)if(h.s.ti(u))h.Yg.tb(_,a,n,o,l,d,p,y);else{o=h.F.ba(o),a=h.F.ba(a);var U=h.F.ba(o-a);if(h.s.Y(n,l)&&(h.s.Y(a,o)||h.s.Y(h.s.P(n),1.570796326794897)))d!=null&&(d.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(h.s.Y(n,-l)){if(h.s.Y(h.s.P(n),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0<n?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(y!=null&&(y.u=0<n?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(U),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0),y!=null&&(y.u=0))}else(h.s.Y(h.s.P(n),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897))&&(h.s.Y(h.s.P(n),1.570796326794897)?a=o:o=a);var Z=0;if(0>U){Z=1;var re=a;a=o,o=re,re=n,n=l,l=re}U=h.F.ot(u,n);var ie=h.F.ot(u,l);p==null&&y==null||(h.Yg.tb(_,a,U,o,ie,null,v,$),v=Math.atan2(Math.sin(v.u)*Math.cos(n-U),Math.cos(v.u)),$=Math.atan2(Math.sin($.u)*Math.cos(l-ie),Math.cos($.u)),Z!=0&&(re=v,v=$,$=re),p!=null&&(p.u=v),y!=null&&(y.u=$)),d!=null&&(h.F.cl(1,u,n,a,0,z,B,H),I[0]=z.u,I[1]=B.u,I[2]=H.u,h.F.cl(1,u,l,o,0,z,B,H),k[0]=z.u,k[1]=B.u,k[2]=H.u,O[0]=I[1]*k[2]-k[1]*I[2],O[1]=-(I[0]*k[2]-k[0]*I[2]),O[2]=I[0]*k[1]-k[0]*I[1],u=1-h.F.w(u,h.F.Vq(u,h.F.Qj(u,Math.acos(O[2]/Math.sqrt(O[0]*O[0]+O[1]*O[1]+O[2]*O[2]))))),u*=2-u,p=Math.atan2(-O[1],-O[0]),O=h.F.ba(p-1.570796326794897),p=h.F.ba(p+1.570796326794897),O=h.s.P(h.F.ba(a-O))<=h.s.P(h.F.ba(a-p))?O:p,h.Yg.tb(1,O,0,a,U,F,null,null),h.Yg.tb(1,O,0,o,ie,j,null,null),3.141592653589793<F.u+j.u&&(O=h.F.ba(O+3.141592653589793),h.Yg.tb(1,O,0,a,U,F,null,null),h.Yg.tb(1,O,0,o,ie,j,null,null)),F.u*=h.s.Mb(1,n),j.u*=h.s.Mb(1,l),F.u=h.F.Qj(u,F.u),j.u=h.F.Qj(u,j.u),a=h.F.q(_,u,F.u),_=h.F.q(_,u,j.u),d.u=h.s.P(_-a))}}},P.rf=function(_,u,a,n,o,l,d,p){var y=0,v=new h.ga(0),$=new h.ga(0),I=[0,0,0],k=[0,0,0],O=new h.ga(0),F=new h.ga(0),j=new h.ga(0);if(d!=null||p!=null)if(h.s.ti(u))h.Yg.rf(_,a,n,o,l,d,p);else if(h.s.Cd(o))d!=null&&(d.u=a),p!=null&&(p.u=n);else if(l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),a=h.F.ba(a),n=h.F.ba(n),1.570796326794897<h.s.P(n)&&(a=h.F.ba(a+3.141592653589793),n=h.s.Mb(3.141592653589793,n)-n),h.s.Y(h.s.P(n),1.570796326794897)&&(a=0),h.s.Cd(n)){var z=h.s.P(1.570796326794897-h.s.P(l));z=h.F.Qj(u,z),z=1-h.F.w(u,h.F.Vq(u,z)),z*=2-z,_=o/h.F.Ah(_,z)*1.570796326794897,_=h.F.Rq(z,_),_=h.F.ot(z,_),h.Yg.rf(1,a,n,_,l,d,v),p!=null&&(y=v.u),p!=null&&(p.u=h.F.Qj(u,y))}else if(h.s.Y(h.s.P(n),1.570796326794897))v=2*(y=h.F.Ah(_,u)),l=0<(_=h.s.Mb(1.570796326794897,n))?h.F.ba(3.141592653589793-l):l,n=y-o,h.s.P(n)<=y?d!=null&&(d.u=l):(n=Math.floor(o/v),h.O.truncate(n%2)==0?(d!=null&&(d.u=l),o-=n*v):(d!=null&&(d.u=h.F.ba(l+3.141592653589793)),o=(n+1)*v-o),n=y-o),p!=null&&(p.u=h.F.Rq(u,n/y*_));else{z=h.F.ot(u,n),l=Math.atan2(Math.sin(l),Math.cos(l)*Math.cos(n-z));var B=h.O.truncate(h.s.Mb(1,z))*(1.570796326794897>=h.s.P(l)?1:-1);l=h.F.ba(a+Math.atan(Math.tan(l)*-Math.sin(z))),h.Yg.tb(_,l,0,a,z,null,$,null),z=h.s.P(1.570796326794897-h.s.P($.u)),z=h.F.Qj(u,z),z=1-h.F.w(u,h.F.Vq(u,z)),z*=2-z,h.F.cl(1,u,0,l,0,O,F,j),I[0]=O.u,I[1]=F.u,I[2]=j.u,h.F.cl(1,u,n,a,0,O,F,j),k[0]=O.u,k[1]=F.u,k[2]=j.u,n=Math.acos((I[0]*k[0]+I[1]*k[1]+I[2]*k[2])/Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2])),n=h.F.Qj(z,n),o=0<(n=h.F.q(_,z,n)+o*B)?$.u:h.F.ba($.u+3.141592653589793),_=h.s.P(n)/h.F.Ah(_,z)*1.570796326794897,_=h.F.Rq(z,_),_=h.F.ot(z,_),h.Yg.rf(1,l,0,_,o,d,v),p!=null&&(y=v.u),p!=null&&(p.u=h.F.Qj(u,y))}},P}()}(Y||(Y={})),function(h){h.cu=function(){function P(){}return P.tb=function(_,u,a,n,o,l,d,p,y){var v=0,$=0,I=0;if(d!=null||p!=null||y!=null)if(h.s.ti(u))h.Yg.tb(_,a,n,o,l,d,p,y);else{var k=h.F.ba(o-a);if(h.s.Y(n,l)&&(h.s.Cd(k)||h.s.Y(h.s.P(n),1.570796326794897)))d!=null&&(d.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(h.s.Y(n,-l)){if(h.s.Y(h.s.P(n),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0<n?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(y!=null&&(y.u=0<n?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(k),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0),y!=null&&(y.u=0))}else if(h.s.Y(h.s.P(n),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897)||h.s.Cd(k)||h.s.Y(h.s.P(k),3.141592653589793))return void h.Wk.tb(_,u,a,n,o,l,d,p,y);var O=1-Math.sqrt(1-u),F=u/(1-u),j=_*(1-O);_=h.F.Vq(u,n);var z=h.F.Vq(u,l);u=h.s.P(_)==1.570796326794897?0:Math.cos(_);var B=Math.sin(_),H=h.s.P(z)==1.570796326794897?0:Math.cos(z),U=Math.sin(z),Z=k,re=Math.cos(Z),ie=Math.sin(Z),ce=1,le=0;do{var _e=Z,Me=Math.sqrt(Math.pow(H*ie,2)+Math.pow(u*U-B*H*re,2)),Te=B*U+u*H*re,Ye=Math.atan2(Me,Te);if(Me==0){ce=0;break}var Fe=u*H*ie/Me;if(v=Math.cos(Math.asin(Fe)),$=Te-2*B*U/(v*=v),1<h.s.P($)&&($=h.s.Mb(1,$)),Z=k+(1-(Z=O/16*v*(4+O*(4-3*v))))*O*Fe*(Ye+Z*Me*($+Z*Te*(2*(I=$*$)-1))),re=Math.cos(Z),ie=Math.sin(Z),le++,3.141592653589793<h.s.P(Z)&&30<le){ce=0;break}}while(5e3>=le&&!h.s.Y(_e,Z));if(ce!=0)O=(F*=v)*(256+F*(F*(74-47*F)-128))/1024,d!=null&&(d.u=j*(1+F*(4096+F*(F*(320-175*F)-768))/16384)*(Ye-O*Me*($+O/4*(Te*(2*I-1)-O/6*$*(4*Me*Me-3)*(4*I-3))))),p!=null&&(p.u=h.s.Y(h.s.P(n),1.570796326794897)?0>n?o:h.F.ba(3.141592653589793-o):Math.atan2(H*ie,u*U-B*H*re)),y!=null&&(h.s.Y(h.s.P(l),1.570796326794897)?y.u=0>l?a:h.F.ba(3.141592653589793-a):(y.u=Math.atan2(u*ie,u*U*re-B*H),y.u=h.F.ba(y.u+3.141592653589793)));else{Z=h.s.Mb(3.141592653589793,k),Te=B*U-u*H,Ye=Math.acos(Te),Me=Math.sin(Ye),v=1,le=Fe=0;do I=Fe,re=1-.25*(Fe=O*(v*=v)*(1+O+O*O))+.1875*($=O*O*(re=v*v)*(1+2.25*O))-.1953125*(ce=O*O*O*re*v),Fe=.25*Fe-.25*$+.29296875*ce,ie=.03125*$-.05859375*ce,ce*=.00651041666666667,$=Te-2*B*U/v,1<h.s.P($)&&($=h.s.Mb(1,$)),v=Math.acos($),Te=Math.cos(2*v),_e=Math.cos(3*v),ie=(Fe=h.s.Y(n,-l)?h.F.ba(3.141592653589793-k)/(3.141592653589793*O*re):h.F.ba(Z-k)/(O*(re*Ye+Fe*Me*$+ie*Math.sin(2*Ye)*Te+ce*Math.sin(3*Ye)*_e)))*Me/(u*H),Z=1.570796326794897<h.s.P(k)?h.s.Mb(3.141592653589793,ie)-Math.asin(ie):Math.asin(ie),re=Math.cos(Z),Me=Math.sqrt(Math.pow(H*ie,2)+Math.pow(u*U-B*H*re,2)),Ye=3.141592653589793-Math.asin(h.s.P(Me)),Te=Math.cos(Ye),v=Math.cos(Math.asin(Fe)),le++;while(70>=le&&!h.s.Y(I,Fe));d!=null&&(re=1+(F*=v*=v)*(4096+F*(F*(320-175*F)-768))/16384,h.s.Y(n,-l)?d.u=3.141592653589793*j*re:($=Te-2*B*U/v,v=Math.acos($),Te=Math.cos(2*v),_e=Math.cos(3*v),d.u=j*(re*Ye+F*(F*(128+F*(35*F-60))-512)/2048*Me*$+F*(5*F-4)/6144*F*F*Math.sin(2*Ye)*Te+ce*Math.sin(3*Ye)*_e+-762939453125e-16*F*F*F*F*Math.sin(4*Ye)*Math.cos(4*v)))),p!=null&&(h.s.Cd(n)&&h.s.Cd(l)?(v=Math.sqrt(1-Fe*Fe),p.u=Math.acos(v),0>k&&(p.u*=-1)):h.s.Y(h.s.P(n),1.570796326794897)?p.u=0>n?o:h.F.ba(3.141592653589793-o):(d=Fe/u,j=Math.sqrt(1-d*d),0>u*U-B*H*Math.cos(Z)&&(j*=-1),p.u=Math.atan2(d,j),h.s.Y(n,-l)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-O*Math.cos(n))&&(0<n&&1.570796326794897>h.s.P(p.u)||0>n&&1.570796326794897<h.s.P(p.u))&&(p.u=h.s.Mb(3.141592653589793,p.u)-p.u))),y!=null&&(h.s.Cd(n)&&h.s.Cd(l)?(v=Math.sqrt(1-Fe*Fe),y.u=Math.acos(v),0<=k&&(y.u*=-1)):h.s.Y(h.s.P(l),1.570796326794897)?y.u=0>l?a:h.F.ba(3.141592653589793-a):(k=Fe/H,d=Math.sqrt(1-k*k),j=Math.sin(Z/2),0>Math.sin(z-_)-2*u*U*j*j&&(d*=-1),y.u=Math.atan2(k,d),y.u=h.F.ba(y.u+3.141592653589793),h.s.Y(n,-l)&&!h.s.Cd(n)&&!h.s.Y(h.s.P(n),1.570796326794897)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-O*Math.cos(n))&&(p!=null?j=p.u:(d=Fe/u,j=Math.sqrt(1-d*d),0>u*U-B*H*Math.cos(Z)&&(j*=-1),j=Math.atan2(d,j),h.s.Y(n,-l)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-O*Math.cos(n))&&(0<n&&1.570796326794897>h.s.P(j)||0>n&&1.570796326794897<h.s.P(j))&&(j=h.s.Mb(3.141592653589793,j)-j)),1.570796326794897>=h.s.P(j)&&1.570796326794897<h.s.P(y.u)||1.570796326794897<=h.s.P(j)&&1.570796326794897>h.s.P(y.u))&&(y.u=-1*h.F.ba(y.u+3.141592653589793))))}}}},P.rf=function(_,u,a,n,o,l,d,p){if(d!=null||p!=null)if(h.s.ti(u))h.Yg.rf(_,a,n,o,l,d,p);else if(l=h.F.ba(l),h.s.Y(h.s.P(n),1.570796326794897)||h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))h.Wk.rf(_,u,a,n,o,l,d,p);else{var y=h.s.P(l)==1.570796326794897?0:Math.cos(l),v=h.s.P(l)==3.141592653589793?0:Math.sin(l);h.s.Y(h.s.P(n),1.570796326794897)&&(a=0),l=1-Math.sqrt(1-u);var $=h.F.Vq(u,n);n=h.s.P($)==1.570796326794897?0:Math.cos($);var I=Math.sin($);$=Math.atan2(Math.tan($),y);var k=n*v,O=k*k,F=1-O,j=u/(1-u)*F,z=(u=j*(256+j*(j*(74-47*j)-128))/1024)/4,B=u/6,H=o/(_*(1-l)*(1+j*(4096+j*(j*(320-175*j)-768))/16384)),U=H;do{var Z=U;o=h.s.P(U)==1.570796326794897?0:Math.cos(U);var re=(j=h.s.P(U)==3.141592653589793?0:Math.sin(U))*j;U=u*j*((_=Math.cos(2*$+U))+z*(o*(2*(U=_*_)-1)-B*_*(4*re-3)*(4*U-3)))+H}while(!h.s.Y(Z,U));o=h.s.P(U)==1.570796326794897?0:Math.cos(U),j=h.s.P(U)==3.141592653589793?0:Math.sin(U),d!=null&&(v=Math.atan2(j*v,n*o-I*j*y),F=l/16*F*(4+l*(4-3*F)),_=Math.cos(2*$+U),d.u=h.F.ba(a+(v-(1-F)*l*k*(U+F*j*(_+F*o*(2*_*_-1)))))),p!=null&&(F=I*j-n*o*y,F=(1-l)*Math.sqrt(O+F*F),p.u=Math.atan2(I*o+n*j*y,F))}},P}()}(Y||(Y={})),function(h){h.PC=function(){function P(){}return P.tb=function(_,u,a,n,o,l,d,p,y){var v=h.F.ba(o-a),$=h.s.Y(h.s.P(n),1.570796326794897),I=h.s.Y(h.s.P(l),1.570796326794897);if(h.s.Y(n,l)&&(h.s.Cd(v)||$))d!=null&&(d.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(h.s.ti(u)){var k=Math.sin(n),O=Math.sin(l);k=Math.sqrt((1+k)/(1-k)),O=Math.sqrt((1+O)/(1-O)),k=Math.log(O)-Math.log(k),k=Math.atan2(v,k),d!=null&&(d.u=h.s.Y(n,l)?h.s.P(_*Math.cos(n)*v):h.s.P((_*l-_*n)/Math.cos(k)))}else O=h.F.Qw(u,l),k=Math.sin(h.F.Qw(u,n)),O=Math.sin(O),k=Math.sqrt((1+k)/(1-k)),O=Math.sqrt((1+O)/(1-O)),k=Math.log(O)-Math.log(k),k=Math.atan2(v,k),d!=null&&(h.s.Y(n,l)?d.u=h.s.P(_*v*Math.cos(n)/h.F.w(u,n)):(v=h.F.q(_,u,n),_=h.F.q(_,u,l),d.u=h.s.P((_-v)/Math.cos(k))));p==null&&y==null||(d=h.F.ba(k+3.141592653589793),$&&I||!$&&!I||($?k=0>n?o:h.F.ba(3.141592653589793-o):I&&(d=0>l?a:h.F.ba(3.141592653589793-a))),p!=null&&(p.u=k),y!=null&&(y.u=d))}},P.rf=function(_,u,a,n,o,l,d,p){l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),h.s.ti(u)?h.s.Y(h.s.P(n),1.570796326794897)?(a=0>n?l:h.F.ba(3.141592653589793-l),3.141592653589793>=(l=o/_%6.283185307179586)?_=n-h.s.Mb(l,n):(a=h.F.ba(a+3.141592653589793),_=-n+h.s.Mb(l-3.141592653589793,n))):h.s.Y(h.s.P(l),1.570796326794897)?(a=h.F.ba(a+h.s.Mb(o,l)/(_*Math.cos(n))),_=n):(_=n+o*Math.cos(l)/_,1.570796326794897<h.s.P(_)&&(_=1.570796326794897),h.s.Y(h.s.P(_),1.570796326794897)&&(h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))||(1.570796316258184<h.s.P(_)&&(_=h.s.Mb(1.570796316258184,_)),u=Math.sin(n),n=Math.sin(_),u=Math.sqrt((1+u)/(1-u)),n=Math.sqrt((1+n)/(1-n)),u=Math.log(n)-Math.log(u),a=h.F.ba(a+Math.tan(l)*u))):h.s.Y(h.s.P(n),1.570796326794897)?(a=0>n?l:h.F.ba(3.141592653589793-l),l=o/h.F.qW(_,u),3.141592653589793>=(l%=6.283185307179586)?_=n-h.s.Mb(l,n):(a=h.F.ba(a+3.141592653589793),_=-n+h.s.Mb(l-3.141592653589793,n)),_=h.F.Rq(u,_)):h.s.Y(h.s.P(l),1.570796326794897)?(a=h.F.ba(a+h.s.Mb(o,l)*h.F.w(u,n)/(_*Math.cos(n))),_=n):(_=1.570796326794897*(o*Math.cos(l)+h.F.q(_,u,n))/h.F.Ah(_,u),1.570796326794897<h.s.P(_)&&(_=h.s.Mb(1.570796326794897,_)),_=h.F.Rq(u,_),h.s.Y(h.s.P(_),1.570796326794897)&&(h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))||(o=h.F.Qw(u,n),n=h.F.Qw(u,_),1.570796316258184<h.s.P(n)&&(n=h.s.Mb(1.570796316258184,_),_=h.F.yO(u,n)),u=Math.sin(o),n=Math.sin(n),u=Math.sqrt((1+u)/(1-u)),n=Math.sqrt((1+n)/(1-n)),u=Math.log(n)-Math.log(u),a=h.F.ba(a+Math.tan(l)*u))),d!=null&&(d.u=a),p!=null&&(p.u=_)},P}()}(Y||(Y={})),function(h){h.kb=function(){function P(){}return P.Xy=function(_,u,a,n,o,l,d){h.cu.tb(_,u,a,n,o,l,null,d,null)},P.yi=function(_,u,a,n,o,l,d,p){h.cu.rf(_,u,a,n,o,l,d,p)},P.wd=function(_,u,a,n,o,l,d,p,y,v){switch(v){case 2:h.Wk.tb(_,u,a,n,o,l,d,p,y);break;case 3:h.QC.tb(_,u,a,n,o,l,d,p,y);break;case 1:h.PC.tb(_,u,a,n,o,l,d,p,y);break;default:h.cu.tb(_,u,a,n,o,l,d,p,y)}},P.oj=function(_,u,a,n,o,l,d,p,y){switch(y){case 2:h.Wk.rf(_,u,a,n,o,l,d,p);break;case 3:h.QC.rf(_,u,a,n,o,l,d,p);break;case 1:h.PC.rf(_,u,a,n,o,l,d,p);break;default:h.cu.rf(_,u,a,n,o,l,d,p)}},P}()}(Y||(Y={})),function(h){var P=function(){function u(){this.y=this.x=null}return u.construct=function(a){var n=new u;return n.x=new h.Wb,n.x.set(a.x),n.y=new h.Wb,n.y.set(a.y),n},u.VE=function(a,n){var o=new u;return o.x=new h.Wb,o.x.set(a),o.y=new h.Wb,o.y.set(n),o},u.prototype.qg=function(){return this.x.qg()&&this.y.qg()},u.prototype.value=function(){return h.h.construct(this.x.value(),this.y.value())},u}();h.vY=P;var _=function(){function u(){this.z=this.y=this.x=null}return u.construct=function(a){var n=new u;return n.x=new h.Wb,n.x.set(a.x),n.y=new h.Wb,n.y.set(a.y),n.z=new h.Wb,n.z.set(a.z),n},u.VE=function(a,n,o){var l=new u;return l.x=new h.Wb,l.x.set(a),l.y=new h.Wb,l.y.set(n),l.z=new h.Wb,l.z.set(o),l},u.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},u.prototype.value=function(){return new h.Nd(this.x.value(),this.y.value(),this.z.value())},u.prototype.Qh=function(a){var n=new h.Wb,o=new h.Wb,l=new h.Wb;return n.Kl(this.x,a.x),o.Kl(this.y,a.y),l.Kl(this.z,a.z),(a=new h.Wb).dN(n,o),a.add(l),a},u.prototype.cF=function(a){var n=new u;n.x.Kl(this.y,a.z),n.y.Kl(this.z,a.x),n.z.Kl(this.x,a.y);var o=new h.Wb,l=new h.Wb,d=new h.Wb;return o.Kl(this.z,a.y),l.Kl(this.x,a.z),d.Kl(this.y,a.x),n.x.sub(o),n.y.sub(l),n.z.sub(d),n},u}();h.wY=_,h.Ox=function(){function u(){}return u.EP=function(a,n,o){var l=n.x;n=n.y,u.cl(1,a,Math.cos(l),Math.sin(l),Math.cos(n),Math.sin(n),o)},u.DP=function(a,n){var o=new h.Nd;return u.EP(a,n,o),o},u.cl=function(a,n,o,l,d,p,y){a/=Math.sqrt(1-n*p*p),y.K(a*d*o,a*d*l,a*(1-n)*p)},u.Yu=function(a,n){var o=new h.Wb,l=new h.Wb,d=new h.Wb,p=new h.Wb;o.cos(n.x),l.sin(n.x),d.cos(n.y),p.sin(n.y);var y=new h.Wb;return y.set(p),y.Ag(p),y.No(a),y.No(-1),y.kN(),y.sqrt(),(n=new h.Wb).set(1),n.jm(y),(y=new h.Wb).set(n),y.Ag(d),y.Ag(o),(o=new h.Wb).set(n),o.Ag(d),o.Ag(l),(l=new h.Wb).set(n),l.No(1-a),l.Ag(p),_.VE(y,o,l)},u.SS=function(a,n,o,l){if(Math.abs(n.x-o.x)>Math.PI||Math.abs(n.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(n.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&n.x!=o.x)return NaN;if(l=u.cB(l,Math.min(n.x,o.x),Math.max(n.x,o.x)),!new h.Nc(n.x,o.x).contains(l))return NaN;var d=P.construct(n);if(o=P.construct(o),d=u.Yu(a,d),o=u.Yu(a,o),(o=d.cF(o)).z.qg())return n.y;var p=new h.Wb;p.set(o.x),p.jm(o.z),p.No(-1);var y=new h.Wb;y.set(o.y),y.jm(o.z),y.No(-1);var v=new h.Wb;return v.set(y),v.Ag(y),(d=new h.Wb).set(p),d.Ag(p),d.add(v),d.sqrt(),d.qg()||p.qg()&&y.qg()?n.y:(n=Math.atan2(y.value(),p.value()),n=Math.atan2(d.value()*Math.cos(n-l),1-a),l=u.DP(a,h.h.construct(l,n)),a=new h.Nd(l.x,l.y,-l.z),l=o.value().Qh(l),a=o.value().Qh(a),Math.abs(a)<Math.abs(l)&&(n=-n),n)},u.Oz=function(a,n,o,l,d){if(d[0]=NaN,d[1]=NaN,Math.abs(n.x-o.x)>Math.PI||Math.abs(n.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(n.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&n.x!=o.x||Math.abs(l)>=.5*Math.PI||0<n.y&&0<o.y&&n.y>l&&o.y>l||0>n.y&&0>o.y&&n.y<l&&o.y<l)return 0;var p=P.construct(n),y=P.construct(o);p=u.Yu(a,p),y=u.Yu(a,y);var v=p.cF(y);if(v.z.qg())return new h.Nc(n.y,o.y).contains(l)?(d[0]=n.x,1):0;(y=new h.Wb).set(v.x),y.jm(v.z),y.No(-1),(p=new h.Wb).set(v.y),p.jm(v.z),p.No(-1),(v=new h.Wb).set(p),v.Ag(p);var $=new h.Wb;return $.set(y),$.Ag(y),$.add(v),$.sqrt(),$.qg()||y.qg()&&p.qg()?l==0?(d[0]=n.x,d[1]=o.x,2):0:(a=(1-a)*Math.tan(l)/$.value(),1<Math.abs(a)?0:(a=Math.acos(a),v=Math.atan2(p.value(),y.value()),y=Math.min(n.x,o.x),p=Math.max(n.x,o.x),o=u.cB(v-a,y,p),a=l!=0?u.cB(v+a,y,p):o,l=0,y<=o&&o<=p&&(d[l]=o,l++),a!=o&&y<=a&&a<=p&&(d[l]=a,++l==2&&Math.abs(d[0]-n.x)>Math.abs(d[1]-n.x)&&(n=d[0],d[0]=d[1],d[1]=n)),l))},u.cB=function(a,n,o){return a>o?a-=2*(n=Math.ceil((a-o)/(2*Math.PI)))*Math.PI:a<n&&(a+=2*(n=Math.ceil((n-a)/(2*Math.PI)))*Math.PI),a},u}()}(Y||(Y={})),function(h){h.XK=function(){function P(){}return P.$X=function(_,u){var a=8,n=[0,0,0,0],o=new h.h;o.L(u),o.scale(h.cb.sc(_).Hd().Ec()==9102?1:h.cb.sc(_).Hd().ai/3.141592653589793*180),-180>o.x?(o.x-=o.x%360,-180>o.x&&(o.x+=360)):180<o.x&&(o.x-=o.x%360,180<o.x&&(o.x-=360)),90<o.y&&(o.y=90),-90>o.y&&(o.y=-90);for(var l=-180,d=180,p=(_=5*a)-1,y=(u=(_+31)/32)-1;0<=y;y--)for(var v=p-32*y,$=Math.min(32,_-32*y),I=1;I<$;I+=2){var k=.5*(d+l);o.x>=k?(n[y]|=1<<v,l=k):d=k,v-=2,p-=2}for(l=-90,d=90,p=_-2,y=u-1;0<=y;y--)for(v=p-32*y,$=Math.min(32,_-32*y),I=0;I<$;I+=2)k=.5*(d+l),o.y>=k?(n[y]|=1<<v,l=k):d=k,v-=2,p-=2;return P.$P(n,a,a)},P.$P=function(_,u,a){for(var n=[],o=0;o<u;o++)n[o]="";for(var l=o=0,d=0;d<u;d++){var p=_[o]>>l&31;if(31<(l+=5)){var y=37-l;p&=(1<<y)-1,l-=32,p|=(_[++o]&(1<<l)-1)<<y}n[u-1-d]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[p]}if(a>u)for(d=0;d<a-u;d++)n.push("0");else a<u&&(n.length=a);return n.join("")},P}()}(Y||(Y={})),function(h){var P={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},_={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};h.wr=function(){function u(){}return u.Sy=function(a){u.xp===!1&&u.yt();var n=u.FQ(a);if(n==-1){var o=u.Bx(a);o!=a&&(n=u.Sy(o))}return n==-1&&(o=u.FK(a))!=a&&(n=u.Sy(o)),n},u.FQ=function(a){return u.Fw[a]!==void 0?u.Fw[a]:-1},u.CQ=function(a){u.xp===!1&&u.yt();var n=u.nF(a);if(n==1e38){var o=u.Bx(a);if(o!=a&&(n=u.nF(o)),n==1e38)return 1e-10}return n},u.ZS=function(a){if(u.Is[a]!==void 0)return!0;var n=u.Bx(a);return n!=a&&u.Is[n]!==void 0},u.aT=function(a){if(u.xo[a]!==void 0)return!0;var n=u.Bx(a);return n!=a&&u.xo[n]!==void 0},u.nF=function(a){return u.xp===!1&&u.yt(),u.Is[a]!==void 0?u.Is[a]:u.xo[a]!==void 0?u.xo[a]:1e38},u.FK=function(a){return u.xp===!1&&u.yt(),u.WA[a]!==void 0?u.WA[a]:a},u.Bx=function(a){return u.xp===!1&&u.yt(),u.XA[a]!==void 0?u.XA[a]:a},u.yt=function(){for(var a,n=P,o=0;o<n.pcsid.length;o+=2)u.xo[n.pcsid[o]]=n.pcstol[2*n.pcsid[o+1]+1];for(o=0;o<n.pcsidc.length;o+=1)for(var l=(a=n.pcsidc[o])[0];l<=a[1];l++)u.xo[l]=n.pcstol[2*a[2]+1];for(o=0;o<n.gcsid.length;o+=2)u.Is[n.gcsid[o]]=n.gcstol[2*n.gcsid[o+1]+1];for(o=0;o<n.gcsidc.length;o+=1)for(l=(a=n.gcsidc[o])[0];l<=a[1];l++)u.xo[l]=n.gcstol[2*a[2]+1];for(o=0;o<_.c.length;o+=1)for(l=(a=_.c[o])[0];l<=a[1];l++)u.Fw[l]=a[2];for(o=0;o<_.nc.length;o+=2)u.Fw[_.nc[o]]=_.nc[o+1];for(_=null,o=0;o<n.newtoold.length;o+=2)u.WA[n.newtoold[o+1]]=n.newtoold[o],u.XA[n.newtoold[o]]=n.newtoold[o+1];P=null,u.xp=!0},u.xp=!1,u.Is=[],u.xo=[],u.WA=[],u.XA=[],u.Fw=[],u}()}(Y||(Y={})),function(h){function P(u){return u.length===0?'""':u[0]=='"'||u[0]=="."||"0"<=u[0]&&"9">=u[0]?u:'"'+u.trim()+'"'}var _=[];h.XC=function(){function u(){}return u.EQ=function(a){try{for(var n=0;n<_.length;n++)if(_[n].wkttext===a)return _[n].unit;for(var o,l=n="",d=!1,p=0;p<a.length;p++){var y=a[p];d===!0?y=='"'?a[p+1]=='"'?n+=y:d=d=!1:n+=y:/[\s]/.test(y)||(y==","?(l=n!==""?l+(P(n)+","):l+",",n=""):y==")"||y=="]"?(l=n!==""?l+(P(n)+"]}"):l+"]}",n=""):y=="("||y=="["?(l+='{ "entity": "'+n.toUpperCase().trim()+'", "values":[',n=""):y=='"'?(d=!0,n=""):n+=y)}o=JSON.parse(l);var v=u.mF(o);if(v===null)return null;for(o=null,y=0;y<v.values.length;y++)if(typeof v.values[y]=="object"&&(v.values[y].entity==="UNIT"||v.values[y].entity==="ANGLEUNIT"||v.values[y].entity==="LENGTHUNIT")){o=v.values[y];break}if(o===null)return null;var $=h.Tc.ZO(v.entity==="GEOGCS"||v.entity==="GEOGCRS"?1:0,o.values[1],o.values[2]);return _.push({wkttext:a,unit:$}),10<_.length&&_.shift(),$}catch{return null}},u.mF=function(a){if(a===null)return null;switch(a.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return a}for(var n=[],o=0;o<a.values.length;o++)if(typeof a.values[o]=="object"&&a.values[o].entity!==void 0)switch(a.values[o].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return a.values[o];default:n.push(a.values[o])}for(a=0;a<n.length;a++)if((o=u.mF(n[a]))!==null)return o;return null},u.DQ=function(a){var n=-1;if(a!=null&&0<a.length){var o=a.search(/PROJCR?S/);if(0<=o){var l=0;if(0<=(o=a.lastIndexOf("UNIT"))&&0<(o=a.indexOf(",",o+4))){o++;var d=a.indexOf("]",o+1);if(0<d)try{l=parseFloat(a.substring(o,d))}catch{l=0}}0<l&&(n=.001/l)}else if(0<=(o=a.search(/GEOGCR?S/))){var p=0;if(l=0,(o=a.indexOf("SPHEROID",o+6))===-1&&(o=a.indexOf("ELLIPSOID",o+7)),0<o&&0<(o=a.indexOf(",",o+8))){if(o++,0<(d=a.indexOf(",",o+1)))try{p=parseFloat(a.substring(o,d))}catch{p=0}if(0<p&&((o=a.lastIndexOf("ANGLEUNIT",d+1))===-1&&(o=a.lastIndexOf("UNIT",d+1)),0<=o&&0<(o=a.indexOf(",",o+4))&&(o++,0<(d=a.indexOf("]",o+1)))))try{l=parseFloat(a.substring(o,d))}catch{l=0}}0<p&&0<l&&(n=.001/(p*l))}}return n},u}()}(Y||(Y={})),function(h){var P;(P=h.eL||(h.eL={}))[P.NONE=0]="NONE",P[P.LINEAR=1]="LINEAR",P[P.ANGULAR=2]="ANGULAR",function(u){u[u.enumFloat=0]="enumFloat",u[u.enumDouble=1]="enumDouble",u[u.enumInt32=2]="enumInt32",u[u.enumInt64=3]="enumInt64",u[u.enumInt8=4]="enumInt8",u[u.enumInt16=5]="enumInt16"}(h.QL||(h.QL={})),function(u){u[u.POSITION=0]="POSITION",u[u.Z=1]="Z",u[u.M=2]="M",u[u.ID=3]="ID",u[u.NORMAL=4]="NORMAL",u[u.TEXTURE1D=5]="TEXTURE1D",u[u.TEXTURE2D=6]="TEXTURE2D",u[u.TEXTURE3D=7]="TEXTURE3D",u[u.ID2=8]="ID2",u[u.MAXSEMANTICS=10]="MAXSEMANTICS"}(h.Ih||(h.Ih={}));var _=function(){function u(a,n){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,n!==void 0){for(this.Aa=n.Aa,this.Oq=n.Oq,this.bg=n.bg.slice(0),this.uh=n.uh.slice(0),this.wl=n.wl,this.Vs=[],a=n=0;a<this.Aa;a++)this.Vs[a]=n,n+=u.Va(this.bg[a]);for(this.Oq=n,this.Ae=[],a=0;a<this.Aa;a++){n=u.Va(this.kd(a));for(var o=u.se(this.kd(a)),l=0;l<n;l++)this.Ae[this.Vs[a]+l]=o}}else this.Oq=this.Aa=0}return u.prototype.kd=function(a){if(0>a||a>this.Aa)throw h.i.N();return this.bg[a]},u.prototype.Pf=function(a){return this.uh[a]},u.lz=function(a){return u.JM[a]},u.Tp=function(a){return u.SM[a]},u.Va=function(a){return u.rM[a]},u.prototype.hasAttribute=function(a){return 0<=this.uh[a]},u.prototype.iG=function(){return this.hasAttribute(1)},u.se=function(a){return u.eD[a]},u.prototype.LR=function(a){return this.Vs[a]},u.DG=function(a,n){return u.eD[a]===n},u.prototype.Nb=function(a){return this===a},u.prototype.An=function(){for(var a=h.O.Th(this.bg[0]),n=1;n<this.Aa;n++)a=h.O.Th(this.bg[n],a);return a},u.prototype.$j=function(a){return this.Vs[a]},u.prototype.cc=function(){return this.wl},u.prototype.Ed=function(a){return this.bg[a]},u.eD=[0,0,NaN,0,0,0,0,0,0],u.JM=[1,1,1,0,2,1,1,1,0],u.SM=[1,1,1,2,0,0,0,0,2],u.rM=[2,1,1,1,3,1,2,3,2],u}();h.ra=_}(Y||(Y={})),function(h){function P(d,p,y){var v=p-(d=new l(d)).e,$=d.c;for($.length>++p&&_(d,v,l.eu),$[0]?y?v=p:($=d.c,v=d.e+v+1):++v;$.length<v;$.push(0));return v=d.e,y===1||y&&(p<=v||v<=a)?(0>d.Bd&&$[0]?"-":"")+(1<$.length?$[0]+"."+$.join("").slice(1):$[0])+(0>v?"e":"e+")+v:d.toString()}function _(d,p,y,v){var $=d.c,I=d.e+p+1;if(y===1?v=5<=$[I]:y===2?v=5<$[I]||$[I]==5&&(v||0>I||$[I+1]!==void 0||1&$[I-1]):y===3?v=v||$[I]!==void 0||0>I:(v=!1,y!==0&&u("!Big.RM!")),1>I||!$[0])v?(d.e=-p,d.c=[1]):d.c=[d.e=0];else{if($.length=I--,v)for(;9<++$[I];)$[I]=0,I--||(++d.e,$.unshift(1));for(I=$.length;!$[--I];$.pop());}return d}function u(d){throw(d=Error(d)).name="BigError",d}var a=-7,n=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=function(){function d(p){if(p instanceof d)this.Bd=p.Bd,this.e=p.e,this.c=p.c.slice();else{var y,v,$;for(p===0&&0>1/p?p="-0":o.test(p+="")||u(NaN),this.Bd=p.charAt(0)=="-"?(p=p.slice(1),-1):1,-1<(y=p.indexOf("."))&&(p=p.replace(".","")),0<(v=p.search(/e/i))?(0>y&&(y=v),y+=+p.slice(v+1),p=p.substring(0,v)):0>y&&(y=p.length),v=0;p.charAt(v)=="0";v++);if(v==($=p.length))this.c=[this.e=0];else{for(;p.charAt(--$)=="0";);for(this.e=y-v-1,this.c=[],y=0;v<=$;this.c[y++]=+p.charAt(v++));}}}return d.prototype.abs=function(){var p=new d(this);return p.Bd=1,p},d.prototype.cmp=function(p){var y=this.c,v=(p=new d(p)).c,$=this.Bd,I=p.Bd,k=this.e,O=p.e;if(!y[0]||!v[0])return y[0]?$:v[0]?-I:0;if($!=I)return $;if(p=0>$,k!=O)return k>(O^p)?1:-1;for($=-1,I=(k=y.length)<(O=v.length)?k:O;++$<I;)if(y[$]!=v[$])return y[$]>(v[$]^p)?1:-1;return k==O?0:k>(O^p)?1:-1},d.prototype.jm=function(p){var y=this.c,v=(p=new d(p)).c,$=this.Bd==p.Bd?1:-1,I=d.rr;if((I!==~~I||0>I||1e6<I)&&u("!Big.DP!"),!y[0]||!v[0])return y[0]==v[0]&&u(NaN),v[0]||u($/0),new d(0*$);var k,O,F=v.slice(),j=k=v.length,z=y.length,B=y.slice(0,k),H=B.length,U=p,Z=U.c=[],re=0,ie=I+(U.e=this.e-p.e)+1;for(U.Bd=$,$=0>ie?0:ie,F.unshift(0);H++<k;B.push(0));do{for(O=0;10>O;O++){if(k!=(H=B.length))var ce=k>H?1:-1;else{var le=-1;for(ce=0;++le<k;)if(v[le]!=B[le]){ce=v[le]>B[le]?1:-1;break}}if(!(0>ce))break;for(p=H==k?v:F;H;){if(B[--H]<p[H]){for(le=H;le&&!B[--le];B[le]=9);--B[le],B[H]+=10}B[H]-=p[H]}for(;!B[0];B.shift());}Z[re++]=ce?O:++O,B[0]&&ce?B[H]=y[j]||0:B=[y[j]]}while((j++<z||B[0]!==void 0)&&$--);return Z[0]||re==1||(Z.shift(),U.e--),re>ie&&_(U,I,d.eu,B[0]!==void 0),U},d.prototype.fS=function(){return 0<this.cmp(0)},d.prototype.nT=function(){return 0>this.cmp(0)},d.prototype.jt=function(p){var y,v=this.Bd,$=(p=new d(p)).Bd;if(v!=$)return p.Bd=-$,this.tI(p);var I=this.c.slice(),k=this.e,O=p.c,F=p.e;if(!I[0]||!O[0])return O[0]?(p.Bd=-$,p):new d(I[0]?this:0);if(v=k-F){for((y=0>v)?(v=-v,k=I):(F=k,k=O),k.reverse(),$=v;$--;k.push(0));k.reverse()}else for(k=((y=I.length<O.length)?I:O).length,v=$=0;$<k;$++)if(I[$]!=O[$]){y=I[$]<O[$];break}if(y&&(k=I,I=O,O=k,p.Bd=-p.Bd),0<($=(k=O.length)-(y=I.length)))for(;$--;I[y++]=0);for($=y;k>v;){if(I[--k]<O[k]){for(y=k;y&&!I[--y];I[y]=9);--I[y],I[k]+=10}I[k]-=O[k]}for(;I[--$]==0;I.pop());for(;I[0]==0;)I.shift(),--F;return I[0]||(p.Bd=1,I=[F=0]),p.c=I,p.e=F,p},d.prototype.tI=function(p){var y=this.Bd,v=(p=new d(p)).Bd;if(y!=v)return p.Bd=-v,this.jt(p);v=this.e;var $=this.c,I=p.e,k=p.c;if(!$[0]||!k[0])return k[0]?p:new d($[0]?this:0*y);if($=$.slice(),y=v-I){for(0<y?(I=v,v=k):(y=-y,v=$),v.reverse();y--;v.push(0));v.reverse()}for(0>$.length-k.length&&(v=k,k=$,$=v),y=k.length,v=0;y;)v=($[--y]=$[y]+k[y]+v)/10|0,$[y]%=10;for(v&&($.unshift(v),++I),y=$.length;$[--y]==0;$.pop());return p.c=$,p.e=I,p},d.prototype.pow=function(p){var y=this,v=new d(1),$=v,I=0>p;for((p!==~~p||-1e6>p||1e6<p)&&u("!pow!"),p=I?-p:p;1&p&&($=$.lr(y)),p>>=1;)y=y.lr(y);return I?v.jm($):$},d.prototype.round=function(p,y){var v=this;return p==null?p=0:(p!==~~p||0>p||1e6<p)&&u("!round!"),_(v=new d(v),p,y??d.eu),v},d.prototype.sqrt=function(){var p=this.c,y=this.Bd,v=this.e,$=new d("0.5");if(!p[0])return new d(this);0>y&&u(NaN),(y=Math.sqrt(this.toString()))==0||y==1/0?((y=p.join("")).length+v&1||(y+="0"),(p=new d(Math.sqrt(y).toString())).e=((v+1)/2|0)-(0>v||1&v)):p=new d(y.toString()),y=p.e+(d.rr+=4);do v=p,p=$.lr(v.tI(this.jm(v)));while(v.c.slice(0,y).join("")!==p.c.slice(0,y).join(""));return _(p,d.rr-=4,d.eu),p},d.prototype.lr=function(p){var y=this.c,v=(p=new d(p)).c,$=y.length,I=v.length,k=this.e,O=p.e;if(p.Bd=this.Bd==p.Bd?1:-1,!y[0]||!v[0])return new d(0*p.Bd);if(p.e=k+O,$<I){var F=y;y=v,v=F,O=$,$=I,I=O}for(F=Array(O=$+I);O--;F[O]=0);for(k=I;k--;){for(I=0,O=$+k;O>k;)I=F[O]+v[k]*y[O-k-1]+I,F[O--]=I%10,I=I/10|0;F[O]=(F[O]+I)%10}for(I&&++p.e,F[0]||F.shift(),k=F.length;!F[--k];F.pop());return p.c=F,p},d.prototype.toString=function(){var p=this.e,y=this.c.join(""),v=y.length;if(p<=a||p>=n)y=y.charAt(0)+(1<v?"."+y.slice(1):"")+(0>p?"e":"e+")+p;else if(0>p){for(;++p;y="0"+y);y="0."+y}else if(0<p)if(++p>v)for(p-=v;p--;y+="0");else p<v&&(y=y.slice(0,p)+"."+y.slice(p));else 1<v&&(y=y.charAt(0)+"."+y.slice(1));return 0>this.Bd&&this.c[0]?"-"+y:y},d.prototype.toExponential=function(p){return p==null?p=this.c.length-1:(p!==~~p||0>p||1e6<p)&&u("!toExp!"),P(this,p,1)},d.prototype.toFixed=function(p){var y=a,v=n;if(a=-(n=1/0),p==null)var $=this.toString();else p===~~p&&0<=p&&1e6>=p&&($=P(this,this.e+p),0>this.Bd&&this.c[0]&&0>$.indexOf("-")&&($="-"+$));return a=y,n=v,$||u("!toFix!"),$},d.prototype.toPrecision=function(p){return p==null?this.toString():((p!==~~p||1>p||1e6<p)&&u("!toPre!"),P(this,p-1,2))},d.rr=20,d.eu=1,d}();h.hp=l}(Y||(Y={})),function(h){var P=function(){function _(u){this.lf=u}return _.prototype.nr=function(u,a,n){var o=new h.h,l=new h.h,d=this.lf;n.Vd(u,a,function(p,y){return d.tc(2*p,o),d.tc(2*y,l),o.compare(l)})},_.prototype.$p=function(u){return this.lf.read(2*u+1)},_}();h.pi=function(){function _(){}return _.aq=function(u){if(u.B())return!1;var a=u.getType();return a==1736?u.Ke()!=0:a==1607?(a=[!1],_.sE(u,!0,a),a[0]):!(a!=197&&(!h.aa.yd(a)||u.BG()))},_.gm=function(u){var a=u.getType();if(a==1736)return a=new h.Ta(u.description),u.B()||u.dD(a),a;if(a==1607)return _.sE(u,!1,null);if(a==197)return a=new h.Ta(u.description),u.B()||a.ad(u,!1),a;if(h.aa.yd(a)){if(a=new h.de(u.description),!u.B()&&!u.BG()){var n=new h.Sa;u.To(n),a.add(n),u.Po(n),a.add(n)}return a}if(h.aa.Rn(a))return null;throw h.i.N()},_.sE=function(u,a,n){n!=null&&(n[0]=!1);var o=null;if(a||(o=new h.de(u.description)),!u.B()){var l=new h.ia(0);l.Jb(2*u.da());for(var d=0,p=u.da();d<p;d++)if(0<u.Ja(d)&&!u.Nn(d)){var y=u.Ba(d);l.add(y),y=u.Vc(d)-1,l.add(y)}if(0<l.size){p=new h.Xt,d=u.ub(0),p.sort(l,0,l.size,new P(d)),p=new h.h,d.tc(2*l.get(0),p),y=0;for(var v=1,$=new h.Sa,I=new h.h,k=1,O=l.size;k<O;k++)if(d.tc(2*l.get(k),I),I.qb(p))l.get(y)>l.get(k)?(l.set(y,2147483647),y=k):l.set(k,2147483647),v++;else{if(!(1&v))l.set(y,2147483647);else if(a)return n!=null&&(n[0]=!0),null;p.L(I),y=k,v=1}if(!(1&v))l.set(y,2147483647);else if(a)return n!=null&&(n[0]=!0),null;if(!a)for(l.Vd(0,l.size,function(F,j){return F-j}),k=0,O=l.size;k<O&&l.get(k)!=2147483647;k++)u.ve(l.get(k),$),o.add($)}}return a?null:o},_}()}(Y||(Y={})),function(h){var P=function(){function _(){this.yf=new h.ia(0),this.ys=new h.ia(0),this.EH=1,this.Es=NaN}return _.prototype.sort=function(u,a,n,o){if(32>n-a)o.nr(a,n,u);else{var l=!0;try{for(var d=1/0,p=-1/0,y=a;y<n;y++){var v=o.$p(u.get(y));v<d&&(d=v),v>p&&(p=v)}if(this.reset(n-a,d,p,n-a)){for(y=a;y<n;y++){var $=u.get(y);v=o.$p($);var I=this.zF(v);this.yf.set(I,this.yf.get(I)+1),this.ys.write(y-a,$)}var k=this.yf.get(0);this.yf.set(0,0),y=1;for(var O=this.yf.size;y<O;y++){var F=this.yf.get(y);this.yf.set(y,k),k+=F}for(y=a;y<n;y++){$=this.ys.read(y-a),v=o.$p($),I=this.zF(v);var j=this.yf.get(I);u.set(j+a,$),this.yf.set(I,j+1)}l=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(l)o.nr(a,n,u);else{for(y=n=0,O=this.yf.size;y<O;y++)l=n,(n=this.yf.get(y))>l&&o.nr(a+l,a+n,u);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},_.prototype.reset=function(u,a,n,o){return!(2>u||n==a)&&(u=Math.min(_.hL,u),this.yf.Jb(u),this.yf.resize(u),this.yf.Wj(0,0,this.yf.size),this.EH=a,this.ys.resize(o),this.Es=(n-a)/(u-1),!0)},_.prototype.zF=function(u){return h.O.truncate((u-this.EH)/this.Es)},_.hL=65536,_}();h.Xt=P}(Y||(Y={})),function(h){var P,_;(_=P||(P={}))[_.enum_line=1]="enum_line",_[_.enum_arc=2]="enum_arc",_[_.enum_dummy=4]="enum_dummy",_[_.enum_concave_dip=8]="enum_concave_dip",_[_.enum_connection=3]="enum_connection";var u=function(){function d(){}return d.Qu=function(p,y,v,$,I,k){var O=new d;return O.Im=new h.h,O.Vm=new h.h,O.aw=new h.h,O.Im.L(p),O.Vm.L(y),O.aw.L(v),O.Co=$,O.qh=I,O.sh=k,O},d.construct=function(p,y,v,$){var I=new d;return I.Im=new h.h,I.Vm=new h.h,I.aw=new h.h,I.Im.L(p),I.Vm.L(y),I.aw.Rc(),I.Co=4,I.qh=v,I.sh=$,I},d}(),a=function(){function d(p,y,v,$,I,k){this.Yv=null,this.ya=0,this.EA=p,this.bI=this.$H=0,this.Ka=y,this.Mj=v,this.vk=$,this.Dq=I,this.Ub=k}return d.prototype.next=function(){for(var p=new h.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,p),this.ya++,!p.B())break}var y=!1;if(this.Yv==null&&(this.$H=p.Lg(),this.bI=p.ih(),this.Yv=l.buffer(p,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),y=!0),this.ya<this.EA.I()){var v=new h.Da;this.Yv.copyTo(v)}else v=this.Yv;if(!y){y=new h.Dd;var $=p.Lg()-this.$H;p=p.ih()-this.bI,y.gg($,p),v.Oc(y)}return v},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),n=function(){function d(p,y){this.Wa=p,this.ya=0,this.oq=y}return d.prototype.next=function(){var p=this.Wa.X;if(this.ya<p.da()){var y=this.ya;if(this.ya++,!p.Nn(y))for(var v=p.Na(p.Vc(y)-1);this.ya<p.da();){var $=p.Na(p.Ba(this.ya));if(p.Nn(this.ya)||$!=v)break;v=p.Na(p.Vc(this.ya)-1),this.ya++}if(this.ya-y==1)return this.Wa.kE(this.Wa.X,y,this.oq);for((v=new h.Ta(this.Wa.X.description)).addPath(this.Wa.X,y,!0),y+=1;y<this.ya;y++)v.Dr(this.Wa.X,y,0,p.rv(y),!1);return this.Wa.kE(v,0,this.oq)}return null},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),o=function(){function d(p){this.Wa=p,this.ya=0}return d.prototype.next=function(){var p=this.Wa.X;if(this.ya<p.da()){var y=this.ya;for(p.Ir(this.ya),this.ya++;this.ya<p.da()&&!(0<p.Ir(this.ya));)this.ya++;return y==0&&this.ya==p.da()?this.Wa.py(p,0,p.da()):this.Wa.py(p,y,this.ya)}return null},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),l=function(){function d(p){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=p,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return d.buffer=function(p,y,v,$,I,k){if(p==null||0>$)throw h.i.N();if(p.B())return new h.Da(p.description);var O=new h.l;return p.xc(O),0<y&&O.W(y,y),(k=new d(k)).Mj=v,k.X=p,k.qa=h.ta.Wd(v,O,!0),k.ct=h.ta.Wd(null,O,!0),k.Ka=y,k.JT=p.getType(),0>=I&&(I=96),k.rb=Math.abs(k.Ka),k.Kv=k.rb!=0?1/k.rb:0,isNaN($)||$==0?$=1e-5*k.rb:$>.5*k.rb&&($=.5*k.rb),12>I&&(I=12),(p=Math.abs(y)*(1-Math.cos(Math.PI/I)))>$?$=p:(p=Math.PI/Math.acos(1-$/Math.abs(y)))<I-1&&12>(I=h.O.truncate(p))&&(I=12,$=Math.abs(y)*(1-Math.cos(Math.PI/I))),k.vk=$,k.Dq=I,k.tA=Math.min(k.ct,.25*$),k.lE()},d.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var p=this.qE();p=h.O.truncate((p+3)/4);var y=.5*Math.PI/p;this.oA=y;for(var v=0;v<4*p;v++)this.Id.push(null);var $=Math.cos(y);y=Math.sin(y);var I=h.h.construct(0,1);for(v=0;v<p;v++)this.Id[v+0*p]=h.h.construct(I.y,-I.x),this.Id[v+1*p]=h.h.construct(-I.x,-I.y),this.Id[v+2*p]=h.h.construct(-I.y,I.x),this.Id[v+3*p]=I,(I=h.h.construct(I.x,I.y)).Bt($,y)},d.prototype.lE=function(){var p=this.X.getType();if(h.aa.yd(p))return(p=new h.Ta(this.X.description)).oc(this.X,!0),this.X=p,this.lE();if(this.Ka<=this.qa){if(!h.aa.US(p))return new h.Da(this.X.description);if(0>=this.Ka&&(p=new h.l,this.X.A(p),p.R()<=2*-this.Ka||p.ca()<=2*this.Ka))return new h.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw h.i.Qa()}},d.prototype.RN=function(){if(this.EG(this.X)){var p=new h.Sa;this.X.ve(0,p);var y=new h.l;return this.X.A(y),p.Cb(y.sf()),this.Gu(p)}return this.X=this.WV(this.X),p=new n(this,this.oq),h.Gh.local().V(p,this.Mj,this.Ub).next()},d.prototype.QN=function(){if(this.Ka==0)return this.X;var p=h.Yl.local();if(this.cv(),this.X=p.V(this.X,null,!1,this.Ub),0>this.Ka){var y=this.X;return y=this.py(y,0,y.da()),p.V(y,this.Mj,!1,this.Ub)}return this.EG(this.X)?(p=new h.Sa,this.X.ve(0,p),y=new h.l,this.X.A(y),p.Cb(y.sf()),this.Gu(p)):(p=new o(this),h.Gh.local().V(p,this.Mj,this.Ub).next())},d.prototype.py=function(p,y,v){for(var $=new h.Da(p.description);y<v;y++)if(!(1>p.Ja(y))){var I=p.Ir(y),k=new h.l;if(p.Rj(y,k),0<this.Ka){if(0<I)if(this.FG(p,y))I=new h.Sa,p.ve(p.Ba(y),I),I.Cb(k.sf()),this.yu($,I);else{var O=I=new h.Ta(p.description);O=h.Zt.JG(this.X,y)||this.zn(this.X,y,O,!0,1)==2?this.jE(p,y):this.yn(I),$.add(O,!1)}else if(!(k.R()+this.qa<=2*this.rb||k.ca()+this.qa<=2*this.rb||(O=I=new h.Ta(p.description),this.zn(this.X,y,O,!0,1),I.B()))){var F=new h.l;for(F.K(k),F.W(this.rb,this.rb),O.tp(F),k=1,I=(O=this.yn(I)).da();k<I;k++)$.addPath(O,k,!0)}}else if(0<I){if(!(k.R()+this.qa<=2*this.rb||k.ca()+this.qa<=2*this.rb||(O=I=new h.Ta(p.description),this.zn(this.X,y,O,!0,-1),I.B())))for(F=new h.l,O.xc(F),F.W(this.rb,this.rb),O.tp(F),k=1,I=(O=this.yn(I)).da();k<I;k++)$.addPath(O,k,!0)}else for(O=I=new h.Ta(p.description),this.zn(this.X,y,O,!0,-1),k=0,I=(O=this.yn(I)).da();k<I;k++)$.addPath(O,k,!0)}if(0<this.Ka)return 1<$.da()?$=this.yn($):d.kx($);if(p=new h.l,$.xc(p),$.B())return d.kx($);for(p.W(this.rb,this.rb),$.tp(p),$=this.yn($),p=new h.Da($.description),k=1,I=$.da();k<I;k++)p.addPath($,k,!1);return d.kx(p)},d.prototype.PN=function(){return this.Gu(this.X)},d.prototype.Gu=function(p){var y=new h.Da(this.X.description);return this.yu(y,p),this.sX(y)},d.prototype.ON=function(){var p=new a(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return h.Gh.local().V(p,this.Mj,this.Ub).next()},d.prototype.LN=function(){var p=new h.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)p.ad(this.X,!1);else{var y=new h.Fh;this.X.bn(y),y.W(this.Ka,this.Ka),p.ad(y,!1)}return p}return p.ad(this.X,!1),this.X=p,this.jE(p,0)},d.prototype.jE=function(p,y){this.cv();var v=new h.Da(p.description),$=new h.h,I=new h.h,k=new h.h,O=new h.h,F=new h.h,j=new h.h,z=new h.h,B=new h.h,H=p.Ja(y),U=p.Ba(y),Z=0;for(y=p.Ja(y);Z<y;Z++){if(p.D(U+Z,I),p.D(U+(Z+1)%H,O),p.D(U+(Z+2)%H,j),z.uc(O,I),z.length()==0||(z.Hv(),z.normalize(),z.scale(this.rb),$.add(z,I),k.add(z,O),Z==0?v.Lt($):v.Ci($),v.Ci(k),B.uc(j,O),B.length()==0))throw h.i.Qa();B.Hv(),B.normalize(),B.scale(this.rb),F.add(B,O),this.GD(v,O,k,F,!1)}return d.kx(v)},d.prototype.kE=function(p,y,v){if(this.cv(),1>p.Ja(y))return null;if(this.FG(p,y)&&0<this.Ka){v=new h.Sa,p.ve(p.Ba(y),v);var $=new h.l;return p.Rj(y,$),v.Cb($.sf()),this.Gu(v)}if($=new h.Ta(p.description),p.Nn(y))this.zn(p,y,$,v,1),this.zn(p,y,$,v,-1);else{var I=new h.Ta(p.description);I.addPath(p,y,!1),I.Dr(p,y,0,p.rv(y),!1),this.zn(I,0,$,v,1)}return this.yn($)},d.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw h.i.fu("user_canceled")},d.prototype.yn=function(p){return h.Fg.Mk(p,this.ct,!0,!0,this.Ub)},d.prototype.qE=function(){if(this.vk==0)return this.Dq;var p=1-this.vk*Math.abs(this.Kv);return 4>(p=-1>p?4:2*Math.PI/Math.acos(p)+.5)?p=4:p>this.Dq&&(p=this.Dq),h.O.truncate(p)},d.prototype.GD=function(p,y,v,$,I){this.cv();var k=new h.h;k.uc(v,y),k.scale(this.Kv);var O=new h.h;O.uc($,y),O.scale(this.Kv),0>(k=Math.atan2(k.y,k.x)/this.oA)&&(k=this.Id.length+k),k=this.Id.length-k,0>(O=Math.atan2(O.y,O.x)/this.oA)&&(O=this.Id.length+O),(O=this.Id.length-O)<k&&(O+=this.Id.length);var F=h.O.truncate(O);O=h.O.truncate(Math.ceil(k)),(k=new h.h).L(this.Id[O%this.Id.length]),k.Ct(this.rb,y);var j=10*this.qa;for(k.sub(v),k.length()<j&&(O+=1),k.L(this.Id[F%this.Id.length]),k.Ct(this.rb,y),k.sub($),k.length()<j&&--F,v=F-O,v++,F=0,O%=this.Id.length;F<v;F++,O=(O+1)%this.Id.length)k.L(this.Id[O]),k.Ct(this.rb,y),p.Ci(k),this.Xq();I&&p.Ci($)},d.prototype.zn=function(p,y,v,$,I){var k=new h.gd,O=k.mN(p,y);if(k.Gp(this.tA,!1,!1),2>k.I(O))return 0>I||(I=p,k=new h.Sa,I.ve(I.Ba(y),k),this.yu(v,k)),1;var F=k.Na(k.Xa(k.Ob(O))),j=new h.Dd;if(j.gg(-F.x,-F.y),k.Oc(j),$&&(this.tQ(k,O,I),2>k.I(O)))return 0>I||(I=p,k=new h.Sa,I.ve(I.Ba(y),k),this.yu(v,k)),1;this.Zd.length=0;var z=k.Ob(O);y=k.Xa(z);var B=I==1?k.Ma(y):k.U(y);p=I==1?k.U(y):k.Ma(y);var H=!0;$=new h.h,O=new h.h;var U=new h.h,Z=new h.h,re=new h.h,ie=new h.h,ce=new h.h,le=new h.h,_e=new h.h,Me=new h.h,Te=this.rb;z=k.Ja(z);for(var Ye=0;Ye<z;Ye++)k.D(p,O),H&&(k.D(y,$),k.D(B,U),le.uc($,U),le.normalize(),Me.MG(le),Me.scale(Te),Z.add(Me,$)),ce.uc(O,$),ce.normalize(),_e.MG(ce),_e.scale(Te),re.add($,_e),B=le.wi(ce),H=le.Qh(ce),0>B||0>H&&B==0?this.Zd.push(u.Qu(Z,re,$,2,this.Zd.length+1,this.Zd.length-1)):Z.qb(re)||(this.Zd.push(u.construct(Z,$,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(u.construct($,re,this.Zd.length+1,this.Zd.length-1,"dummy"))),ie.add(O,_e),this.Zd.push(u.Qu(re,ie,$,1,this.Zd.length+1,this.Zd.length-1)),Z.L(ie),Me.L(_e),U.L($),$.L(O),le.L(ce),B=y,y=p,H=!1,p=I==1?k.U(y):k.Ma(y);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(v),j.gg(F.x,F.y),v.YD(j,v.da()-1),1},d.prototype.YV=function(p){for(var y=this.zO(),v=!0,$=y+1,I=y;$!=y;I=$){var k=this.Zd[I];$=k.qh!=-1?k.qh:(I+1)%this.Zd.length,k.Co!=0&&(v&&p.Lt(k.Im),k.Co==2?this.GD(p,k.aw,k.Im,k.Vm,!0):p.Ci(k.Vm),v=!1)}},d.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var p=0,y=0,v=this.Zd.length;y<v;){var $=this.Zd[y];if(3&$.Co){p=y;break}y=$.qh}for(v=p+1,y=p;v!=p;y=v){v=($=this.Zd[y]).qh;for(var I=1,k=null;v!=y&&!(3&(k=this.Zd[v]).Co);)v=k.qh,I++;I!=1&&($.Co&k.Co)==1&&(this.Ls==null&&(this.Ls=new h.yb,this.lw=new h.yb),this.Ls.Dc($.Im),this.Ls.Qc($.Vm),this.lw.Dc(k.Im),this.lw.Qc(k.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&($.Vm.L(this.Ks[0]),k.Im.L(this.Ks[0]),$.qh=v,k.sh=y))}return p},d.prototype.Fv=function(p,y,v){var $=new h.h;if($.uc(v,p),v=$.length(),0<(v=this.rb*this.rb-v*v*.25)){v=Math.sqrt(v),$.normalize(),$.ar();var I=new h.h;if(I.uc(y,p),I.Qh($)+v>=this.rb)return!0}return!1},d.prototype.tQ=function(p,y,v){for(var $=0;1>$;$++){var I=!1,k=p.Ob(y),O=p.Ja(k);if(O==0)break;var F=O;if(3>O)break;!p.dc(k)&&(F=O-1),k=p.Xa(k),O=0<v?p.Ma(k):p.U(k);for(var j=0<v?p.U(k):p.Ma(k),z=O,B=!0,H=new h.h,U=new h.h,Z=new h.h,re=new h.h,ie=new h.h,ce=h.h.construct(0,0),le=new h.h,_e=new h.h,Me=new h.h,Te=new h.h,Ye=this.rb,Fe=0,wt=0;wt<F&&(p.D(j,U),B&&(p.D(k,H),p.D(O,Z),z=O),_e.uc(H,Z),_e.normalize(),le.uc(U,H),le.normalize(),z!=j);){var gt=_e.wi(le),He=_e.Qh(le),ci=!0;if(0>gt||0>He&&gt==0||!this.Fv(Z,H,U)||(ce.L(U),ci=!1,++Fe,I=!0),ci){if(0<Fe)for(;(gt=0<v?p.Ma(z):p.U(z))!=k;){if(p.D(gt,re),!this.Fv(re,Z,ce)){gt!=j&&this.Fv(re,Z,U)&&this.Fv(re,H,U)&&(Z.L(re),z=gt,ci=!1,++Fe);break}Z.L(re),z=gt,ci=!1,++Fe}if(!ci)continue;if(0<Fe){for(z=0<v?p.Ma(O):p.U(O),B=1;B<Fe;B++)ci=0<v?p.Ma(z):p.U(z),p.pd(z,!0),z=ci;Me.uc(H,Z),Fe=Ye*Ye-(Fe=Me.length())*Fe*.25,Ye-(Fe=Math.sqrt(Fe))>.5*this.vk?(ie.add(Z,H),ie.scale(.5),Me.normalize(),Me.ar(),Te.L(Me),Te.scale(Ye-Fe),ie.add(Te),p.mf(O,ie)):p.pd(O,!0),Fe=0}Z.L(H),z=k}H.L(U),O=k,k=j,j=0<v?p.U(k):p.Ma(k),wt++,B=!1}if(0<Fe){for(z=0<v?p.Ma(O):p.U(O),B=1;B<Fe;B++)ci=0<v?p.Ma(z):p.U(z),p.pd(z,!0),z=ci;ie.add(Z,H),ie.scale(.5),Me.uc(H,Z),Fe=Ye*Ye-(Fe=Me.length())*Fe*.25,Fe=Math.sqrt(Fe),Me.normalize(),Me.ar(),Te.L(Me),Te.scale(Ye-Fe),ie.add(Te),p.mf(O,ie)}if(p.Gp(this.tA,!1,!1),!I)break}},d.prototype.FG=function(p,y){if(p.Ja(y)==1)return!0;var v=new h.l;return p.Rj(y,v),Math.max(v.R(),v.ca())<.5*this.vk},d.prototype.EG=function(p){var y=new h.l;return p.A(y),Math.max(y.R(),y.ca())<.5*this.vk},d.prototype.WV=function(p){for(var y=0,v=0,$=(p=h.EC.local().V(p,.25*this.vk,!1,this.Ub)).da();v<$;v++)y=Math.max(p.Ja(v),y);return 32>y?(this.oq=!1,p):(this.oq=!0,h.Fg.Mk(p,this.ct,!1,!0,this.Ub))},d.prototype.yu=function(p,y){if(y=y.D(),this.Id!=null&&this.Id.length!==0){var v=new h.h;v.L(this.Id[0]),v.Ct(this.rb,y),p.Lt(v);for(var $=1,I=this.Id.length;$<I;$++)v.L(this.Id[$]),v.Ct(this.rb,y),p.Ci(v)}else{$=this.qE(),v=h.O.truncate(($+3)/4),$=.5*Math.PI/v,I=Math.cos($);for(var k=Math.sin($),O=new h.h,F=3;0<=F;F--){switch(O.ma(0,this.rb),F){case 0:for($=0;$<v;$++)p.yj(O.x+y.x,O.y+y.y),O.Bt(I,k);break;case 1:for($=0;$<v;$++)p.yj(-O.y+y.x,O.x+y.y),O.Bt(I,k);break;case 2:for($=0;$<v;$++)p.yj(-O.x+y.x,-O.y+y.y),O.Bt(I,k);break;default:for(p.sx(O.y+y.x,-O.x+y.y),$=1;$<v;$++)O.Bt(I,k),p.yj(O.y+y.x,-O.x+y.y)}this.Xq()}}},d.kx=function(p){return p.Ch(1,0),p},d.prototype.sX=function(p){return p.Ch(2,this.qa),p.fm(),p},d}();h.HK=l}(Y||(Y={})),function(h){var P=function(){function _(u){this.Ca=u,this.g=new h.gd,this.dd=new h.ia(0)}return _.prototype.Lh=function(u,a,n){switch(a){case 0:if(u.v<n&&u.C<=n)break;return u.v>=n?1:-1;case 1:if(u.G<n&&u.H<=n)break;return u.G>=n?1:-1;case 2:if(u.v>=n&&u.C>n)break;return u.C<=n?1:-1;case 3:if(!(u.G>=n&&u.H>n))return u.H<=n?1:-1}return 0},_.prototype.Ay=function(u,a){return u.getType()==1736?this.Cy(u,a):this.Dy(u)},_.prototype.Cy=function(u,a){if(this.Ca.R()==0||this.Ca.ca()==0)return u.Ia();var n=new h.l;u.xc(n),this.X=this.g.Ib(u);var o=new h.l,l=new h.l,d=new h.h,p=new h.h,y=[0,0,0,0,0,0,0,0,0],v=[0,0,0,0,0,0,0,0,0];new h.ig;var $=new h.yb,I=new h.ia(0);I.Jb(Math.min(100,u.I()));for(var k=!1,O=0;!k&&4>O;O++){var F=!1,j=(1&O)!=0,z=0;switch(O){case 0:z=this.Ca.v,F=n.v<=z&&n.C>=z;break;case 1:z=this.Ca.G,F=n.G<=z&&n.H>=z;break;case 2:z=this.Ca.C,F=n.v<=z&&n.C>=z;break;case 3:z=this.Ca.H,F=n.G<=z&&n.H>=z}if(F)for(k=!0,F=this.g.Ob(this.X);F!=-1;){var B=-1,H=-1,U=this.g.Xa(F),Z=U;do{var re=this.g.bc(Z);re==null&&(re=$,this.g.D(Z,d),re.Dc(d),this.g.D(this.g.U(Z),p),re.Qc(p)),re.A(o);var ie=this.Lh(o,O,z),ce=0,le=-1;if(ie==-1){ce=0<(re=re.cq(j,z,y,v))?this.g.Ul(Z,v,re):0,ce+=1;var _e=Z,Me=this.g.U(_e);for(re=0;re<ce;re++){if(this.g.D(_e,d),this.g.D(Me,p),(le=this.g.bc(_e))==null&&((le=$).Dc(d),le.Qc(p)),le.A(l),(le=this.Lh(l,O,z))==-1){if(j)(le=Math.abs(d.y-z))<(Te=Math.abs(p.y-z))?(d.y=z,this.g.mf(_e,d)):(p.y=z,this.g.mf(Me,p));else{le=Math.abs(d.x-z);var Te=Math.abs(p.x-z);le<Te?(d.x=z,this.g.mf(_e,d)):(p.x=z,this.g.mf(Me,p))}(le=this.g.bc(_e))==null&&((le=$).Dc(d),le.Qc(p)),le.A(l),le=this.Lh(l,O,z)}Te=B,B=le,H==-1&&(H=B),Te==0&&B==1||Te==1&&B==0||Te!=0||B!=0||I.add(_e),B==1&&(k=!1),le=_e=Me,Me=this.g.U(Me)}}ce==0&&(Te=B,B=ie,H==-1&&(H=B),Te==0&&B==1||Te==1&&B==0||Te!=0||B!=0||I.add(Z),B==1&&(k=!1),le=this.g.U(Z)),Z=le}while(Z!=U);for(H==0&&B==0&&I.add(U),re=0,B=I.size;re<B;re++)H=I.get(re),this.g.pd(H,!1);I.clear(!1),F=3>this.g.Ja(F)?this.g.Zq(F):this.g.Rb(F)}}return k?u.Ia():(this.FB(),0<a&&this.My(a),this.g.Ne(this.X))},_.prototype.Dy=function(u){var a=new h.l,n=new h.l,o=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],d=new h.ig,p=u,y=new h.l;u.xc(y);for(var v=0;4>v;v++){var $=!1,I=(1&v)!=0,k=0;switch(v){case 0:k=this.Ca.v,$=y.v<=k&&y.C>=k;break;case 1:k=this.Ca.G,$=y.G<=k&&y.H>=k;break;case 2:k=this.Ca.C,$=y.v<=k&&y.C>=k;break;case 3:k=this.Ca.H,$=y.G<=k&&y.H>=k}if($){$=p,p=u.Ia(),($=$.Ga()).Zi();for(var O,F=new h.h;$.$a();)for(var j,z=!0;$.Ha();){var B=$.ha();B.A(a);var H=this.Lh(a,v,k);if(H==-1){if(0<(H=B.cq(I,k,o,l))){var U=0;O=B.ac();for(var Z=0;Z<=H;Z++)if(U!=(j=Z<H?l[Z]:1)){B.ah(U,j,d);var re=d.get();re.Dc(O),Z<H&&(I?(F.x=o[Z],F.y=k):(F.x=k,F.y=o[Z]),re.Qc(F)),re.A(n);var ie=this.Lh(n,v,k);if(ie==-1){if(O=re.ac(),U=re.wc(),I)(ie=Math.abs(O.y-k))<(ce=Math.abs(U.y-k))?(O.y=k,re.Dc(O)):(U.y=k,re.Qc(U));else{ie=Math.abs(O.x-k);var ce=Math.abs(U.x-k);ie<ce?(O.x=k,re.Dc(O)):(U.x=k,re.Qc(U))}re.A(n),ie=this.Lh(n,v,k)}O=re.wc(),U=j,(j=ie)==1?(p.oc(re,z),z=!1):z=!0}}}else(j=H)==1?(p.oc(B,z),z=!1):z=!0}}}return p},_.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var u=new h.h,a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))for(var n=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++,n=this.g.U(n))this.g.D(n,u),(this.Ca.v==u.x||this.Ca.C==u.x||this.Ca.G==u.y||this.Ca.H==u.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},_.prototype.My=function(u){for(var a=new h.h,n=new h.h,o=h.O.lg(2048,0),l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l)){var d=this.g.Xa(l),p=d;do{var y=this.g.U(p);this.g.D(p,a);var v=-1;if(a.x==this.Ca.v?(this.g.D(y,n),n.x==this.Ca.v&&(v=1)):a.x==this.Ca.C&&(this.g.D(y,n),n.x==this.Ca.C&&(v=1)),a.y==this.Ca.G?(this.g.D(y,n),n.y==this.Ca.G&&(v=0)):a.y==this.Ca.H&&(this.g.D(y,n),n.y==this.Ca.H&&(v=0)),v!=-1&&(v=h.h.tb(a,n),!(1>=(v=h.O.truncate(Math.min(Math.ceil(v/u),2048)))))){for(var $=1;$<v;$++)o[$-1]=1*$/v;this.g.Ul(p,o,v-1)}p=y}while(p!=d)}},_.prototype.Vl=function(u,a){var n=this.g.Gd(),o=new h.h,l=new h.ia(0);l.Jb(100);for(var d=this.g.Ob(this.X);d!=-1;d=this.g.Rb(d))for(var p=this.g.Xa(d),y=0,v=this.g.Ja(d);y<v;y++){var $=this.g.U(p);this.g.D(p,o),(u?o.y==a:o.x==a)&&(this.g.D($,o),(u?o.y==a:o.x==a)&&(this.g.Pa(p,n)!=1&&(l.add(p),this.g.Ra(p,n,1)),this.g.Pa($,n)!=1&&(l.add($),this.g.Ra($,n,1)))),p=$}if(this.g.Td(n),!(3>l.size)){var I=this;l.Vd(0,l.size,function(ie,ce){return I.Mh(ie,ce)}),n=new h.h,d=new h.h,p=new h.h,d.Rc();var k=-1;y=new h.ia(0),v=new h.ia(0),$=this.g.Gd();for(var O=this.g.Gd(),F=0,j=l.size;F<j;F++){var z=l.get(F);if(this.g.D(z,o),!o.qb(d)){if(k!=-1){for(var B=k;B<F;B++){k=l.get(B);var H=this.g.U(k);z=this.g.Ma(k);var U=!1;0>this.Mh(k,H)&&(this.g.D(H,n),u?n.y==a:n.x==a)&&(y.add(k),U=!0,this.g.Ra(k,O,1)),0>this.Mh(k,z)&&(this.g.D(z,n),u?n.y==a:n.x==a)&&(U||y.add(k),this.g.Ra(k,$,1))}for(B=0,U=y.size;B<U;B++){if(k=y.get(B),z=this.g.Pa(k,$),H=this.g.Pa(k,O),z==1){z=this.g.Ma(k),this.g.D(z,p);var Z=[0];if(Z[0]=0,!p.qb(o)){var re=h.h.tb(d,p);Z[0]=h.h.tb(p,o)/re,Z[0]==0?Z[0]=2220446049250313e-31:Z[0]==1&&(Z[0]=.9999999999999998),this.g.Ul(z,Z,1),z=this.g.Ma(k),this.g.mf(z,o),v.add(z),this.g.Ra(z,$,1),this.g.Ra(z,O,-1)}}H==1&&(H=this.g.U(k),this.g.D(H,p),(Z=[0])[0]=0,p.qb(o)||(re=h.h.tb(d,p),Z[0]=h.h.tb(d,o)/re,Z[0]==0?Z[0]=2220446049250313e-31:Z[0]==1&&(Z[0]=.9999999999999998),this.g.Ul(k,Z,1),z=this.g.U(k),this.g.mf(z,o),v.add(z),this.g.Ra(z,$,-1),this.g.Ra(z,O,1)))}k=y,y=v,(v=k).clear(!1)}k=F,d.L(o)}}this.g.Td($),this.g.Td(O)}},_.prototype.Nl=function(u,a){var n=new h.h,o=new h.ia(0);o.Jb(100);for(var l=this.g.Gd(),d=0,p=this.dd.size;d<p;d++){var y=this.dd.get(d);if(y!=-1){var v=this.g.U(y);this.g.D(y,n),(u?n.y==a:n.x==a)&&(this.g.D(v,n),(u?n.y==a:n.x==a)&&(this.g.Pa(y,l)!=-2&&(o.add(y),this.g.Ra(y,l,-2)),this.g.Pa(v,l)!=-2&&(o.add(v),this.g.Ra(v,l,-2))))}}if(o.size!=0){var $=this;for(o.Vd(0,o.size,function(ce,le){return $.Mh(ce,le)}),d=0,p=o.size;d<p;d++){var I=o.get(d);this.g.Ra(I,l,d)}y=new h.h,(v=new h.h).Rc();var k=-1;for(d=0,p=o.size;d<p;d++)if((I=o.get(d))!=-1&&(this.g.D(I,n),!n.qb(v))){if(k!=-1)for(;;){I=!1;for(var O=1<d-k?d-1:d,F=k;F<O;F++){var j=o.get(F);if(j!=-1){var z=-1,B=this.g.U(j);0>this.Mh(j,B)&&(this.g.D(B,y),u?y.y==a:y.x==a)&&(z=B),B=-1;var H=this.g.Ma(j);if(0>this.Mh(j,H)&&(this.g.D(H,y),u?y.y==a:y.x==a)&&(B=H),z!=-1&&B!=-1)this.Kh(j,o,l),this.g.pd(j,!1),this.Kh(z,o,l),this.g.pd(z,!1),I=!0;else if(z!=-1||B!=-1){for(H=F+1;H<d;H++){var U=o.get(H);if(U!=-1){var Z=this.g.U(U),re=-1;0>this.Mh(U,Z)&&(this.g.D(Z,y),u?y.y==a:y.x==a)&&(re=Z),Z=this.g.Ma(U);var ie=-1;if(0>this.Mh(U,Z)&&(this.g.D(Z,y),u?y.y==a:y.x==a)&&(ie=Z),re!=-1&&ie!=-1){this.Kh(U,o,l),this.g.pd(U,!1),this.Kh(re,o,l),this.g.pd(re,!1),I=!0;break}if(z!=-1&&ie!=-1){this.zt(o,j,z,U,ie,l),I=!0;break}if(B!=-1&&re!=-1){this.zt(o,U,re,j,B,l),I=!0;break}}}if(I)break}}}if(!I)break}k=d,v.L(n)}}this.g.Td(l)},_.prototype.Kh=function(u,a,n){n=this.g.Pa(u,n),a.set(n,-1),n=this.g.Pa(u,this.ji),this.dd.set(n,-1),(a=this.g.bd(u))!=-1&&this.g.Xa(a)==u&&(this.g.Jf(a,-1),this.g.Wg(a,-1))},_.prototype.zt=function(u,a,n,o,l,d){this.g.Bc(a,o),this.g.Cc(o,a),this.g.Cc(n,l),this.g.Bc(l,n),this.Kh(o,u,d),this.g.mi(o,!1),this.Kh(l,u,d),this.g.mi(l,!0)},_.prototype.Ty=function(){for(var u=0,a=this.dd.size;u<a;u++){var n=this.dd.get(u);n!=-1&&this.g.aj(n,-1)}for(var o=0,l=0,d=this.g.Ob(this.X);d!=-1;){var p=this.g.Xa(d);if(p==-1||d!=this.g.bd(p)){var y=d;d=this.g.Rb(d),this.g.Jf(y,-1),this.g.$q(y)}else{n=p,y=0;do this.g.aj(n,d),y++,n=this.g.U(n);while(n!=p);2>=y?(n=this.g.Pa(p,this.ji),this.dd.set(n,-1),p=this.g.pd(p,!1),y==2&&(n=this.g.Pa(p,this.ji),this.dd.set(n,-1),this.g.pd(p,!1)),y=d,d=this.g.Rb(d),this.g.Jf(y,-1),this.g.$q(y)):(this.g.cp(d,!1),this.g.Wg(d,this.g.Ma(p)),this.g.Vj(d,y),l+=y,o++,d=this.g.Rb(d))}}for(u=0,a=this.dd.size;u<a;u++)if((n=this.dd.get(u))!=-1&&(d=this.g.bd(n))==-1){d=this.g.vf(this.X,-1),y=0,p=n;do this.g.aj(n,d),y++,n=this.g.U(n);while(n!=p);2>=y?(n=this.g.Pa(p,this.ji),this.dd.set(n,-1),p=this.g.pd(p,!1),y==2&&(0<=(n=this.g.Pa(p,this.ji))&&this.dd.set(n,-1),this.g.pd(p,!1)),y=d,this.g.Jf(y,-1),this.g.$q(y)):(this.g.kn(d,!0),this.g.Vj(d,y),this.g.Jf(d,p),this.g.Wg(d,this.g.Ma(p)),this.g.cp(d,!1),l+=y,o++)}for(this.g.Rl(this.X,o),this.g.Tj(this.X,l),u=0,a=this.g.ld;a!=-1;a=this.g.ue(a))u+=this.g.I(a);this.g.bC(u)},_.By=function(u,a,n){return new _(a).Ay(u,n)},_.clip=function(u,a,n,o){if(u.B())return u;if(a.B())return u.Ia();if((n=u.getType())==33)return o=u.D(),a.contains(o)?u:u.Ia();if(n==197)return o=new h.l,u.A(o),o.Ea(a)?(a=new h.Fh,u.copyTo(a),a.Xo(o),a):u.Ia();var l=new h.l;if(u.xc(l),a.contains(l))return u;if(!a.isIntersecting(l))return u.Ia();if((l=u.Bb)!=null&&(l=l.Fk)!=null){if((l=l.Ro(a))==1){if(n!=1736)throw h.i.Qa();return(u=new h.Da(u.description)).tp(a),u}if(l==0)return u.Ia()}switch(n){case 550:n=null,l=u.I();for(var d=u.ub(0),p=0,y=0;y<l;y++)o=new h.h,d.tc(2*y,o),a.contains(o)||(p==0&&(n=u.Ia()),p<y&&n.Fd(u,p,y),p=y+1);return 0<p&&n.Fd(u,p,l),p==0?u:n;case 1736:case 1607:return _.By(u,a,o);default:throw h.i.Qa()}},_.prototype.Mh=function(u,a){var n=new h.h;return this.g.D(u,n),u=new h.h,this.g.D(a,u),n.compare(u)},_}();h.Ud=P}(Y||(Y={})),function(h){var P=function(){function _(u,a){this.Ca=u,this.g=new h.gd,this.dd=new h.ia(0),this.nd=a}return _.prototype.Lh=function(u,a,n){switch(a){case 0:if(u.v<n&&u.C<=n)break;return u.v>=n?1:-1;case 1:if(u.G<n&&u.H<=n)break;return u.G>=n?1:-1;case 2:if(u.v>=n&&u.C>n)break;return u.C<=n?1:-1;case 3:if(!(u.G>=n&&u.H>n))return u.H<=n?1:-1}return 0},_.prototype.Ay=function(u,a){return u.getType()==1736?this.Cy(u,a):this.Dy(u)},_.prototype.Cy=function(u,a){if(this.Ca.R()==0||this.Ca.ca()==0)return u.Ia();var n=new h.l;u.xc(n),this.X=this.g.Ib(u);var o=new h.l,l=new h.l,d=new h.h,p=new h.h,y=[0,0,0,0,0,0,0,0,0],v=[0,0,0,0,0,0,0,0,0],$=new h.yb,I=new h.ia(0);I.Jb(256);for(var k=!1,O=0;!k&&4>O;O++){var F=!1,j=(1&O)!=0,z=0;switch(O){case 0:z=this.Ca.v,F=n.v<=z&&n.C>=z;break;case 1:z=this.Ca.G,F=n.G<=z&&n.H>=z;break;case 2:z=this.Ca.C,F=n.v<=z&&n.C>=z;break;case 3:z=this.Ca.H,F=n.G<=z&&n.H>=z}if(F)for(k=!0,F=this.g.Ob(this.X);F!=-1;){var B=!0,H=-1,U=-1,Z=this.g.Xa(F),re=Z;do{var ie=this.g.bc(re);ie==null&&(ie=$,this.g.D(re,d),ie.Dc(d),this.g.D(this.g.U(re),p),ie.Qc(p)),ie.A(o);var ce=this.Lh(o,O,z),le=0,_e=-1;if(ce==-1){le=0<(ie=ie.cq(j,z,y,v))?this.g.LX(re,v,ie):0,le+=1;var Me=re,Te=this.g.U(Me);for(ie=0;ie<le;ie++){if(this.g.D(Me,d),this.g.D(Te,p),(_e=this.g.bc(Me))==null&&((_e=$).Dc(d),_e.Qc(p)),_e.A(l),(_e=this.Lh(l,O,z))==-1){if(j)(_e=Math.abs(d.y-z))<(Ye=Math.abs(p.y-z))?(d.y=z,this.g.mf(Me,d)):(p.y=z,this.g.mf(Te,p));else{_e=Math.abs(d.x-z);var Ye=Math.abs(p.x-z);_e<Ye?(d.x=z,this.g.mf(Me,d)):(p.x=z,this.g.mf(Te,p))}(_e=this.g.bc(Me))==null&&((_e=$).Dc(d),_e.Qc(p)),_e.A(l),_e=this.Lh(l,O,z)}Ye=H,H=_e,U==-1&&(U=H),Ye==0&&H==1||Ye==1&&H==0||Ye!=0||H!=0||I.add(Me),H==1&&(B=k=!1),_e=Me=Te,Te=this.g.U(Te)}}if(le==0&&(Ye=H,H=ce,U==-1&&(U=H),Ye==0&&H==1||Ye==1&&H==0||Ye!=0||H!=0||I.add(re),H==1&&(B=k=!1),_e=this.g.U(re)),re=_e,256<=I.size){for(ie=1,ce=I.size-1;ie<ce;ie++)le=I.get(ie),this.g.pd(le,!1);I.set(1,I.Fc()),I.Bh(2)}}while(re!=Z);if(!B)for(U==0&&H==0&&I.add(Z),ie=0,ce=I.size;ie<ce;ie++)le=I.get(ie),this.g.pd(le,!1);I.clear(!1),F=B||this.g.Ja(F)==0?this.g.Zq(F):this.g.Rb(F)}}return k?u.Ia():(this.FB(),0<a&&this.My(a),this.g.Ne(this.X))},_.prototype.Dy=function(u){var a=new h.l,n=new h.l,o=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],d=new h.ig,p=u,y=new h.l;u.xc(y);for(var v=new h.h,$=new h.h,I=null,k=null,O=0;4>O;O++){var F=!1,j=(1&O)!=0,z=0;switch(O){case 0:z=this.Ca.v,F=y.v<=z&&y.C>=z;break;case 1:z=this.Ca.G,F=y.G<=z&&y.H>=z;break;case 2:z=this.Ca.C,F=y.v<=z&&y.C>=z;break;case 3:z=this.Ca.H,F=y.G<=z&&y.H>=z}if(F)for(F=p,p=u.Ia(),(F=F.Ga()).Zi();F.$a();)for(var B,H=!0;F.Ha();){var U=F.ha();U.A(a);var Z=this.Lh(a,O,z);if(Z==-1){if(0<(Z=U.cq(j,z,o,l))){var re=0;U.Yp(v);for(var ie=0;ie<=Z;ie++)if(re!=(B=ie<Z?l[ie]:1)){U.ah(re,B,d);var ce=d.get();ce.Dc(v),ie<Z&&(j?($.x=o[ie],$.y=z):($.x=z,$.y=o[ie]),ce.Qc($)),ce.A(n);var le=this.Lh(n,O,z);le==-1&&(I==null&&(I=new h.h),k==null&&(k=new h.h),ce.Yp(I),ce.Tr(k),j?(re=Math.abs(I.y-z))<(le=Math.abs(k.y-z))?(I.y=z,ce.Dc(I)):(k.y=z,ce.Qc(k)):(re=Math.abs(I.x-z))<(le=Math.abs(k.x-z))?(I.x=z,ce.Dc(I)):(k.x=z,ce.Qc(k)),ce.A(n),le=this.Lh(n,O,z)),ce.Tr(v),re=B,(B=le)==1?(p.oc(ce,H),H=!1):H=!0}}}else(B=Z)==1?(p.oc(U,H),H=!1):H=!0}}return p},_.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var u=new h.h,a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))for(var n=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++,n=this.g.U(n))this.g.D(n,u),(this.Ca.v==u.x||this.Ca.C==u.x||this.Ca.G==u.y||this.Ca.H==u.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},_.prototype.My=function(u){for(var a=new h.h,n=new h.h,o=null,l=null,d=h.O.lg(2048,0),p=this.g.Ob(this.X);p!=-1;p=this.g.Rb(p)){var y=this.g.Xa(p),v=y;do{var $=this.g.U(v);this.g.D(v,a);var I=-1;if(a.x==this.Ca.v?(this.g.D($,n),n.x==this.Ca.v&&(I=1)):a.x==this.Ca.C&&(this.g.D($,n),n.x==this.Ca.C&&(I=1)),a.y==this.Ca.G?(this.g.D($,n),n.y==this.Ca.G&&(I=0)):a.y==this.Ca.H&&(this.g.D($,n),n.y==this.Ca.H&&(I=0)),I!=-1){if(o==null&&(o=new h.h),l==null&&(l=new h.h),o.L(a),l.ma(0,0),I==0){var k=a.x-this.Ca.v;l.x=h.lc.sign(n.x-a.x),o.x=u*h.lc.Cn(Math.floor(Math.abs(k/u)),k)+this.Ca.v,0>o.x&&(o.x+=u)}else k=a.y-this.Ca.G,l.y=h.lc.sign(n.y-a.y),o.y=u*h.lc.Cn(Math.floor(Math.abs(k/u)),k)+this.Ca.G,0>o.y&&(o.y+=u);k=I!=0?n.y-a.y:n.x-a.x;var O=Math.abs(k);if(65536<O/u)throw h.i.fa("internal error");if(0<O){O=h.O.truncate(O/u)+2,d.length<O&&(d=h.O.lg(O));for(var F=O=0;;F++){var j=new h.h;if(j.x=o.x+l.x*F*u,j.y=o.y+l.y*F*u,1<=(j=(I!=0?j.y-a.y:j.x-a.x)/k))break;0>=j||(d[O]=j,O++)}O!=0&&this.g.Ul(v,d,O)}}v=$}while(v!=y)}},_.prototype.Vl=function(u,a){for(var n=-1,o=new h.h,l=null,d=this.g.Ob(this.X);d!=-1;d=this.g.Rb(d))for(var p=this.g.Xa(d),y=0,v=this.g.Ja(d);y<v;y++){var $=this.g.U(p);this.g.D(p,o),(u?o.y==a:o.x==a)&&(this.g.D($,o),(u?o.y==a:o.x==a)&&(n==-1&&(n=this.g.Gd()),l==null&&(l=new h.ia(0)).Jb(100),this.g.Pa(p,n)!=1&&(l.add(p),this.g.Ra(p,n,1)),this.g.Pa($,n)!=1&&(l.add($),this.g.Ra($,n,1)))),p=$}if(n!=-1&&this.g.Td(n),!(l==null||3>l.size)){var I=this;l.Vd(0,l.size,function(ie,ce){return I.Mh(ie,ce)}),n=new h.h,d=new h.h,p=new h.h,d.Rc();var k=-1;y=new h.ia(0),v=new h.ia(0),$=null;for(var O=this.g.Gd(),F=this.g.Gd(),j=0,z=l.size;j<z;j++){var B=l.get(j);if(this.g.D(B,o),!o.qb(d)){if(k!=-1){for(var H=k;H<j;H++){k=l.get(H);var U=this.g.U(k);B=this.g.Ma(k);var Z=!1;this.g.D(U,n),0>d.compare(n)&&(u?n.y==a:n.x==a)&&(y.add(k),Z=!0,this.g.Ra(k,F,1)),this.g.D(B,n),0>d.compare(n)&&(u?n.y==a:n.x==a)&&(Z||y.add(k),this.g.Ra(k,O,1))}for(H=0,Z=y.size;H<Z;H++){if(k=y.get(H),B=this.g.Pa(k,O),U=this.g.Pa(k,F),B==1&&(B=this.g.Ma(k),this.g.D(B,p),!p.qb(o))){$==null&&($=[]);var re=h.h.tb(d,p);$[0]=h.h.tb(p,o)/re,$[0]==0?$[0]=2220446049250313e-31:$[0]==1&&($[0]=.9999999999999998),this.g.Ul(B,$,1),B=this.g.Ma(k),this.g.mf(B,o),v.add(B),this.g.Ra(B,O,1),this.g.Ra(B,F,-1)}U==1&&(U=this.g.U(k),this.g.D(U,p),p.qb(o)||($==null&&($=[]),re=h.h.tb(d,p),$[0]=h.h.tb(d,o)/re,$[0]==0?$[0]=2220446049250313e-31:$[0]==1&&($[0]=.9999999999999998),this.g.Ul(k,$,1),B=this.g.U(k),this.g.mf(B,o),v.add(B),this.g.Ra(B,O,-1),this.g.Ra(B,F,1)))}k=y,y=v,(v=k).clear(!1)}k=j,d.L(o)}}this.g.Td(O),this.g.Td(F)}},_.prototype.Nl=function(u,a){for(var n=new h.h,o=null,l=-1,d=0,p=this.dd.size;d<p;d++){var y=this.dd.get(d);if(y!=-1){var v=this.g.U(y);this.g.D(y,n),(u?n.y==a:n.x==a)&&(this.g.D(v,n),(u?n.y==a:n.x==a)&&(l==-1&&(l=this.g.Gd()),o==null&&(o=new h.ia(0)).Jb(100),this.g.Pa(y,l)!=-2&&(o.add(y),this.g.Ra(y,l,-2)),this.g.Pa(v,l)!=-2&&(o.add(v),this.g.Ra(v,l,-2))))}}if(o==null)l!=-1&&this.g.Td(l);else{var $=this;for(o.Vd(0,o.size,function(ce,le){return $.Mh(ce,le)}),d=0,p=o.size;d<p;d++){var I=o.get(d);this.g.Ra(I,l,d)}y=new h.h,(v=new h.h).Rc();var k=-1;for(d=0,p=o.size;d<p;d++)if((I=o.get(d))!=-1&&(this.g.D(I,n),!n.qb(v))){if(k!=-1)for(;;){I=!1;for(var O=1<d-k?d-1:d,F=k;F<O;F++){var j=o.get(F);if(j!=-1){var z=-1,B=this.g.U(j);this.g.D(B,y),0>v.compare(y)&&(u?y.y==a:y.x==a)&&(z=B),B=-1;var H=this.g.Ma(j);if(this.g.D(H,y),0>v.compare(y)&&(u?y.y==a:y.x==a)&&(B=H),z!=-1&&B!=-1)this.Kh(j,o,l),this.g.pd(j,!1),this.Kh(z,o,l),this.g.pd(z,!1),I=!0;else if(z!=-1||B!=-1){for(H=F+1;H<d;H++){var U=o.get(H);if(U!=-1){var Z=this.g.U(U),re=-1;this.g.D(Z,y),0>v.compare(y)&&(u?y.y==a:y.x==a)&&(re=Z),Z=this.g.Ma(U);var ie=-1;if(this.g.D(Z,y),0>v.compare(y)&&(u?y.y==a:y.x==a)&&(ie=Z),re!=-1&&ie!=-1){this.Kh(U,o,l),this.g.pd(U,!1),this.Kh(re,o,l),this.g.pd(re,!1),I=!0;break}if(z!=-1&&ie!=-1){this.zt(o,j,z,U,ie,l),I=!0;break}if(B!=-1&&re!=-1){this.zt(o,U,re,j,B,l),I=!0;break}}}if(I)break}}}if(!I)break}k=d,v.L(n)}this.g.Td(l)}},_.prototype.Kh=function(u,a,n){n=this.g.Pa(u,n),a.set(n,-1),n=this.g.Pa(u,this.ji),this.dd.set(n,-1),(a=this.g.bd(u))!=-1&&this.g.Xa(a)==u&&(this.g.Jf(a,-1),this.g.Wg(a,-1))},_.prototype.zt=function(u,a,n,o,l,d){this.g.Bc(a,o),this.g.Cc(o,a),this.g.Cc(n,l),this.g.Bc(l,n),this.Kh(o,u,d),this.g.mi(o,!1),this.Kh(l,u,d),this.g.mi(l,!0)},_.prototype.Ty=function(){for(var u=0,a=this.dd.size;u<a;u++){var n=this.dd.get(u);n!=-1&&this.g.aj(n,-1)}for(var o=0,l=0,d=this.g.Ob(this.X);d!=-1;){var p=this.g.Xa(d);if(p==-1||d!=this.g.bd(p)){var y=d;d=this.g.Rb(d),this.g.Jf(y,-1),this.g.$q(y)}else{n=p,y=0;do this.g.aj(n,d),y++,n=this.g.U(n);while(n!=p);this.g.cp(d,!1),this.g.Wg(d,this.g.Ma(p)),this.g.Vj(d,y),l+=y,o++,d=this.g.Rb(d)}}for(u=0,a=this.dd.size;u<a;u++)if((n=this.dd.get(u))!=-1&&(d=this.g.bd(n))==-1){d=this.g.vf(this.X,-1),y=0,p=n;do this.g.aj(n,d),y++,n=this.g.U(n);while(n!=p);2>=y?(n=this.g.Pa(p,this.ji),this.dd.set(n,-1),p=this.g.pd(p,!1),y==2&&(0<=(n=this.g.Pa(p,this.ji))&&this.dd.set(n,-1),this.g.pd(p,!1)),y=d,this.g.Jf(y,-1),this.g.$q(y)):(this.g.kn(d,!0),this.g.Vj(d,y),this.g.Jf(d,p),this.g.Wg(d,this.g.Ma(p)),this.g.cp(d,!1),l+=y,o++)}for(this.g.Rl(this.X,o),this.g.Tj(this.X,l),u=0,a=this.g.ld;a!=-1;a=this.g.ue(a))u+=this.g.I(a);this.g.bC(u)},_.By=function(u,a,n,o){return new _(a,o).Ay(u,n)},_.clip=function(u,a,n,o,l){return _.Nu(u,a,null,n,o,l)},_.Nu=function(u,a,n,o,l,d){var p=u.getType();if(p==33)return l=u.D(),a.contains(l)?u:u.Ia();if(p==197)return l=new h.l,u.A(l),l.Ea(a)?(a=new h.Fh,u.copyTo(a),a.Xo(l),a):u.Ia();if(u.B())return u;if(a.B())return u.Ia();var y=new h.l;if(u.xc(y),a.contains(y))return u;if(!a.isIntersecting(y))return u.Ia();if((n!=null||isNaN(o))&&h.ta.ty(n,a,!1),!h.aa.xj(p))throw h.i.N();if((n=u.Bb)!=null&&(n=n.Fk)!=null){if((n=n.Ro(a))==1){if(p!=1736)throw h.i.fa("internal error");return(u=new h.Da(u.description)).tp(a),u}if(n==0)return u.Ia()}switch(p){case 550:for(d=null,p=u.I(),n=u.ub(0),o=0,l=new h.h,y=0;y<p;y++)n.tc(2*y,l),a.contains(l)||(o==0&&(d=u.Ia()),o<y&&d.Fd(u,o,y),o=y+1);return 0<o&&d.Fd(u,o,p),o==0?u:d;case 1736:case 1607:return _.By(u,a,l,d);default:throw h.i.fa("internal error")}},_.prototype.Mh=function(u,a){var n=new h.h;return this.g.D(u,n),u=new h.h,this.g.D(a,u),n.compare(u)},_}();h.ri=P}(Y||(Y={})),function(h){var P=new h.h,_=function(){function a(n,o,l,d,p){this.Pm=new h.h,this.Dk=new h.h,this.Pi=new h.h,this.g=n,this.Aw=l,this.no=d,this.Pm=o,this.yl=p,this.Dk.Rc(),this.Pi.Rc()}return a.prototype.xE=function(n){this.g.D(n,this.Dk),n=h.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var o=h.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return u.jG(n,o)},a.prototype.jz=function(n){return this.g.Pa(n,this.yl)},a.prototype.Py=function(n,o){return this.g.D(n,this.Dk),this.g.D(o,this.Pi),u.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},a}();h.sY=function(){};var u=function(){function a(){this.Pm=new h.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return a.iQ=function(n,o){var l=new a;return l.g=n,l.qa=o,l.Aw=o*o,l.$v=2*o,l.no=1/l.$v,l.BO()},a.Cv=function(n,o,l,d,p){return(n-=l)*n+(o-=d)*o<=p},a.jG=function(n,o){return h.O.Th(o,h.O.Th(n))},a.prototype.DO=function(n,o){this.g.Gc(n,P);for(var l=(P.y-this.Pm.y)*this.no,d=h.O.truncate((P.x-this.Pm.x)*this.no),p=h.O.truncate(l),y=l=0;1>=y;y+=1)for(var v=0;1>=v;v+=1){var $=a.jG(d+y,p+v),I=this.xl.rR($);I!=-1&&(this.pq[l]=I,this.xs[l]=$,l++)}for(d=l-1;1<=d;d--)for(I=this.pq[d],p=d-1;0<=p;p--)if(I==this.pq[p]){this.xs[p]=-1,d!=--l&&(this.xs[d]=this.xs[l],this.pq[d]=this.pq[l]);break}for(p=0;p<l;p++)this.EO(n,this.xs[p],P,this.pq[p],o)},a.prototype.EO=function(n,o,l,d,p){for(var y=new h.h;d!=-1;d=this.xl.ER(d)){var v=this.xl.ja(d);n==v||o!=-1&&this.g.Pa(v,this.yl)!=o||(this.g.Gc(v,y),a.Cv(l.x,l.y,y.x,y.y,this.Aw)&&p.add(d))}},a.prototype.Xm=function(n,o,l){var d=this.g.Pa(n,this.qo),p=this.g.Pa(o,this.qo);return d==-1&&(d=this.zd.Ph(),this.zd.addElement(d,n),this.g.Ra(n,this.qo,d)),p==-1?this.zd.addElement(d,o):this.zd.Hy(d,p),this.g.Ra(o,this.qo,-2),o=this.YT(n,o),l&&(l=this.kw.xE(n),this.g.Ra(n,this.yl,l)),o},a.WT=function(n,o,l){n.Nb(o),l=n;var d=new h.h;a.XT(n.D(),o.D(),d),l.Cb(d)},a.XT=function(n,o,l){var d=n.x;n.x!=o.x&&(d=(1*n.x+1*o.x)/2);var p=n.y;n.y!=o.y&&(p=(1*n.y+1*o.y)/2),l.ma(d,p)},a.prototype.YT=function(n,o){var l=new h.h;this.g.D(n,l);var d=new h.h;this.g.D(o,d);var p=this.g.cG(n),y=p+(o=this.g.cG(o)),v=0,$=l.x;l.x!=d.x&&($=(l.x*p+d.x*o)/y,v++);var I=l.y;return l.y!=d.y&&(I=(l.y*p+d.y*o)/y,v++),0<v&&this.g.Cb(n,$,I),this.g.vX(n,y),v!=0},a.prototype.BO=function(){var n=this.g.fd,o=this.g.IF();for(this.Pm=o.mz(),o=Math.max(o.ca(),o.R())/2147483646,this.$v<o&&(this.$v=o,this.no=1/this.$v),this.zd=new h.au,this.zd.At(h.O.truncate(this.g.fd/3+1)),this.zd.fn(h.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new _(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new h.dL(h.O.truncate(4*n/3),this.kw),this.xl.AW(this.g.fd),n=!1,o=this.g.ld;o!=-1;o=this.g.ue(o))for(var l=this.g.Ob(o);l!=-1;l=this.g.Rb(l))for(var d=this.g.Xa(l),p=0,y=this.g.Ja(l);p<y;p++){var v=this.kw.xE(d);this.g.Ra(d,this.yl,v),this.xl.addElement(d,v),d=this.g.U(d)}var $=new h.ia(0);for($.Jb(10),o=this.g.ld;o!=-1;o=this.g.ue(o))for(l=this.g.Ob(o);l!=-1;l=this.g.Rb(l))for(d=this.g.Xa(l),p=0,y=this.g.Ja(l);p<y;p++){if(this.g.Pa(d,this.qo)!=-2)for(v=this.g.Pa(d,this.yl),this.xl.jd(d,v);this.DO(d,$),$.size!=0;){v=!1;for(var I=0,k=$.size;I<k;I++){var O=$.get(I),F=this.xl.ja(O);this.xl.vd(O),v=this.Xm(d,F,I+1==k)||v}if(n=n||v,$.clear(!1),!v)break}d=this.g.U(d)}return n&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),n},a.prototype.vN=function(){for(var n=new h.h,o=this.zd.je;o!=-1;o=this.zd.qz(o)){var l=this.zd.rc(o);for(this.g.D(this.zd.ja(l),n),l=this.zd.lb(l);l!=-1;l=this.zd.lb(l))this.g.mf(this.zd.ja(l),n)}},a}();h.Yt=u}(Y||(Y={})),function(h){var P=function(){function _(u){u===void 0&&(u=null),this.yg=null,this.Pb=!1,this.yg=u===null?[]:u}return _.prototype.copyTo=function(u){if(u.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");for(var a=0;a<this.yg.length;a++)u.yg.push(this.yg[a].Of())},_.prototype.count=function(){return this.yg.length},_.prototype.add=function(u){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(u.Of())},_.prototype.clear=function(){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},_.prototype.remove=function(u){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(u,1)},_.prototype.jg=function(){var u=new _;return this.copyTo(u),u},_.prototype.Of=function(){return this.jg()},_.prototype.transform=function(u,a,n,o){if(u.length<a)throw h.i.fa("invalid Argument");var l=n;for(n=0;n<this.yg.length;n++){var d=this.yg[n];if(d.qm()!=null){var p=d.Un,y=p?1:0,v=p?d.qm().getGeogcs2():d.qm().getGeogcs1();if(v=l/(v=v.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(v-1))for(l=0;l<a;l++)u[l][0]*=v,u[l][1]*=v;h.MC.geogToGeog(d.qm(),a,u,null,y),l=(p?d.qm().getGeogcs1():d.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(v=l/o,3552713678800501e-30<Math.abs(v-1))for(l=0;l<a;l++)u[l][0]*=v,u[l][1]*=v;return a},_.prototype.Nb=function(u){if(u==this)return!0;if(!(u instanceof _)||this.yg.length!=u.yg.length)return!1;for(var a=0;a<this.yg.length;a++)if(!this.yg[a].Nb(u.yg[a]))return!1;return!0},_.prototype.ix=function(){this.Pb=!0},_.prototype.toString=function(){for(var u="CGT ("+this.count()+") ",a=0,n=this.count();a<n;++a)u+=this.yg[a].toString()+", ";return 200<u.length?u.substring(0,197)+"... ("+u.length.toString()+" characters)":u},_.create=function(){return new _},_}();h.wC=P}(Y||(Y={})),function(h){var P,_=Math.PI,u=2*Math.PI,a=Math.PI/2,n=function(){function d(){}return d.TO=function(p,y){var v=new d;return v.x=p,v.y=y,v.type=0,v.Uh=0,v},d.al=function(p){var y=new d;return y.x=p.x,y.y=p.y,y.type=0,y.Uh=0,y},d.SO=function(p){var y=new d;return y.x=p.x,y.y=p.y,y.type=p.type,y.Uh=p.Uh,y},d.Pd=function(p,y,v){var $=new d;return $.x=p.x+y*Math.cos(v),$.y=p.y+y*Math.sin(v),$.type=p.type,$.Uh=p.Uh,$},d.Pu=function(p,y){var v=new d;return v.x=.5*(p.x+y.x),v.y=.5*(p.y+y.y),v.type=p.type,v.Uh=p.Uh,v},d.TE=function(p,y){var v=new d;return v.x=p.x+.001*(y.x-p.x),v.y=p.y+.001*(y.y-p.y),v.type=p.type,v.Uh=p.Uh,v},d}(),o=function(){};(P=h.fL||(h.fL={}))[P.Round=0]="Round",P[P.Bevel=1]="Bevel",P[P.Miter=2]="Miter",P[P.Square=3]="Square";var l=function(){function d(p){this.NA=this.Yb=this.wg=null,this.nd=p}return d.V=function(p,y,v,$,I,k){if(p==null||1>p.Db())throw h.i.N();return y==0||p.B()?p:((k=new d(k)).ko=p,k.Ka=y,k.qa=I,k.Ki=v,k.CA=$,k.Rx())},d.prototype.eM=function(){var p=this.ko,y=p.ac(),v=p.wc(),$=new h.h;return $.uc(v,y),$.normalize(),$.Hv(),$.scale(this.Ka),y.add($),v.add($),$=p.Ia(),p.Dc(y),p.Qc(v),$},d.prototype.dM=function(){var p=this.ko;if(0<this.Ka&&this.Ki!=2){var y=new h.Da;return y.ad(p,!1),this.ko=y,this.Rx()}return(p=new h.Fh(p.$)).W(this.Ka,this.Ka),p},d.prototype.tJ=function(p,y,v,$){return(y.x-p.x)*($.x-v.x)+(y.y-p.y)*($.y-v.y)},d.prototype.fc=function(p,y){if(y===void 0)this.Yb.push(p),this.gf++;else if(this.gf==0)this.fc(p);else{var v=this.Bw,$=this.wg[y==0?v-1:y-1],I=this.wg[y],k=this.tJ($,I,this.Yb[this.gf-1],p);0<k?this.fc(p):0>k&&(0<this.tJ($,I,I,this.Yb[this.gf-1])?(I=this.wg[y==0?v-2:y==1?v-1:y-2],v=n.Pd($,this.Ka,Math.atan2($.y-I.y,$.x-I.x)-a),this.Yb[this.gf-1]=v,this.Ki==1||this.Ki==2?(v=n.Pu(v,$),this.fc(v),v=n.Pd($,this.Ka,this.Jv+a),($=n.Pu(v,$)).type|=256,this.fc($)):(v=n.Pd($,this.Ka,this.Jv+a)).type|=256,this.fc(v),this.fc(p,y)):(v=n.Pd(I,this.Ka,this.Jv+a),this.fc(v),this.Ki==1||this.Ki==2?(v=n.Pu(v,I),this.fc(v),v=n.Pd(I,this.Ka,this.aA-a),($=n.Pu(v,I)).type|=256,this.fc($)):(v=n.Pd(I,this.Ka,this.aA-a)).type|=256,this.fc(v)))}},d.prototype.mE=function(){var p,y=this.Bw;this.gf=0;var v=.5*this.qa,$=0,I=0;for(p=0;p<y;p++){var k=this.wg[p],O=p==0?this.wg[y-1]:this.wg[p-1],F=p==y-1?this.wg[0]:this.wg[p+1],j=O.x-k.x,z=O.y-k.y,B=F.x-k.x,H=F.y-k.y,U=Math.atan2(z,j),Z=Math.atan2(H,B);if(this.Jv=U,this.aA=Z,p==0&&($=U,I=Z),j=j*H-B*z,z=Z,Z<U&&(Z+=u),0<j*this.Ka)this.Ki==1||this.Ki==2?(U=n.Pd(k,this.Ka,U+a),this.fc(U),U=n.TE(k,U),this.fc(U),U=n.Pd(k,this.Ka,Z-a),(k=n.TE(k,U)).type|=256,this.fc(k),this.fc(U)):(j=.5*(Z-U),j=this.Ka/Math.abs(Math.sin(j)),U=n.Pd(k,j,.5*(U+Z)),this.fc(U,p));else if(512&k.type){for(j=1-v/Math.abs(this.Ka),O=1,F=0>this.Ka?-_:_,-1<j&&1>j&&(.017453292519943295>(z=2*Math.acos(j))&&(z=.017453292519943295),1<(O=h.O.truncate(_/z+1.5))&&(F/=O)),z=U+a,U=n.Pd(k,this.Ka,z),p==0&&(U.type|=1024),this.fc(U,p),j=this.Ka/Math.cos(F/2),z+=F/2,(U=n.Pd(k,j,z)).type|=1024,this.fc(U);0<--O;)z+=F,(U=n.Pd(k,j,z)).type|=1024,this.fc(U);(U=n.Pd(k,this.Ka,Z-a)).type|=1024,this.fc(U)}else if(this.Ki==1)U=n.Pd(k,this.Ka,U+a),this.fc(U,p),U=n.Pd(k,this.Ka,Z-a),this.fc(U);else if(this.Ki==0)for(j=1-v/Math.abs(this.Ka),O=1,F=Z-a-(U+a),-1<j&&1>j&&(.017453292519943295>(z=2*Math.acos(j))&&(z=.017453292519943295),1<(O=h.O.truncate(Math.abs(F)/z+1.5))&&(F/=O)),j=this.Ka/Math.cos(.5*F),z=U+a+.5*F,U=n.Pd(k,j,z),this.fc(U,p);0<--O;)z+=F,U=n.Pd(k,j,z),this.fc(U);else this.Ki==2?(j=O.x-k.x,z=O.y-k.y,.99999999<(O=(j*(B=F.x-k.x)+z*(H=F.y-k.y))/Math.sqrt(j*j+z*z)/Math.sqrt(B*B+H*H))?(U=n.Pd(k,1.4142135623730951*this.Ka,Z-.25*_),this.fc(U,p),U=n.Pd(k,1.4142135623730951*this.Ka,Z+.25*_),this.fc(U)):(O=Math.abs(this.Ka/Math.sin(.5*Math.acos(O))))>(F=Math.abs(this.CA*this.Ka))?(j=.5*(Z-U),j=this.Ka/Math.abs(Math.sin(j)),U=n.Pd(k,j,.5*(U+Z)),Z=h.h.construct(U.x,U.y),U=h.h.construct(k.x,k.y),(k=new h.h).uc(Z,U),(Z=new h.h).HW(F/k.length(),k,U),U=(O-F)*Math.abs(this.Ka)/Math.sqrt(O*O-this.Ka*this.Ka),0<this.Ka?k.Hv():k.ar(),k.scale(U/k.length()),(U=new h.h).add(Z,k),(O=new h.h).uc(Z,k),U=n.al(U),this.fc(U,p),U=n.al(O),this.fc(U)):(j=.5*(Z-U),j=this.Ka/Math.abs(Math.sin(j)),U=n.Pd(k,j,.5*(U+Z)),this.fc(U,p))):(Z=z,0<this.Ka?(Z>U&&(Z-=u),O=U-Z<a):(Z<U&&(Z+=u),O=Z-U<a),O?(z=0>(j=1.4142135623730951*this.Ka)?U+.25*_:U+.75*_,U=n.Pd(k,j,z),this.fc(U,p),z=0>j?Z-.25*_:Z-.75*_,U=n.Pd(k,j,z),this.fc(U)):(j=.5*(Z-U),j=this.Ka/Math.abs(Math.sin(j)),Z<U&&(Z+=u),U=n.Pd(k,j,(U+Z)/2),this.fc(U,p)))}return this.Jv=$,this.aA=I,this.fc(this.Yb[0],0),k=n.SO(this.Yb[this.gf-1]),this.Yb[0]=k,this.wW()},d.prototype.Au=function(p,y){if(!(2>y))for(var v=0;v<y;v++){var $=this.Yb[p+v];v!=0?this.NA.Ci(h.h.construct($.x,$.y)):this.NA.Lt(h.h.construct($.x,$.y))}},d.prototype.fM=function(p,y,v){var $=p.Ba(y),I=p.Vc(y);if(this.Yb=[],this.NA=v,p.dc(y)){for(y=p.Na($);p.Na(I-1).qb(y);)I--;if(2<=I-$){for(this.Bw=I-$,this.wg=[],y=$;y<I;y++)this.wg.push(n.al(p.Na(y)));this.mE()&&this.Au(0,this.gf-1)}}else{for(y=p.Na($);$<I&&p.Na($+1).qb(y);)$++;for(y=p.Na(I-1);$<I&&p.Na(I-2).qb(y);)I--;if(2<=I-$){for(this.Bw=2*(I-$)-2,this.wg=[],(v=n.al(p.Na($))).type|=1536,this.wg.push(v),y=$+1;y<I-1;y++)v=n.al(p.Na(y)),this.wg.push(v);for((v=n.al(p.Na(I-1))).type|=512,this.wg.push(v),y=I-2;y>=$+1;y--)(v=n.al(p.Na(y))).type|=1024,this.wg.push(v);if(this.mE())if(2<=this.Yb.length){for(p=-1,(I=(1024&this.Yb[this.gf-1].type)!=0)||(p=0),y=1;y<this.gf;y++)($=(1024&this.Yb[y].type)!=0)?I||1<(I=y-1)-p+1&&this.Au(p,I-p+1):I&&(p=y-1),I=$;I||1<(I=this.gf-1)-p+1&&this.Au(p,I-p+1)}else p=0,I=this.gf-1,0<=p&&1<=I-p&&this.Au(p,I-p+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},d.prototype.wW=function(){for(var p=!1,y=0;y<this.gf;y++){var v=this.Yb[y];v.qh=y+1,v.sh=y-1,this.Yb[y]=v}for((v=this.Yb[0]).sh=this.gf-2,this.Yb[0]=v,(v=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=v,y=v=0;y<this.gf;y++)if(256&this.Yb[v].type){var $=this.GP(v);if($==-1){p=!0;break}v=$}else v=this.Yb[v].qh;return!p&&(this.QO(v),!0)},d.prototype.GP=function(p){for(var y,v,$=this.gf-1,I=p,k=1;k<=$-2;k++){y=I=this.Yb[I].qh,v=p;for(var O=1;O<=k;O++){if(v=this.Yb[v].sh,(256&this.Yb[v].type)==0&&(256&this.Yb[y].type)==0){var F=this.gS(v,y);if(F!=-1)return F}y=this.Yb[y].sh}}return-1},d.prototype.gS=function(p,y){var v=this.Yb[this.Yb[p].sh],$=this.Yb[p],I=this.Yb[this.Yb[y].sh],k=this.Yb[y];if(!this.JW(v,$,I,k))return-1;var O=new o;return this.xQ(v,$,I,k,O)&&!O.bE&&h.O.bK(($.x-v.x)*(k.y-I.y)-($.y-v.y)*(k.x-I.x))!=h.O.bK(this.Ka)?(v=this.Yb[p].sh,O.an.type=$.type,O.an.qh=y,O.an.sh=v,this.Yb[p]=O.an,O.an=this.Yb[y],O.an.sh=p,this.Yb[y]=O.an,y):-1},d.prototype.JW=function(p,y,v,$){return Math.max(p.x,y.x)>=Math.min(v.x,$.x)&&Math.max(v.x,$.x)>=Math.min(p.x,y.x)&&Math.max(p.y,y.y)>=Math.min(v.y,$.y)&&Math.max(v.y,$.y)>=Math.min(p.y,y.y)},d.prototype.xQ=function(p,y,v,$,I){I.bE=!1;var k=(y.y-p.y)*($.x-v.x)-(y.x-p.x)*($.y-v.y),O=(v.y-p.y)*(y.x-p.x)-(v.x-p.x)*(y.y-p.y);if(0<=(k=k==0?2:O/k)&&1>=k){var F=k;if(k=($.y-v.y)*(y.x-p.x)-($.x-v.x)*(y.y-p.y),O=(p.y-v.y)*($.x-v.x)-(p.x-v.x)*($.y-v.y),0<=(k=k==0?2:O/k)&&1>=k)return I.an=n.TO(p.x+k*(y.x-p.x),p.y+k*(y.y-p.y)),I.an.Uh=v.Uh+F*($.Uh-v.Uh),F!=0&&F!=1||k!=0&&k!=1||(I.bE=!0),I.VY=k,I.WY=F,!((F==0||F==1)&&0<k&&1>k||(k==0||k==1)&&0<F&&1>F)}return!1},d.prototype.QO=function(p){for(;this.Yb[p].sh<p;)p=this.Yb[p].sh;var y=0,v=p;do v=this.Yb[v],this.Yb[y]=v,v=v.qh,y++;while(v!=p);this.Yb[y]=this.Yb[0],this.gf=y+1},d.prototype.$C=function(p){var y=this.ko,v=y.Ga();if(v!=null){v.Zi();for(var $=-1;v.$a();)$++,this.fM(y,$,p)}},d.prototype.Rx=function(){var p=this.ko.getType();return p==322?this.eM():p==197?this.dM():h.aa.yd(p)?((p=new h.Ta).oc(this.ko,!0),this.ko=p,this.Rx()):p==1607?(p=new h.Ta,this.$C(p),p):p==1736?(p=new h.Da,this.$C(p),p):null},d}();h.IK=l}(Y||(Y={})),function(h){var P=function(){function n(o){this.qk=o}return n.prototype.D=function(o,l){this.qk.g.D(o,l)},n.prototype.vd=function(o){var l=this.qk.Fa.ja(o);this.qk.Fa.vd(o,-1),this.qk.g.pd(l,!1)},n}(),_=function(){function n(o){this.qk=o}return n.prototype.D=function(o,l){this.qk.IT.D(o,l)},n.prototype.vd=function(o){this.qk.Fa.vd(o,-1)},n}(),u=function(){function n(o){this.qk=o}return n.prototype.D=function(o,l){l.L(this.qk.LT[o])},n.prototype.vd=function(o){this.qk.Fa.vd(o,-1)},n}(),a=function(){function n(o){o===void 0?(this.Fa=new h.Yj,this.Fa.De(20),this.g=new h.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new P(this)):o instanceof Array?(this.Fa=new h.Yj,this.Fa.De(20),this.LT=o,this.Xh=new u(this)):(this.Fa=new h.Yj,this.Fa.De(20),this.IT=o,this.Xh=new _(this))}return n.prototype.Ib=function(o){var l=o.getType();if(h.Gx.xj(l))this.jN(o);else if(h.Vk.yd(l))this.oN(o);else if(l==197)this.gN(o);else{if(l!=33)throw h.i.N("invalid shape type");this.nN(o)}},n.prototype.cR=function(){var o=new h.Sa,l=this.Fa.rc(-1),d=new h.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(l),o),d.nf(o),l=this.Fa.lb(l);l!=-1;l=this.Fa.lb(l))this.g.Vi(this.Fa.ja(l),o),d.lineTo(o);return d},n.RO=function(o){var l=new n(o),d=o.I(),p=1,y=new h.h,v=new h.h,$=new h.h;for(o.D(0,y);o.D(p,v),v.Rz(y)&&p<d-1;)p++;for(l.Fa.addElement(0,-1),l.Fa.xn(p),d=p+1;d<o.I();d++)o.D(d,$),(p=l.pC($))!=-1&&l.Fa.Sj(p,d);for($=new h.Sa,p=l.Fa.rc(-1),d=new h.Da(o.description),o.ve(l.Fa.ja(p),$),d.nf($),p=l.Fa.lb(p);p!=-1;p=l.Fa.lb(p))o.ve(l.Fa.ja(p),$),d.lineTo($);return d},n.construct=function(o,l,d){for(var p=new n(o),y=1,v=o[0];o[y].Rz(v)&&y<l-1;)y++;for(p.Fa.addElement(0,-1),p.Fa.xn(y),y+=1;y<l;y++)(v=p.pC(o[y]))!=-1&&p.Fa.Sj(v,y);for(o=0,l=p.Fa.rc(-1);l!=-1;l=p.Fa.lb(l))d[o++]=p.Fa.ja(l);return o},n.JG=function(o,l){var d=o.Ba(l),p=o.Vc(l);if(l=!o.dc(l)&&o.Nn(l),o=o.ub(0),p*=2,l&&(p-=2),6>p-(d*=2))return!0;l=new h.h;var y=new h.h,v=new h.h;o.tc(d,l),o.tc(d+2,y),o.tc(d+4,v);var $=n.Wu(y,v,l);if($.ps()||!n.um($.value()))return!1;var I=h.h.construct(y.x,y.y),k=new h.h;for(d+=6;d<p;d+=2)if(k.L(y),y.L(v),o.tc(d,v),($=n.Wu(y,v,l)).ps()||!n.um($.value())||($=n.Wu(I,v,l)).ps()||!n.um($.value())||($=n.Wu(y,v,k)).ps()||!n.um($.value()))return!1;return!0},n.prototype.jN=function(o){for(var l=new h.Sa,d=new h.h,p=0;p<o.I();p++){o.D(p,d);var y=this.Cr(d);if(y!=-1){o.ve(p,l);var v=this.g.fc(this.Ss,l);this.Fa.Sj(y,v)}}},n.prototype.gN=function(o){for(var l=new h.Sa,d=new h.h,p=0;4>p;p++){o.mB(p,d);var y=this.Cr(d);if(y!=-1){o.Hf(p,l);var v=this.g.fc(this.Ss,l);this.Fa.Sj(y,v)}}},n.prototype.oN=function(o){var l=new h.Sa,d=o.ac();if((d=this.Cr(d))!=-1){o.To(l);var p=this.g.fc(this.Ss,l);this.Fa.Sj(d,p)}d=o.wc(),(d=this.Cr(d))!=-1&&(o.Po(l),o=this.g.fc(this.Ss,l),this.Fa.Sj(d,o))},n.prototype.nN=function(o){var l=o.D();(l=this.Cr(l))!=-1&&(o=this.g.fc(this.Ss,o),this.Fa.Sj(l,o))},n.prototype.Cr=function(o){var l=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var d=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return o.Rz(d)||(l=this.Fa.xn(-5)),l}return this.pC(o)},n.prototype.pC=function(o){var l=-1;do{var d=this.Fa.rc(-1),p=this.Fa.Fc(-1),y=this.Fa.ja(d),v=this.Fa.ja(p),$=new h.h,I=new h.h;if(this.Xh.D(y,$),this.Xh.D(v,I),y=h.h.Uq(I,o,$),n.um(y))l=this.Fa.xn(-1),($=this.nC(o,p,d))!=d&&this.oC(o,d,this.Fa.we($));else if(n.CG(y)){I=this.Fa.sv(-1);var k=this.Fa.rc(-1),O=this.Fa.Fc(-1);for(y=new h.h,v=new h.h;k!=this.Fa.we(O);){var F=this.Fa.ja(I);this.Xh.D(F,y),F=h.h.Uq(y,o,$),n.CG(F)?(O=I,I=this.Fa.ll(I)):(k=I,I=this.Fa.Xp(I))}if(I=O,$=k,F=this.Fa.ja(I),k=this.Fa.ja($),this.Xh.D(F,y),this.Xh.D(k,v),$!=d&&(y=h.h.Uq(v,o,y),!n.um(y)))continue;l=this.Fa.zu($,I,-2,!1),this.oC(o,I,p),this.nC(o,$,d)}else this.sb==null&&(this.sb=new h.yb),this.sb.Dc(I),this.sb.Qc($),0>($=this.sb.fe(o,!0))?($=this.Fa.we(p),this.Fa.vd(p,-1),l=this.Fa.xn(-3),this.nC(o,$,d)):1<$&&($=this.Fa.lb(d),this.Fa.vd(d,-1),l=this.Fa.zu(-1,$,-3,!1),this.oC(o,$,p))}while(!1);return l},n.prototype.oC=function(o,l,d){if(l!=d){var p=this.Fa.ja(l),y=this.Fa.lb(l),v=new h.h,$=new h.h;for(this.Xh.D(p,v);l!=d&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(y),$),p=h.h.Uq($,o,v),!n.um(p));)p=l,l=y,v.L($),y=this.Fa.lb(l),this.Xh.vd(p)}},n.prototype.nC=function(o,l,d){if(l==d)return d;var p=this.Fa.ja(l),y=this.Fa.we(l),v=new h.h,$=new h.h;for(this.Xh.D(p,v);l!=d&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(y),$),p=h.h.Uq(v,o,$),!n.um(p));)p=l,l=y,v.L($),y=this.Fa.we(l),this.Xh.vd(p);return l},n.Wu=function(o,l,d){var p=new h.Wb;p.set(l.x),p.sub(o.x);var y=new h.Wb;y.set(d.y),y.sub(o.y);var v=new h.Wb;return v.set(l.y),v.sub(o.y),(l=new h.Wb).set(d.x),l.sub(o.x),p.Ag(y),v.Ag(l),p.sub(v),p},n.um=function(o){return 0>o},n.CG=function(o){return 0<o},n}();h.Zt=a}(Y||(Y={})),function(h){var P=function(){function _(u){this.g=null,this.tH=!0,this.nd=u}return _.zU=function(u,a,n){return u=h.ta.Er(u),h.Yt.Cv(a.Lg(),a.ih(),n.Lg(),n.ih(),h.lc.ox(u))},_.CO=function(u,a){var n=new h.Sa;return h.Yt.WT(u,a,n),n},_.V=function(u,a,n,o){return(n=new _(n)).g=u,n.qa=a,n.tH=o,n.EM()},_.prototype.nM=function(u){return h.Yt.iQ(this.g,u)},_.prototype.sM=function(u){return h.$t.V(this.g,u,this.nd)},_.prototype.EM=function(){var u=this.qa,a=h.ta.Er(u),n=1.00001*(u=h.ta.rN(u));u*=1.000001;for(var o=!1,l=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),d=0,p=this.g.jS();;d++){if(d>l)throw h.i.fa("Internal Error: max number of iterations exceeded");var y=this.nM(a);if(o=o||y,this.tH&&(y=this.g.Gp(a,!0,!1)!=0,o=o||y),y=!1,(d==0||p||h.$t.kI(!0,this.g,u,null,this.nd))&&(y=this.sM(n),o=o||y),!y)break;h.mp.zp(this.nd)}return o},_}();h.Tk=P}(Y||(Y={})),function(h){var P=function(){function u(a){this.$d=this.Mc=null,this.Ys=0,this.Ub=a,this.cA=!0}return u.prototype.uv=function(a,n){var o=this.g.bc(a);if(o==null){if(!this.g.ed(a,n))return null;o=n}return o},u.prototype.Xq=function(){var a;a===void 0&&(a=!1),this.Ys++,(a||!(4095&this.Ys))&&(this.Ys=0,h.mp.zp(this.Ub))},u.prototype.nP=function(){var a=this.g.Yq(!1),n=!1,o=new h.yb,l=new h.yb,d=new h.l;d.Oa();var p=new h.l;p.Oa();for(var y=new h.Sa,v=new h.TC,$=a.next();$!=-1;$=a.next()){h.mp.zp(this.Ub);var I=null,k=!1;if(!h.aa.Rn(this.g.ic(a.ck))){if((I=this.uv($,o))==null)continue;if(I.A(d),d.W(this.qa,this.qa),I.Bi(this.qa)){if(!I.Bi(0))continue;k=!0,I=null}}var O=this.g.Yq(a),F=O.next();for(F!=-1&&(F=O.next());F!=-1;F=O.next()){var j=null,z=!1;if(!h.aa.Rn(this.g.ic(O.ck))){if((j=this.uv(F,l))==null)continue;if(j.A(p),j.Bi(this.qa)){if(!j.Bi(0))continue;z=!0,j=null}}var B=0,H=0;if(I!=null&&j!=null)d.HG(p)&&(v.Oo(I),v.Oo(j),v.Ea(this.qa,!1),0<(B=v.ol(0))+(H=v.ol(1))&&(this.g.jr($,v,0,!0),this.g.jr(F,v,1,!0)),v.clear());else if(I!=null){var U=new h.h;if(this.g.D(F,U),d.contains(U)){if(v.Oo(I),this.g.Vi(F,y),v.Kz(this.qa,y,!1),0<(B=v.ol(0)))if(this.g.jr($,v,0,!0),z){for(z=-1,U=this.g.U(F);U!=-1&&U!=F&&(z=U,(j=this.uv(U,l))!=null&&j.Bi(0));U=this.g.U(U));for(U=F;U!=-1&&(this.g.Dh(U,v.Bf),U!=z);U=this.g.U(U));}else this.g.Dh(F,v.Bf);v.clear()}}else{if(j==null)continue;if(U=new h.h,this.g.D($,U),p.W(this.qa,this.qa),p.contains(U)){if(v.Oo(j),this.g.Vi($,y),v.Kz(this.qa,y,!1),0<(H=v.ol(0)))if(this.g.jr(F,v,0,!0),k){for(z=-1,U=this.g.U($);U!=-1&&U!=$&&(z=U,(j=this.uv(U,l))!=null&&j.Bi(0));U=this.g.U(U));for(U=$;U!=-1&&(this.g.Dh(U,v.Bf),U!=z);U=this.g.U(U));}else this.g.Dh($,v.Bf);v.clear()}}if(B+H!=0){if(B!=0){if((I=this.g.bc($))==null){if(!this.g.ed($,o))continue;I=o,o.A(d)}else I.A(d);if(I.Bi(this.qa))break}n=!0}}}return n},u.prototype.oP=function(){return this.QU()},u.prototype.QU=function(){return new h.RC().PX(this.g,this.qa)},u.prototype.lI=function(){var a=!1;this.Mc==null&&(this.Mc=new h.Yj);var n=new h.ia(0);n.Jb(this.g.fd+1);for(var o=this.g.Yq(),l=o.next();l!=-1;l=o.next())n.add(l);this.g.nx(n,n.size),n.add(-1),o=this.g.Gd(),l=this.g.Gd(),this.$d=new h.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var d=new h.ia(0),p=new h.ia(0),y=0;new h.h;var v=this.g.td;this.g.vb.mc();for(var $,I,k=this.g.vb.za[0].o,O=n.get(y++);O!=-1;){var F=$=k[2*(I=v.T(O,0))],j=I=k[2*I+1];do{var z=v.T(O,2),B=v.T(O,1);if(z!=-1){var H=v.T(z,0),U=k[2*H];0>(j<(H=k[2*H+1])?-1:j>H?1:F<U?-1:F>U?1:0)&&(p.add(O),p.add(z))}B!=-1&&(U=k[2*(H=v.T(B,0))],0>(j<(H=k[2*H+1])?-1:j>H?1:F<U?-1:F>U?1:0)&&(p.add(B),p.add(B))),(U=this.g.Pa(O,o))!=-1&&(d.add(U),this.g.Ra(O,o,-1)),(U=this.g.Pa(O,l))!=-1&&(d.add(U),this.g.Ra(O,l,-1)),(O=n.get(y++))!==-1&&(F=k[2*(j=v.T(O,0))],j=k[2*j+1])}while(O!=-1&&F===$&&j===I);for(F=d.size==1&&p.size==2,U=j=-1,z=0,B=d.size;z<B;z++){H=d.get(z);var Z=this.Mc.we(H);if(Z==-1||d.hG(Z)||(j=Z),(H=this.Mc.lb(H))==-1||d.hG(H)||(U=H),j!=-1&&U!=-1)break}for(this.$d.$J(I,$),z=0,B=d.size;z<B;z++)H=d.get(z),this.Mc.vd(H,-1);if(d.clear(!1),!F&&j!=-1&&U!=-1&&this.qO(j,U)){a=!0,this.Ni=this.$d.rm();break}for(z=0,B=p.size;z<B;z+=2){if(I=p.get(z),$=p.get(z+1),F?(I=this.Mc.zu(j,U,I,!0),F=!1):I=this.Mc.addElement(I,-1),this.$d.rg){this.Ni=this.$d.rm(),a=!0;break}this.g.Pa($,o)==-1?this.g.Ra($,o,I):this.g.Ra($,l,I)}if(a)break;p.Bh(0)}return this.g.Td(o),this.g.Td(l),a},u.prototype.qO=function(a,n){return this.$d.compare(this.Mc,this.Mc.ja(a),n),a=this.$d.rg,this.$d.Kr(),a},u.yE=function(a){for(var n=a.ld;n!=-1;n=a.ue(n))if(h.aa.Hc(a.ic(n)))return!0;return!1},u.fQ=function(a,n,o,l){return!!u.yE(a)&&((n=new u(l)).g=a,n.qa=o,15>a.fd?a=n.nP():n.oP())},u.V=function(a,n,o){return u.fQ(a,a.IF(),n,o)},u.kI=function(a,n,o,l,d){if(!u.yE(n))return!1;var p=new u(d);if(p.g=n,p.qa=o,p.cA=a,p.lI())return l!=null&&l.Wt(p.Ni),!0;var y=new h.Dd;return y.$B(),n.Oc(y),(p=new u(d)).g=n,p.qa=o,p.cA=a,a=p.lI(),y.$B(),n.Oc(y),!!a&&(l!=null&&l.Wt(p.Ni),!0)},u.Ml=function(a,n){return!(16>(a=a.I()))&&2*a+Math.log(a)*Math.LOG10E/Math.log(2)*n<1*a*n},u.lP=function(a,n,o,l){var d=n.getType();if(h.aa.Hc(d))return new u(l).mP(a,n,o);throw h.i.fa("crack_A_with_B")},u.prototype.mP=function(a,n,o){var l=new h.l;a.xc(l);var d=new h.l;if(n.xc(d),d.W(o,o),!d.isIntersecting(l))return a;var p=a.Bb,y=null;p!=null&&(y=p.Fb),u.Ml(a,a.I())&&(y=h.ta.jj(a,d));var v=y!=null?y.getIterator():null,$=n.Ga();n=a.Ga();var I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=[];$.$a();)for(;$.Ha();){var k=$.ha();if(y!=null){for(v.Uo(k,o),p=v.next();p!=-1;p=v.next())if(this.Xq(),n.Vb(y.ja(p),-1),n.Ha()){var O=(p=n.ha()).Ea(k,null,I,null,o);for(p=0;p<O;++p){var F=I[p];if(F!=0&&F!=1){var j=n.wb(),z=new _;z.t=F,z.index=j,d.push(z)}}}}else{var B=new h.l;if(k.xc(B),B.W(o,o),l.isIntersecting(B)){for(n.Zi();n.$a();)for(;n.Ha();)if(this.Xq(),p=n.ha(),F=new h.l,p.xc(F),F.isIntersecting(B))for(O=p.Ea(k,null,I,null,o),p=0;p<O;++p)(F=I[p])!=0&&F!=1&&(j=n.wb(),(z=new _).t=F,z.index=j,d.push(z))}}}if(d.length==0)return a;for(d=d.sort(_.Ey),a=a.Ia(),n.Zi();n.$a()&&!n.Ha(););for(o=n.ha(),l=new h.ig,y=-1,p=0,v=d.length;p<v;){for(I=d[p].index,$=p+1;$<v&&d[$].index==I;)++$;for(;n.wb()<I;){if(this.Xq(),k=n.Ha(),F=n.gb,(B=k||!n.On()||n.Pn())&&a.oc(o,y!=F),y=F,!k)for(;n.$a()&&!n.Ha(););o=n.ha()}for(I=0;p<$;p++)(F=d[p].t)!=I&&(o.ah(I,F,l),I=F,F=n.gb,a.oc(l.get(),y!=F),y=F);if((B=(k=n.Ha())||!n.On()||n.Pn())&&(o.ah(I,1,l),a.oc(l.get(),!1)),k)o=n.ha();else{for(;n.$a()&&!n.Ha(););o=n.Ha()?n.ha():null}p=$}for(o!=null&&(F=n.gb,(B=(k=n.Ha())||!n.On()||n.Pn())&&a.oc(o,y!=F),y=F),k=n.Ha();;){if(!k){for(;n.$a()&&!(k=n.Ha()););if(!k)break}o=n.ha(),F=n.gb,(B=(k=n.Ha())||!n.On()||n.Pn())&&a.oc(o,y!=F),y=F}return a},u}();h.$t=P;var _=function(){function u(){}return u.Ey=function(a,n){return a.index==n.index?a.t>n.t?1:a.t<n.t?-1:0:a.index>n.index?1:-1},u}()}(Y||(Y={})),function(h){var P;(P=h.KK||(h.KK={}))[P.Left=0]="Left",P[P.Right=1]="Right",P[P.Coincident=2]="Coincident",P[P.Undefined=3]="Undefined",P[P.Uncut=4]="Uncut";var _=function(n,o,l,d,p,y,v,$,I,k,O){this.X=n,this.bt=o,this.Ns=l,this.tg=d,this.Lm=k,this.Al=O};h.uY=_;var u=function(){function n(o,l){this.JH=o,this.Hi=l}return n.prototype.qM=function(o,l){var d=new h.h;this.Hi.D(o,d);var p=new h.h;return this.Hi.D(l,p),(d=d.compare(p))!=0?d:(o=this.Hi.Pa(o,this.JH))<(l=this.Hi.Pa(l,this.JH))?-1:o==l?0:1},n}(),a=function(n,o,l,d,p,y,v,$,I){this.tg=n,this.Ns=o,this.OA=l,this.UH=d,this.Ei=p,this.Al=y,this.Lm=v,this.VH=$,this.OT=I};h.tY=a,h.LK=function(){function n(){}return n.JK=function(o,l,d,p,y,v){if(l.B())o=new _(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),y.push(o);else if(d.B())o=new _(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),y.push(o);else{var $=new h.gd;if($.Ib(l),$.Ib(d),h.Tk.V($,p,v,!0),$.fd==0)o=new _(l.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),y.push(o);else{for(l=0,d=$.Gd(),p=$.ld;p!=-1;p=$.ue(p))for(v=$.Ob(p);v!=-1;v=$.Rb(v))for(var I=$.Xa(v),k=0,O=$.Ja(v);k<O;I=$.U(I),k++)$.Ra(I,d,l++);l=n.HM(d,$),n.cM(o,l,$,y)}}},n.HM=function(o,l){for(var d=l.fd,p=new h.ia(0),y=l.ld;y!=-1;y=l.ue(y))for(var v=l.Ob(y);v!=-1;v=l.Rb(v))for(var $=l.Xa(v),I=0,k=l.Ja(v);I<k;$=l.U($),I++)p.add($);var O=new u(o,l);p.Vd(0,d,function(Me,Te){return O.qM(Me,Te)}),o=[];var F=[],j=l.Gd(),z=l.Gd();y=l.ld,v=l.ue(y),k=new h.h;var B=new h.h,H=p.get(0),U=l.bd(H),Z=l.Qf(U);l.D(H,k);var re=1;for($=0;re<d-1;){var ie=!1;for(I=re;I<d;I++)if(I!=$){var ce=p.get(I),le=l.bd(ce),_e=l.Qf(le);if(l.D(ce,B),!k.qb(B))break;Z==y&&_e==v&&(ie=n.uM(j,z,l,o,F,U,H,le,ce))}if(ie||$==re-1){if(ie&&$==re-1&&re--,++$==d)break;H=p.get($),U=l.bd(H),Z=l.Qf(U),l.D(H,k)}ie||(re=$+1)}for(d=[],y=l.ld;y!=-1;y=l.ue(y))for(v=l.Ob(y);v!=-1;v=l.Rb(v))for(p=l.Xa(v),I=0,k=l.Ja(v);I<k;p=l.U(p),I++){if(0<=($=l.Pa(p,z)))for(;$<F.length&&F[$].tg==p;)d.push(F[$++]);if(0<=($=l.Pa(p,j)))for(;$<o.length&&o[$].tg==p;)d.push(o[$++])}return l.Td(j),l.Td(z),d},n.uM=function(o,l,d,p,y,v,$,I,k){var O=d.rj(v),F=d.rj(I),j=d.Xa(v),z=d.Xa(I),B=d.Ma($),H=d.Ma(k),U=!1,Z=!1,re=!1,ie=!1;return $!=j&&(k!=z&&(U=n.vM(o,d,p,v,B,I,H)),k!=F&&(Z=n.wM(o,d,p,v,B,I,k))),$!=O&&(k!=z&&(re=n.xM(l,d,y,v,$,I,H,j)),k!=F&&(ie=n.yM(l,d,y,v,$,I,k,j))),U&&Z&&re?(o=p.length-1,y[ie?y.length-2:y.length-1].Ei==2&&(p[o-1]=p[o],--p.length)):U&&Z&&ie&&y[y.length-1].Ei==2&&(y=p[p.length-1],--p.length,d.Pa(y.tg,o)==p.length&&d.Ra(y.tg,o,-1)),U||Z||re||ie},n.vM=function(o,l,d,p,y,v,$){var I=new h.yb,k=new h.yb,O=[0,0],F=[0,0],j=l.bc(y);return j==null&&(l.ed(y,I),j=I),(I=l.bc($))==null&&(l.ed($,k),I=k),2>(j=j.Ea(I,null,O,F,0))&&(p=new a(y,p,O[0],NaN,j,$,v,F[0],NaN),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1)),!0},n.wM=function(o,l,d,p,y,v,$){var I=new h.yb,k=new h.yb,O=[0,0],F=[0,0],j=l.bc(y);return j==null&&(l.ed(y,I),j=I),(I=l.bc($))==null&&(l.ed($,k),I=k),2>(j=j.Ea(I,null,O,F,0))&&(p=new a(y,p,O[0],NaN,j,$,v,F[0],NaN),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1),!0)},n.xM=function(o,l,d,p,y,v,$,I){var k=new h.yb,O=new h.yb,F=[0,0],j=[0,0],z=l.bc(y);return z==null&&(l.ed(y,k),z=k),(k=l.bc($))==null&&(l.ed($,O),k=O),(z=z.Ea(k,null,F,j,0))==2?(p=new a(y,p,F[0],F[1],z,$,v,j[0],j[1]),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1),!0):(O=!1,y==I&&(p=new a(y,p,F[0],NaN,z,$,v,j[0],NaN),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1),O=!0),O)},n.yM=function(o,l,d,p,y,v,$,I){var k=new h.yb,O=new h.yb,F=[0,0],j=[0,0],z=l.bc(y);return z==null&&(l.ed(y,k),z=k),(k=l.bc($))==null&&(l.ed($,O),k=O),(z=z.Ea(k,null,F,j,0))==2?(p=new a(y,p,F[0],F[1],z,$,v,j[0],j[1]),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1),!0):(O=!1,y==I&&(p=new a(y,p,F[0],NaN,z,$,v,j[0],NaN),d.push(p),0>(p=l.Pa(y,o))&&l.Ra(y,o,d.length-1),O=!0),O)},n.cM=function(o,l,d,p){var y=[];y[0]=new h.h,y[1]=new h.h,y[2]=new h.h,y[3]=new h.h;var v=new h.h,$=new h.h,I=new h.h,k=new h.h,O=null;p!=null&&(O=new h.ig).Or();var F=0,j=null,z=new h.yb;new h.yb;for(var B=d.Ob(d.ld);B!=-1;B=d.Rb(B)){for(var H=4,U=-1,Z=-1,re=-1,ie=-1,ce=NaN,le=!0,_e=!1,Me=!0,Te=!0,Ye=!0,Fe=0,wt=B,gt=0,He=d.Xa(B),ci=d.Ja(B),Ji=0;Ji<ci;He=d.U(He),Ji++){var _i=d.bc(He);if(_i==null){if(!d.ed(He,z))continue;_i=z}Z==-1&&(Z=He);for(var Kt=0;F<l.length&&He==l[F].tg;){U=l[F].Ns;var vt=l[F].tg,Nt=l[F].OA,Si=l[F].Lm,Mt=l[F].Al,pn=l[F].VH;if(l[F].Ei==2){if(_e||(wt=U,Z=vt,gt=Nt,re=Si,ie=Mt,ce=pn,H=2,p!=null?j=new h.Ta:Fe=0,Ye=!1,Te=!0),Nt=l[F].UH,pn=l[F].OT,p!=null?(_i.ah(Kt,l[F].UH,O),j.oc(O.get(),Te)):Fe++,Kt=Nt,_e=!0,Te=le=!1,F+1==l.length||l[F+1].Ei!=2||l[F+1].tg==vt&&l[F+1].OA!=Kt){if(p!=null){var zt=new _(j,2,U,vt,Nt,H,wt,Z,gt,Si,Mt);p.push(zt)}else null.add(Fe);wt=U,Z=vt,gt=Nt,re=Si,ie=Mt,ce=pn,H=2,_e=le=!1,Te=Ye=!0}}else{var Dr=d.U(vt);if(F<l.length-1&&l[F+1].tg==Dr&&l[F+1].Al==Mt&&l[F+1].Ei==2)Nt!=Kt&&(Ye&&(p!=null?j=new h.Ta:Fe=0),le=0<F&&l[F-1].Ns==U?H==1?0:H==0?1:3:3,p!=null?(_i.ah(Kt,Nt,O),j.oc(O.get(),Te),zt=new _(j,le,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):(Fe++,null.add(Fe)),Kt=Nt,wt=U,Z=vt,gt=Nt,re=Si,ie=Mt,ce=pn,H=le,le=Me=!1,Te=Ye=!0);else if(!n.CM(o,d,l,F,v,$)){n.zM(d,l,F,B,He,I,k);var Yt=!1;if(Dr=!1,zt=!0,!(v.qb(I)||$.qb(I)||v.qb(k)||$.qb(k))){y[0].L(v),y[1].L($),y[2].L(I),y[3].L(k),y.sort(h.h.nu);var An=y[0],oh=y[1],fn=y[2],yn=y[3];An.qb(v)?oh.qb($)?o?(Dr=Yt=!0,zt=!1):Yt=!1:yn.qb($)?o?zt=Dr=Yt=!0:Yt=!1:(Yt=!0,zt=oh.qb(I)):oh.qb(v)?fn.qb($)?o?(Dr=Yt=!0,zt=!1):Yt=!1:An.qb($)?o?zt=Dr=Yt=!0:Yt=!1:(Yt=!0,zt=fn.qb(I)):fn.qb(v)?yn.qb($)?o?(Dr=Yt=!0,zt=!1):Yt=!1:oh.qb($)?o?zt=Dr=Yt=!0:Yt=!1:(Yt=!0,zt=yn.qb(I)):An.qb($)?o?(Dr=Yt=!0,zt=!1):Yt=!1:fn.qb($)?o?zt=Dr=Yt=!0:Yt=!1:(Yt=!0,zt=An.qb(I))}Yt&&(Yt=He==vt,(Nt!=Kt||Yt&&Kt==0)&&(Ye&&(p!=null?j=new h.Ta:Fe=0),p!=null?(_i.ah(Kt,Nt,O),j.oc(O.get(),Te)):Fe++),zt?H!=1?((Nt!=Kt||Yt&&Kt==0)&&(p!=null?(zt=new _(j,1,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe)),Dr?(F>=l.length-2||l[F+2].Ns!=U)&&(H=0):H=1):((Nt!=Kt||Yt&&Kt==0)&&(p!=null?(zt=new _(j,3,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe)),H=1):H!=0?((Nt!=Kt||Yt&&Kt==0)&&(p!=null?(zt=new _(j,0,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe)),Dr?(F>=l.length-2||l[F+2].Ns!=U)&&(H=1):H=0):((Nt!=Kt||Yt&&Kt==0)&&(p!=null?(zt=new _(j,3,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe)),H=0),(Nt!=Kt||Yt&&Kt==0)&&(Kt=Nt,wt=U,Z=vt,gt=Nt,re=Si,ie=Mt,ce=pn,le=Me=!1,Te=Ye=!0))}}F++}Kt!=1&&(Ye&&(p!=null?j=new h.Ta:Fe=0),p!=null?(_i.ah(Kt,1,O),j.oc(O.get(),Te)):Fe++,Te=Ye=!1,Me=!0)}Me&&(Nt=1,vt=d.rj(B),vt=d.Ma(vt),Mt=Si=-1,pn=NaN,le?p!=null?(zt=new _(j,4,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe):(le=H==1?0:H==0?1:3,p!=null?(zt=new _(j,le,U,vt,Nt,H,wt,Z,gt,Si,Mt),p.push(zt)):null.add(Fe)))}},n.CM=function(o,l,d,p,y,v){var $=d[p].VH;if($==1)return n.AM(o,l,d,p,y,v);if($==0)return n.BM(o,l,d,p,y,v);throw h.i.Qa()},n.AM=function(o,l,d,p,y,v){var $=new h.yb,I=d[p].tg,k=d[p].Lm,O=d[p].Al,F=-1,j=-1,z=-1,B=-1;if(!o&&0<p){var H=d[p-1];F=H.tg,j=H.Lm,z=H.Al,B=H.Ei}var U=-1,Z=-1,re=-1,ie=-1;p<d.length-1&&(U=(H=d[p+1]).tg,Z=H.Lm,re=H.Al,ie=H.Ei);var ce=l.U(I);return H=l.U(O),o?p==d.length-1||U!=I||Z!=k||re!=H||ie==2?((o=l.bc(O))==null&&(l.ed(O,$),o=$),v.L(o.kg()),y.mt(v),v.normalize(),y.normalize(),!1):((o=l.bc(O))==null&&(l.ed(O,$),o=$),y.L(o.kg()),(o=l.bc(H))==null&&(l.ed(H,$),o=$),v.L(o.kg()),y.Sq(),v.normalize(),y.normalize(),!1):0<p&&F==I&&j==k&&z==H&&B==2||p<d.length-1&&U==ce&&Z==k&&re==H&&ie==2?((o=l.bc(O))==null&&(l.ed(O,$),o=$),v.L(o.kg()),y.mt(v),v.normalize(),y.normalize(),!1):!(p<d.length-1&&U==I&&Z==k&&re==H)||((o=l.bc(O))==null&&(l.ed(O,$),o=$),y.L(o.kg()),(o=l.bc(H))==null&&(l.ed(H,$),o=$),v.L(o.kg()),y.Sq(),v.normalize(),y.normalize(),!1)},n.BM=function(o,l,d,p,y,v){var $=new h.yb,I=d[p].tg,k=d[p].Lm,O=d[p].Al,F=-1,j=-1,z=-1,B=-1;if(!o&&p<d.length-1){var H=d[p+1];F=H.tg,j=H.Lm,z=H.Al,B=H.Ei}var U=-1,Z=-1,re=-1;H=-1,0<p&&(U=(H=d[p-1]).tg,Z=H.Lm,re=H.Al,H=H.Ei);var ie=l.U(I),ce=l.Ma(O);return o?p!=0&&U==I&&Z==k&&re==ce&&H!=2||((o=l.bc(O))==null&&(l.ed(O,$),o=$),v.L(o.kg()),y.mt(v),v.normalize(),y.normalize(),!1):!(0<p&&U==I&&Z==k&&re==ce&&H==2||p<d.length-1&&F==ie&&j==k&&z==ce&&B==2)||((o=l.bc(O))==null&&(l.ed(O,$),o=$),v.L(o.kg()),y.mt(v),v.normalize(),y.normalize(),!1)},n.zM=function(o,l,d,p,y,v,$){var I=new h.yb,k=o.bc(y);if(k==null&&(o.ed(y,I),k=I),l=(d=l[d]).tg,d=d.OA,y=o.U(l),d==1)v.L(k.kg()),y!=-1&&y!=o.rj(p)?((k=o.bc(y))==null&&(o.ed(y,I),k=I),$.L(k.kg()),(k=o.bc(l))==null&&o.ed(l,I)):$.L(v),v.Sq(),$.normalize(),v.normalize();else{if(d!=0)throw h.i.Qa();$.L(k.kg()),v.mt($),$.normalize(),v.normalize()}},n}()}(Y||(Y={})),function(h){var P;(P=h.bM||(h.bM={}))[P.Linear=0]="Linear",P[P.Angular=1]="Angular",P[P.Area=2]="Area";var _=function(){function p(y,v,$){this.od=v,this.ai=$,this.vA=y}return p.prototype.Nb=function(y){return y instanceof p&&this.ai===y.ai},p.aG=function(y){return y.od!==0?null:y.vA===-1?new p(-1,2,y.ai*y.ai):p.Zg(l[y.vA])},p.Zg=function(y){return(y=o[y])===void 0?null:y},p.ZO=function(y,v,$){var I=null;if($!=null)try{$.values[0]==="EPSG"&&(I=p.Zg(parseInt($.values[1])))}catch{}return I===null&&(I=new p(-1,y,v)),I},p.prototype.Ec=function(){return this.vA},p.prototype.CF=function(y){if(y.od!=this.od)throw h.i.Hb();return this.ai/y.ai},p.Nh=function(y,v,$){return v.CF($)*y},p.XE=function(y,v,$,I,k){for($=$.CF(I),I=0;I<v;I++)k[I]=y[I]*$},p}();h.Tc=_;for(var u=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],a=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],n=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],l=[],d=0;d<u.length;d+=2)o[u[d]]=new _(u[d],2,u[d+1]);for(u=null,d=0;d<a.length;d+=2)o[a[d]]=new _(a[d],1,a[d+1]);for(a=null,d=0;d<n.length;d+=3)o[n[d]]=new _(n[d],0,n[d+1]),l[n[d]]=n[d+2];n=null}(Y||(Y={})),function(h){var P=function(){function _(){this.xb=this.pb=0}return _.prototype.set=function(u,a){a!==void 0?(this.pb=u,this.xb=a):typeof u=="number"?(this.pb=u,this.xb=0):(this.pb=u.pb,this.xb=u.xb)},_.prototype.value=function(){return this.pb},_.prototype.add=function(u){var a=this.pb+u.pb;u=this.xb+u.xb+2220446049250313e-31*Math.abs(a),this.pb=a,this.xb=u},_.prototype.kN=function(){var u=this.pb+1,a=this.xb+2220446049250313e-31*Math.abs(u);this.pb=u,this.xb=a},_.prototype.dN=function(u,a){this.pb=u.pb+a.pb,this.xb=u.xb+a.xb+2220446049250313e-31*Math.abs(this.pb)},_.prototype.sub=function(u){if(typeof u=="number"){var a=this.pb-u;u=this.xb+2220446049250313e-31*Math.abs(a)}else a=this.pb-u.pb,u=this.xb+u.xb+2220446049250313e-31*Math.abs(a);this.pb=a,this.xb=u},_.prototype.Ag=function(u){var a=this.pb*u.pb;this.xb=this.xb*Math.abs(u.pb)+u.xb*Math.abs(this.pb)+this.xb*u.xb+2220446049250313e-31*Math.abs(a),this.pb=a},_.prototype.No=function(u){var a=this.pb*u;this.xb=this.xb*Math.abs(u)+2220446049250313e-31*Math.abs(a),this.pb=a},_.prototype.Kl=function(u,a){var n=Math.abs(u.pb)*Math.abs(a.pb);this.xb=u.xb*Math.abs(a.pb)+a.xb*Math.abs(u.pb)+u.xb*a.xb+2220446049250313e-31*Math.abs(n),this.pb=n},_.prototype.jm=function(u){var a=Math.abs(u.pb),n=this.pb/u.pb,o=(this.xb+Math.abs(n)*u.xb)/a;u.xb>.01*a&&(o*=1+(1+(u=u.xb/a))*u),this.pb=n,this.xb=o+2220446049250313e-31*Math.abs(n)},_.prototype.sqrt=function(){if(0<=this.pb){var u=Math.sqrt(this.pb),a=this.pb>10*this.xb?.5*this.xb/u:this.pb>this.xb?u-Math.sqrt(this.pb-this.xb):Math.max(u,Math.sqrt(this.pb+this.xb)-u);a+=2220446049250313e-31*Math.abs(u)}else this.pb<-1*this.xb?a=u=NaN:(u=0,a=Math.sqrt(this.xb));this.pb=u,this.xb=a},_.prototype.sin=function(u){var a=Math.sin(u.pb),n=Math.cos(u.pb);this.pb=a,a=Math.abs(a),this.xb=(Math.abs(n)+.5*a*u.xb)*u.xb+2220446049250313e-31*a},_.prototype.cos=function(u){var a=Math.sin(u.pb),n=Math.cos(u.pb);this.pb=n,n=Math.abs(n),this.xb=(Math.abs(a)+.5*n*u.xb)*u.xb+2220446049250313e-31*n},_.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},_.prototype.ps=function(){return this.qg()&&this.xb!=0},_}();h.Wb=P}(Y||(Y={}));var ji=new Y.h,Rs=new Y.h,go=new Y.h,Ns=new Y.h,vo=new Y.h;(function(h){var P,_;(_=P||(P={}))[_.closedPath=1]="closedPath",_[_.exteriorPath=2]="exteriorPath",_[_.ringAreaValid=4]="ringAreaValid";var u=function(){function a(n,o,l,d,p,y,v){o!==void 0?(this.ib=n,this.ck=o,this.bl=l,this.ii=d,this.ya=y,this.hA=v,this.ew=p):(this.ib=n.ib,this.ck=n.ck,this.bl=n.bl,this.ii=n.ii,this.ya=n.ya,this.hA=n.hA,this.ew=n.ew),this.bH=!0}return a.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},a.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!h.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},a.AP=function(n,o,l,d,p,y,v){return new a(n,o,l,d,p,y,v)},a}();h.zY=u,P=function(){function a(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return a.prototype.Sh=function(n){return this.We!=null?this.We[n]:null},a.prototype.Xg=function(n,o){if(this.We==null){if(o==null)return;this.We=[];for(var l=0,d=this.vb.I();l<d;l++)this.We.push(null)}this.We[n]=o},a.prototype.bp=function(n,o){this.md.S(n,1,o)},a.prototype.ap=function(n,o){this.md.S(n,2,o)},a.prototype.VB=function(n,o){this.md.S(n,6,o)},a.prototype.Sp=function(n){return this.md.T(n,6)},a.prototype.gx=function(n,o){this.md.S(n,7,o)},a.prototype.qv=function(n){return this.md.T(n,0)},a.prototype.OJ=function(n,o){this.cd.S(n,1,o)},a.prototype.SJ=function(n,o){this.cd.S(n,0,o)},a.prototype.JF=function(n){return this.cd.T(n,7)},a.prototype.Zo=function(n,o){this.cd.S(n,3,o)},a.prototype.$o=function(n,o){this.cd.S(n,4,o)},a.prototype.uU=function(n){this.cd==null&&(this.cd=new h.$c(8));var o=this.cd.Ce();return this.cd.S(o,2,n),this.cd.S(o,5,0),this.cd.S(o,6,0),this.cd.S(o,7,o),o},a.prototype.OQ=function(n){this.cd.jd(n)},a.prototype.wU=function(n){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0));var o=this.md.Ce();return this.md.S(o,0,o),this.md.S(o,3,0),this.md.S(o,6,0),this.gx(o,n),o>=this.Oi.size&&(n=16>o?16:h.O.truncate(3*o/2),this.Oi.resize(n),this.vo.resize(n)),this.Oi.set(o,0),this.vo.set(o,0),o},a.prototype.sF=function(n){this.md.jd(n)},a.prototype.Vy=function(n){this.td.jd(n),this.fd--},a.prototype.oI=function(n){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0));var o=this.td.Ce(),l=0<=n?n:o;if(this.td.S(o,0,l),0>n){if(l>=this.vb.I()){if(n=16>l?16:h.O.truncate(3*l/2),this.vb.resize(n),this.We!=null)for(var d=0;d<n;d++)this.We.push(null);this.Sg!=null&&this.Sg.resize(n),this.it=this.vb.ub(0)}this.vb.Cb(l,-1e38,-1e38),this.We!=null&&(this.We[l]=null),this.Sg!=null&&this.Sg.write(l,1)}return this.td.S(o,4,2*l),this.fd++,o},a.prototype.wj=function(n,o,l){var d=o!=-1?this.Ma(o):this.rj(n),p=d!=-1?this.U(d):-1,y=this.oI(l==null?this.fd:-1),v=this.Ua(y);return l!=null&&this.vb.Ht(v,l),this.aj(y,n),this.Bc(y,p),this.Cc(y,d),p!=-1&&this.Cc(p,y),d!=-1&&this.Bc(d,y),l=this.dc(n),d=this.Xa(n),o==-1&&this.Wg(n,y),o==d&&this.Jf(n,y),l&&p==-1&&(this.Bc(y,y),this.Cc(y,y)),this.Vj(n,this.Ja(n)+1),n=this.Qf(n),this.Tj(n,this.I(n)+1),y},a.prototype.nm=function(){return this.jo==null&&(this.jo=new h.Sa(this.vb.description)),this.jo},a.prototype.Yo=function(n,o){this.cd.S(n,2,-134217729&this.cd.T(n,2)||(o==1?134217728:0))},a.prototype.In=function(n){return 134217728&this.cd.T(n,2)?1:0},a.prototype.hN=function(n){var o=this.Ig(n.getType(),n.description);return n.getType()==1736&&this.Yo(o,n.In()),this.UD(o,n),o},a.prototype.iN=function(n){var o=this.Ig(n.getType(),n.description);return this.VD(o,n),o},a.prototype.XV=function(n,o){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0)),this.md.De(this.md.Hg+n),this.td.De(this.td.Hg+o),this.Oi.Jb(this.Oi.size+n),this.vo.Jb(this.vo.size+n)},a.prototype.UD=function(n,o){this.XV(o.da(),o.I()),this.Il.Fd(o,0,o.I()),this.it=this.vb.ub(0);for(var l=this.We!=null&&o.Ve!=null,d=0,p=o.da();d<p;d++)if(!(2>o.Ja(d))){var y=this.vf(n,-1);this.kn(y,o.dc(d));for(var v=o.Ba(d),$=o.Vc(d);v<$;v++){var I=this.wj(y,-1,null);if(l)if(I=this.Ua(I),(1&o.ZF(v))!=0)this.Xg(I,null);else{var k=new h.ig;o.bc(v,k,!0),this.Xg(I,k.get())}}}},a.prototype.VD=function(n,o){this.Il.Fd(o,0,o.I()),this.it=this.vb.ub(0),n=this.vf(n,-1);var l=0;for(o=o.I();l<o;l++)this.wj(n,-1,null)},a.prototype.NX=function(n,o,l){var d=this.U(n);if(d==-1)throw h.i.Qa();for(var p=this.nm(),y=this.bd(n),v=0,$=o.ol(l);v<$;v++){var I=this.Ua(n),k=this.U(n),O=o.Vp(l,v);v==0&&(O.To(p),this.Dh(n,p)),O.getType()==322?this.Xg(I,null):this.Xg(I,h.aa.jg(O)),O.Po(p),v<$-1?n=this.wj(y,k,p):this.Dh(d,p)}},a.prototype.MX=function(n,o,l){var d=this.U(n);if(d==-1)throw h.i.Qa();for(var p=this.nm(),y=this.bd(n),v=0,$=o.ol(l);v<$;v++){var I=this.Ua(n),k=this.U(n),O=o.Vp(l,$-v-1);v==0&&(O.Po(p),this.Dh(n,p)),O.getType()==322?this.Xg(I,null):this.Xg(I,h.aa.jg(O)),O.To(p),v<$-1?n=this.wj(y,k,p):this.Dh(d,p)}},a.prototype.IF=function(){var n=new h.l;n.Oa();for(var o=this.Yq(),l=new h.h,d=!0,p=o.next();p!=-1;p=o.next())this.D(p,l),d?n.Zb(l.x,l.y):n.Lk(l.x,l.y),d=!1;return n},a.prototype.Ib=function(n){var o=n.getType();if(h.aa.Hc(o))return this.hN(n);if(o==550)return this.iN(n);throw h.i.Qa()},a.prototype.uN=function(n,o){var l=o.getType();if(h.aa.Hc(l))this.UD(n,o);else{if(l!=550)throw h.i.Qa();this.VD(n,o)}},a.prototype.mN=function(n,o){var l=this.Ig(1736,n.description);if(2>n.Ja(o))return l;this.Il.Fd(n,n.Ba(o),n.Vc(o)),this.it=this.vb.ub(0);var d=this.vf(l,-1);this.kn(d,n.dc(o)||!0);var p=this.We!=null&&n.Ve!=null,y=n.Ba(o);for(o=n.Vc(o);y<o;y++){var v=this.wj(d,-1,null);if(p)if(v=this.Ua(v),(1&n.ZF(y))!=0)this.Xg(v,null);else{var $=new h.ig;n.bc(y,$,!0),this.Xg(v,$.get())}}return l},a.prototype.Ne=function(n){var o=this.ic(n),l=h.ZK.Ig(o,this.Il.description),d=this.I(n);if(d==0)return l;if(h.aa.Hc(o)){o=this.da(n);for(var p=h.Yc.Oh(o+1),y=h.Yc.Mr(o+1,0),v=l.description,$=0,I=v.Aa;$<I;$++){for(var k=v.kd($),O=h.ra.Va(k),F=h.Yc.YE(k,d),j=this.vb.ub(k),z=0,B=0,H=0,U=this.Ob(n);U!=-1;U=this.Rb(U)){var Z=0;this.dc(U)&&(Z|=1),this.YS(U)&&(Z|=4),Z!=0&&y.zJ(B,Z);var re=this.Ja(U);if(p.write(B++,H),H+=re,k==0){re=j;var ie=F,ce=new h.h;for(Z=this.Xa(U);z<H;Z=this.U(Z),z++){var le=this.Ua(Z);re.tc(2*le,ce),ie.Tt(2*z,ce)}}else for(Z=this.Xa(U);z<H;Z=this.U(Z),z++)for(le=this.Ua(Z),ie=0;ie<O;ie++)ce=j.eg(le*O+ie),F.pr(z*O+ie,ce)}l.hn(k,F),p.write(o,d)}l.PJ(y),l.QJ(p),l.Pc(16777215)}else if(o==550){for(v=l.description,l.resize(d),$=0,I=v.Aa;$<I;$++){for(k=v.kd($),O=h.ra.Va(k),F=l.ub(k),j=this.vb.ub(k),z=0,U=this.Ob(n),re=this.Ja(U),Z=this.Xa(U);z<re;Z=this.U(Z),z++)for(le=this.Ua(Z),ie=0;ie<O;ie++)ce=j.eg(le*O+ie),F.pr(z*O+ie,ce);l.hn(k,F)}l.Pc(16777215)}return l},a.prototype.BB=function(n){for(var o=this.Ob(n);o!=-1;o=this.Zq(o));o=this.PR(n);var l=this.ue(n);o!=-1?this.OJ(o,l):this.ld=l,l!=-1?this.SJ(l,o):this.qw=o,this.OQ(n)},a.prototype.Ig=function(n,o){return o===void 0?this.$E(n,h.ee.og()):this.$E(n,o)},a.prototype.$E=function(n,o){return n=this.uU(n),this.vb==null?this.vb=this.Il=new h.de(o):this.Il.Jl(o),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=n:(this.SJ(n,this.qw),this.OJ(this.qw,n)),this.qw=n},a.prototype.ue=function(n){return this.cd.T(n,1)},a.prototype.PR=function(n){return this.cd.T(n,0)},a.prototype.ic=function(n){return 2147483647&this.cd.T(n,2)},a.prototype.HJ=function(n,o,l){o=this.wk[o],(n=this.JF(n))>=o.size&&o.resize(Math.max(h.O.truncate(1.25*n),16),-1),o.write(n,l)},a.prototype.KF=function(n,o){return(n=this.JF(n))<(o=this.wk[o]).size?o.read(n):-1},a.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var n=0;n<this.wk.length;n++)if(this.wk[n]==null)return this.wk[n]=h.Yc.Oh(0),n;return this.wk.push(h.Yc.Oh(0)),this.wk.length-1},a.prototype.xW=function(n){this.wk[n]=null},a.prototype.Ob=function(n){return this.cd.T(n,3)},a.prototype.kv=function(n){return this.cd.T(n,4)},a.prototype.I=function(n){return this.cd.T(n,5)},a.prototype.da=function(n){return this.cd.T(n,6)},a.prototype.Gp=function(n,o,l){for(var d=0,p=this.ld;p!=-1;p=this.ue(p)){var y=this.ic(p);if(h.aa.Hc(y)&&(!l||y==1736)){y=this.ic(p)==1736;for(var v=this.Ob(p);v!=-1;){for(var $=0,I=this.Xa(v);$<h.O.truncate(this.Ja(v)/2);){var k=this.U(I);if(k==-1)break;var O=this.Ua(I),F=this.Sh(O);F!=null?O=F.Qb():(F=this.Ua(k),O=this.vb.yr(O,F)),O<=n?(O==0?d==0&&(d=-1):d=1,k!=this.rj(v)&&(this.lC(k,I),this.pd(k,!0))):I=this.U(I),$++}for($=this.Xa(v),I=this.dc(v)?$:this.rj(v);0<this.Ja(v);){if((k=this.Ma(I))==-1){this.pd(I,!0),d==0&&(d=-1);break}var j=this.Ua(k);if((F=this.Sh(j))!=null?O=F.Qb():(O=this.Ua(I),O=this.vb.yr(O,j)),O<=n)O==0?d==0&&(d=-1):d=1,this.lC(k,I),this.pd(k,!1),$==k&&($=this.Xa(v));else if((I=this.Ma(I))==$)break}I=this.Ja(v),o&&(y?3>I:2>I)?(v=this.Zq(v),d=0<I?1:d==0?-1:d):v=this.Rb(v)}}}return d},a.prototype.lC=function(n,o){var l=this.Ua(n),d=this.Ua(o);if(this.Sg!=null&&(l=this.Sg.read(l),this.Sg.write(d,l)),this.bi!=null){for(d=0,l=this.bi.length;d<l;d++)if(this.bi[d]!=null){var p=this.Pa(n,d);p!=-1&&this.Ra(o,d,p)}}},a.prototype.Ul=function(n,o,l){var d=0,p=this.U(n);if(p==-1)throw h.i.Qa();for(var y=this.Ua(n),v=this.Ua(p),$=this.Sh(y),I=$==null?this.vb.yr(y,v):$.Qb(),k=0;k<l;k++){var O=o[k];if(0<O&&1>O){var F=O;$!=null&&(F=0<I?$.Ux(O)/I:0),this.vb.kD(y,v,F,this.nm());var j=this.wj(this.bd(n),p,this.nm());if(d++,$!=null){var z=$.dl(0,O);F=this.Ua(this.Ma(j)),this.Xg(F,z),this.mf(j,z.wc()),k!=l-1&&o[k+1]!=1||(O=$.dl(O,1),this.Xg(F,O))}}}return d},a.prototype.LX=function(n,o,l){var d=0,p=this.U(n);if(p==-1)throw h.i.fa("internal error");var y=this.Ua(n),v=this.Ua(p),$=this.Sh(y),I=$==null?this.vb.yr(y,v):$.Qb(),k=0;n=this.bd(n);for(var O=0;O<l;O++){var F=o[O];if(k<F&&1>F){var j=F;if($!=null&&(j=0<I?$.Ux(F)/I:0),this.vb.kD(y,v,j,this.nm()),j=this.yS(n,p,this.nm()),d++,$!=null){k=$.dl(k,F);var z=this.Ua(this.Ma(j));this.Xg(z,k),this.Cb(j,k.pa,k.la),O!=l-1&&o[O+1]!=1||(k=$.dl(F,1),j=this.Ua(j),this.Xg(j,k))}}k=F}return d},a.prototype.yS=function(n,o,l){var d=o!=-1?this.Ma(o):this.rj(n),p=d!=-1?this.U(d):-1,y=this.oI(l==null?this.fd:-1),v=this.Ua(y);return l!=null&&this.vb.Ht(v,l),this.aj(y,n),this.Bc(y,p),this.Cc(y,d),p!=-1&&this.Cc(p,y),d!=-1&&this.Bc(d,y),l=this.dc(n),d=this.Xa(n),o==-1&&this.Wg(n,y),o==d&&(l&&d!=-1||this.Jf(n,y)),l&&p==-1&&(this.Bc(y,y),this.Cc(y,y)),this.Vj(n,this.Ja(n)+1),n=this.Qf(n),this.Tj(n,this.I(n)+1),y},a.prototype.uE=function(n,o,l){var d=this.Ua(o),p=this.Ua(l);if(0>d||p>this.fd-1)throw h.i.N("invalid call");if(d>p&&!this.dc(n))throw h.i.N("cannot iterate across an open path");for(n=0;o!=l;o=this.U(o))d=this.Ua(o),(p=this.Sh(d))!=null?n+=p.Qb():(p=this.Ua(this.U(o)),n+=this.vb.yr(d,p));return n},a.prototype.Dh=function(n,o){var l=this.Ua(n);this.vb.Ht(l,o),(l=this.Sh(l))!=null&&l.setStart(o),(n=this.Ma(n))!=-1&&(n=this.Ua(n),this.Sh(n)!=null&&l.setEnd(o))},a.prototype.Vi=function(n,o){n=this.Ua(n),this.vb.ve(n,o)},a.prototype.mf=function(n,o){this.Cb(n,o.x,o.y)},a.prototype.Cb=function(n,o,l){var d=this.Ua(n);this.vb.Cb(d,o,l),(d=this.Sh(d))!=null&&d.ZB(o,l),(n=this.Ma(n))!=-1&&(n=this.Ua(n),this.Sh(n)!=null&&d.Ql(o,l))},a.prototype.D=function(n,o){this.vb.D(this.td.T(n,0),o)},a.prototype.Gc=function(n,o){this.vb.za[0].tc(2*this.td.T(n,0),o)},a.prototype.Na=function(n){var o=new h.h;return this.vb.D(this.td.T(n,0),o),o},a.prototype.dG=function(n,o){this.it.tc(2*n,o)},a.prototype.Uc=function(n,o,l){return this.vb.Uc(n,this.Ua(o),l)},a.prototype.setAttribute=function(n,o,l,d){this.vb.setAttribute(n,this.Ua(o),l,d)},a.prototype.Ua=function(n){return this.td.T(n,0)},a.prototype.ih=function(){var n=new h.h;return this.D(void 0,n),n.y},a.prototype.fq=function(n,o){n=this.Ua(n),o=this.Ua(o);var l=this.vb.za[0].o;return l[2*n]===l[2*o]&&l[2*n+1]===l[2*o+1]},a.prototype.Dv=function(n,o){n=this.Ua(n);var l=this.vb.za[0].o;return l[2*n]===o.x&&l[2*n+1]===o.y},a.prototype.vX=function(n,o){if(1>o&&(o=1),this.Sg==null){if(o==1)return;this.Sg=h.Yc.Dn(this.vb.I(),1)}(n=this.Ua(n))>=this.Sg.size&&this.Sg.resize(n+1,1),this.Sg.write(n,o)},a.prototype.cG=function(n){return n=this.Ua(n),this.Sg==null||n>=this.Sg.size?1:this.Sg.read(n)},a.prototype.Ra=function(n,o,l){o=this.bi[o],n=this.Ua(n),o.size<this.vb.I()&&o.resize(this.vb.I(),-1),o.write(n,l)},a.prototype.Pa=function(n,o){return(n=this.Ua(n))<(o=this.bi[o]).size?o.read(n):-1},a.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var n=0;n<this.bi.length;n++)if(this.bi[n]==null)return this.bi[n]=h.Yc.Oh(0,-1),n;return this.bi.push(h.Yc.Oh(0,-1)),this.bi.length-1},a.prototype.Td=function(n){this.bi[n]=null},a.prototype.bc=function(n){return this.We!=null?(n=this.Ua(n),this.We[n]):null},a.prototype.ed=function(n,o){var l=this.td.T(n,2);if(l==-1)return!1;if(this.fA){var d=new h.Sa;this.Vi(n,d),o.setStart(d),this.Vi(l,d),o.setEnd(d)}else this.vb.Gc(this.td.T(n,0),ji),o.em(0,ji),this.vb.Gc(this.td.T(l,0),ji),o.em(1,ji);return!0},a.prototype.mW=function(n,o,l){if(this.fA){var d=new h.Sa;this.Vi(n,d),l.setStart(d),this.Vi(o,d),l.setEnd(d)}else this.vb.Gc(n,ji),l.em(0,ji),this.vb.Gc(o,ji),l.em(1,ji)},a.prototype.vf=function(n,o){if(o!=-1){if(n!=this.Qf(o))throw h.i.Qa();var l=this.cs(o)}else l=this.kv(n);var d=this.wU(n);return o!=-1&&this.bp(o,d),this.ap(d,o),this.bp(d,l),l!=-1?this.ap(l,d):this.Zo(n,d),o==-1&&this.$o(n,d),this.Rl(n,this.da(n)+1),d},a.prototype.nG=function(n,o,l,d){n=this.vf(n,-1);for(var p=0,y=o,v=!1;y==l&&(v=!0),this.aj(y,n),p++,(y=this.U(y))!=o;);return this.kn(n,!0),this.Vj(n,p),v&&(o=l),this.Jf(n,o),this.Wg(n,this.Ma(o)),this.cp(n,!1),d!=null&&(d[0]=v),n},a.prototype.Zq=function(n){var o=this.cs(n),l=this.Rb(n),d=this.Qf(n);return o!=-1?this.ap(o,l):this.Zo(d,l),l!=-1?this.bp(l,o):this.$o(d,o),this.AO(n),this.Rl(d,this.da(d)-1),this.sF(n),l},a.prototype.AO=function(n){var o=this.Xa(n);if(o!=-1){for(var l=0,d=this.Ja(n);l<d;l++){var p=o;o=this.U(o),this.Vy(p)}o=this.Qf(n),this.Tj(o,this.I(o)-this.Ja(n))}this.Vj(n,0)},a.prototype.Rb=function(n){return this.md.T(n,2)},a.prototype.cs=function(n){return this.md.T(n,1)},a.prototype.Ja=function(n){return this.md.T(n,3)},a.prototype.dc=function(n){return(1&this.Sp(n))!=0},a.prototype.kn=function(n,o){if(this.dc(n)!=o){if(0<this.Ja(n)){var l=this.Xa(n),d=this.rj(n);o?(this.Bc(d,l),this.Cc(l,d),l=this.Ua(d)):(this.Bc(d,-1),this.Cc(l,-1),l=this.Ua(d)),this.Xg(l,null)}this.VB(n,(1|this.Sp(n))-1|(o?1:0))}},a.prototype.Qf=function(n){return this.md.T(n,7)},a.prototype.YS=function(n){return(2&this.Sp(n))!=0},a.prototype.PB=function(n,o){this.VB(n,(2|this.Sp(n))-2|(o?2:0))},a.prototype.wz=function(n){if(this.cT(n))return this.Oi.get(this.qv(n));var o=new h.yb,l=this.Xa(n);if(l==-1)return 0;var d=new h.h;this.D(l,d);for(var p=0,y=0,v=this.Ja(n);y<v;y++,l=this.U(l)){var $=this.bc(l);if($==null){if(!this.ed(l,o))continue;$=o}p+=$.Tx(d.x,d.y)}return this.cp(n,!0),this.Oi.set(this.qv(n),p),p},a.prototype.gr=function(n,o,l){o=this.Ck[o],n=this.qv(n),o.size<this.Oi.size&&o.resize(this.Oi.size,-1),o.write(n,l)},a.prototype.sj=function(n,o){return(n=this.qv(n))<(o=this.Ck[o]).size?o.read(n):-1},a.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var n=0;n<this.Ck.length;n++)if(this.Ck[n]==null)return this.Ck[n]=h.Yc.Oh(0),n;return this.Ck.push(h.Yc.Oh(0)),this.Ck.length-1},a.prototype.CB=function(n){this.Ck[n]=null},a.prototype.ZT=function(n,o,l){if(l==-1)throw h.i.N();if(o!=l){var d=this.Rb(l),p=this.cs(l),y=this.Qf(l);p==-1?this.Zo(y,d):this.ap(p,d),d==-1?this.$o(y,p):this.bp(d,p),this.Tj(y,this.I(y)-this.Ja(l)),this.Rl(y,this.da(y)-1),p=o==-1?this.kv(n):this.cs(o),this.bp(l,p),this.ap(l,o),o==-1?this.$o(n,l):this.bp(o,l),p==-1?this.Zo(n,l):this.ap(p,l),this.Tj(n,this.I(n)+this.Ja(l)),this.Rl(n,this.da(n)+1),this.gx(l,n)}},a.prototype.ij=function(n,o){this.vb.ve(this.Ua(o),this.nm()),this.wj(n,-1,this.nm())},a.prototype.pd=function(n,o){var l=this.bd(n),d=this.Ma(n),p=this.U(n);d!=-1&&this.Bc(d,p);var y=this.Ja(l);if(n==this.Xa(l)&&this.Jf(l,1<y?p:-1),p!=-1&&this.Cc(p,d),n==this.rj(l)&&this.Wg(l,1<y?d:-1),d!=-1&&p!=-1){d=this.Ua(d);var v=this.Ua(p);o?(o=this.Sh(d))!=null&&(d=new h.h,this.vb.D(v,d),o.Qc(d)):(v=this.Ua(n),o=this.Sh(v),this.Xg(d,o),o!=null&&(d=this.vb.Na(d),o.Dc(d)))}return this.Vj(l,y-1),l=this.Qf(l),this.Tj(l,this.I(l)-1),this.Vy(n),p},a.prototype.Xa=function(n){return this.md.T(n,4)},a.prototype.rj=function(n){return this.md.T(n,5)},a.prototype.U=function(n){return this.td.T(n,2)},a.prototype.Ma=function(n){return this.td.T(n,1)},a.prototype.bd=function(n){return this.td.T(n,3)},a.prototype.fc=function(n,o){return this.wj(n,-1,o)},a.prototype.Yq=function(n){if(n===void 0)return this.Yq(!1);if(n instanceof u)return new u(n);var o,l=-1,d=-1,p=-1,y=0,v=!1;for(o=this.ld;o!=-1;o=this.ue(o))if(!n||h.aa.Hc(this.ic(o))){for(l=this.Ob(o);l!=-1;l=this.Rb(l))if(p=d=this.Xa(l),y=0,d!=-1){v=!0;break}if(v)break}return u.AP(this,o,l,d,p,y,n)},a.prototype.Oc=function(n){if(this.Il.Oc(n),this.We!=null)for(var o=0,l=this.We.length;o<l;o++)this.We[o]!=null&&this.We[o].Oc(n)},a.prototype.jr=function(n,o,l,d){d?this.NX(n,o,l):this.MX(n,o,l)},a.prototype.Cc=function(n,o){this.td.S(n,1,o)},a.prototype.Bc=function(n,o){this.td.S(n,2,o)},a.prototype.aj=function(n,o){this.td.S(n,3,o)},a.prototype.Vj=function(n,o){this.md.S(n,3,o)},a.prototype.Jf=function(n,o){this.md.S(n,4,o)},a.prototype.Wg=function(n,o){this.md.S(n,5,o)},a.prototype.Rl=function(n,o){this.cd.S(n,6,o)},a.prototype.Tj=function(n,o){this.cd.S(n,5,o)},a.prototype.pJ=function(n){var o=n;do{var l=this.U(o);this.Bc(o,this.Ma(o)),this.Cc(o,l),o=l}while(o!=n)},a.prototype.bC=function(n){this.fd=n},a.prototype.$q=function(n){var o=this.cs(n),l=this.Rb(n),d=this.Qf(n);o!=-1?this.ap(o,l):this.Zo(d,l),l!=-1?this.bp(l,o):this.$o(d,o),this.Jf(n,-1),this.Wg(n,-1),this.sF(n)},a.prototype.mi=function(n,o){var l=this.Ma(n),d=this.U(n);if(l!=-1&&this.Bc(l,d),d!=-1&&this.Cc(d,l),l!=-1&&d!=-1)if(l=this.Ua(l),d=this.Ua(d),o){if((o=this.Sh(l))!=null){var p=new h.h;this.vb.D(d,p),o.Qc(p)}}else o=this.Ua(n),o=this.Sh(o),this.Xg(l,o),o!=null&&(p=new h.h,this.vb.D(l,p),o.Dc(p));this.Vy(n)},a.prototype.cT=function(n){return(4&this.Sp(n))!=0},a.prototype.cp=function(n,o){this.VB(n,(4|this.Sp(n))-4|(o?4:0))},a.prototype.nx=function(n,o){var l=this.td.o;this.vb.mc();var d=this.vb.za[0].o;n.Vd(0,o,function(p,y){var v=l[5*p];p=l[5*y],y=d[2*v],v=d[2*v+1];var $=d[2*p];return v<(p=d[2*p+1])?-1:v>p?1:y<$?-1:y>$?1:0})},a.prototype.jS=function(){for(var n=this.ld;n!=-1;n=this.ue(n))if(!h.aa.Hc(this.ic(n)))return!0;return!1},a.prototype.hC=function(n,o){for(var l=this.Ob(n),d=this.Ob(o),p=this.kv(n),y=this.kv(o),v=this.Ob(n);v!=-1;v=this.Rb(v))this.gx(v,o);for(v=this.Ob(o);v!=-1;v=this.Rb(v))this.gx(v,n);this.Zo(n,d),this.Zo(o,l),this.$o(n,y),this.$o(o,p),l=this.I(n),d=this.da(n),p=this.da(o),this.Tj(n,this.I(o)),this.Tj(o,l),this.Rl(n,p),this.Rl(o,d),l=this.cd.T(n,2),this.cd.S(n,2,this.cd.T(o,2)),this.cd.S(o,2,l)},a}(),h.gd=P})(Y||(Y={})),function(h){var P=function(_){function u(a,n,o,l){var d=_.call(this)||this;return d.$=new h.l,a===void 0?d.UE():typeof a=="number"?d.VO(a,n,o,l):a instanceof h.Sa?n!==void 0?d.Qu(a,n,o):d.WO(a):a instanceof h.ra?n!==void 0?d.YO(a,n):d.XO(a):a instanceof h.l?d.UO(a):d.UE(),d}return Vt(u,_),u.prototype.Qu=function(a,n,o){this.description=h.ee.og(),this.$.Oa(),a.B()||this.tu(a,n,o)},u.prototype.UO=function(a){this.description=h.ee.og(),this.$.K(a),this.$.normalize()},u.prototype.XO=function(a){if(a==null)throw h.i.N();this.description=a,this.$.Oa()},u.prototype.YO=function(a,n){if(a==null)throw h.i.N();this.description=a,this.$.K(n),this.$.normalize()},u.prototype.UE=function(){this.description=h.ee.og(),this.$.Oa()},u.prototype.WO=function(a){this.description=h.ee.og(),this.$.Oa(),a.B()||this.tu(a)},u.prototype.VO=function(a,n,o,l){this.description=h.ee.og(),this.K(a,n,o,l)},u.prototype.K=function(a,n,o,l){if(this.vc(),typeof a=="number")this.$.K(a,n,o,l);else for(this.Oa(),n=0,o=a.length;n<o;n++)this.Zb(a[n])},u.prototype.Xo=function(a){if(this.vc(),!a.fT())throw h.i.N();this.$.K(a)},u.prototype.Oa=function(){this.vc(),this.$.Oa()},u.prototype.B=function(){return this.$.B()},u.prototype.R=function(){return this.$.R()},u.prototype.ca=function(){return this.$.ca()},u.prototype.gk=function(){return this.$.gk()},u.prototype.Jp=function(){return this.$.Jp()},u.prototype.Ip=function(){return this.$.sf()},u.prototype.Zb=function(a){if(a instanceof h.h)this.vc(),this.$.Zb(a);else if(a instanceof h.l)this.vc(),this.$.Zb(a);else if(a instanceof h.Sa){if(this.vc(),!a.Ac()){var n=a.description;if(this.description!=n&&this.Jl(n),this.B())this.tu(a);else{this.$.Zb(a.D());for(var o=1,l=n.Aa;o<l;o++)for(var d=n.Ed(o),p=h.ra.Va(d),y=0;y<p;y++){var v=a.Uc(d,y),$=this.Tg(d,y);$.Zb(v),this.setInterval(d,y,$)}}}}else if(a instanceof u&&!a.B())for((n=a.description)!=this.description&&this.Jl(n),this.$.Zb(a.$),o=1,l=n.Aa;o<l;o++)for(d=n.kd(o),p=h.ra.Va(d),y=0;y<p;y++)v=a.Tg(d,y),($=this.Tg(d,y)).Zb(v),this.setInterval(d,y,$)},u.prototype.tu=function(a,n,o){if(n!==void 0){this.$.K(a.D(),n,o),o=1;for(var l=(n=a.description).Aa;o<l;o++)for(var d=n.Ed(o),p=h.ra.Va(d),y=0;y<p;y++){var v=a.Uc(d,y);this.setInterval(d,y,v,v)}}else for(this.$.K(a.ka[0],a.ka[1]),o=1,l=(n=a.description).Aa;o<l;o++)for(d=n.Ed(o),p=h.ra.Va(d),y=0;y<p;y++)v=a.Uc(d,y),this.setInterval(d,y,v,v)},u.prototype.setInterval=function(a,n,o,l){if(o=typeof o=="number"?new h.Nc(o,l):o,this.vc(),a==0)if(n==0)this.$.v=o.oa,this.$.C=o.va;else{if(n!=1)throw h.i.ce();this.$.G=o.oa,this.$.H=o.va}else this.vD(0,a,n,o.oa),this.vD(1,a,n,o.va)},u.prototype.W=function(a,n){this.vc(),this.$.W(a,n)},u.prototype.Oc=function(a){if(a instanceof h.Dd)this.vc(),a.mC(this.$);else if(this.vc(),!this.$.B()){var n=new h.OK;this.Qo(n),n.XS()?n.Oa():a.mC(n)}},u.prototype.copyTo=function(a){if(a.getType()!=this.getType())throw h.i.N();if(a.vc(),a.description=this.description,a.$.K(this.$),a.ka=null,this.ka!=null){a.ou();for(var n=0;n<2*(this.description.Ae.length-2);n++)a.ka[n]=this.ka[n]}},u.prototype.Ia=function(){return new u(this.description)},u.prototype.Ke=function(){return this.$.wF()},u.prototype.Qb=function(){return this.$.yR()},u.prototype.getType=function(){return 197},u.prototype.Db=function(){return 2},u.prototype.bn=function(a){this.copyTo(a)},u.prototype.A=function(a){a.v=this.$.v,a.G=this.$.G,a.C=this.$.C,a.H=this.$.H},u.prototype.Qo=function(a){a.v=this.$.v,a.G=this.$.G,a.C=this.$.C,a.H=this.$.H,a.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},u.prototype.Tg=function(a,n){var o=new h.Nc;return o.K(this.Od(0,a,n),this.Od(1,a,n)),o},u.prototype.Hf=function(a,n){n.Nf(this.description);var o=this.description.Aa-1;switch(a){case 0:for(a=0;a<o;a++)for(var l=this.description.kd(a),d=h.ra.Va(l),p=0;p<d;p++)n.setAttribute(l,p,this.Od(0,l,p));n.Cb(this.$.v,this.$.G);break;case 1:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),p=0;p<d;p++)n.setAttribute(l,p,this.Od(1,l,p));n.Cb(this.$.v,this.$.H);break;case 2:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),p=0;p<d;p++)n.setAttribute(l,p,this.Od(0,l,p));n.Cb(this.$.C,this.$.H);break;case 3:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),p=0;p<d;p++)n.setAttribute(l,p,this.Od(1,l,p));n.Cb(this.$.C,this.$.G);break;default:throw h.i.ce()}},u.prototype.mB=function(a,n){a=this.$.mB(a),n.ma(a.x,a.y)},u.prototype.kR=function(a,n){return n*(a.Oq-2)},u.prototype.xF=function(a,n,o){if(this.$.B())throw h.i.fa("empty geometry");if(n==0)return a!=0?o!=0?this.$.H:this.$.C:o!=0?this.$.G:this.$.v;if(o>=h.ra.Va(n))throw h.i.N();var l=this.description.Pf(n);return this.ou(),0<=l?this.ka[this.kR(this.description,a)+this.description.LR(l)-2+o]:h.ra.se(n)},u.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var a=u.Gg(this.description,0),n=u.Gg(this.description,1),o=0,l=1,d=this.description.Aa;l<d;l++){var p=this.description.kd(l),y=h.ra.Va(p);p=h.ra.se(p);for(var v=0;v<y;v++)this.ka[a+o]=p,this.ka[n+o]=p,o++}}},u.prototype.sn=function(a){if(this.ka!=null)if(2<a.Ae.length){for(var n=h.ee.Iw(a,this.description),o=[],l=u.Gg(this.description,0),d=u.Gg(this.description,1),p=u.Gg(a,0),y=u.Gg(a,1),v=0,$=1,I=a.Aa;$<I;$++){var k=a.kd($),O=h.ra.Va(k);if(n[$]==-1){var F=h.ra.se(k);for(k=0;k<O;k++)o[p+v]=F,o[y+v]=F,v++}else for(F=this.description.$j(n[$])-2,k=0;k<O;k++)o[p+v]=this.ka[l+F],o[y+v]=this.ka[d+F],v++,F++}this.ka=o}else this.ka=null;this.description=a},u.prototype.Od=function(a,n,o){if(this.$.B())throw h.i.fa("This operation was performed on an Empty Geometry.");if(n==0)return a!=0?o!=0?this.$.H:this.$.C:o!=0?this.$.G:this.$.v;if(o>=h.ra.Va(n))throw h.i.ce();var l=this.description.Pf(n);return 0<=l?(this.ou(),this.ka[u.Gg(this.description,a)+this.description.$j(l)-2+o]):h.ra.se(n)},u.prototype.vD=function(a,n,o,l){if(this.vc(),n==0)a!=0?o!=0?this.$.H=l:this.$.C=l:o!=0?this.$.G=l:this.$.v=l;else{if(o>=h.ra.Va(n))throw h.i.ce();if(!this.hasAttribute(n)){if(h.ra.DG(n,l))return;this.re(n)}n=this.description.Pf(n),this.ou(),this.ka[u.Gg(this.description,a)+this.description.$j(n)-2+o]=l}},u.Gg=function(a,n){return n*(a.Ae.length-2)},u.prototype.Ea=function(a){this.vc();var n=new h.l;return a.A(n),this.$.Ea(n)},u.prototype.isIntersecting=function(a){return a instanceof h.l?this.$.isIntersecting(a):this.$.isIntersecting(a.$)},u.prototype.Ju=function(a,n){this.vc(),a.B()?this.Oa():n!==void 0?this.tu(a,n):this.$.Ju(a.Lg(),a.ih())},u.prototype.offset=function(a,n){this.vc(),this.$.offset(a,n)},u.prototype.normalize=function(){this.vc(),this.$.normalize()},u.prototype.sf=function(a){if(a===void 0){if(a=new h.Sa(this.description),this.B())return a;for(n=this.description.Aa,o=1;o<n;o++)for(l=this.description.Ed(o),d=h.ra.Va(l),p=0;p<d;p++)y=.5*(this.Od(0,l,p)+this.Od(1,l,p)),a.setAttribute(l,p,y);return a.Cb(this.$.gk(),this.$.Jp()),a}if(a.Nf(this.description),this.B())a.Oa();else{for(var n=this.description.Aa,o=1;o<n;o++)for(var l=this.description.kd(o),d=h.ra.Va(l),p=0;p<d;p++){var y=.5*(this.xF(0,l,p)+this.xF(1,l,p));a.setAttribute(l,p,y)}a.Cb(this.$.sf())}},u.prototype.mz=function(){return new h.Sa(this.$.mz())},u.prototype.contains=function(a){return a instanceof h.Sa?!a.B()&&this.$.contains(a.Lg(),a.ih()):this.$.contains(a.$)},u.prototype.dP=function(a){return this.$.contains(a)},u.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof u)||this.description!=a.description)return!1;if(this.B())return!!a.B();if(!this.$.Nb(a.$))return!1;for(var n=0,o=2*(this.description.Ae.length-2);n<o;n++)if(this.ka[n]!=a.ka[n])return!1;return!0},u.prototype.cc=function(){var a=this.description.cc();if(a=h.O.Th(a,this.$.cc()),!this.B()&&this.ka!=null)for(var n=0,o=2*(this.description.Ae.length-2);n<o;n++)a=h.O.Th(a,this.ka[n]);return a},u.prototype.es=function(){return this.$.v},u.prototype.gs=function(){return this.$.G},u.prototype.ds=function(){return this.$.C},u.prototype.fs=function(){return this.$.H},u.prototype.mg=function(){return h.pi.gm(this,null)},u.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},u}(h.aa);h.Fh=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o){u===void 0?this.Oa():(this.v=u,this.G=a,this.C=n,this.H=o)}return _.construct=function(u,a,n,o){var l=new _;return l.v=u,l.G=a,l.C=n,l.H=o,l},_.prototype.K=function(u,a,n,o){typeof u=="number"?n!==void 0?(this.v=u,this.G=a,this.C=n,this.H=o,this.normalize()):(this.v=u,this.G=a,this.C=u,this.H=a):u instanceof h.h?a!==void 0?(this.v=u.x-.5*a,this.C=this.v+a,this.G=u.y-.5*n,this.H=this.G+n,this.normalize()):(this.v=u.x,this.G=u.y,this.C=u.x,this.H=u.y):u instanceof _?this.K(u.v,u.G,u.C,u.H):u instanceof h.Nc&&(u.B()||a.B()?this.Oa():(this.v=u.oa,this.C=u.va,this.G=a.oa,this.H=a.va))},_.prototype.Zw=function(u,a){if(a!==void 0)if(a==0)this.Oa();else{this.v=u[0].x,this.G=u[0].y,this.C=this.v,this.H=this.G;for(var n=1;n<a;n++){var o=u[n];o.x<this.v?this.v=o.x:o.x>this.C&&(this.C=o.x),o.y<this.G?this.G=o.y:o.y>this.H&&(this.H=o.y)}}else if(u==null||u.length==0)this.Oa();else for(o=u[0],this.K(o.x,o.y),n=1;n<u.length;n++)a=u[n],this.Lk(a.x,a.y)},_.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},_.prototype.B=function(){return isNaN(this.v)},_.prototype.Zb=function(u,a){typeof u=="number"?this.B()?(this.v=u,this.G=a,this.C=u,this.H=a):(this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>a?this.G=a:this.H<a&&(this.H=a)):u instanceof h.h||u instanceof h.Nd?this.Zb(u.x,u.y):u instanceof _&&!u.B()&&(this.Zb(u.v,u.G),this.Zb(u.C,u.H))},_.prototype.Lk=function(u,a){this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>a?this.G=a:this.H<a&&(this.H=a)},_.prototype.W=function(u,a){this.B()||(this.v-=u,this.C+=u,this.G-=a,this.H+=a,(this.v>this.C||this.G>this.H)&&this.Oa())},_.prototype.scale=function(u){0>u&&this.Oa(),this.B()||(this.v*=u,this.C*=u,this.G*=u,this.H*=u)},_.prototype.zoom=function(u,a){this.B()||this.K(this.sf(),u*this.R(),a*this.ca())},_.prototype.isIntersecting=function(u){return!this.B()&&!u.B()&&(this.v<=u.v?this.C>=u.v:u.C>=this.v)&&(this.G<=u.G?this.H>=u.G:u.H>=this.G)},_.prototype.HG=function(u){return(this.v<=u.v?this.C>=u.v:u.C>=this.v)&&(this.G<=u.G?this.H>=u.G:u.H>=this.G)},_.prototype.Ea=function(u){return!this.B()&&!u.B()&&(u.v>this.v&&(this.v=u.v),u.C<this.C&&(this.C=u.C),u.G>this.G&&(this.G=u.G),u.H<this.H&&(this.H=u.H),(u=this.v<=this.C&&this.G<=this.H)||this.Oa(),u)},_.prototype.mB=function(u){switch(u){case 0:return h.h.construct(this.v,this.G);case 1:return h.h.construct(this.v,this.H);case 2:return h.h.construct(this.C,this.H);case 3:return h.h.construct(this.C,this.G);default:throw h.i.ce()}},_.prototype.nB=function(u){if(u==null||4>u.length)throw h.i.N();u[0]!=null?u[0].ma(this.v,this.G):u[0]=h.h.construct(this.v,this.G),u[1]!=null?u[1].ma(this.v,this.H):u[1]=h.h.construct(this.v,this.H),u[2]!=null?u[2].ma(this.C,this.H):u[2]=h.h.construct(this.C,this.H),u[3]!=null?u[3].ma(this.C,this.G):u[3]=h.h.construct(this.C,this.G)},_.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},_.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},_.prototype.gk=function(){return(this.C+this.v)/2},_.prototype.Jp=function(){return(this.H+this.G)/2},_.prototype.R=function(){return this.C-this.v},_.prototype.ca=function(){return this.H-this.G},_.prototype.move=function(u,a){this.B()||(this.v+=u,this.G+=a,this.C+=u,this.H+=a)},_.prototype.Ju=function(u,a){if(a!==void 0)this.move(u-this.gk(),a-this.Jp());else if(u instanceof h.h)this.Ju(u.x,u.y);else{if(!(u instanceof h.Sa))throw h.i.N();a=(this.C-this.v)/2;var n=(this.H-this.G)/2;this.v=u.Lg()-a,this.C=u.Lg()+a,this.G=u.ih()-n,this.H=u.ih()+n}},_.prototype.offset=function(u,a){this.v+=u,this.C+=u,this.G+=a,this.H+=a},_.prototype.normalize=function(){if(!this.B()){var u=Math.min(this.v,this.C),a=Math.max(this.v,this.C);this.v=u,this.C=a,u=Math.min(this.G,this.H),a=Math.max(this.G,this.H),this.G=u,this.H=a}},_.prototype.dn=function(u){u.ma(this.v,this.G)},_.prototype.$I=function(u){u.ma(this.C,this.G)},_.prototype.cJ=function(u){u.ma(this.v,this.H)},_.prototype.en=function(u){u.ma(this.C,this.H)},_.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},_.prototype.sf=function(){return h.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},_.prototype.mz=function(){return h.h.construct(this.v,this.G)},_.prototype.contains=function(u,a){if(a!==void 0)return u>=this.v&&u<=this.C&&a>=this.G&&a<=this.H;if(u instanceof h.Sa)return this.contains(u.Lg(),u.ih());if(u instanceof h.h)return this.contains(u.x,u.y);if(u instanceof _)return u.v>=this.v&&u.C<=this.C&&u.G>=this.G&&u.H<=this.H;throw h.i.N()},_.prototype.hm=function(u,a){if(a!==void 0)return u>this.v&&u<this.C&&a>this.G&&a<this.H;if(u instanceof h.h)return this.hm(u.x,u.y);if(u instanceof _)return u.v>this.v&&u.C<this.C&&u.G>this.G&&u.H<this.H;throw h.i.N()},_.prototype.Nb=function(u){return u==this||u instanceof _&&(!(!this.B()||!u.B())||this.v==u.v&&this.G==u.G&&this.C==u.C&&this.H==u.H)},_.prototype.cc=function(){var u=this.v;u=h.O.truncate(u^u>>>32);var a=h.O.Th(u);return u=this.C,u=h.O.truncate(u^u>>>32),a=h.O.Th(u,a),u=this.G,u=h.O.truncate(u^u>>>32),a=h.O.Th(u,a),u=this.H,u=h.O.truncate(u^u>>>32),h.O.Th(u,a)},_.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},_.prototype.zy=function(u,a){var n=this.Zj(u),o=this.Zj(a);if(n&o)return 0;if(!(n|o))return 4;var l=(n!=0?1:0)|(o!=0?2:0);do{var d=a.x-u.x,p=a.y-u.y;if(d>p?n&_.YC?(n&_.ju?(u.y+=p*(this.v-u.x)/d,u.x=this.v):(u.y+=p*(this.C-u.x)/d,u.x=this.C),n=this.Zj(u)):o&_.YC?(o&_.ju?(a.y+=p*(this.v-a.x)/d,a.x=this.v):(a.y+=p*(this.C-a.x)/d,a.x=this.C),o=this.Zj(a)):n!=0?(n&_.ku?(u.x+=d*(this.G-u.y)/p,u.y=this.G):(u.x+=d*(this.H-u.y)/p,u.y=this.H),n=this.Zj(u)):(o&_.ku?(a.x+=d*(this.G-a.y)/p,a.y=this.G):(a.x+=d*(this.H-a.y)/p,a.y=this.H),o=this.Zj(a)):n&_.ZC?(n&_.ku?(u.x+=d*(this.G-u.y)/p,u.y=this.G):(u.x+=d*(this.H-u.y)/p,u.y=this.H),n=this.Zj(u)):o&_.ZC?(o&_.ku?(a.x+=d*(this.G-a.y)/p,a.y=this.G):(a.x+=d*(this.H-a.y)/p,a.y=this.H),o=this.Zj(a)):n!=0?(n&_.ju?(u.y+=p*(this.v-u.x)/d,u.x=this.v):(u.y+=p*(this.C-u.x)/d,u.x=this.C),n=this.Zj(u)):(o&_.ju?(a.y+=p*(this.v-a.x)/d,a.x=this.v):(a.y+=p*(this.C-a.x)/d,a.x=this.C),o=this.Zj(a)),(n&o)!=0)return 0}while(n|o);return l},_.prototype.Zj=function(u){return(u.x<this.v?1:0)|(u.x>this.C?1:0)<<1|(u.y<this.G?1:0)<<2|(u.y>this.H?1:0)<<3},_.prototype.Bi=function(u){return!this.B()&&(this.R()<=u||this.ca()<=u)},_.prototype.tb=function(u){return u instanceof h.h?Math.sqrt(this.iK(u)):Math.sqrt(this.px(u))},_.prototype.px=function(u){var a=0,n=0,o=this.v-u.C;return o>a&&(a=o),(o=this.G-u.H)>n&&(n=o),(o=u.v-this.C)>a&&(a=o),(o=u.G-this.H)>n&&(n=o),a*a+n*n},_.prototype.iK=function(u){var a=0,n=0,o=this.v-u.x;return o>a&&(a=o),(o=this.G-u.y)>n&&(n=o),(o=u.x-this.C)>a&&(a=o),(o=u.y-this.H)>n&&(n=o),a*a+n*n},_.prototype.cn=function(u){this.B()?u.Oa():u.K(this.v,this.C)},_.ju=1,_.ku=4,_.YC=3,_.ZC=12,_}();h.l=P}(Y||(Y={})),function(h){var P,_;(_=P||(P={}))[_.initialize=0]="initialize",_[_.initializeRed=1]="initializeRed",_[_.initializeBlue=2]="initializeBlue",_[_.initializeRedBlue=3]="initializeRedBlue",_[_.sweep=4]="sweep",_[_.sweepBruteForce=5]="sweepBruteForce",_[_.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",_[_.sweepRedBlue=7]="sweepRedBlue",_[_.sweepRed=8]="sweepRed",_[_.sweepBlue=9]="sweepBlue",_[_.iterate=10]="iterate",_[_.iterateRed=11]="iterateRed",_[_.iterateBlue=12]="iterateBlue",_[_.iterateBruteForce=13]="iterateBruteForce",_[_.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",_[_.resetRed=15]="resetRed",_[_.resetBlue=16]="resetBlue";var u=function(){function a(n,o){this.ci=n,this.dH=o}return a.prototype.nr=function(n,o,l){this.ci.JX(l,n,o,this.dH)},a.prototype.$p=function(n){return this.ci.Rr(n,this.dH)},a}();P=function(){function a(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new h.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return a.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new h.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},a.prototype.ad=function(n,o){if(!this.Pv)throw h.i.Hb();var l=new h.l;l.K(o),this.fo.add(n),this.Eb.push(l)},a.prototype.Fp=function(){if(!this.Pv)throw h.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},a.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new h.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},a.prototype.JD=function(n,o){if(!this.Ov)throw h.i.Hb();var l=new h.l;l.K(o),this.fo.add(n),this.Eb.push(l)},a.prototype.iF=function(){if(!this.Ov)throw h.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},a.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new h.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},a.prototype.ED=function(n,o){if(!this.Nv)throw h.i.Hb();var l=new h.l;l.K(o),this.cw.add(n),this.qd.push(l)},a.prototype.hF=function(){if(!this.Nv)throw h.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},a.prototype.next=function(){if(this.Ic)return!1;for(var n=!0;n;)switch(this.Xb){case 0:n=this.Gz();break;case 1:n=this.rS();break;case 2:n=this.oS();break;case 3:n=this.qS();break;case 4:n=this.UX();break;case 5:n=this.QX();break;case 6:n=this.RX();break;case 7:n=this.SX();break;case 8:n=this.ux();break;case 9:n=this.iC();break;case 10:n=this.Uz();break;case 11:n=this.jT();break;case 12:n=this.gT();break;case 13:n=this.hT();break;case 14:n=this.iT();break;case 15:n=this.kJ();break;case 16:n=this.jJ();break;default:throw h.i.Qa()}return!this.Ic},a.prototype.aC=function(n){this.qa=n},a.prototype.uz=function(n){return this.Eb[n]},a.prototype.az=function(n){return this.qd[n]},a.prototype.nl=function(n){return this.fo.read(n)},a.prototype.hl=function(n){return this.cw.read(n)},a.Tz=function(n){return(1&n)==1},a.eq=function(n){return(1&n)==0},a.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},a.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.rd.kr();for(var n=0;n<this.Eb.length;n++){var o=this.Eb[n];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),n=0;n<2*this.Eb.length;n++)this.Ld.add(n);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},a.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.rd.kr();for(var n=0;n<this.Eb.length;n++){var o=this.Eb[n];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),n=0;n<2*this.Eb.length;n++)this.Ld.add(n);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},a.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new h.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new h.ia(0)),this.ff.kr();for(var n=0;n<this.qd.length;n++){var o=this.qd[n];this.ff.Br(o.v,o.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),n=0;n<2*this.qd.length;n++)this.Ef.add(n);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},a.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.ff==null&&(this.ff=new h.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new h.ia(0)),this.rd.kr();for(var n=0;n<this.Eb.length;n++){var o=this.Eb[n];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.ff.kr(),n=0;n<this.qd.length;n++)o=this.qd[n],this.ff.Br(o.v,o.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),n=0;n<2*this.Eb.length;n++)this.Ld.add(n);for(n=0;n<2*this.qd.length;n++)this.Ef.add(n);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},a.prototype.UX=function(){var n=this.Ld.get(--this.pe),o=n>>1;return a.eq(n)?(this.rd.remove(o),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[o].v,this.Eb[o].C,this.qa),this.Vf=o,this.Xb=10,!0)},a.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},a.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},a.prototype.SX=function(){var n=this.Ld.get(this.pe-1),o=this.Ef.get(this.Rg-1),l=this.Rr(n,!0),d=this.Rr(o,!1);return l>d?this.ux():l<d?this.iC():a.Tz(n)?this.ux():a.Tz(o)?this.iC():this.ux()},a.prototype.ux=function(){var n=this.Ld.get(--this.pe),o=n>>1;if(a.eq(n))return this.Df!=-1&&this.Ij.get(o)!=-1?(this.Ad.jd(this.Df,this.Ij.get(o)),this.Ij.set(o,-1)):this.rd.remove(o),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(n=this.Ad.rc(this.Cf);n!=-1;){var l=this.Ad.getData(n);this.ff.vj(l),this.Hj.set(l,-1),l=this.Ad.lb(n),this.Ad.jd(this.Cf,n),n=l}return 0<this.ff.size()?(this.ow.EB(this.Eb[o].v,this.Eb[o].C,this.qa),this.Vf=o,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new h.jp),this.Ij=new h.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(o,this.Ad.addElement(this.Df,o)),this.Xb=7),!0},a.prototype.iC=function(){var n=this.Ef.get(--this.Rg),o=n>>1;if(a.eq(n))return this.Cf!=-1&&this.Hj.get(o)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(o)),this.Hj.set(o,-1)):this.ff.remove(o),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(n=this.Ad.rc(this.Df);n!=-1;){var l=this.Ad.getData(n);this.rd.vj(l),this.Ij.set(l,-1),l=this.Ad.lb(n),this.Ad.jd(this.Df,n),n=l}return 0<this.rd.size()?(this.oo.EB(this.qd[o].v,this.qd[o].C,this.qa),this.Af=o,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new h.jp),this.Hj=new h.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(o,this.Ad.addElement(this.Cf,o)),this.Xb=7),!0},a.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var n=this.Ld.get(this.pe)>>1;return this.rd.vj(n),this.Xb=4,!0},a.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var n=this.Ef.get(this.Rg)>>1;return this.ff.vj(n),this.Xb=7,!0},a.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var n=this.Ld.get(this.pe)>>1;return this.rd.vj(n),this.Xb=7,!0},a.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var n=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(n)||(this.Af=this.Rg,!1)},a.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var n=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(n)||(this.Af=this.Rg,!1)},a.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},a.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},a.prototype.Kt=function(n,o,l){this.Am==null&&(this.Am=new h.Xt),l=new u(this,l),this.Am.sort(n,0,o,l)},a.prototype.JX=function(n,o,l,d){var p=this;n.Vd(o,l,function(y,v){var $=p.Rr(y,d),I=p.Rr(v,d);return $<I||$==I&&a.eq(y)&&a.Tz(v)?-1:1})},a.prototype.Rr=function(n,o){var l=.5*this.qa;return o?(o=this.Eb[n>>1],a.eq(n)?o.G-l:o.H+l):(o=this.qd[n>>1],a.eq(n)?o.G-l:o.H+l)},a}(),h.xC=P}(Y||(Y={})),function(h){var P=function(){function _(){}return _.construct=function(u,a,n,o,l,d){var p=new _;return p.v=u,p.G=a,p.Ye=n,p.C=o,p.H=l,p.Bg=d,p},_.prototype.Oa=function(){this.Ye=this.v=NaN},_.prototype.B=function(){return isNaN(this.v)},_.prototype.XS=function(){return isNaN(this.Ye)},_.prototype.K=function(u,a,n,o,l,d){o!==void 0?typeof u=="number"?(this.v=u,this.G=a,this.Ye=n,this.C=o,this.H=l,this.Bg=d):(this.v=u.x-.5*a,this.C=this.v+a,this.G=u.y-.5*n,this.H=this.G+n,this.Ye=u.z-.5*o,this.Bg=this.Ye+o):(this.v=u,this.G=a,this.Ye=n,this.C=u,this.H=a,this.Bg=n)},_.prototype.move=function(u){this.v+=u.x,this.G+=u.y,this.Ye+=u.z,this.C+=u.x,this.H+=u.y,this.Bg+=u.z},_.prototype.copyTo=function(u){u.v=this.v,u.G=this.G,u.C=this.C,u.H=this.H},_.prototype.Lk=function(u,a,n){this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>a?this.G=a:this.H<a&&(this.H=a),isNaN(this.Ye)==0?this.Ye>n?this.Ye=n:this.Bg<n&&(this.Bg=n):this.Bg=this.Ye=n},_.prototype.Zb=function(u,a,n){if(typeof u=="number")this.B()?(this.v=u,this.G=a,this.Ye=n,this.C=u,this.H=a,this.Bg=n):this.Lk(u,a,n);else if(u instanceof h.Nd)this.Zb(u.x,u.y,u.z);else{if(!(u instanceof _))throw h.i.N();u.B()||(this.Zb(u.v,u.G,u.Ye),this.Zb(u.C,u.H,u.Bg))}},_.prototype.construct=function(u,a,n){u.B()||a.B()?this.Oa():(this.v=u.oa,this.C=u.va,this.G=a.oa,this.H=a.va,this.Ye=n.oa,this.Bg=n.va)},_.prototype.nB=function(u){if(u==null||8>u.length)throw h.i.N();u[0]=new h.Nd(this.v,this.G,this.Ye),u[1]=new h.Nd(this.v,this.H,this.Ye),u[2]=new h.Nd(this.C,this.H,this.Ye),u[3]=new h.Nd(this.C,this.G,this.Ye),u[4]=new h.Nd(this.v,this.G,this.Bg),u[5]=new h.Nd(this.v,this.H,this.Bg),u[6]=new h.Nd(this.C,this.H,this.Bg),u[7]=new h.Nd(this.C,this.G,this.Bg)},_.prototype.Zw=function(u){if(u==null||u.length==0)this.Oa();else{var a=u[0];for(this.K(a.x,a.y,a.z),a=1;a<u.length;a++){var n=u[a];this.Lk(n.x,n.y,n.z)}}},_}();h.OK=P}(Y||(Y={})),function(h){(function(P){P.Qa=function(){var _=Error();return _.message="Internal Error",_},P.Ie=function(){var _=Error();return _.message="Not Implemented",_},P.Xk=function(){var _=Error();return _.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",_},P.Hb=function(){var _=Error();return _.message="Invalid Call",_},P.N=function(_){var u=Error();return u.message="Illegal Argument Exception",_!==void 0&&(u.message+=": "+_),u},P.fu=function(_){var u=Error();return u.message=_!==void 0?"Runtime Exception: "+_:"Runtime Exception.",u},P.fa=function(_){var u=Error();return u.message="Geometry Exception: "+_,u},P.GK=function(){var _=Error();return _.message="Assert Failed Exception",_},P.ce=function(){var _=Error();return _.message="IndexOutOfBoundsException",_},P.WC=function(){var _=Error();return _.message="UserCancelException",_}})(h.i||(h.i={}))}(Y||(Y={})),function(h){(h=h.bm||(h.bm={}))[h.forward=0]="forward",h[h.reverse=1]="reverse"}(Y||(Y={})),function(h){var P=function(){function a(n,o){this.Wa=n,this.FH=o,this.LH=-1,this.sl=!1}return a.prototype.qe=function(){},a.prototype.next=function(){if(++this.LH==this.FH.I())return null;var n=this.FH.Na(this.LH);n.scale(this.Wa.ec);var o=new h.Da;return this.Wa.sy(n,this.sl,o),o},a.prototype.La=function(){return 0},a}(),_=function(){function a(n,o,l){this.Wa=n,this.rw=o,this.Xn=!1,this.co=l,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new h.Da,this.uk=[]}return a.prototype.qe=function(){},a.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var n=h.aa.jg(this.qq);return h.Fg.Mk(n,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}n=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var o=this.uk.length=0,l=new h.h,d=new h.h,p=[0];this.sd.Ha()&&8>this.FA;){var y=this.sd.ha();if(l.L(y.ac()),d.L(y.wc()),l.scale(this.Wa.ec),d.scale(this.Wa.ec),h.cj.Mu(l,d)?l.x=d.x:h.cj.Ku(l,d)&&(d.x=l.x),this.uk.length=0,h.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,l,d,this.Wa.QA,this.Wa.Zs,p,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(y=this.uk.slice(0),this.co.qG(this.co.da()-1,y,y.length-1)),h.cj.Lu(l,d)?(this.qq.Oa(),this.Wa.sy(l,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(p[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}n==null&&(n=new h.Da).Yk(null,0),this.OD(n),o++}if(this.bw[0]=0,0<o){for(p=this.sd.wb();0<o;)this.sd.li(),l.L(this.rw.Na(this.sd.wb())),d.L(this.rw.Na(this.sd.ik())),l.scale(this.Wa.ec),d.scale(this.Wa.ec),this.sl&&(h.cj.Mu(l,d)?l.x=d.x:h.cj.Ku(l,d)&&(d.x=l.x)),this.uk.length=0,h.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,d,l,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(n),o--;return l.L(this.rw.Na(this.sd.wb())),l.scale(this.Wa.ec),u.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,l,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,n,NaN,NaN),this.sd.Vb(p),this.sd.ha(),o=h.ta.kj(null,n,!0),h.Fg.Mk(n,o,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),n=h.aa.jg(this.qq),h.Fg.Mk(n,this.Wa.Aq,!0,!0,this.Wa.Ub)},a.prototype.OD=function(n){var o=this.uk[0],l=this.Nj[0]-1.570796326794897,d=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var p=this.di+1.570796326794897;l=p+3.141592653589793-(this.di-this.Nj[0])}else l=(p=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var y=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),v=!1;if(Math.abs(l-p)<=.5*this.Wa.ao)if(y){var $=n.Na(n.I()-2);$.scale(this.Wa.ec);var I=new h.ga(0);for(h.kb.Xy(this.Wa.Tb,this.Wa.kc,o.x,o.y,$.x,$.y,I),$=I.u;$<=p;)$+=6.283185307179586;for(;$>p;)$-=6.283185307179586;$<l&&(v=!0)}else v=!0;v?(n.DB(0,n.I()-1),this.sl||((o=new h.h).L(n.Na(n.I()-1)),o.scale(this.Wa.ec),-3.141592653589793>o.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<o.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),y||(l=.5*(l+p))):(y?((p=new h.h).L(o),p.scale(1/this.Wa.ec),n.wf(0,-1,p)):u.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],p,l,this.Wa.ao,this.sl,this.sk,n,NaN,NaN),this.FA+=1)}u.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,l,d,this.sl,this.sk,n),this.di=this.Gs[0]},a.prototype.xy=function(n,o){return this.Wa.xy(this.uk,n,this.Nj[0],this.Gs[0],this.sl,o)},a.prototype.La=function(){return 0},a}(),u=function(){function a(){}return a.buffer=function(n,o,l,d,p,y){if(n==null)throw h.i.N("Geometry::Geodesic_bufferer::buffer");if(n.B())return new h.Da(n.description);var v=new a;v.Qg=o,v.Jc=h.cb.sc(o);var $=h.cb.vv(v.Jc);if(v.Ub=y,v.Tb=h.cb.ev(v.Jc),v.kc=$*(2-$),v.ec=v.Jc.Hd().ai,v.qa=v.Qg.Kn(),v.Aq=v.Jc.Kn(),v.Zs=v.Aq*v.ec,v.zq=1.570796326794897/v.ec,v.OY=3.141592653589793/v.ec,v.Js=6.283185307179586/v.ec,v.PY=v.Js/6,v.LA=0,v.NY=1.5707963267948966*v.Tb/v.LA,l==4?(v.ze=2,v.Wv=!0):(v.ze=l,v.Wv=!1),v.Ka=d,v.rb=Math.abs(d),isNaN(p)||.001>p?v.xX():v.$n=p,l=n.getType(),h.aa.yd(l)?((l=new h.Ta(n.description)).oc(n,!0),n=l,l=1607):l==197&&(l=new h.l,n.A(l),l.R()<=v.qa||l.ca()<=v.qa?((l=new h.Ta(n.description)).ad(n,!1),n=l,l=1607):((l=new h.Da(n.description)).ad(n,!1),n=l,l=1736)),v.yX(),h.aa.Rn(l)||v.zX(),v.rb<=.5*v.$n)return l!=1736?new h.Da(n.description):v.Wv?n:h.cj.Qr(n,v.Qg,v.ze,v.QA,-1,y);if(0>v.Ka&&l!=1736)return new h.Da(n.description);if(v.Wv&&h.aa.Hc(l)?(o=h.cj.Qr(n,o,4,NaN,v.$n,y),n=h.cb.zh(o,v.Qg,v.Jc)):n=h.cb.zh(n,v.Qg,v.Jc),(n=h.Hh.lj(n,v.Jc)).B())return new h.Da(n.description);switch(!v.Wv&&h.aa.Hc(l)&&(n=h.cj.pI(v.ec,n)),n=a.KX(n,v.Jc),l){case 1736:o=v.UN(n);break;case 1607:o=v.VN(n);break;case 550:o=v.SN(n);break;case 33:o=v.TN(n);break;default:throw h.i.fa("corrupted_geometry")}return(v=h.cb.zh(o,v.Jc,v.Qg)).Jl(n.description),v},a.prototype.UN=function(n){var o=new h.Da;n=new _(this,n,o),n=h.Gh.local().V(n,this.Jc,this.Ub).next(),n=h.ip.nj(n,this.Jc,2);var l=new h.Dd;return l.scale(1/this.ec,1/this.ec),o.Oc(l),o=h.ip.nj(o,this.Jc,2),0<=this.Ka?h.Gh.local().V(o,n,this.Jc,this.Ub):h.kp.local().V(o,n,this.Jc,this.Ub)},a.prototype.VN=function(n){return n=new _(this,n,null),n=h.Gh.local().V(n,this.Jc,this.Ub).next(),h.ip.nj(n,this.Jc,2)},a.prototype.SN=function(n){return n=new P(this,n),n=h.Gh.local().V(n,this.Jc,this.Ub).next(),h.ip.nj(n,this.Jc,2)},a.prototype.TN=function(n){(n=n.D()).scale(this.ec);var o=new h.Da;return this.sy(n,!1,o),h.ip.nj(o,this.Jc,2)},a.prototype.xy=function(n,o,l,d,p,y){var v=n[0],$=n[n.length-1],I=v.y>$.y?v.y:$.y,k=h.F.q(this.Tb,this.kc,v.y<$.y?v.y:$.y);if(I=h.F.q(this.Tb,this.kc,I),.001<this.LA-(k+o+this.rb)&&.001<this.LA+(I-o-this.rb))return!1;k=(o=l-1.570796326794897)-3.141592653589793,I=o+3.141592653589793;var O=(l=d+1.570796326794897)+3.141592653589793,F=[NaN],j=[NaN],z=[NaN],B=[NaN];if(d=!1,a.dJ(this.Tb,this.kc,this.rb,v,o,k,$,l,F,j),a.dJ(this.Tb,this.kc,this.rb,$,O,l,v,k,z,B),(l<F[0]&&F[0]<O||l<j[0]&&j[0]<O)&&(d=!0),d||(k<z[0]&&z[0]<o||k<B[0]&&B[0]<o)&&(d=!0),!d&&p)return!1;for(var H=[],U=n.length-1;0<=U;U--)H.push(n[U]);return y.Oa(),y.Yk(null,0),U=[0],a.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,n,o,l,p,U,y),a.Hr(this.Tb,this.kc,this.ec,this.rb,$,l,O,this.ao,p,U,y,F[0],j[0]),a.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,H,O,I,p,U,y),a.Hr(this.Tb,this.kc,this.ec,this.rb,v,k,o,this.ao,p,U,y,z[0],B[0]),n=!1,p||(n=this.IE(this.ec,y)),d||n},a.prototype.sy=function(n,o,l){l.Oa(),l.Yk(null,0),a.Hr(this.Tb,this.kc,this.ec,this.rb,n,-this.ao,6.283185307179586,this.ao,o,[0],l,NaN,NaN),o||this.IE(this.ec,l)},a.prototype.IE=function(n,o){var l=this.vO(n,o);return n=this.wO(n,o),l||n},a.prototype.vO=function(n,o){var l=o.I(),d=!1,p=new h.l;if(o.A(p),!h.s.Y(p.H*n,1.570796326794897)&&!h.s.Y(p.G*n,-1.570796326794897))return!1;var y=new h.h;for(--l;0<=l;l--)o.D(l,y),(y.y==p.H&&h.s.Y(y.y*n,1.570796326794897)||y.y==p.G&&h.s.Y(y.y*n,-1.570796326794897))&&(d=!0,this.OI(y,l,o));return d},a.prototype.wO=function(n,o){var l=o.Na(0),d=o.Na(o.I()-1);return 3.141592653589793<Math.abs(l.x-d.x)*n?(this.VV(o),!0):this.uO(o)},a.prototype.uO=function(n){return 0>n.Ke()&&(this.UV(n),!0)},a.prototype.OI=function(n,o,l){var d=l.I(),p=0<o?o-1:d-1;if(d=l.Na(o<d-1?o+1:0),p=l.Na(p),!h.s.Y(d.y,n.y)&&!h.s.Y(d.x,n.x)){var y=new h.h;y.ma(d.x,n.y),l.Cb(o,y)}h.s.Y(p.y,n.y)||h.s.Y(p.x,n.x)||((d=new h.h).ma(p.x,n.y),l.wf(0,o,d))},a.prototype.VV=function(n){var o=new h.Da,l=new h.Da,d=new h.Dd,p=n.Na(0),y=n.Na(n.I()-1),v=new h.h;p.x>y.x?(y=this.zq,d.gg(-this.Js,0)):(y=-this.zq,d.gg(this.Js,0)),o.add(n,!1),n.Oa(),l.add(o,!1),l.Oc(d),p=new h.l,l.A(p),p.W((this.Js-p.R())/2,0),p.G=-this.zq,p.H=this.zq;for(var $=0;$<l.I();$++)l.D($,v),o.wf(0,-1,v);for(l.Oc(d),$=0;$<l.I();$++)l.D($,v),o.wf(0,-1,v);l=o.Na(0),d=o.Na(o.I()-1),v.ma(d.x,y),o.wf(0,-1,v),v.ma(.5*(d.x+l.x),y),o.wf(0,-1,v),v.ma(l.x,y),o.wf(0,-1,v),o=h.Hh.ks(o,this.Jc,2,!0,p.v),o=h.Hh.ks(o,this.Jc,2,!0,p.C),o=h.Ud.clip(o,p,this.Aq,NaN),n.add(o,!1)},a.prototype.UV=function(n){var o=new h.l;n.A(o),o.W((this.Js-o.R())/2,0),o.G=-this.zq,o.H=this.zq,n.Yk(null,0);var l=new h.h;l.ma(o.v,o.G),n.wf(1,-1,l),l.ma(o.v,o.H),n.wf(1,-1,l),l.ma(.5*(o.v+o.C),o.H),n.wf(1,-1,l),l.ma(o.C,o.H),n.wf(1,-1,l),l.ma(o.C,o.G),n.wf(1,-1,l),l.ma(.5*(o.v+o.C),o.G),n.wf(1,-1,l)},a.qy=function(n,o,l,d,p,y,v,$,I,k,O){var F=null;I||((F=new h.h).Rc(),0<O.I()&&(F.L(O.Na(O.I()-1)),F.scale(l)));var j=new h.ga(0),z=new h.ga(0),B=new h.ga(0),H=new h.h,U=new h.h,Z=y[y.length-1];l=1/l;for(var re=0;re<y.length;re++){var ie=y[re];if(re==0)var ce=v;else re==y.length-1?ce=$:(h.kb.wd(n,o,Z.x,Z.y,ie.x,ie.y,null,null,j,p),ce=j.u-1.570796326794897);h.kb.yi(n,o,ie.x,ie.y,d,ce,z,B),I?U.ma(z.u,B.u):(H.ma(z.u,B.u),a.gJ(ie.x,H.x,F.x,k),U.ma(k[0]+H.x,H.y),F.L(U)),U.scale(l),O.wf(0,-1,U)}},a.Hr=function(n,o,l,d,p,y,v,$,I,k,O,F,j){if(!(v-y<$)){var z=new h.ga(0),B=new h.ga(0),H=new h.h,U=new h.h,Z=null;I||((Z=new h.h).Rc(),0<O.I()&&(Z.L(O.Na(O.I()-1)),Z.scale(l)));var re=h.O.truncate(Math.ceil(y/$)),ie=re++*$;for(ie==y&&(ie=re++*$),l=1/l;ie<v+$&&(y<F&&F<ie?(ie=F,re--):y<j&&j<ie&&(ie=j,re--),!(ie>=v));)h.kb.yi(n,o,p.x,p.y,d,ie,z,B),I?U.ma(z.u,B.u):(H.ma(z.u,B.u),a.gJ(p.x,H.x,Z.x,k),U.ma(k[0]+H.x,H.y),Z.L(U)),U.scale(l),O.wf(0,-1,U),y=ie,ie=re++*$}},a.dJ=function(n,o,l,d,p,y,v,$,I,k){var O=new h.h,F=new h.h,j=new h.ga(0),z=new h.ga(0);for(h.kb.yi(n,o,d.x,d.y,l,p,j,z),O.ma(j.u,z.u),h.kb.yi(n,o,d.x,d.y,l,y,j,z),F.ma(j.u,z.u),l=new h.ga(0),h.kb.Xy(n,o,v.x,v.y,O.x,O.y,l),I[0]=l.u,h.kb.Xy(n,o,v.x,v.y,F.x,F.y,l),k[0]=l.u;I[0]<=k[0];)I[0]+=6.283185307179586;for(;I[0]>k[0];)I[0]-=6.283185307179586;for(;I[0]>=$;)I[0]-=6.283185307179586,k[0]-=6.283185307179586;for(;I[0]<$;)I[0]+=6.283185307179586,k[0]+=6.283185307179586},a.gJ=function(n,o,l,d){if(isNaN(l)){for(;3.141592653589793<d[0]+o-n;)d[0]-=6.283185307179586;for(;3.141592653589793<n-(d[0]+o);)d[0]+=6.283185307179586}else 3.141592653589793<d[0]+o-l?d[0]-=6.283185307179586:3.141592653589793<l-(d[0]+o)&&(d[0]+=6.283185307179586)},a.KX=function(n,o){var l=n.getType(),d=h.aa.Hc(l)?n.da():l==550?n.I():1;if(d==1)return n;var p=new h.ia(0);p.resize(d);for(var y=[],v=new h.l,$=0;$<d;$++){if(p.write($,$),h.aa.Hc(l)){n.Rj($,v);var I=v.sf()}else I=n.Na($);I=h.XK.$X(o,I),y[$]=I}for(p.Vd(0,p.size,function(k,O){return y[k]<y[O]?-1:y[k]>y[O]?1:0}),o=n.Ia(),$=0;$<d;$++)v=p.read($),h.aa.Hc(l)?o.addPath(n,v,!0):o.Fd(n,v,v+1);return o},a.prototype.yX=function(){var n=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);n=Math.min(n,.39269908169872414*this.Tb);var o=new h.h;o.ma(0,10*this.ec);var l=45*this.ec,d=new h.ga(0),p=new h.ga(0),y=new h.ga(0),v=new h.ga(0),$=new h.ga(0),I=new h.ga(0),k=new h.ga(0),O=new h.ga(0),F=new h.h,j=new h.h,z=new h.h,B=new h.h;h.kb.yi(this.Tb,this.kc,o.x,o.y,n,0,d,p),F.ma(d.u,p.u),h.kb.yi(this.Tb,this.kc,o.x,o.y,n,l,y,v),j.ma(y.u,v.u),d=new h.ga(0),p=new h.ga(0);for(var H=new h.ga(0);h.kb.yi(this.Tb,this.kc,o.x,o.y,n,.5*(0+l),$,I),z.ma($.u,I.u),h.kb.wd(this.Tb,this.kc,F.x,F.y,j.x,j.y,d,p,null,2),h.kb.oj(this.Tb,this.kc,F.x,F.y,.5*d.u,p.u,k,O,2),B.ma(k.u,O.u),h.kb.wd(this.Tb,this.kc,z.x,z.y,B.x,B.y,H,null,null,2),!(H.u<=this.$n);)l*=.9,h.kb.yi(this.Tb,this.kc,o.x,o.y,n,l,y,v),j.ma(y.u,v.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(l-0))},a.prototype.zX=function(){var n=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);n=Math.min(n,.39269908169872414*this.Tb);var o=new h.h,l=new h.h;o.ma(0,10*this.ec),l.ma(10*this.ec,10*this.ec);var d=new h.ga(0),p=new h.ga(0),y=new h.ga(0);h.kb.wd(this.Tb,this.kc,o.x,o.y,l.x,l.y,y,d,p,this.ze);var v=new h.ga(0),$=new h.ga(0),I=new h.ga(0),k=new h.ga(0),O=new h.h,F=new h.ga(0),j=new h.ga(0),z=new h.ga(0),B=new h.ga(0),H=new h.ga(0),U=new h.ga(0),Z=new h.ga(0),re=new h.ga(0),ie=new h.ga(0),ce=new h.h,le=new h.h,_e=new h.h,Me=new h.h,Te=1;d=d.u,p=p.u+1.570796326794897,y=y.u,h.kb.yi(this.Tb,this.kc,o.x,o.y,n,d-1.570796326794897,j,z),ce.ma(j.u,z.u),h.kb.yi(this.Tb,this.kc,l.x,l.y,n,p,B,H),le.ma(B.u,H.u),j=new h.ga(0),z=new h.ga(0),p=new h.ga(0);for(var Ye=new h.ga(0);h.kb.oj(this.Tb,this.kc,o.x,o.y,.5*(0+Te)*y,d,v,$,this.ze),O.ma(v.u,$.u),h.kb.wd(this.Tb,this.kc,o.x,o.y,O.x,O.y,null,null,F,this.ze),h.kb.yi(this.Tb,this.kc,O.x,O.y,n,F.u+1.570796326794897,U,Z),_e.ma(U.u,Z.u),h.kb.wd(this.Tb,this.kc,ce.x,ce.y,le.x,le.y,j,z,null,2),h.kb.oj(this.Tb,this.kc,ce.x,ce.y,.5*j.u,z.u,re,ie,2),Me.ma(re.u,ie.u),h.kb.wd(this.Tb,this.kc,_e.x,_e.y,Me.x,Me.y,p,null,null,2),!(p.u<=this.$n);)Te*=.9,h.kb.oj(this.Tb,this.kc,o.x,o.y,Te*y,d,I,k,this.ze),l.ma(I.u,k.u),h.kb.wd(this.Tb,this.kc,o.x,o.y,l.x,l.y,null,null,Ye,this.ze),h.kb.yi(this.Tb,this.kc,l.x,l.y,n,Ye.u+1.570796326794897,B,H),le.ma(B.u,H.u);1e5<(n=Te*y)&&(n=1e5),this.QA=n},a.prototype.xX=function(){var n=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/n&&(n=this.rb/500),.01>n&&(n=.01),this.$n=n},a}();h.VK=u}(Y||(Y={})),function(h){var P=function(){function _(){}return _.Mf=function(u,a){var n=new h.h;n.L(a),u.push(n)},_.up=function(u,a){u.add(a.x),u.add(a.y)},_.hB=function(u){u.Bh(u.size-2)},_.oB=function(u,a){a.ma(u.get(u.size-2),u.get(u.size-1))},_.Qr=function(u,a,n,o,l,d){if(u==null)throw h.i.N();var p=u.getType();if(u.B()||h.aa.Rn(p))return u;var y=new _;y.Qg=a,y.Jc=h.cb.sc(a);var v=h.cb.vv(y.Jc);if(y.Ub=d,y.Tb=h.cb.ev(y.Jc),y.kc=v*(2-v),y.ec=y.Jc.Hd().ai,y.Aq=y.Jc.Kn(),y.Zs=y.Aq*y.ec,y.AA=o,y.zA=l,y.ze=n,p==197?(n=new h.Da(u.description)).ad(u,!1):h.aa.yd(p)?(n=new h.Ta(u.description)).oc(u,!0):n=u,y.ze!=4){if((a=y.Qg.Nb(y.Jc)==0?h.cb.zh(n,y.Qg,y.Jc):h.Hh.lj(n,y.Jc)).B())return a;a=_.pI(y.ec,a),a=y.Zy(a),a=h.ip.nj(a,y.Jc,y.ze),y=h.cb.zh(a,y.Jc,y.Qg)}else{if(h.Eg.Sb(a)==2?(u=h.cb.ml(),(a=h.Xj.local().V(n,u,a,d))==u&&(a=new h.Da,u.copyTo(a))):a=h.Hh.lj(n,y.Jc),a.B())return a;y=y.CX(a)}return y},_.pI=function(u,a){var n=new h.l;if(a.xc(n),3.141592653589793>n.R()*u)return a;var o=!1;n=a.Ga();for(var l=new h.h,d=new h.h;n.$a();)for(;n.Ha();){var p=n.ha();if(l.L(p.ac()),d.L(p.wc()),l.scale(u),d.scale(u),3.141592653589793<Math.abs(l.x-d.x)){var y=_.Lu(l,d);if(!y){o=!0;break}if(6.283185307179586<Math.abs(l.x-d.x)){o=!0;break}}}if(!o)return a;o=a.Ia();var v=1<a.description.Aa,$=new h.h,I=new h.h,k=new h.h,O=new h.h,F=new h.Sa;for(n.Zi();n.$a();)for(var j=NaN,z=[0];n.Ha();){if(p=n.ha(),l.L(p.ac()),d.L(p.wc()),l.scale(u),d.scale(u),isNaN(j)?(_.Wi(l.x,NaN,z),I.L(l)):I.L(k),j=I.x,y=_.Lu(l,d)){if(6.283185307179586<d.x-l.x)for(;6.283185307179586<d.x-l.x;)d.x-=6.283185307179586;if(-6.283185307179586>d.x-l.x)for(;-6.283185307179586>d.x-l.x;)d.x+=6.283185307179586;_.Wi(d.x,NaN,z),k.L(d)}else $.L(d),_.AU($),_.Wi($.x,j,z),k.ma(z[0]+$.x,$.y);.5>Math.abs(k.x-d.x)&&k.L(d),v?(p.Tw(0,F),O.L(I),O.scale(1/u),F.Cb(O),(y=n.vm())?o.nf(F):o.lineTo(F),n.Qn()&&!a.dc(n.gb)&&(p.Tw(1,F),O.L(k),O.scale(1/u),F.Cb(O),o.lineTo(F))):((y=n.vm())&&o.Hz(null,0),p=o.da()-1,O.L(I),O.scale(1/u),o.wf(p,-1,O),n.Qn()&&!a.dc(n.gb)&&(O.L(k),O.scale(1/u),o.wf(p,-1,O)))}return o},_.tF=function(u,a,n,o,l,d,p,y,v,$,I,k){var O=new h.h,F=new h.h,j=0<o.compare(l);_.fJ(j,o,l,O,F),_.uF(u,a,n,O,F,d,NaN,p,y,v,$,null,I,k),j&&_.fC(v,$,null,I)},_.prototype.Zy=function(u){var a=u.Ia(),n=u.Ga(),o=[],l=null,d=null,p=1<u.description.Aa;p&&(l=new h.be(0),d=new h.ig);for(var y=[0],v=new h.h,$=new h.h,I=new h.h,k=new h.h;n.$a();)for(y[0]=0;n.Ha();){var O=n.ha();v.L(O.ac()),$.L(O.wc()),v.scale(this.ec),$.scale(this.ec);var F=0<v.compare($);_.fJ(F,v,$,I,k),o.length=0,l!=null&&l.Bh(0),0<this.AA?_.uF(this.Tb,this.kc,this.ze,I,k,this.AA,this.zA,this.Zs,null,null,null,p?l:null,o,y):_.aR(this.Tb,this.kc,this.ze,I,k,this.zA,this.Zs,p?l:null,o,y),F&&_.fC(null,null,p?l:null,o),o[0].L(O.ac()),o[o.length-1].L(O.wc());for(var j=1;j<o.length-1;j++)o[j].scale(1/this.ec);p?(F=_.eJ(F,O,d),_.TD(n.vm(),n.Qn()&&!u.dc(n.gb),O,F,l,o,a)):_.SD(n.vm(),n.Qn()&&!u.dc(n.gb),o,a)}return a},_.prototype.CX=function(u){var a=u.Ia(),n=u.Ga(),o=[],l=null,d=new h.ig,p=1<u.description.Aa;for(p&&(l=new h.be(0));n.$a();)for(;n.Ha();){var y=n.ha(),v=y.ac(),$=y.wc();v=0<v.compare($),$=_.eJ(v,y,d),o.length=0,l!=null&&l.Bh(0),_.BX(this.Tb,this.kc,this.ec,$,this.Qg,this.AA,this.zA,p?l:null,o),v&&_.fC(null,null,p?l:null,o),p?_.TD(n.vm(),n.Qn()&&!u.dc(n.gb),y,$,l,o,a):_.SD(n.vm(),n.Qn()&&!u.dc(n.gb),o,a)}return a},_.SD=function(u,a,n,o){u&&o.Hz(null,0),u=o.da()-1;var l=n.slice(0);o.qG(u,l,l.length-1),a&&o.wf(u,-1,n[n.length-1])},_.TD=function(u,a,n,o,l,d,p){var y=new h.Sa;if(n.To(y),u?p.nf(y):p.lineTo(y),2<d.length){u=o.Qb();for(var v=1;v<d.length-1;v++){var $=o.NG(l.get(v)*u);o.Tw($,y),y.Cb(d[v]),p.lineTo(y)}}a&&(n.Po(y),p.lineTo(y))},_.uF=function(u,a,n,o,l,d,p,y,v,$,I,k,O,F){var j=new h.ga(0),z=new h.ga(0),B=new h.ga(0);h.kb.wd(u,a,o.x,o.y,l.x,l.y,B,j,z,n),B=B.u;var H=j=j.u;0>H&&(H+=6.283185307179586),0>(z=z.u)&&(z+=6.283185307179586),v!=null&&(v[0]=B),$!=null&&($[0]=H),I!=null&&(I[0]=z),$=v=NaN,k!=null&&(v=(($=h.F.Ah(u,a))-(I=h.F.q(u,a,o.y)))/B,$=($+I)/B),I=_.Mu(o,l),z=_.Ku(o,l),H=I||z;var U=_.FE(o,l,y),Z=new h.ga(0),re=new h.ga(0),ie=new h.h,ce=new h.h,le=new h.h;_.Wi(o.x,NaN,F);var _e=[F[0]];if(B<=d)_.Mf(O,o),_.Wi(l.x,NaN,F),k!=null&&k.add(0),H?(I&&_.kB(o,l,k,O),z&&_.iB(o,l,k,O)):U?_.jB(o,l,j,v,$,k,O):0<p&&(ce.ma(o.x-_e[0],o.y),ie.ma(l.x-F[0],l.y),_.Yy(u,a,n,o,B,j,ce,ie,0,1,p,k,O,_e)),_.Mf(O,l);else{var Me=B/((d=1+h.O.truncate(Math.ceil(B/d)))-1),Te=new h.h,Ye=0;_.Mf(O,o),Te.L(o),ce.ma(o.x-F[0],o.y),k!=null&&k.add(0);for(var Fe=1;Fe<d;Fe++){if(Fe<d-1){h.kb.oj(u,a,o.x,o.y,Fe*Me,j,Z,re,n),ie.ma(Z.u,re.u),_.Wi(ie.x,Te.x,F),le.ma(F[0]+ie.x,ie.y);var wt=Fe/(d-1)}else _.Wi(l.x,NaN,F),ie.ma(l.x-F[0],l.y),le.L(l),wt=1;H?(Fe==1&&I&&_.kB(o,le,k,O),Fe==d-1&&z&&_.iB(Te,l,k,O)):U?_.EE(Te,le,y)&&(o.x<l.x?Te.x>le.x&&(F[0]+=6.283185307179586,le.ma(F[0]+ie.x,ie.y)):Te.x<le.x&&(F[0]-=6.283185307179586,le.ma(F[0]+ie.x,ie.y)),_.jB(Te,le,j,v,$,k,O)):0<p&&_.Yy(u,a,n,o,B,j,ce,ie,Ye,wt,p,k,O,_e),_.Mf(O,le),k!=null&&k.add(wt),Te.L(le),ce.L(ie),_e[0]=F[0],Ye=wt}}},_.aR=function(u,a,n,o,l,d,p,y,v,$){var I=new h.ga(0),k=new h.ga(0),O=new h.ga(0);h.kb.wd(u,a,o.x,o.y,l.x,l.y,O,I,k,n),k=O.u,I=I.u;var F=O=NaN;if(y!=null){F=h.F.Ah(u,a);var j=h.F.q(u,a,o.y);O=(F-j)/k,F=(F+j)/k}j=_.Mu(o,l);var z=_.Ku(o,l),B=j||z;p=_.FE(o,l,p);var H=_.Lu(o,l);H=B||p||H,_.Wi(o.x,NaN,$);var U=new h.h;_.Mf(v,o),U.L(o),y!=null&&y.add(0),H?(B?(j&&_.kB(o,l,y,v),z&&_.iB(o,l,y,v)):p&&_.jB(o,l,I,O,F,y,v),_.Wi(l.x,NaN,$),_.Mf(v,l)):k<=d?(_.Wi(l.x,NaN,$),_.Mf(v,l)):(O=new h.h,p=new h.h,O.L(o),p.L(l),O.x-=$[0],p.x-=$[0],-3.141592653589793>p.x?p.x+=6.283185307179586:3.141592653589793<p.x&&(p.x-=6.283185307179586),_.Yy(u,a,n,o,k,I,O,p,0,1,d,y,v,$),_.Mf(v,l),_.Wi(l.x,NaN,$)),y!=null&&y.add(1)},_.Yy=function(u,a,n,o,l,d,p,y,v,$,I,k,O,F){var j=new h.h,z=new h.h;j.ma(p.x+F[0],p.y),new h.ga(0),new h.ga(0),new h.ga(0),new h.ga(0);var B=new h.ga(0),H=new h.ga(0),U=new h.ga(0),Z=new h.h,re=new h.h,ie=new h.h,ce=new h.h;Z.L(p),re.L(y),p=new h.be(0),y=new h.be(0),_.up(p,re),y.add($);var le=new h.h,_e=new h.yb,Me=[];for(_.YJ(4,Me);0<p.size;){for(var Te,Ye=!1,Fe=NaN,wt=0;3>wt;wt++)if(Te=Me[wt]*$+(1-Me[wt])*v,h.kb.oj(u,a,o.x,o.y,Te*l,d,B,H,n),ie.ma(B.u,H.u),wt==0&&(Fe=Te,ce.L(ie)),_.WW(Z,ie,re,_e),_e.hc(_e.fe(ie,!0),le),h.kb.wd(u,a,ie.x,ie.y,le.x,le.y,U,null,null,2),U.u>I){Ye=!0;break}Ye?(re.L(ce),$=Fe,_.up(p,re),y.add($)):(_.hB(p),y.En(y.size-1,1,y.size-1),0<p.size&&(_.Wi(re.x,j.x,F),z.ma(F[0]+re.x,re.y),_.Mf(O,z),j.L(z),k!=null&&k.add($),Z.L(re),v=$,_.oB(p,re),$=y.get(y.size-1)))}},_.BX=function(u,a,n,o,l,d,p,y,v){var $=new h.h,I=new h.h,k=new h.h,O=new h.h,F=new h.h,j=new h.h,z=new h.h,B=new h.h,H=new h.h,U=new h.h,Z=new h.ga(0),re=new h.ga(0),ie=new h.h,ce=[[],[]],le=h.Eg.Sb(l)==1;l=l.Xd(0);var _e=o.ac(),Me=o.wc();le?(j.ma(_e.x*n,_e.y*n),z.ma(Me.x*n,Me.y*n)):(ce[0][0]=_e.x,ce[0][1]=_e.y,ce[1][0]=Me.x,ce[1][1]=Me.y,h.cb.vt(),j.x=ce[0][0]*n,j.y=ce[0][1]*n,z.x=ce[1][0]*n,z.y=ce[1][1]*n);var Te=0,Ye=0,Fe=1,wt=o.Pn();$.L(_e),I.L(Me),Me=new h.be(0);var gt=new h.be(0),He=new h.be(0);_.up(Me,I),_.up(gt,z),He.add(Fe),_.Mf(v,$),y!=null&&y.add(Ye);var ci=[],Ji=0<p?wt?5:3:wt?5:1;_.YJ(Ji,ci);for(var _i=new h.ga(0),Kt=new h.ga(0),vt=new h.ga(0),Nt=new h.ga(0),Si=new h.ga(0),Mt=new h.ga(0),pn=new h.ga(0);0<gt.size;){var zt=!1,Dr=NaN;for(h.kb.wd(u,a,j.x,j.y,z.x,z.y,_i,Kt,null,2),_e=0;_e<Ji&&!(_e==0&&(!wt&&0>=p&&_i.u<=d&&3.141592653589793>Math.abs(j.x-z.x)||o.Ux(Ye,Fe)<=l));_e++){var Yt=ci[_e]*Fe+(1-ci[_e])*Ye;if(o.hc(Yt,k),le?B.ma(k.x*n,k.y*n):(ce[0][0]=k.x,ce[0][1]=k.y,h.cb.vt(),B.x=ce[0][0]*n,B.y=ce[0][1]*n),_e==0&&(Dr=Yt,F.L(k),U.L(B),0<d&&(_i.u>d||3.141592653589793<=Math.abs(j.x-z.x)))){zt=!0;break}if(wt&&0<d){if(h.kb.wd(u,a,j.x,j.y,B.x,B.y,vt,null,null,2),vt.u>d||3.141592653589793<=Math.abs(j.x-B.x)){zt=!0;break}}else if(0<p){if(wt?(O.NS($,I,ci[_e]),le?H.ma(O.x*n,O.y*n):(ce[0][0]=O.x,ce[0][1]=O.y,h.cb.vt(),H.x=ce[0][0]*n,H.y=ce[0][1]*n)):(O.L(k),H.L(B)),h.kb.wd(u,a,j.x,j.y,H.x,H.y,Nt,null,null,2),!(Nt.u<=_i.u)){zt=!0;break}if(h.kb.oj(u,a,j.x,j.y,Nt.u,Kt.u,Z,re,2),ie.ma(Z.u,re.u),h.kb.wd(u,a,ie.x,ie.y,B.x,B.y,Si,null,null,2),Si.u>p){zt=!0;break}if(wt){if(h.kb.wd(u,a,ie.x,ie.y,H.x,H.y,Mt,null,null,2),Mt.u>p){zt=!0;break}if(h.kb.wd(u,a,H.x,H.y,B.x,B.y,pn,null,null,2),pn.u>p){zt=!0;break}}}}zt?(I.L(F),z.L(U),Fe=Dr,_.up(Me,I),_.up(gt,z),He.add(Fe)):(_.hB(Me),_.hB(gt),He.En(He.size-1,1,He.size-1),_.Mf(v,I),Te+=_i.u,y!=null&&y.add(Te),0<gt.size&&($.L(I),j.L(z),Ye=Fe,_.oB(Me,I),_.oB(gt,z),Fe=He.get(He.size-1)))}if(y!=null)for(u=1/Te,_e=0;_e<y.size;_e++)y.write(_e,y.read(_e)*u)},_.fC=function(u,a,n,o){o.reverse(),n!=null&&n.ni(0,n.size,1),n=u!=null?u[0]:NaN,o=a!=null?a[0]:NaN,u!=null&&(u[0]=o),a!=null&&(a[0]=n)},_.fJ=function(u,a,n,o,l){u?(o.L(n),l.L(a)):(o.L(a),l.L(n))},_.eJ=function(u,a,n){return u?(n.create(a.getType()),a.copyTo(n.get()),n.get().reverse(),n.get()):a},_.Wi=function(u,a,n){if(isNaN(a)){for(;3.141592653589793<n[0]-u;)n[0]-=6.283185307179586;for(;3.141592653589793<u-n[0];)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+u-a?n[0]-=6.283185307179586:3.141592653589793<a-(n[0]+u)&&(n[0]+=6.283185307179586)},_.WW=function(u,a,n,o){3.141592653589793>Math.abs(a.x-u.x)?(o.Dc(u),3.141592653589793<=n.x-u.x?o.Ql(n.x-6.283185307179586,n.y):3.141592653589793<=u.x-n.x?o.Ql(n.x+6.283185307179586,n.y):o.Ql(n.x,n.y)):(o.Dc(n),3.141592653589793<=u.x-n.x?o.Ql(u.x-6.283185307179586,u.y):3.141592653589793<=n.x-u.x?o.Ql(u.x+6.283185307179586,u.y):o.Ql(u.x,u.y))},_.YJ=function(u,a){for(var n=0;n<u;n++){var o=Math.ceil(n/2)/(u+1);n%2!=0&&(o=-o),a[n]=.5+o}},_.Mu=function(u,a){return!!(h.s.Y(u.y,1.570796326794897)&&!h.s.Y(a.y,1.570796326794897)||h.s.Y(u.y,-1.570796326794897)&&!h.s.Y(a.y,-1.570796326794897))},_.Ku=function(u,a){return!!(h.s.Y(a.y,1.570796326794897)&&!h.s.Y(u.y,1.570796326794897)||h.s.Y(a.y,-1.570796326794897)&&!h.s.Y(u.y,-1.570796326794897))},_.FE=function(u,a,n){return!(!_.EE(u,a,n)||h.s.Y(u.y,1.570796326794897)||h.s.Y(u.y,-1.570796326794897)||h.s.Y(a.y,1.570796326794897)||h.s.Y(a.y,-1.570796326794897))},_.EE=function(u,a,n){return Math.abs(Math.abs(u.x-a.x)-3.141592653589793)<=n},_.Lu=function(u,a){return!!(h.s.Y(u.y,1.570796326794897)&&h.s.Y(a.y,1.570796326794897)||h.s.Y(u.y,-1.570796326794897)&&h.s.Y(a.y,-1.570796326794897))},_.kB=function(u,a,n,o){if(0<u.y){var l=new h.h;l.ma(a.x,1.570796326794897)}else(l=new h.h).ma(a.x,-1.570796326794897);h.s.Y(u.x,l.x)||h.s.Y(a.y,l.y)||(_.Mf(o,l),n!=null&&n.add(0))},_.iB=function(u,a,n,o){if(0<a.y){var l=new h.h;l.ma(u.x,1.570796326794897)}else(l=new h.h).ma(u.x,-1.570796326794897);h.s.Y(a.x,l.x)||h.s.Y(u.y,l.y)||(_.Mf(o,l),n!=null&&n.add(1))},_.jB=function(u,a,n,o,l,d,p){h.s.Cd(n)?(0<1.570796326794897-u.y&&((n=new h.h).ma(u.x,1.570796326794897),_.Mf(p,n),d!=null&&d.add(o)),0<1.570796326794897-a.y&&((n=new h.h).ma(a.x,1.570796326794897),_.Mf(p,n),d!=null&&d.add(o))):(0<1.570796326794897+u.y&&((n=new h.h).ma(u.x,-1.570796326794897),_.Mf(p,n),d!=null&&d.add(l)),0<1.570796326794897+a.y&&((n=new h.h).ma(a.x,-1.570796326794897),_.Mf(p,n),d!=null&&d.add(l)))},_.AU=function(u){if(-3.141592653589793>u.x)for(;-3.141592653589793>u.x;)u.x+=6.283185307179586;if(3.141592653589793<u.x)for(;3.141592653589793<u.x;)u.x-=6.283185307179586},_}();h.cj=P}(Y||(Y={})),function(h){h.ip=function(){function P(){}return P.nj=function(_,u,a){if(_==null||u==null||!h.cb.Wc(u))throw h.i.N();if(_.B())return _;var n=_,o=n.getType();if(h.aa.Hc(o)){n=h.Hh.lj(_,u),_=new h.l,n.A(_),o=h.ta.Wd(u,_,!1);for(var l=h.cb.gh(u),d=Math.floor((_.v-l.v)/l.R())*l.R()+l.v;d<_.C;)d>_.v+o&&d<_.C-o&&(n=h.Hh.ks(n,u,a,!0,d)),d+=l.R()}else{if(o==197)return(_=new h.Da(n.description)).ad(n,!1),P.nj(_,u,a);if(h.aa.yd(o))return(_=new h.Ta(n.description)).oc(n,!0),P.nj(_,u,a)}return P.Uy(n,u)},P.Uy=function(_,u){if(_==null||u==null||!h.cb.Wc(u))throw h.i.N();if(_.B())return _;var a=_.getType();return a==197?(a=new h.Da(_.description)).ad(_,!1):h.aa.yd(a)?(a=new h.Ta(_.description)).oc(_,!0):a=_,(a=h.Hh.lj(a,u)).B()?a:h.Eg.Sb(u)==1?h.Hh.Fn(a,u,0,a!=_,0):P.NQ(a,u,a!=_)},P.NQ=function(_,u,a){if(!h.cb.Wc(u))throw h.i.N();if(_.B())return _;var n=h.cb.bf(u),o=-180*n;return n*=360,h.Eg.Sb(u)==2&&(n=(o=h.cb.gh(u)).C,n-=o=o.v),h.Hh.Hp(_,o,n,u,a,0,!0)},P}()}(Y||(Y={})),function(h){h.BY=function(){function P(){}return P.P=function(_){return 0>_?-_:_},P.Mb=function(_,u){return 0<=u?P.P(_):-P.P(_)},P.Y=function(_,u){return _==u||P.P(_-u)<=P.JC*(1+(P.P(_)+P.P(u))/2)},P.Cd=function(_){return _==0||P.P(_)<=P.JC},P.Ah=function(_,u){var a=(u=(1-(u=Math.sqrt(1-u)))/(1+u))*u;return _/(1+u)*(1+a*(.25+a*(.015625+1/256*a)))*P.EL},P.EL=1.5707963267948966,P.JC=3552713678800501e-30,P}()}(Y||(Y={})),function(h){var P=function(u){this.Wf=u,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};h.DY=P;var _=function(){function u(a){a===void 0&&(a=null),this.Cj=null,this.Un=!1,a!==null&&(this.Cj=new P(a))}return u.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},u.prototype.Of=function(){var a=new u;return this.copyTo(a),a},u.prototype.copyTo=function(a){a.Cj=this.Cj,a.Un=this.Un},u.prototype.Qz=function(){this.Un=!this.Un},u.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},u.prototype.LJ=function(a){if(0>=a)throw h.i.N();if(a!=this.Ec()){if((a=h.pf.geogtran(a))==null)throw h.i.N("Geogtran not found.");this.Cj=new P(a)}},u.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},u.prototype.tX=function(a){if(a==null)throw h.i.N();var n=null;try{n=h.pf.fromString(h.Sc.PE_TYPE_GEOGTRAN,a)}catch{throw h.i.N()}this.Cj=new P(n)},u.prototype.Nb=function(a){return a==this||!(!(a instanceof u)||(0>=this.Ec()||this.Ec()!=a.Ec())&&!this.qm().isEqual(a.qm()))&&this.Un==a.Un},u.prototype.toString=function(){var a="GeographicTransformation: "+this.Bz();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a},u.create=function(a,n){var o=new u;return o.LJ(a),n&&o.Qz(),o},u.uP=function(a,n){var o=new u;return o.tX(a),n&&o.Qz(),o},u}();h.Dx=_}(Y||(Y={})),function(h){var P=function(){function u(){}return u.construct=function(a,n,o,l){var d=new u;return d.hw=a,d.iw=n,d.QY=o,d.RY=l,d},u.Ey=function(a,n){return a.hw==n.hw?a.iw==n.iw?0:a.iw<n.iw?-1:1:a.hw<n.hw?-1:1},u}(),_=function(){function u(){this.yT=[],this.zT=[],this.qp()}return u.kz=function(){return u.jK==null&&(u.jK=new u),u.jK},u.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},u.prototype.iD=function(a){try{var n=[];n=n.sort(P.Ey);for(var o=0;o<n.length;o++)a.push(n[o])}catch{}},u}();h.CY=_}(Y||(Y={})),function(h){var P=function(){function _(){}return _.prototype.yD=function(u){this.Fk=u},_.prototype.WM=function(u){this.Fb=u},_.prototype.xD=function(u){this.zo=u},_.CE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736)},_.AE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736||20>u.I())},_.BE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736||20>u.I())},_}();h.Uk=P}(Y||(Y={})),function(h){h.$b=function(){function P(){}return P.TT=function(_){var u=new h.Da;return u.sx(_.es(),_.gs()),u.yj(_.es(),_.fs()),u.yj(_.ds(),_.fs()),u.yj(_.ds(),_.gs()),u},P.zh=function(_,u){return _===null?null:h.Hx.local().V(_,u,null)},P.jY=function(_,u){var a=h.Gh.local();return _=new h.Zc(_),a.V(_,u,null).next()},P.im=function(_,u,a){return h.kp.local().V(_,u,a,null)},P.ep=function(_,u,a){return h.Kx.local().V(_,u,a,null)},P.VX=function(_,u,a){var n=h.Kx.local();for(_=new h.Zc(_),u=new h.Zc(u),a=n.V(_,u,a,null),n=[];(u=a.next())!=null;)n.push(u);return n},P.Nb=function(_,u,a){return h.dj.local().V(3,_,u,a,null)},P.TP=function(_,u,a){return h.dj.local().V(4,_,u,a,null)},P.RS=function(_,u,a){var n=h.Xj.local();for(_=new h.Zc(_),u=new h.Zc(u),a=n.V(_,u,a,null),n=[];(u=a.next())!=null;)n.push(u);return n},P.QP=function(_,u,a){var n=h.kp.local();for(_=new h.Zc(_),u=new h.Zc(u),a=n.V(_,u,a,null),n=[];(u=a.next())!=null;)n.push(u);return n},P.Ea=function(_,u,a){return h.Xj.local().V(_,u,a,null)},P.QS=function(_,u,a){if((_=h.Xj.local().V(_,u,a,null,1))===null)return[];if(_.getType()===550){for(u=[],a=0;a<_.wa;a++)u.push(_.KR(a));return u}return _.getType()===33?[_]:[]},P.qY=function(_,u,a){return h.dj.local().V(2,_,u,a,null)},P.contains=function(_,u,a){return h.dj.local().V(1,_,u,a,null)},P.BP=function(_,u,a){return h.dj.local().V(16,_,u,a,null)},P.touches=function(_,u,a){return h.dj.local().V(8,_,u,a,null)},P.DU=function(_,u,a){return h.dj.local().V(32,_,u,a,null)},P.TS=function(_,u,a){return h.dj.local().V(1073741824,_,u,a,null)},P.yB=function(_,u,a,n){return h.zL.local().V(_,u,a,n,null)},P.tb=function(_,u,a,n){var o=null;if(a!=null){if(o=a.Hd(),n!=null&&o.Ec()!=n.Ec()&&o.od!=n.od)throw h.i.Xk()}else if(n!=null)throw h.i.N();return _=h.rL.local().V(_,u,null),o!==null&&n!==null&&(_=h.Tc.Nh(_,o,n)),_},P.clip=function(_,u,a){return h.kL.local().V(_,h.l.construct(u.es(),u.gs(),u.ds(),u.fs()),a,null)},P.dl=function(_,u,a){if(_==null||u==null)return null;for(_=h.mL.local().V(!0,_,u,a,null),u=[];(a=_.next())!=null;)a.B()||u.push(a);return u.slice(0)},P.MN=function(_,u,a,n,o,l,d,p){if(o===!0)return P.NN(_,u,a,n,l,d,p);if(o=a,u!=null){if(d=u.Hd(),n!=null&&d.Ec()!=n.Ec()){if(d.od!=n.od)throw h.i.Xk();o=[],h.Tc.XE(a,a.length,n,d,o)}}else if(n!=null)throw h.i.N();if(a=h.AC.local(),l){for(_=new h.Zc(_),u=a.V(_,u,o,l,null),_=[];(l=u.next())!=null;)_.push(l);l=_.slice(0)}else for(l=[],n=0;n<_.length;n++)l[n]=a.V(_[n],u,o[n],null);return l},P.NN=function(_,u,a,n,o,l,d){if(u===null||(n==null&&(n=u.Ec()!==4326?u.Hd():h.Tc.Zg(9001)),n.od!==0))throw h.i.N();if(h.Tc.XE(a,a.length,n,h.Tc.Zg(9001),a),n=h.FC.local(),o){for(_=new h.Zc(_),u=n.V(_,u,l,a,d,!1,o,null),a=[];(l=u.next())!=null;)a.push(l);o=a.slice(0)}else{o=[];for(var p=0;p<_.length;p++)o[p]=n.V(_[p],u,l,a[p],d,!1,null)}return o},P.buffer=function(_,u,a,n,o,l,d){var p=a;if(o===!1){if(u!=null){if(o=u.Hd(),n!=null&&o.Ec()!=n.Ec()){if(o.od!=n.od)throw h.i.Xk();p=h.Tc.Nh(a,n,o)}}else if(n!=null)throw h.i.N();_=h.AC.local().V(_,u,p,null)}else{if(u===null||(n==null&&(n=u.Ec()!==4326?u.Hd():h.Tc.Zg(9001)),n.od!==0))throw h.i.N();p=h.Tc.Nh(a,n,h.Tc.Zg(9001)),_=h.FC.local().V(_,u,l,p,d,!1,null)}return _},P.BU=function(_,u,a,n,o,l,d){if(u!=null){var p=u.Hd();if(d!=null&&p.Ec()!=d.Ec()){if(p.od!=d.od)throw h.i.Xk();a=h.Tc.Nh(a,d,p)}}else if(d!=null)throw h.i.N();for(_=new h.Zc(_),u=h.IC.local().V(_,u,a,n,o,l,null),a=[];(n=u.next())!=null;)a.push(n);return a.slice(0)},P.offset=function(_,u,a,n,o,l,d){if(u!=null){var p=u.Hd();if(d!=null&&p.Ec()!=d.Ec()){if(p.od!=d.od)throw h.i.Xk();a=h.Tc.Nh(a,d,p)}}else if(d!=null)throw h.i.N();return h.IC.local().V(_,u,a,n,o,l,null)},P.iP=function(_){return h.CC.local().V(_,null)},P.jP=function(_,u){var a=h.CC.local();for(_=new h.Zc(_),u=a.V(_,u,null),a=[];(_=u.next())!=null;)a.push(_);return a},P.nz=function(_,u,a){return h.Ix.local().nz(_,u,a)},P.oz=function(_,u){return h.Ix.local().oz(_,u)},P.pz=function(_,u,a,n){return h.Ix.local().pz(_,u,a,n)},P.eC=function(_,u){return h.Yl.local().V(_,u,!1,null)},P.dT=function(_,u){return h.Yl.local().rs(_,u,null)},P.QQ=function(_,u,a,n,o){var l=h.EC.local();if(u!=null){if(u=u.Hd(),o!=null&&u.Ec()!=o.Ec()){if(u.od!=o.od)throw h.i.Xk();a=h.Tc.Nh(a,o,u)}}else if(o!=null)throw h.i.N();return l.V(_,a,n,null)},P.Qr=function(_,u,a,n){var o=h.Xl.local();if(u!=null){if(u=u.Hd(),n!=null&&u.Ec()!=n.Ec()){if(u.od!=n.od)throw h.i.Xk();a=h.Tc.Nh(a,n,u)}}else if(n!=null)throw h.i.N();return o.V(_,a,null)},P.Wy=function(_,u,a,n,o){o===void 0&&(o=0);var l=h.tL.local();if(o==4||o!==0)throw h.i.Ie();if(n!==null){if(n.od!==0)throw h.i.N("Unit must be a linear unit type");a=h.Tc.Nh(a,n,h.Tc.Zg(9001))}return l.V(_,a,u,o,null)},P.WQ=function(_,u,a,n){if(_===null)return 0;if(n==4||n!==0)throw h.i.Ie();if(_.getType()==197)_=P.TT(_);else if(_.getType()!=1736)return 0;if(n=h.cb.sc(u),_=h.cb.zh(_,u,n),_=h.UK.XQ([_])[0],a!==null){if(a.od!==2)throw h.i.N("Unit must be a area unit type");_=h.Tc.Nh(_,h.Tc.Zg(109404),a)}return _},P.ZQ=function(_,u,a,n){if(_=h.vL.local().V(_,u,n,null),a!==null){if(a.od!==0)throw h.i.N("Unit must be a linear unit type");_=h.Tc.Nh(_,h.Tc.Zg(9001),a)}return _},P.JU=function(_,u,a){if(_===null)return 0;var n=null;if(u!=null){if((n=u.Hd()).od==0&&(n=h.Tc.aG(n))==null&&a!==null)throw h.i.N();if(a!=null&&n.Ec()!=a.Ec()&&n.od!=a.od)throw h.i.Xk()}else if(a!=null)throw h.i.N();return _.getType()==1736||_.getType()==197?(_=_.Ke(),a!==null?h.Tc.Nh(_,n,a):_):0},P.KU=function(_,u,a){if(_===null||_.B()||1>_.Db())return 0;var n=null;if(u!=null){if(n=u.Hd(),a!=null&&n.Ec()!=a.Ec()&&n.od!=a.od)throw h.i.Xk()}else if(a!=null)throw h.i.N();_.getType()==1736||_.getType()==197?u=_.mg():h.aa.yd(_.getType())?(u=new h.Ta(_.description)).oc(_,!0):u=_,_=0,u=u.Ga();for(var o=new h.h,l=new h.h;u.$a();)for(;u.Ha();){var d=u.ha();d.Yp(o),d.Tr(l),_+=h.h.tb(o,l)}return n!==null&&a!==null&&(_=h.Tc.Nh(_,n,a)),_},P.fP=function(_){return _.points!==void 0?P.mS(_,_.hasZ!==void 0&&_.hasZ,_.hasM!==void 0&&_.hasM):_.rings!==void 0?P.lG(_.rings,_.hasZ!==void 0&&_.hasZ,_.hasM!==void 0&&_.hasM,"P"):_.paths!==void 0?P.lG(_.paths,_.hasZ!==void 0&&_.hasZ,_.hasM!==void 0&&_.hasM,"L"):_.x!==void 0?P.nS(_):_.xmin!==void 0?P.lS(_):null},P.nS=function(_){if(_.x==null||_.x=="NaN")return new h.Sa;var u=new h.Sa(_.x,_.y);return _.z!==void 0&&_.z!==null&&u.wX(_.z),_.m!==void 0&&_.m!==null&&u.hX(_.m),u},P.lS=function(_){if(_.xmin==null||_.xmin=="NaN")return new h.Fh;var u=new h.Fh(_.xmin,_.ymin,_.xmax,_.ymax);return _.zmin!==void 0&&_.zmin!==null&&u.setInterval(1,0,_.zmin,_.zmax),_.mmin!==void 0&&_.mmin!==null&&u.setInterval(2,0,_.mmin,_.mmax),u},P.mS=function(_,u,a){var n=0,o=new h.de,l=3*_.points.length;l%2!=0&&l++,2>l&&(l=2);var d=h.O.truncate(3*_.points.length/2);4>d?d=4:16>d&&(d=16),l=h.Yc.Dn(l,0);var p=h.Yc.Dn(d);d=h.Yc.Dn(d);for(var y=0;y<_.points.length;y++)l.write(2*y,_.points[y][0]),l.write(2*y+1,_.points[y][1]),p.write(y,u||a?_.points[y][2]:NaN),d.write(y,a&&u?_.points[y][3]:NaN),n++;return n!=0&&(o.resize(n),o.hn(0,l)),u&&(o.re(1),o.hn(1,p)),a&&(o.re(2),o.hn(2,u==0?p:d)),o.Pc(16777215),o},P.lG=function(_,u,a,n){var o=0,l=2;if(n=="P"){var d=new h.Da;o=1,l=3}else d=new h.Ta;for(var p=h.Yc.Oh(0),y=h.Yc.Mr(0),v=0,$=0,I=[],k=[],O=0;O<_.length;O++){var F=_[O].length;if(I[O]=!1,n==="P"&&_[O][0][0]===_[O][_[O].length-1][0]&&_[O][0][1]===_[O][_[O].length-1][1]){var j=a==0||_[O][0][3]===_[O][_[O].length-1][3]||_[O][0][3]===void 0&&_[O][_[O].length-1][3]===void 0;(u==0||_[O][0][2]===_[O][_[O].length-1][2]||_[O][0][2]===void 0&&_[O][_[O].length-1][2]===void 0)&&j&&(I[O]=!0,--F)}F>=l?(k[O]=!1,$+=1,p.add(v),y.add(o),v+=F):k[O]=!0}for((n=3*v)%2!=0&&n++,2>n&&(n=2),4>(O=h.O.truncate(3*v/2))?O=4:16>O&&(O=16),n=h.Yc.Dn(n,0),o=h.Yc.Dn(O),l=h.Yc.Dn(O),O=F=0;O<_.length;O++)if(k[O]===!1)for(j=0;j<_[O].length;j++){var z=!1;j===_[O].length-1&&I[O]===!0&&(z=!0),z||(n.write(2*F,_[O][j][0]),n.write(2*F+1,_[O][j][1]),o.write(F,u||a?_[O][j][2]:NaN),l.write(F,a&&u?_[O][j][3]:NaN),F++)}return v!=0&&(_=d,p.resize($),y.resize($),0<v&&(p.add(v),y.add(0)),_.hn(0,n),_.PJ(y),_.QJ(p)),u&&(d.re(1),d.hn(1,o)),a&&(d.re(2),d.hn(2,u==0?o:l)),d.Pc(16777215),d},P}()}(Y||(Y={})),function(h){h.Ex=function(){function P(){}return P.br=function(_){var u,a=0,n=_.length,o=_[0];for(u=0;u<n-1;u++){var l=_[u+1];a+=(l[0]-o[0])*(l[1]+o[1]),o=l}return 0<=a},P.rotate=function(_,u,a){u=u*Math.PI/180;var n=Math.cos(u),o=Math.sin(u);if(_.paths!==void 0){u={paths:[]};for(var l=0;l<_.paths.length;l++){for(var d=_.paths[l],p=[],y=0;y<d.length;y++){var v=d[y].slice(0);p.push(v);var $=n*(d[y][0]-a.x)-o*(d[y][1]-a.y)+a.x,I=o*(d[y][0]-a.x)+n*(d[y][1]-a.y)+a.y;v[0]=$,v[1]=I}u.paths.push(p),_.hasZ!==void 0&&(u.hasZ=_.hasZ),_.hasM!==void 0&&(u.hasM=_.hasM)}return u}if(_.rings!==void 0){for(u={rings:[]},l=0;l<_.rings.length;l++){d=_.rings[l],p=[];var k=P.br(d);for(y=0;y<d.length;y++)v=d[y].slice(0),p.push(v),$=n*(d[y][0]-a.x)-o*(d[y][1]-a.y)+a.x,I=o*(d[y][0]-a.x)+n*(d[y][1]-a.y)+a.y,v[0]=$,v[1]=I;P.br(p)!==k&&p.reverse(),u.rings.push(p),_.hasZ!==void 0&&(u.hasZ=_.hasZ),_.hasM!==void 0&&(u.hasM=_.hasM)}return u}if(_.x!==void 0)return u={x:n*(_.x-a.x)-o*(_.y-a.y)+a.x,y:o*(_.x-a.x)+n*(_.y-a.y)+a.y},_.z!==void 0&&(u.z=_.z),_.m!==void 0&&(u.m=_.m),_.hasZ!==void 0&&(u.hasZ=_.hasZ),_.hasM!==void 0&&(u.hasM=_.hasM),u;if(_.points!==void 0){for(u={points:[]},l=_.points,y=0;y<l.length;y++)(d=l[y].slice(0))[0]=n*(l[y][0]-a.x)-o*(l[y][1]-a.y)+a.x,d[1]=o*(l[y][0]-a.x)+n*(l[y][1]-a.y)+a.y,u.points.push(d);return _.hasZ!==void 0&&(u.hasZ=_.hasZ),_.hasM!==void 0&&(u.hasM=_.hasM),u}return null},P.JQ=function(_,u){if(_.paths!==void 0){for(var a={paths:[]},n=0;n<_.paths.length;n++){for(var o=_.paths[n],l=[],d=0;d<o.length;d++){var p=o[d].slice(0);l.push(p);var y=u.x-o[d][0];p[0]=o[d][0]+2*y}a.paths.push(l)}return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}if(_.rings!==void 0){for(a={rings:[]},n=0;n<_.rings.length;n++){o=_.rings[n];var v=P.br(o);for(l=[],d=0;d<o.length;d++)p=o[d].slice(0),l.push(p),y=u.x-o[d][0],p[0]=o[d][0]+2*y;P.br(l)!==v&&l.reverse(),a.rings.push(l)}return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}if(_.x!==void 0)return y=u.x-_.x,a={x:_.x+2*y,y:_.y},_.z!==void 0&&(a.z=_.z),_.m!==void 0&&(a.m=_.m),_.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a;if(_.points!==void 0){for(a={points:[]},n=_.points,d=0;d<n.length;d++)o=n[d].slice(0),y=u.x-o[0],o[0]+=2*y,a.points.push(o);return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}return _.xmin!==void 0?(a={v:_.xmin,G:_.ymin,C:_.xmax,H:_.ymax},_.zmin!==void 0&&(a.zmin=_.zmin,a.zmax=_.zmax),_.mmin!==void 0&&(a.mmin=_.mmin,a.mmax=_.mmax),y=u.x-_.xmin,a.xmax=_.xmin+2*y,y=u.x-_.xmax,a.xmin=_.xmax+2*y,_.zmin!==void 0&&(a.zmin=_.zmin),_.zmax!==void 0&&(a.zmax=_.zmax),_.mmin!==void 0&&(a.mmin=_.mmin),_.mmax!==void 0&&(a.mmax=_.mmax),_.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a):null},P.KQ=function(_,u){if(_.paths!==void 0){for(var a={paths:[]},n=0;n<_.paths.length;n++){for(var o=_.paths[n],l=[],d=0;d<o.length;d++){var p=o[d].slice(0);l.push(p);var y=u.y-o[d][1];p[1]=o[d][1]+2*y}a.paths.push(l)}return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}if(_.rings!==void 0){for(a={rings:[]},n=0;n<_.rings.length;n++){o=_.rings[n];var v=P.br(o);for(l=[],d=0;d<o.length;d++)p=o[d].slice(0),l.push(p),y=u.y-o[d][1],p[1]=o[d][1]+2*y;P.br(l)!==v&&l.reverse(),a.rings.push(l)}return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}if(_.x!==void 0)return y=u.y-_.y,a={y:_.y+2*y,x:_.x},_.z!==void 0&&(a.z=_.z),_.m!==void 0&&(a.m=_.m),_.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a;if(_.points!==void 0){for(a={points:[]},n=_.points,d=0;d<n.length;d++)o=n[d].slice(0),y=u.y-o[1],o[1]+=2*y,a.points.push(o);return _.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a}return _.xmin!==void 0?(a={v:_.xmin,G:_.ymin,C:_.xmax,H:_.ymax},_.zmin!==void 0&&(a.zmin=_.zmin,a.zmax=_.zmax),_.mmin!==void 0&&(a.mmin=_.mmin,a.mmax=_.mmax),y=u.y-_.ymin,a.ymax=_.ymin+2*y,y=u.y-_.ymax,a.ymin=_.ymax+2*y,_.zmin!==void 0&&(a.zmin=_.zmin),_.zmax!==void 0&&(a.zmax=_.zmax),_.mmin!==void 0&&(a.mmin=_.mmin),_.mmax!==void 0&&(a.mmax=_.mmax),_.hasZ!==void 0&&(a.hasZ=_.hasZ),_.hasM!==void 0&&(a.hasM=_.hasM),a):null},P}()}(Y||(Y={})),function(h){h.ZK=function(){function P(){}return P.Ig=function(_,u){switch(u==null&&(u=h.ee.og()),_){case 33:return new h.Sa(u);case 322:return new h.yb(u);case 197:return new h.Fh(u);case 550:return new h.de(u);case 1607:return new h.Ta(u);case 1736:return new h.Da(u);default:throw h.i.fa("invalid argument.")}},P}()}(Y||(Y={})),function(h){var P=function(){function _(u,a){this.Te=h.ia.qf(u,-1),this.ua=new h.au,this.wl=a}return _.prototype.AW=function(u){this.ua.At(Math.min(this.Te.size,u)),this.ua.fn(u)},_.prototype.addElement=function(u,a){if(a===void 0)return this.eN(u);a=h.O.truncate(a%this.Te.size);var n=this.Te.get(a);return n==-1&&(n=this.ua.Ph(),this.Te.set(a,n)),this.ua.addElement(n,u)},_.prototype.eN=function(u){var a=this.wl.jz(u);a=h.O.truncate(a%this.Te.size);var n=this.Te.get(a);return n==-1&&(n=this.ua.Ph(),this.Te.set(a,n)),this.ua.addElement(n,u)},_.prototype.jd=function(u,a){if(a===void 0)this.KP(u);else{a=h.O.truncate(a%this.Te.size);var n=this.Te.get(a);if(n==-1)throw h.i.N();for(var o=this.ua.rc(n),l=-1;o!=-1;){var d=this.ua.lb(o);this.ua.ja(o)==u?(this.ua.jd(n,l,o),this.ua.rc(n)==-1&&(this.ua.bh(n),this.Te.set(a,-1))):l=o,o=d}}},_.prototype.KP=function(u){var a=this.wl.jz(u);a=h.O.truncate(a%this.Te.size);var n=this.Te.get(a);if(n==-1)throw h.i.N();for(var o=this.ua.rc(n),l=-1;o!=-1;){var d=this.ua.lb(o);this.ua.ja(o)==u?(this.ua.jd(n,l,o),this.ua.rc(n)==-1&&(this.ua.bh(n),this.Te.set(a,-1))):l=o,o=d}},_.prototype.rR=function(u){return u=h.O.truncate(u%this.Te.size),(u=this.Te.get(u))==-1?-1:this.ua.rc(u)},_.prototype.ER=function(u){return this.ua.lb(u)},_.prototype.vd=function(u){var a=this.wl.jz(this.ja(u));a=h.O.truncate(a%this.Te.size);var n=this.Te.get(a);if(n==-1)throw h.i.N();for(var o=this.ua.rc(n),l=-1;o!=-1;){if(o==u)return this.ua.jd(n,l,o),void(this.ua.rc(n)==-1&&(this.ua.bh(n),this.Te.set(a,-1)));l=o,o=this.ua.lb(o)}throw h.i.N()},_.prototype.ja=function(u){return this.ua.ja(u)},_.prototype.clear=function(){this.Te=h.ia.qf(this.Te.size,-1),this.ua.clear()},_.prototype.size=function(){return this.ua.TF()},_}();h.dL=P}(Y||(Y={})),function(h){var P=function(){function _(){this.Li=new h.$c(3),this.ua=new h.$c(6),this.sT=!1,this.je=-1}return _.prototype.fl=function(u){this.Li.jd(u)},_.prototype.Pw=function(){return this.Li.Ce()},_.prototype.bv=function(u){this.ua.jd(u)},_.prototype.$A=function(){return this.ua.Ce()},_.prototype.WB=function(u,a){this.Li.S(u,1,a)},_.prototype.ex=function(u,a){this.Li.S(u,2,a)},_.prototype.gX=function(u,a){this.Li.S(u,3,a)},_.prototype.UB=function(u,a){this.ua.S(u,4,a)},_.prototype.jX=function(u,a){this.ua.S(u,3,a)},_.prototype.TJ=function(u,a){this.ua.S(u,2,a)},_.prototype.Ph=function(u){var a=this.$A();return this.ua.S(a,3,this.je),this.ua.S(a,4,0),this.ua.S(a,5,u),this.je!=-1&&this.TJ(this.je,a),this.je=a},_.prototype.bh=function(u){this.LE(u);var a=this.ua.T(u,2),n=this.ua.T(u,3);return a!=-1?this.jX(a,n):this.je=n,n!=-1&&this.TJ(n,a),this.bv(u),n},_.prototype.At=function(u){this.ua.De(u)},_.prototype.PF=function(u){return this.ua.T(u,5)},_.prototype.fX=function(u,a){this.ua.S(u,5,a)},_.prototype.addElement=function(u,a){return this.tS(u,a)},_.prototype.tS=function(u,a){var n=this.Pw();this.ex(n,-1),this.ua.T(u,0)==-1&&this.ua.S(u,0,n);var o=this.ua.T(u,1);return this.WB(n,o),o!=-1&&this.ex(o,n),this.ua.S(u,1,n),this.setData(n,a),this.UB(u,this.bs(u)+1),this.sT&&this.gX(n,u),n},_.prototype.jd=function(u,a){var n=this.we(a),o=this.lb(a);return n!=-1?this.ex(n,o):this.ua.S(u,0,o),o!=-1?this.WB(o,n):this.ua.S(u,1,n),this.fl(a),this.UB(u,this.bs(u)-1),o},_.prototype.fn=function(u){this.Li.De(u)},_.prototype.getData=function(u){return this.Li.T(u,0)},_.prototype.setData=function(u,a){this.Li.S(u,0,a)},_.prototype.lb=function(u){return this.Li.T(u,2)},_.prototype.we=function(u){return this.Li.T(u,1)},_.prototype.rc=function(u){return this.ua.T(u,0)},_.prototype.Fc=function(u){return this.ua.T(u,1)},_.prototype.clear=function(){for(var u=this.je;u!=-1;)u=this.bh(u)},_.prototype.LE=function(u){for(var a=this.Fc(u);a!=-1;){var n=a;a=this.we(n),this.fl(n)}this.ua.S(u,0,-1),this.ua.S(u,1,-1),this.UB(u,0)},_.prototype.B=function(){return this.Li.size==0},_.prototype.TF=function(){return this.Li.size},_.prototype.bs=function(u){return this.ua.T(u,4)},_.prototype.qz=function(u){return this.ua.T(u,3)},_}();h.jp=P}(Y||(Y={})),function(h){var P=function(){function _(u){u===void 0?(this.ug=new h.$c(2),this.ua=new h.$c(4),this.je=-1,this.Qv=!0):(this.ug=new h.$c(2),this.ua=new h.$c(u?4:2),this.je=-1,this.Qv=u)}return _.prototype.fl=function(u){this.ug.jd(u)},_.prototype.Pw=function(){return this.ug.Ce()},_.prototype.bv=function(u){this.ua.jd(u)},_.prototype.$A=function(){return this.ua.Ce()},_.prototype.Ph=function(){var u=this.$A();return this.Qv&&(this.ua.S(u,3,this.je),this.je!=-1&&this.ua.S(this.je,2,u),this.je=u),u},_.prototype.bh=function(u){for(var a=this.rc(u);a!=-1;){var n=a;a=this.lb(a),this.fl(n)}this.Qv&&(a=this.ua.T(u,2),n=this.ua.T(u,3),a!=-1?this.ua.S(a,3,n):this.je=n,n!=-1&&this.ua.S(n,2,a)),this.bv(u)},_.prototype.At=function(u){this.ua.De(u)},_.prototype.addElement=function(u,a){var n=this.ua.T(u,1),o=this.Pw();return n!=-1?this.ug.S(n,1,o):this.ua.S(u,0,o),this.ua.S(u,1,o),this.ug.S(o,0,a),o},_.prototype.fn=function(u){this.ug.De(u)},_.prototype.jd=function(u,a,n){a!=-1?(this.ug.S(a,1,this.ug.T(n,1)),this.ua.T(u,1)==n&&this.ua.S(u,1,a)):(this.ua.S(u,0,this.ug.T(n,1)),this.ua.T(u,1)==n&&this.ua.S(u,1,-1)),this.fl(n)},_.prototype.Hy=function(u,a){var n=this.ua.T(u,1),o=this.ua.T(a,0);o!=-1&&(n!=-1?this.ug.S(n,1,o):this.ua.S(u,0,o),this.ua.S(u,1,this.ua.T(a,1))),this.Qv&&(u=this.ua.T(a,2),n=this.ua.T(a,3),u!=-1?this.ua.S(u,3,n):this.je=n,n!=-1&&this.ua.S(n,2,u)),this.bv(a)},_.prototype.ja=function(u){return this.ug.T(u,0)},_.prototype.Sj=function(u,a){this.ug.S(u,0,a)},_.prototype.lb=function(u){return this.ug.T(u,1)},_.prototype.rc=function(u){return this.ua.T(u,0)},_.prototype.Jn=function(u){return this.ja(this.rc(u))},_.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},_.prototype.B=function(){return this.ug.size==0},_.prototype.TF=function(){return this.ug.size},_.prototype.qz=function(u){return this.ua.T(u,3)},_}();h.au=P}(Y||(Y={})),function(h){h.ta=function(){function P(){}return P.Wd=function(_,u,a){return u=u.xr(),_=_!=null&&_.Xd!==void 0?_.Xd(0):0,a&&(u*=4,_*=1.1),Math.max(_,u)},P.Er=function(_){return 2*Math.sqrt(2)*_},P.rN=function(_){return Math.sqrt(2)*_},P.kj=function(_,u,a){var n=new h.l;return u.A(n),P.Wd(_,n,a)},P.wE=function(_,u,a){return u=u.Tg(1,0).xr(),_=_!=null?_.Xd(1):0,a&&(u*=4,_*=1.1),Math.max(_,u)},P.mv=function(_,u){var a=new h.l;return _.xc(a),_=new h.l,u.xc(_),a.Zb(_),a},P.YN=function(_){var u=new h.l;if(_.xc(u),u.B())return null;var a=new h.du(u,8),n=-1,o=new h.l,l=!1;do for(var d=0,p=_.da();d<p;d++){if(_.Rj(d,o),(n=a.Jz(d,o,n))==-1){if(l)throw h.i.fa("internal error");_.yp(u,!1),l=!0,a.reset(u,8);break}l=!1}while(l);return a},P.nE=function(_){var u=new h.l;_.xc(u);for(var a=new h.du(u,8),n=-1,o=_.Ga(),l=new h.l,d=!1;o.$a();)for(;o.Ha();){var p=o.ha(),y=o.wb();if(p.A(l),(n=a.Jz(y,l,n))==-1){if(d)throw h.i.Qa();_.yp(u,!1),d=!0,a.reset(u,8),o.Zi();break}}return a},P.jj=function(_,u){var a=new h.l;_.xc(a);for(var n=new h.du(a,8),o=-1,l=new h.l,d=_.Ga(),p=!1;d.$a();)for(;d.Ha();){var y=d.ha(),v=d.wb();if(y.A(l),l.isIntersecting(u)&&(o=n.Jz(v,l,o))==-1){if(p)throw h.i.fa("internal error.");_.yp(a,!1),p=!0,n.reset(a,8),d.Zi();break}}return n},P.oE=function(_,u){for(var a=new h.du(u,8),n=new h.h,o=!1,l=new h.l,d=0;d<_.I();d++)if(_.D(d,n),u.contains(n)&&(l.K(n),a.vj(d,l)==-1)){if(o)throw h.i.Qa();o=!0,d=new h.l,_.yp(d,!1),a.reset(d,8),d=-1}return a},P.lR=function(_,u,a){var n=new h.l,o=new h.l;_.xc(n),u.xc(o),n.W(a,a),o.W(a,a);var l=new h.l;l.K(n),l.Ea(o),_=_.Ga(),u=u.Ga();var d=new h.xC;d.aC(a);var p=!1;for(d.pK();_.$a();)for(;_.Ha();)_.ha().A(n),n.isIntersecting(l)&&(p=!0,(a=new h.l).K(n),d.JD(_.wb(),a));if(d.iF(),!p)return null;for(n=!1,d.oK();u.$a();)for(;u.Ha();)u.ha().A(o),o.isIntersecting(l)&&(n=!0,(a=new h.l).K(o),d.ED(u.wb(),a));return d.hF(),n?d:null},P.mR=function(_,u,a,n,o){var l=_.getType(),d=u.getType(),p=new h.l,y=new h.l;_.xc(p),u.xc(y),p.W(a,a),y.W(a,a);var v=new h.l;v.K(p),v.Ea(y);var $=new h.xC;$.aC(a);var I=!1;$.pK();var k=0;for(a=_.da();k<a;k++)n&&l==1736&&!_.Ev(k)||(_.Rj(k,p),p.isIntersecting(v)&&(I=!0,$.JD(k,p)));if($.iF(),!I)return null;for(_=!1,$.oK(),n=0,a=u.da();n<a;n++)o&&d==1736&&!u.Ev(n)||(u.Rj(n,y),y.isIntersecting(v)&&(_=!0,$.ED(n,y)));return $.hF(),_?$:null},P.Ru=function(_,u,a){if(_!=u)for(var n=0;n<a;n++)_[n]==null?_[n]=h.h.al(u[n]):_[n].L(u[n])},P.Jy=function(_,u,a,n){var o=0;for(n+=0;o<n;a++,o++)_[o]==null&&(_[o]=[0,0]),_[o][0]=u[a].x,_[o][1]=u[a].y},P.Iy=function(_,u,a,n){var o=u,l=0;for(u=n+u;o<u;l++,o++)_[o]==null?_[o]=h.h.construct(a[l][0],a[l][1]):_[o].ma(a[l][0],a[l][1])},P.kP=function(_,u,a){if(_!=u)for(var n=0;n<a;n++)_[n]==null?_[n]=new h.Sa(u[n]):u[n].copyTo(_[n])},P.vE=function(_,u,a,n){var o=0;return _!=null&&(o=_.Xd(0),n&&!a||_==null||(o+=1.01*_.vz(0))),a&&(u*=4,o*=1.01),Math.max(o,u)},P.ty=function(_,u,a){return P.vE(_,u.xr(),a,!1)},P.gO=function(_,u){var a=new h.l;return u.A(a),P.ty(_,a,!0)},P.uy=function(_,u){return P.vE(_,u.xr(),!1,!0)},P.Hu=function(_,u){var a=new h.l;return u.A(a),P.uy(_,a)},P.AG=function(_,u,a,n){n*=n;var o=new h.h;if(o.uc(_,u),(_=new h.h).uc(a,u),u=o.Sk(),a=_.Sk(),u<=n&&a<=n)return!0;var l=h.lc.ox(o.wi(_));return(l<=n*u||l<=n*a)&&0<=o.Qh(_)},P.dK=function(_,u,a,n){for(var o=0;o<u;o++){var l=_[o].y,d=h.O.Rk(l,a,n);d!=l&&(_[o].y=d)}},P}()}(Y||(Y={})),function(h){var P,_,u=function(){function l(d){this.Ya=d}return l.prototype.compare=function(d,p,y){d=d.ja(y),y=this.Ya.nk(p);var v=this.Ya.nk(d);return y<v?-1:y==v?o.gq(p)&&o.Gv(d)?-1:o.gq(d)&&o.Gv(p)?1:0:1},l}(),a=function(){function l(d){this.Ya=d}return l.prototype.nr=function(d,p,y){this.Ya.GX(y,d,p)},l.prototype.$p=function(d){return this.Ya.nk(d)},l}();(_=P||(P={}))[_.initialize=0]="initialize",_[_.pIn=1]="pIn",_[_.pL=2]="pL",_[_.pR=3]="pR",_[_.pT=4]="pT",_[_.right=5]="right",_[_.left=6]="left",_[_.all=7]="all";var n=function(){function l(){this.Ya=null,this.Qi=new h.Nc,this.hi=new h.ia(0),this.sg=[0,0]}return l.prototype.Xi=function(d,p){this.Qi.oa=d.oa-p,this.Qi.va=d.va+p,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.EB=function(d,p,y){if(d>p)throw h.i.N();this.Qi.oa=d-y,this.Qi.va=p+y,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.Uo=function(d,p){this.Qi.oa=d-p,this.Qi.va=d+p,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.next=function(){if(!this.Ya.lq)throw h.i.Hb();if(0>this.he)return-1;for(var d=!0;d;)switch(this.sg[this.he]){case 1:d=this.FU();break;case 2:d=this.GU();break;case 3:d=this.HU();break;case 4:d=this.IU();break;case 5:d=this.GW();break;case 6:d=this.kT();break;case 7:d=this.tN();break;case 0:d=this.Gz();break;default:throw h.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},l.construct=function(d){var p=new l;return p.Ya=d,p.hi.Jb(20),p.he=-1,p},l.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},l.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var d=this.Ya.Np(this.Lc);return this.Qi.va<d?(d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=6),!0):d<this.Qi.oa?(d=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.Zr(d),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),!0)},l.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var d=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.Zr(d),this.sg[++this.he]=5),!0}return d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),(d=this.Ya.lk(this.Lc))!=-1&&this.hi.add(d),!0},l.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var d=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=6),!0}return d=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),(d=this.Ya.qj(this.Lc))!=-1&&this.hi.add(d),!0},l.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var d=this.Ya.mk(this.Lc);return d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},l.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&o.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&o.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},l.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&o.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},l.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},l.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},l}();h.EY=n;var o=function(){function l(d){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=d,this.lq=this.Sv=!1}return l.prototype.kr=function(){this.Nk(!0)},l.prototype.Br=function(d,p){if(!this.Sv)throw h.i.Hb();this.Fj.push(new h.Nc(d,p))},l.prototype.Fp=function(){if(!this.Sv)throw h.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},l.prototype.vj=function(d){if(!this.Sf||!this.lq)throw h.i.N("invalid call");if(this.kf==-1){var p=this.Fj.length;if(this.iA){var y=new h.ia(0);y.Jb(2*p),this.bJ(y),this.$h.Jb(2*p),this.$h.resize(0),this.aJ(y),this.Km.resize(p,-1),this.Km.Wj(-1,0,p),this.iA=!1}else this.Km.Wj(-1,0,p);this.kf=this.Tu()}p=this.pG(d<<1,this.kf),y=this.$f.addElement(1+(d<<1),this.xz(p)),this.VJ(p,y),this.Km.set(d,p),this.Zv++},l.prototype.remove=function(d){if(!this.Sf||!this.lq)throw h.i.fa("invalid call");var p=this.Km.get(d);if(p==-1)throw h.i.N("the interval does not exist in the interval tree");this.Km.set(d,-1),this.Zv--;var y=this.xz(p),v=this.$f.ZR(y);this.$f.vd(this.wR(p),y),this.$f.vd(this.TR(p),y),(d=this.$f.size(y))==0&&(this.$f.MP(y),this.ZJ(v,-1)),this.Ej.jd(p),y=this.UF(v);var $=this.qj(v),I=this.lk(v);for(p=0;!(0<d||v==this.kf||$!=-1&&I!=-1);)v==this.qj(y)?$!=-1?(this.Ok(y,$),this.Uj($,y),this.Ok(v,-1)):I!=-1?(this.Ok(y,I),this.Uj(I,y),this.Qk(v,-1)):this.Ok(y,-1):$!=-1?(this.Qk(y,$),this.Uj($,y),this.Ok(v,-1)):I!=-1?(this.Qk(y,I),this.Uj(I,y),this.Qk(v,-1)):this.Qk(y,-1),this.Uj(v,-1),p++,v=y,d=(y=this.mk(v))!=-1?this.$f.size(y):0,$=this.qj(v),I=this.lk(v),y=this.UF(v)},l.prototype.reset=function(){if(!this.Sf||!this.lq)throw h.i.N("invalid call");this.Nk(!1)},l.prototype.size=function(){return this.Zv},l.prototype.getIterator=function(){return n.construct(this)},l.prototype.bJ=function(d){for(var p=this.Fj.length,y=0;y<2*p;y++)d.add(y);this.HX(d,2*p)},l.prototype.aJ=function(d){for(var p=NaN,y=0;y<d.size;y++){var v=d.get(y),$=this.nk(v);$!=p&&(this.$h.add(v),p=$)}},l.prototype.vS=function(){var d=this.Fj.length,p=new h.ia(0);p.Jb(2*d),this.bJ(p),this.$h.Jb(2*d),this.$h.resize(0),this.aJ(p),this.Ej.De(d),this.Ti.fn(2*d);var y=h.Yc.Oh(d);for(y.Wj(-1,0,d),this.kf=this.Tu(),d=0;d<p.size;d++){var v=p.get(d),$=y.get(v>>1);$!=-1?this.VJ($,this.Ti.addElement(this.xz($),v)):($=this.pG(v,this.kf),y.set(v>>1,$))}},l.prototype.pG=function(d,p){var y=p,v=p,$=-1,I=0,k=this.$h.size-1,O=0,F=d>>1,j=NaN,z=NaN,B=!0,H=this.DR(F);for(F=this.AR(F);B;){I<k?(O=I+h.O.truncate((k-I)/2),this.gz(y)==-1&&this.FJ(y,this.$h.get(O),this.$h.get(O+1))):this.gz(y)==-1&&this.FJ(y,this.$h.get(I),this.$h.get(I));var U=this.Np(y);if(F<U)p!=-1&&(p==y?(v=y,j=U,z=(p=this.qj(y))!=-1?this.Np(p):NaN):z>U&&(U<j?this.Ok(v,y):this.Qk(v,y),this.Qk(y,p),this.Sf&&(this.Uj(y,v),this.Uj(p,y)),v=y,j=U,p=-1,z=NaN)),(k=this.xR(y))==-1&&(k=this.Tu(),this.dX(y,k)),y=k,k=O;else if(H>U)p!=-1&&(p==y?(v=y,j=U,z=(p=this.lk(y))!=-1?this.Np(p):NaN):z<U&&(U<j?this.Ok(v,y):this.Qk(v,y),this.Ok(y,p),this.Sf&&(this.Uj(y,v),this.Uj(p,y)),v=y,j=U,p=-1,z=NaN)),(I=this.UR(y))==-1&&(I=this.Tu(),this.oX(y,I)),y=I,I=O+1;else{(B=this.mk(y))==-1&&(B=this.zP(y),this.ZJ(y,B));var Z=this.fN(B,d);$=this.xP(),this.qX($,B),this.cX($,Z),y!=p&&(U<j?this.Ok(v,y):this.Qk(v,y),this.Sf&&this.Uj(y,v),p!=-1&&(z<U?this.Ok(y,p):this.Qk(y,p),this.Sf&&this.Uj(p,y))),B=!1}}return $},l.prototype.Tu=function(){return this.me.Ce()},l.prototype.zP=function(d){return this.Sf?this.$f.Pr(d):this.Ti.Ph(d)},l.prototype.xP=function(){return this.Ej.Ce()},l.prototype.Nk=function(d){d?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=h.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=h.Yc.Oh(0),this.$f=new h.Yj,this.$f.Vo(new u(this))):this.$f.clear():this.Ti==null?this.Ti=new h.jp:this.Ti.clear(),this.me==null?(this.Ej=new h.$c(3),this.me=new h.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},l.prototype.FJ=function(d,p,y){this.XW(d,p),this.YW(d,y)},l.prototype.Np=function(d){var p=this.gz(d);return p==-1?NaN:(p=this.nk(p))==(d=this.nk(this.gR(d)))?p:.5*(p+d)},l.prototype.XW=function(d,p){this.me.S(d,0,p)},l.prototype.YW=function(d,p){this.me.S(d,1,p)},l.prototype.dX=function(d,p){this.me.S(d,3,p)},l.prototype.oX=function(d,p){this.me.S(d,4,p)},l.prototype.ZJ=function(d,p){this.me.S(d,2,p)},l.prototype.Ok=function(d,p){this.me.S(d,5,p)},l.prototype.Qk=function(d,p){this.me.S(d,6,p)},l.prototype.Uj=function(d,p){this.me.S(d,7,p)},l.prototype.qX=function(d,p){this.Ej.S(d,0,p)},l.prototype.fN=function(d,p){return this.Sf?this.$f.addElement(p,d):this.Ti.addElement(d,p)},l.prototype.cX=function(d,p){this.Ej.S(d,1,p)},l.prototype.VJ=function(d,p){this.Ej.S(d,2,p)},l.prototype.kl=function(d){return this.Sf?this.$f.rc(d):this.Ti.rc(d)},l.prototype.Zr=function(d){return this.Sf?this.$f.Fc(d):this.Ti.Fc(d)},l.gq=function(d){return(1&d)==0},l.Gv=function(d){return(1&d)==1},l.prototype.gz=function(d){return this.me.T(d,0)},l.prototype.gR=function(d){return this.me.T(d,1)},l.prototype.mk=function(d){return this.me.T(d,2)},l.prototype.xR=function(d){return this.me.T(d,3)},l.prototype.UR=function(d){return this.me.T(d,4)},l.prototype.qj=function(d){return this.me.T(d,5)},l.prototype.lk=function(d){return this.me.T(d,6)},l.prototype.UF=function(d){return this.me.T(d,7)},l.prototype.xz=function(d){return this.Ej.T(d,0)},l.prototype.wR=function(d){return this.Ej.T(d,1)},l.prototype.TR=function(d){return this.Ej.T(d,2)},l.prototype.DR=function(d){return this.Fj[d].oa},l.prototype.AR=function(d){return this.Fj[d].va},l.prototype.HX=function(d,p){this.Am==null&&(this.Am=new h.Xt);var y=new a(this);this.Am.sort(d,0,p,y)},l.prototype.GX=function(d,p,y){var v=this;d.Vd(p,y,function($,I){var k=v.nk($),O=v.nk(I);return k<O||k==O&&l.gq($)&&l.Gv(I)?-1:1})},l.prototype.nk=function(d){var p=this.Fj[d>>1];return l.gq(d)?p.oa:p.va},l}();h.sr=o}(Y||(Y={})),function(h){var P=function(){function _(u){if(u==null)throw h.i.fa("Invalid arguement");this.hf=u;var a=u.nR();a.hS()?u.ef.IG()?this.lo=h.si.PannableFold:this.lo=h.si.Clip:this.lo=h.si.DontClip,a.iS()?u.Yf.IG()?this.Qm=h.si.PannableFold:this.Qm=h.si.Clip:this.Qm=h.si.DontClip,this.Bm=a.Jr,this.mH=a.Vu,u=this.hf.sH,this.aH=u.hs(2147483648),this.Uv=u.hs(1073741824)}return _.zh=function(u,a,n){return a.ww.zh(u,n)},_.Rt=function(u,a,n,o){return u.ww.Rt(a,n,o)},_.Qt=function(u,a,n,o){if(n=0>n?a.length:n,(u=u.ww.Rt(a,n,o))==n)return u;for(var l=a=0;l<n;l++){var d=o[l];d.isNaN()||(a<l&&o[a].L(d),a++)}for(;a<n;a++)o[a].Rc();return u},_.transform=function(u,a,n,o,l){if(u.isIdentity())return h.ta.kP(o,a,n),n;for(var d=[],p=0,y=0;y<n;){for(var v=Math.min(d.length,n-y),$=y,I=0;$<v;$++,I++)d[I]==null?d[I]=a[$].D():a[$].D(d[I]);var k=l?_.Qt(u,d,v,d):_.Rt(u,d,v,d);for(I=$=0;$<k;$++,I++)o[y]==null&&(o[y]=new h.Sa(a[y])),o[y].Cb(d[I]);y+=v,p+=k}return p},_.prototype.Rt=function(u,a,n){if(this.hf.isIdentity())return u!=n&&h.ta.Ru(n,u,a),a;var o=this.hf.ef,l=this.hf.Yf,d=o.Sb(),p=l.Sb();if(d==0&&d===p){var y=o.Qp();return l=y/(l=l.Qp()),(y=new h.Dd).setScale(l,l),y.eY(u,a,n),a}if(y=h.O.Fu(Math.min(a,64)),d==3){var v=o.Ji;d=(o=v.fk()).Sb(),n!=u&&h.ta.Ru(n,u,a),h.zb.$k(v,n,a,!0),v.Qt(h.bm.forward,n,a),h.zb.Zk(v,n,a,!0)}if(d==3||p===3)throw h.i.fa("image: transform_in_place_");if(d==2)this.lo==h.si.Clip?(n!=u&&h.ta.Ru(n,u,a),u=o.ml(),h.zb.OS(u,o,n,a)):(n!=u&&h.ta.Ru(n,u,a),o.Wc()&&(d=o.Xd(0),v=o.Oe(),h.zb.EX(n,a,v,d),h.zb.qF(n,a,o,0))),h.zb.IL(o,n,a,y);else for(d=o.Xd(0),v=o.Oe(),o=0;o<a;o++)h.zb.FX(u[o],v,d,n[o]);for(h.zb.GL(this.hf,n,a,y),u=0,(p=p==2)?u=l.zi():isNaN(this.Bm)||(u=this.Bm),p&&this.Qm!=h.si.Clip||h.zb.qF(n,a,l.sc(),u),p&&(h.zb.yG(n,a,l,this.Qm),h.zb.HL(l,n,a,y)),u=a,o=0;o<a;++o)n[o].isNaN()&&u--;return u},_.prototype.zh=function(u,a){if(this.hf.isIdentity()||u.B())return u;if(u.getType()==33)return this.XI(u);var n=this.hf.ef,o=this.hf.Yf,l=n.Sb(),d=o.Sb();if(l==0&&l==d)return a=n.Qp(),a/=o=o.Qp(),(o=new h.Dd).setScale(a,a),(u=h.aa.jg(u)).Oc(o),u;switch(u.getType()){case 1607:case 1736:u=this.VI(u,a);break;case 550:u=this.fW(u,a);break;case 197:u=this.eW(u,a);break;default:throw h.i.fa("")}return u},_.prototype.XI=function(u){var a=u.D(),n=[];return n[0]=a,this.Rt(n,1,n),(u=new h.Sa(u)).Cb(n[0]),u},_.prototype.VI=function(u,a){if(u.tm())throw h.i.fa("curves not supported");var n=u.getType();if(n==1736)return this.gW(u,a);if(n==1607)return this.hW(u,a);throw h.i.fa("projectMultiPath")},_.prototype.gW=function(u,a){var n=this.hf.ef,o=this.hf.Yf,l=n.Sb(),d=o.Sb(),p=h.O.Fu(Math.min(u.I(),64)),y=h.Da.jg(u);l==3&&(l=(n=(u=n.Ji).fk()).Sb(),y=u.$k(y,!0),this.wp(u,h.bm.forward,y),y=u.Zk(y,!0)),u=null,d==3&&(d=(o=(u=o.Ji).fk()).Sb());var v=l==2,$=d==2,I=$?o.sc():o,k=!$&&!this.Uv;d=!1;var O=y;if(v){if((O=h.zb.UI(O,n,this.lo,a)).B())return O}else{if(y=new h.l,O.xc(y),l=n.Oe(),y.G<l.G||y.H>l.H){var F=h.l.construct(y.v-1,l.G,y.C+1,l.H);if((O=h.ri.Nu(O,F,n,NaN,0,a)).B())return O}y.R()>2*l.R()&&(O=h.zb.Hp(O,-2*l.R(),2*l.R(),n,!0,0,!0,a))}y=this.mH,(l=!isNaN(y))&&(O=h.Xl.local().V(O,y,a)),F=$?o.kk():null;var j=NaN;v&&(j=n.zi());var z=o.Wr()!=null;if(this.aH)v&&(h.zb.ur(n,j,O,p),l&&(v=n.hh(),y*=(j=n.sc().hh())/v)),h.zb.tr(this.hf,O,k,p),l&&(v=n.sc().hh(),y*=(j=o.sc().hh())/v),n=O;else{var B=new h.Ta(O.description);B.DD(O),v&&(h.zb.ur(n,j,B,p),l&&(v=n.hh(),y*=(j=n.sc().hh())/v)),h.zb.tr(this.hf,B,k,p),l&&(v=n.sc().pm(),y*=(j=o.sc().pm())/v),k=NaN,$?(F=o.kk(),k=o.zi()):isNaN(this.Bm)||(k=this.Bm),v=_.tv(n)|_.tv(o),j=10*I.Xd(0),this.Uv&&(v=3,j=0),n=h.zb.UQ(O,n,B,I,k,a,v,j)}return z&&(n=h.zb.XD(n,o,a)),$&&(d||($=I.Oe().R(),n.Tg(0,0).R()>=$-I.Xd(0)&&(I=F.getNorthPoleLocation(),$=F.getSouthPoleLocation(),O=F.getNorthPoleGeometry(),F=F.getSouthPoleGeometry(),k=0,O==h.Cg.PE_POLE_POINT&&I!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(k=1),F==h.Cg.PE_POLE_POINT&&$!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(k|=2),k!==0&&(d=!0))),n=h.zb.Mz(n,o,this.Qm,a),l&&(n=h.Xl.local().V(n,y,a)),h.zb.Lx(o,n,p)),n.B()||(d&&(n=h.Yl.local().V(n,o,!1,a)),u!=null&&(n=u.Zk(n,!1),this.wp(u,h.bm.reverse,n),n=u.$k(n,!1))),n},_.tv=function(u){if(u.Sb()!=2)return 0;var a=0,n=u.kk();u=n.getNorthPoleLocation();var o=n.getSouthPoleLocation(),l=n.getNorthPoleGeometry();return n=n.getSouthPoleGeometry(),l==h.Cg.PE_POLE_POINT&&u!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1),n==h.Cg.PE_POLE_POINT&&o!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2),a},_.prototype.hW=function(u,a){var n=this.hf.ef,o=this.hf.Yf,l=n.Sb(),d=o.Sb(),p=h.O.Fu(Math.min(u.I(),64)),y=h.Ta.jg(u);l==3&&(l=(n=(u=n.Ji).fk()).Sb(),y=u.$k(y,!0),this.wp(u,h.bm.forward,y),y=u.Zk(y,!0)),u=null,d==3&&(d=(o=(u=o.Ji).fk()).Sb());var v=l==2;l=(d=d==2)?o.sc():o;var $=!d&&!this.Uv;if(v){if((y=h.zb.UI(y,n,this.lo,a)).B())return y}else{var I=new h.l;y.xc(I);var k=n.Oe();if((I.G<k.G||I.H>k.H)&&(I=h.l.construct(I.v-1,k.G,I.C+1,k.H),(y=h.ri.Nu(y,I,n,NaN,0,a)).B()))return y}var O=NaN;v&&(O=n.zi()),I=o.Wr()!=null,k=this.mH;var F=!isNaN(k);if(F&&(y=h.Xl.local().V(y,k,a)),this.aH)v&&h.zb.ur(n,O,y,p),F&&(v=n.hh(),k*=(O=n.sc().hh())/v),h.zb.tr(this.hf,y,$,p),F&&(v=n.sc().hh(),k*=(O=o.sc().hh())/v),n=y;else{var j=new h.Ta(y.description);j.DD(y),v&&(h.zb.ur(n,O,j,p),F&&(v=n.hh(),k*=(O=n.sc().hh())/v)),h.zb.tr(this.hf,j,$,p),F&&(v=n.sc().hh(),k*=(O=o.sc().hh())/v),$=NaN,d?$=o.zi():isNaN(this.Bm)||($=this.Bm),v=_.tv(n)|_.tv(o),O=10*l.Xd(0),this.Uv&&(v=3,O=0),n=h.zb.VQ(y,n,j,l,$,a,v,O)}return I&&(n=h.zb.XD(n,o,a)),d&&(n=h.zb.Mz(n,o,this.Qm,a),F&&(n=h.Xl.local().V(n,k,a)),h.zb.Lx(o,n,p)),n.B()||u!=null&&(n=u.Zk(n,!1),this.wp(u,h.bm.reverse,n),n=u.$k(n,!1)),n},_.prototype.eW=function(u,a){var n=(u.ca()+u.R())/400;return n!=0?(n=h.Xl.local().V(u,n,a),n=this.VI(n,a),a=u.Ia(),n.bn(a)):(a=new h.Sa(u.Ip()),n=this.XI(a),a=u.Ia(),n.B()?a.Oa():(u.copyTo(a),u=n.D(),a.K(u.x,u.y,u.x,u.y))),a},_.prototype.fW=function(u,a){u=h.aa.jg(u);var n=this.hf.ef,o=this.hf.Yf,l=n.Sb(),d=o.Sb(),p=h.O.Fu(Math.min(u.I(),64));if(l==3){var y=n.Ji;l=(n=y.fk()).Sb(),u=y.Zk(u,!0),this.wp(y,h.bm.forward,u),u=y.$k(u,!0)}if(l==2){if(this.lo==h.si.Clip?u=h.Xj.local().V(u,n.ml(),n,a):n.Wc()&&(l=new h.l,u.xc(l),n.Oe().contains(l)||(this.lo==h.si.PannableFold&&(u=h.zb.lj(u,n)),h.zb.Jt(u,n.Oe(),n.Xd(0),!0),u=h.zb.Fn(u,n,0,!0,0,a))),u.B())return u;h.zb.ur(n,0,u,p)}else h.zb.Jt(u,n.Oe(),n.Xd(0),!0);return h.zb.tr(this.hf,u,!1,p),n=0,l=!1,y=null,d==3&&(l=!0,d=(o=(y=o.Ji).fk()).Sb()),(d=d==2)?n=o.zi():isNaN(this.Bm)||(n=this.Bm),d&&this.Qm!=h.si.Clip||(u=h.zb.Fn(u,o.sc(),n,!1,0,a)),d&&(u=h.zb.Mz(u,o,this.Qm,a),h.zb.Lx(o,u,p),u.B())||l&&(u=y.Zk(u,!0),this.wp(y,h.bm.reverse,u),u=y.$k(u,!0)),u},_.prototype.wp=function(u,a,n){var o=n.I();if(o!=0){for(var l=n.ub(0),d=h.O.lg(200,0),p=[],y=0;y<o;){var v=Math.min(100,o-y);l.Vw(2*y,2*v,d,2,!0);for(var $=0;$<v;++$)p[$]=h.h.construct(d[2*y],d[2*y+1]);u.Qt(a,p,v),y+=v}n.Pc(1993)}},_.Uy=function(u,a,n){if(u==null||a==null||!a.Wc())throw h.i.fa("Invalid Arguement");if(u.B())return u;var o=u.getType();return o==197?(o=new h.Da(u.description)).ad(u,!1):h.aa.yd(o)?(o=new h.Ta(u.description)).oc(u,!0):o=u,(o=h.zb.lj(o,a)).B()?o:h.zb.Fn(o,a,0,o!=u,0,n)},_.nj=function(u,a,n,o){if(u==null||a==null||!a.Wc())throw h.i.fa("Invalid Arguement");if(u.B())return u;var l=u.getType();if(h.aa.Hc(l)){u=h.zb.lj(u,a),l=new h.l,u.A(l);for(var d=h.ta.ty(a,l,!1),p=a.gh(),y=Math.floor((l.v-p.v)/p.R())*p.R()+p.v;y<l.C;)y>l.v+d&&y<l.C-d&&(u=h.zb.uS(u,a,n,y)),y+=p.R()}else{if(l==197)return(l=new h.Da(u.description)).ad(u,!1),_.nj(l,a,n,o);if(h.aa.yd(l))return(l=new h.Ta(u.description)).oc(u,!0),_.nj(l,a,n,o)}return _.Uy(u,a,o)},_}();h.bu=P}(Y||(Y={})),function(h){var P=function(_){function u(a,n,o,l){var d=_.call(this)||this;return a===void 0?d.description=h.ee.og():o===void 0?d.description=a:(d.description=h.ee.og(),d.ZB(a,n),d.Ql(o,l)),d}return Vt(u,_),u.prototype.getType=function(){return 322},u.prototype.Qb=function(){var a=this.sa-this.pa,n=this.na-this.la;return Math.sqrt(a*a+n*n)},u.prototype.Bi=function(a){var n=this.sa-this.pa,o=this.na-this.la;return Math.sqrt(n*n+o*o)<=a},u.prototype.Pn=function(){return!1},u.prototype.kg=function(){var a=new h.h;return a.uc(this.wc(),this.ac()),a},u.cP=function(a,n){return new u(a.x,a.y,n.x,n.y)},u.prototype.bn=function(a){a.Oa(),a.Nf(this.description);var n=new h.l;this.A(n),a.Xo(n),n=1;for(var o=this.description.Aa;n<o;n++)for(var l=this.description.kd(n),d=h.ra.Va(l);n<d;n++){var p=this.Tg(l,0);a.setInterval(l,0,p)}},u.prototype.A=function(a){a.K(this.sa,this.na,this.pa,this.la),a.normalize()},u.prototype.Qo=function(a){a.Oa(),a.Zb(this.sa,this.na,this.Od(0,1,0)),a.Zb(this.pa,this.la,this.Od(1,1,0))},u.prototype.Oc=function(a){if(a instanceof h.Dd){this.vc();var n=new h.h;n.x=this.sa,n.y=this.na,a.Eh(n,n),this.sa=n.x,this.na=n.y,n.x=this.pa,n.y=this.la,a.Eh(n,n),this.pa=n.x,this.la=n.y}else this.vc(),(n=new h.Nd).x=this.sa,n.y=this.na,n.z=this.Od(0,1,0),n=a.fp(n),this.sa=n.x,this.na=n.y,this.tn(0,1,0,n.z),n.x=this.pa,n.y=this.la,n.z=this.Od(1,1,0),n=a.fp(n),this.pa=n.x,this.la=n.y,this.tn(1,1,0,n.z)},u.prototype.Ia=function(){return new u(this.description)},u.prototype.Tx=function(a,n){return(this.pa-a-(this.sa-a))*(this.la-n+(this.na-n))*.5},u.prototype.vx=function(a){return a*this.Qb()},u.prototype.NG=function(a){return a/this.Qb()},u.prototype.DF=function(a){return h.lc.hq(this.sa,this.pa,a)},u.prototype.fR=function(a){return h.lc.hq(this.na,this.la,a)},u.prototype.dl=function(a,n){var o=new h.ig;return this.ah(a,n,o),o.get()},u.prototype.ah=function(a,n,o){if(o==null)throw h.i.N();o.Or(),(o=o.get()).Nf(this.description);var l=new h.h;this.hc(a,l),o.ZB(l.x,l.y),this.hc(n,l),o.Ql(l.x,l.y),l=1;for(var d=this.description.Aa;l<d;l++)for(var p=this.description.Ed(l),y=h.ra.Va(p),v=0;v<y;v++){var $=this.Uc(a,p,v);o.YB(p,v,$),$=this.Uc(n,p,v),o.OB(p,v,$)}},u.prototype.Uc=function(a,n,o){if(n==0)return o==0?this.hc(a).x:this.hc(a).y;switch(h.ra.lz(n)){case 0:return .5>a?this.wv(n,o):this.gv(n,o);case 1:var l=this.wv(n,o);return n=this.gv(n,o),h.lc.hq(l,n,a);case 2:throw h.i.fa("not implemented")}throw h.i.Qa()},u.prototype.fe=function(a,n){var o=this.pa-this.sa,l=this.la-this.na,d=o*o+l*l;return d==0?.5:(a=((a.x-this.sa)*o+(a.y-this.na)*l)/d,n||(0>a?a=0:1<a&&(a=1)),a)},u.prototype.cq=function(a,n,o,l){if(a){if((a=this.la-this.na)==0)return n==this.la?-1:0;if(0>(n=(n-this.na)/a)||1<n)return 0;o!=null&&(o[0]=this.DF(n))}else{if((a=this.pa-this.sa)==0)return n==this.pa?-1:0;if(0>(n=(n-this.sa)/a)||1<n)return 0;o!=null&&(o[0]=this.fR(n))}return l!=null&&(l[0]=n),1},u.prototype.Pe=function(a,n){var o=this.la-this.na;return o==0?a==this.la?n:NaN:(a=(a-this.na)/o,n=this.DF(a),a==1&&(n=this.pa),n)},u.prototype.ru=function(a,n,o){return 0<=this.rp(a.x,a.y,n,o)},u.prototype.vi=function(a,n,o){return 0<=this.rp(a,n,o,!0)},u.prototype.qs=function(a,n){return this.ru(a,n,!1)},u.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var a=this.sa;this.sa=this.pa,this.pa=a,a=this.na,this.na=this.la,this.la=a,a=0;for(var n=this.description.Oq-2;a<n;a++){var o=this.ka[a];this.ka[a]=this.ka[a+n],this.ka[a+n]=o}}},u.prototype.uu=function(a,n){(n=h.h.construct(a,n)).sub(this.ac());var o=new h.h;return o.uc(this.wc(),this.ac()),(a=o.wi(n))>(n=8881784197001252e-31*(Math.abs(o.x*n.y)+Math.abs(o.y*n.x)))?-1:a<-n?1:0},u.prototype.rp=function(a,n,o,l){var d=this.sa,p=this.na,y=a-d,v=n-p;if((y=Math.sqrt(y*y+v*v))<=Math.max(o,6661338147750939e-31*y))return l&&y==0?NaN:0;if(y=a-this.pa,v=n-this.la,(y=Math.sqrt(y*y+v*v))<=Math.max(o,6661338147750939e-31*y))return l&&y==0?NaN:1;if(y=this.pa-this.sa,v=this.la-this.na,0<(l=Math.sqrt(y*y+v*v))){var $=1/l,I=a-d,k=n-p,O=I*(y*=$)+k*(v*=$),F=17763568394002505e-31*(Math.abs(I*y)+Math.abs(k*v)),j=y;if(y=-v,v=j,O<-(F=Math.max(o,F))||O>l+F)return NaN;if(Math.abs(I*y+k*v)<=Math.max(o,17763568394002505e-31*(Math.abs(I*y)+Math.abs(k*v)))&&(.5>=(y=h.O.Rk(O*$,0,1))?(v=this.sa+(this.pa-this.sa)*y,l=this.na+(this.la-this.na)*y):(v=this.pa-(this.pa-this.sa)*(1-y),l=this.la-(this.la-this.na)*(1-y)),h.h.Oy(v,l,a,n)<=o)){if(.5>y){if(h.h.Oy(v,l,d,p)<=o)return 0}else if(h.h.Oy(v,l,this.pa,this.la)<=o)return 1;return y}}return NaN},u.prototype.Nb=function(a){return a!=null&&(a==this||a.constructor===this.constructor&&this.FM(a))},u.prototype.rD=function(a,n,o){var l=o?this.sa:this.pa;o=o?this.na:this.la;var d=new h.h;return d.x=a.pa-l,d.y=a.la-o,!(n.Qh(d)>6661338147750939e-31*n.fD(d))||(d.x=a.sa-l,d.y=a.na-o,n.Qh(d)<=6661338147750939e-31*n.fD(d))},u.prototype.qD=function(a){var n=new h.h;return n.x=this.pa-this.sa,n.y=this.la-this.na,!!this.rD(a,n,!1)&&(n.Sq(),!!this.rD(a,n,!0))},u.NM=function(a,n){var o=a.uu(n.sa,n.na),l=a.uu(n.pa,n.la);return!(0>o&&0>l||0<o&&0<l)&&(o=n.uu(a.sa,a.na),l=n.uu(a.pa,a.la),!(0>o&&0>l||0<o&&0<l)&&((o=a.Qb())>(l=n.Qb())?a.qD(n):n.qD(a)))},u.LM=function(a,n,o){var l=h.h.construct(NaN,NaN),d=a.pa-a.sa,p=a.la-a.na,y=n.pa-n.sa,v=n.la-n.na,$=y*p-d*v;if($==0)return l;var I=8881784197001252e-31*(Math.abs(y*p)+Math.abs(d*v)),k=n.sa-a.sa,O=n.na-a.na,F=y*O-k*v,j=F/$,z=Math.abs($);return j<-(y=(8881784197001252e-31*(Math.abs(y*O)+Math.abs(k*v))*z+I*Math.abs(F))/($*$)+2220446049250313e-31*Math.abs(j))||j>1+y||(y=(v=d*O-k*p)/$)<-(d=(8881784197001252e-31*(Math.abs(d*O)+Math.abs(k*p))*z+I*Math.abs(v))/($*$)+2220446049250313e-31*Math.abs(y))||y>1+d||(j=h.O.Rk(j,0,1),d=h.O.Rk(y,0,1),p=a.hc(j),$=n.hc(d),(I=new h.h).uc(p,$),I.length()>o&&(I.add(p,$),I.scale(.5),j=a.fe(I,!1),d=n.fe(I,!1),a=a.hc(j),n=n.hc(d),a.sub(n),a.length()>o)||l.ma(j,d)),l},u.OM=function(a,n,o,l){var d=0;if((a.sa==n.sa&&a.na==n.na||a.sa==n.pa&&a.na==n.la)&&(d++,!l))return 1;if(a.pa==n.sa&&a.la==n.na||a.pa==n.pa&&a.la==n.la){if(++d==2)return 2;if(!l)return 1}return n.vi(a.sa,a.na,o)||n.vi(a.pa,a.la,o)||a.vi(n.sa,n.na,o)||a.vi(n.pa,n.la,o)?1:l&&d!=0||u.NM(a,n)==0?0:1},u.Zx=function(a,n,o,l,d,p){var y=0,v=a.rp(n.sa,n.na,p,!1),$=a.rp(n.pa,n.la,p,!1),I=n.rp(a.sa,a.na,p,!1),k=n.rp(a.pa,a.la,p,!1);return isNaN(v)||(l!=null&&(l[y]=v),d!=null&&(d[y]=0),o!=null&&(o[y]=h.h.construct(n.sa,n.na)),y++),isNaN($)||(l!=null&&(l[y]=$),d!=null&&(d[y]=1),o!=null&&(o[y]=h.h.construct(n.pa,n.la)),y++),y==2||isNaN(I)||v==0&&I==0||$==0&&I==1||(l!=null&&(l[y]=0),d!=null&&(d[y]=I),o!=null&&(o[y]=h.h.construct(a.sa,a.na)),y++),y==2||isNaN(k)||v==1&&k==0||$==1&&k==1||(l!=null&&(l[y]=1),d!=null&&(d[y]=k),o!=null&&(o[y]=h.h.construct(n.pa,n.la)),y++),0<y?(y==2&&l!=null&&l[0]>l[1]&&(a=l[0],l[0]=l[1],l[1]=a,d!=null&&(l=d[0],d[0]=d[1],d[1]=l),o!=null&&(d=h.h.construct(o[0].x,o[0].y),o[0]=o[1],o[1]=d)),y):(y=u.LM(a,n,p),isNaN(y.x)?0:(o!=null&&(o[0]=a.hc(y.x)),l!=null&&(l[0]=y.x),d!=null&&(d[0]=y.y),1))},u.prototype.eG=function(){return 0},u.prototype.op=function(){},u.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},u}(h.SC);h.yb=P}(Y||(Y={})),function(h){var P=function(){function _(){this.Jm=[],this.ya=-1}return _.prototype.La=function(){return this.ya},_.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var u=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),u}return this.Jm=null},_.prototype.ZX=function(u){this.Jm.push(u)},_.prototype.qe=function(){},_}();h.gL=P}(Y||(Y={})),function(h){var P;(P=h.SL||(h.SL={}))[P.enumFillRuleOddEven=0]="enumFillRuleOddEven",P[P.enumFillRuleWinding=1]="enumFillRuleWinding";var _=function(u){function a(n,o){var l=u.call(this)||this;if(l.xf=!1,l.Eq=null,l.sq=0,l.rq=0,l.Aj=null,l.Mg=!1,l.nb=null,l.mb=null,l.Ve=null,l.Lj=null,l.Sd=null,l.tq=0,l.gb=0,l.xq=0,o===void 0)l.xf=n,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=h.ee.og();else{if(o==null)throw h.i.N();l.xf=n,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=o}return l.Aj=null,l.gb=0,l}return Vt(a,u),a.prototype.tm=function(){return 0<this.tq},a.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new h.Sa(this.description):this.Eq.Nf(this.description)},a.prototype.sx=function(n,o){var l=new h.h;l.x=n,l.y=o,this.Lt(l)},a.prototype.Lt=function(n){this.Yx(),this.Eq.Cb(n),this.Mg=!0},a.prototype.nf=function(n){if(n.B())throw h.i.N();this.Jl(n.description),this.Yx(),n.copyTo(this.Eq),this.Mg=!0},a.prototype.Sx=function(){var n=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=h.Yc.Oh(2),this.nb.write(0,0),this.mb=h.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),n++);var o=this.wa;this.nb.write(this.nb.size-1,this.wa+n),this.dm(o+n),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(o,this.Eq),this.Mg=!1)},a.prototype.yj=function(n,o){this.Sx(),this.Cb(this.wa-1,n,o)},a.prototype.Ci=function(n){this.Sx(),this.Cb(this.wa-1,n)},a.prototype.lineTo=function(n){this.Sx(),this.Ht(this.wa-1,n)},a.prototype.CU=function(n){if(this.vc(),this.xf)throw h.i.Qa();var o=this.da();if(n>o)throw h.i.Qa();if(this.dc(n)){if(this.mb==null)throw h.i.Qa();var l=this.wa,d=this.Ba(n),p=this.Vc(n);this.dm(this.wa+1),this.mc();for(var y=0,v=this.description.Aa;y<v;y++)if(this.za[y]!=null){var $=h.ra.Va(this.description.Ed(y));this.za[y].Mn($*p,this.za[y],$*d,$,!0,1,$*l)}for(;o>n;o--)l=this.nb.read(o),this.nb.write(o,l+1);this.mb.KE(n,1)}},a.prototype.Ap=function(){if(this.wx(),n===void 0){this.Mg=!1;var n=this.da()-1}var o=this.mb.read(n);this.mb.write(n,1|o),this.Ve!=null&&(n=this.Vc(n)-1,this.Ve.write(n,1),this.Lj.write(n,-1))},a.prototype.dc=function(n){return(1&this.mb.read(n))!=0},a.prototype.Nn=function(n){if(this.dc(n))return!0;var o=this.Ba(n);return!(o>(n=this.Vc(n)-1))&&(o=this.Na(o),n=this.Na(n),o.qb(n))},a.prototype.yv=function(n){return(2&this.mb.read(n))!=0},a.prototype.oc=function(n,o){if(this.Jl(n.description),n.getType()!=322)throw h.i.Qa();var l=new h.Sa;(o||this.B())&&(n.To(l),this.nf(l)),n.Po(l),this.lineTo(l)},a.prototype.tp=function(n){var o=this.wa==0;this.sx(n.v,n.G),this.yj(n.v,n.H),this.yj(n.C,n.H),this.yj(n.C,n.G),this.Ap(),this.Mg=!1,o&&this.Lf(256,!1)},a.prototype.ad=function(n,o){if(!n.B()){for(var l=this.wa==0,d=new h.Sa(this.description),p=0;4>p;p++)n.Hf(o?4-p-1:p,d),p==0?this.nf(d):this.lineTo(d);this.Ap(),this.Mg=!1,l&&!o&&this.Lf(256,!1)}},a.prototype.add=function(n,o){for(var l=0;l<n.da();l++)this.addPath(n,l,!o)},a.prototype.addPath=function(n,o,l){this.vf(-1,n,o,l)},a.prototype.Yk=function(n,o){this.Hz(n,o)},a.prototype.Dr=function(n,o,l,d,p){if(p||this.da()!=0||(p=!0),0>o&&(o=n.da()-1),o>=n.da()||0>l||0>d||d>n.rv(o))throw h.i.fa("index out of bounds");if(d!=0){var y=n.dc(o)&&l+d==n.rv(o);if(!y||d!=1){if(this.Mg=!1,this.Jl(n.description),l=n.Ba(o)+l+1,p&&(d++,l--),y&&d--,y=this.wa,this.dm(this.wa+d),this.mc(),p){if(d==0)return;this.nb.add(this.wa),p=n.mb.read(o),p&=-5,this.xf&&(p|=1),this.mb.write(this.mb.size-1,p),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);p=0;for(var v=this.description.Aa;p<v;p++){var $=this.description.kd(p),I=h.ra.Va($),k=n.description.Pf($);0>k||n.za[k]==null?this.za[p].Ln(I*y,h.ra.se($),d*I,I*y):this.za[p].Mn(I*y,n.za[k],I*l,d*I,!0,I,I*y)}if(this.tm()||n.yv(o))throw h.i.Qa();this.Pc(1993)}}},a.prototype.oJ=function(){for(var n=0,o=this.da();n<o;n++)this.FW(n)},a.prototype.FW=function(n){if(this.mc(),n>=this.da())throw h.i.N();var o=this.Ba(n),l=this.Ja(n);n=this.dc(n)?1:0;for(var d=0,p=this.description.Aa;d<p;d++)if(this.za[d]!=null){var y=h.ra.Va(this.description.Ed(d));this.za[d].ni(y*(o+n),y*(l-n),y)}this.Pc(1993)},a.prototype.Zq=function(n){this.mc();var o=this.da();if(0>n&&(n=o-1),n>=o)throw h.i.N();for(var l=this.Ba(n),d=this.Ja(n),p=0,y=this.description.Aa;p<y;p++)if(this.za[p]!=null){var v=h.ra.Va(this.description.Ed(p));this.za[p].En(v*l,v*d,v*this.wa)}for(l=n+1;l<=o;l++)p=this.nb.read(l),this.nb.write(l-1,p-d);if(this.mb==null)for(l=n+1;l<=o;l++)n=this.mb.read(l),this.mb.write(l-1,n);this.nb.resize(o),this.mb.resize(o),this.wa-=d,this.Pg-=d,this.Pc(1993)},a.prototype.vf=function(n,o,l,d){if(o==this||l>=o.da())throw h.i.N();var p=this.da();if(n>p)throw h.i.N();0>n&&(n=p),0>l&&(l=o.da()-1),this.Mg=!1,this.Jl(o.description),o.mc();var y=o.Ba(l),v=o.Ja(l),$=this.wa,I=o.dc(l)&&!d?1:0;this.dm(this.wa+v),this.mc();for(var k=n<p?this.Ba(n):$,O=0,F=this.description.Aa;O<F;O++){var j=this.description.Ed(O),z=o.description.Pf(j),B=h.ra.Va(j);0<=z&&o.za[z]!=null?(I!=0&&this.za[O].Mn(k*B,o.za[z],B*y,B,!0,B,B*$),this.za[O].Mn((k+I)*B,o.za[z],B*(y+I),B*(v-I),d,B,B*($+I))):this.za[O].Ln(k*B,h.ra.se(j),B*v,B*$)}for(this.nb.add($+v),d=p;d>=n+1;d--)y=this.nb.read(d-1),this.nb.write(d,y+v);for(o.yv(l),this.mb.add(0),d=p-1;d>=n+1;d--)p=this.mb.read(d),p&=-5,this.mb.write(d+1,p);p=o.JR().read(l),p&=-5,this.xf&&(p|=1),this.mb.write(n,p)},a.prototype.Hz=function(n,o){var l=-1,d=this.da();if(l>d)throw h.i.N();0>l&&(l=d),this.Mg=!1;var p=this.wa;this.dm(this.wa+o),this.mc();var y=l<d?this.Ba(l):p;if(n!=null)this.za[0].Iz(2*y,n,0,o,!0,2*p);else{var v=h.ra.se(0);this.za[0].Ln(2*y,v,2*o,2*p)}n=1;for(var $=this.description.Aa;n<$;n++){v=this.description.kd(n);var I=h.ra.Va(v);v=h.ra.se(v),this.za[n].Ln(y*I,v,I*o,I*p)}for(this.nb.add(this.wa),p=d;p>=l+1;p--)y=this.nb.read(p-1),this.nb.write(p,y+o);for(this.mb.add(0),p=d-1;p>=l+1;p--)o=this.mb.read(p),o&=-5,this.mb.write(p+1,o);this.xf&&this.mb.write(l,1)},a.prototype.qG=function(n,o,l){var d=-1;if(0>n&&(n=this.da()),n>this.da()||d>this.Ja(n)||l>o.length)throw h.i.fa("index out of bounds");if(l!=0){n==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>d&&(d=this.Ja(n)),this.mc();var p=this.wa;this.dm(this.wa+l),this.mc();for(var y=0,v=this.description.Aa;y<v;y++){var $=this.description.Ed(y),I=h.ra.Va($);this.za[y].Ut(I*(this.Ba(n)+d+l),(p-this.Ba(n)-d)*I,this.za[y],I*(this.Ba(n)+d),!0,I),y==0?this.za[y].vC(I*(this.Ba(n)+d),l,o,0,!0):this.za[y].Wj(h.ra.se($),(this.Ba(n)+d)*I,l*I)}for(this.tm()&&(this.Ve.Ut(this.Ba(n)+d+l,p-this.Ba(n)-d,this.Ve,this.Ba(n)+d,!0,1),this.Lj.Ut(this.Ba(n)+d+l,p-this.Ba(n)-d,this.Lj,this.Ba(n)+d,!0,1),this.Ve.Wj(1,this.Ba(n)+d,l),this.Lj.Wj(-1,this.Ba(n)+d,l)),n+=1,o=this.da();n<=o;n++)this.nb.write(n,this.nb.read(n)+l)}},a.prototype.wf=function(n,o,l){var d=this.da();if(0>n&&(n=this.da()),n>=d||o>this.Ja(n))throw h.i.fa("index out of bounds");n==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>o&&(o=this.Ja(n));var p=this.wa;this.dm(this.wa+1),this.mc();var y=this.Ba(n);this.za[0].vj(2*(y+o),l,2*p),l=1;for(var v=this.description.Aa;l<v;l++){var $=this.description.Ed(l),I=h.ra.Va($);this.za[l].Ln(I*(y+o),h.ra.se($),I,I*p)}for(n+=1;n<=d;n++)this.nb.write(n,this.nb.read(n)+1)},a.prototype.DB=function(n,o){var l=this.da();if(0>n&&(n=l-1),n>=l||o>=this.Ja(n))throw h.i.fa("index out of bounds");this.mc();var d=this.Ba(n);0>o&&(o=this.Ja(n)-1),o=d+o,d=0;for(var p=this.description.Aa;d<p;d++)if(this.za[d]!=null){var y=h.ra.Va(this.description.Ed(d));this.za[d].En(y*o,y,y*this.wa)}for(;l>=n+1;l--)o=this.nb.read(l),this.nb.write(l,o-1);this.wa--,this.Pg--,this.Pc(1993)},a.prototype.uE=function(n,o,l){var d=this.Ba(n)+o;if((l=this.Ba(l)+void 0)<d||0>d||l>this.I()-1)throw h.i.N();o=0,(n=this.Ga()).Vb(d);do{for(;n.Ha()&&(d=n.ha(),n.wb()!=l);)o+=d=d.Qb();if(n.wb()==l)break}while(n.$a());return o},a.prototype.fO=function(n,o,l){if(o=this.Ba(n)+o,l=this.Ba(n)+l,0>o||l>this.I()-1)throw h.i.N();var d=this.Ga();if(o>l){if(!this.dc(n))throw h.i.N("cannot iterate across an open path");d.JB()}var p=n=0;d.Vb(o);do p+=n,n=d.ha().Qb();while(d.wb()!=l);return p},a.prototype.mg=function(){return h.pi.gm(this,null)},a.prototype.KS=function(n,o,l){for(var d=n;d<l-1;d++)if(this.dc(d))throw h.i.N("cannot interpolate across closed paths");if((d=this.description.Aa)!=1){var p=this.uE(n,o,l);if(p!=0)for(var y=1;y<d;y++){var v=this.description.kd(y);if(h.ra.lz(v)!=2)for(var $=h.ra.Va(v),I=0;I<$;I++)this.MS(v,n,o,l,p,I)}}},a.prototype.JS=function(n,o,l){var d=this.description.Aa;if(d!=1){var p=this.fO(n,o,l);if(p!=0)for(var y=1;y<d;y++){var v=this.description.kd(y);if(h.ra.lz(v)!=2)for(var $=h.ra.Va(v),I=0;I<$;I++)this.LS(v,n,o,l,p,I)}}},a.prototype.MS=function(n,o,l,d,p,y){var v=this.Ga(),$=this.Ba(o)+l;d=this.Ba(d)+void 0,o=this.Uc(n,$,y),l=this.Uc(n,d,y);var I=o,k=0;v.Vb($);do if(v.Ha()){if(v.ha(),v.wb()==d)break;this.setAttribute(n,v.wb(),y,I),v.li();do{if($=v.ha(),v.ik()==d)return;k+=$=$.Qb(),I=h.lc.hq(o,l,k/p),v.On()||this.setAttribute(n,v.ik(),y,I)}while(v.Ha())}while(v.$a())},a.prototype.LS=function(n,o,l,d,p,y){var v=this.Ga(),$=this.Ba(o)+l;if((o=this.Ba(o)+d)!=$){d=this.Uc(n,$,y),l=this.Uc(n,o,y);var I=0;v.Vb($),v.JB(),$=d;do{var k=v.ha();this.setAttribute(n,v.wb(),y,$),I+=$=k.Qb(),$=h.lc.hq(d,l,I/p)}while(v.ik()!=o)}},a.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},a.prototype.Oc=function(n){n instanceof h.Dd?this.YD(n,-1):this.wN(n)},a.prototype.YD=function(n,o){if(!this.B()&&!n.isIdentity()){this.mc();var l=this.za[0],d=new h.h,p=new h.h;if(0>o){var y=this.tm(),v=0;o=this.wa}else y=this.yv(o),v=this.Ba(o),o=this.Vc(o);for(;v<o;v++){if(d.x=l.read(2*v),d.y=l.read(2*v+1),y){var $=this.Lj.read(v);if(0<=$)switch(7&this.Ve.read(v)){case 2:p.x=this.Sd.read($),p.y=this.Sd.read($+1),n.Eh(p,p),this.Sd.write($,p.x),this.Sd.write($+1,p.y),p.x=this.Sd.read($+3),p.y=this.Sd.read($+4),n.Eh(p,p),this.Sd.write($+3,p.x),this.Sd.write($+4,p.y);break;case 4:throw h.i.Qa()}}n.Eh(d,d),l.write(2*v,d.x),l.write(2*v+1,d.y)}this.Pc(1993)}},a.prototype.wN=function(n){if(!this.B()){this.re(1),this.mc();for(var o=this.za[0],l=this.za[1],d=new h.Nd,p=new h.Nd,y=this.tm(),v=0;v<this.wa;v++){if(d.x=o.read(2*v),d.y=o.read(2*v+1),d.z=l.read(v),y){var $=this.Lj.read(v);if(0<=$)switch(7&this.Ve.read(v)){case 2:p.x=this.Sd.read($),p.y=this.Sd.read($+1),p.z=this.Sd.read($+2),p=n.fp(p),this.Sd.write($,p.x),this.Sd.write($+1,p.y),this.Sd.write($+1,p.z),p.x=this.Sd.read($+3),p.y=this.Sd.read($+4),p.z=this.Sd.read($+5),p=n.fp(p),this.Sd.write($+3,p.x),this.Sd.write($+4,p.y),this.Sd.write($+5,p.z);break;case 4:throw h.i.Qa()}}d=n.fp(d),o.write(2*v,d.x),o.write(2*v+1,d.y),l.write(v,d.z)}this.Pc(1993)}},a.prototype.iy=function(){this.nb==null&&(this.nb=h.Yc.Oh(1,0),this.mb=h.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},a.prototype.op=function(n){n.Mg=!1,n.tq=this.tq,n.xq=this.xq,n.nb=this.nb!=null?h.ia.Bn(this.nb):null,n.mb=this.mb!=null?h.pn.Bn(this.mb):null,n.Lj=this.Lj!=null?h.ia.Bn(this.Lj):null,n.Ve=this.Ve!=null?h.pn.Bn(this.Ve):null,n.Sd=this.Sd!=null?h.be.Bn(this.Sd):null,n.sq=this.sq,n.rq=this.rq,n.Aj=this.ak(1024)?null:this.Aj},a.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var n=this.Ga(),o=new h.Fx(0);n.$a();)for(;n.Ha();)o.add(n.ha().Qb());return this.sq=o.rm(),this.Lf(512,!1),o.rm()},a.prototype.Nb=function(n){if(n==this)return!0;if(!(n instanceof a&&u.prototype.Nb.call(this,n)))return!1;var o=this.da();return!(o!=n.da()||this.nb!=null&&!this.nb.Nb(n.nb,0,o+1)||this.xq!=n.xq||this.mb!=null&&!this.mb.Nb(n.mb,0,o))&&u.prototype.Nb.call(this,n)},a.prototype.Ga=function(){return new h.YL(this)},a.prototype.hy=function(n){if(u.prototype.hy.call(this,n),this.tm())for(n=this.Ga();n.$a();)n.Ha()},a.prototype.yp=function(n,o){if(u.prototype.yp.call(this,n,o),this.tm())for(n=this.Ga();n.$a();)n.Ha()},a.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},a.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},a.prototype.Ev=function(n){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(n)):(4&this.mb.read(n))!=0)},a.prototype.Ir=function(n){return this.xf?(this.xu(),this.Aj.read(n)):0},a.prototype.xu=function(){if(this.ak(1024)){var n=this.da();this.Aj==null?this.Aj=new h.be(n):this.Aj.size!=n&&this.Aj.resize(n),n=new h.Fx(0);for(var o=new h.Fx(0),l=new h.h,d=0,p=this.Ga();p.$a();){for(o.reset(),this.D(this.Ba(p.gb),l);p.Ha();)o.add(p.ha().Tx(l.x,l.y));n.add(o.rm());var y=d++;this.Aj.write(y,o.rm())}this.rq=n.rm(),this.Lf(1024,!1)}},a.prototype.FR=function(){if(this.xf){this.fm();for(var n=this.da(),o=0;o<n;o++)4&this.mb.read(o)}},a.prototype.fm=function(){if(this.ak(8)){this.xu();var n=this.da();(this.mb==null||this.mb.size<n)&&(this.mb=h.Yc.Mr(n+1));for(var o=1,l=0;l<n;l++){var d=this.Aj.read(l);l==0&&(o=0<d?1:-1),0<d*o?this.mb.zJ(l,4):this.mb.KE(l,4)}this.Lf(8,!1)}},a.prototype.sz=function(n){var o=this.gb,l=this.da();if(0<=o&&o<l){if(n<this.Vc(o)){if(n>=this.Ba(o))return o;o--}else o++;if(0<=o&&o<l&&n>=this.Ba(o)&&n<this.Vc(o))return this.gb=o}if(5>l){for(o=0;o<l;o++)if(n<this.Vc(o))return this.gb=o;throw h.i.fa("corrupted geometry")}for(o=0,--l;l>o;){var d=o+(l-o>>1);if(n<this.Ba(d))l=d-1;else{if(!(n>=(o=this.Vc(d))))return this.gb=d;o=d+1}}return this.gb=o},a.prototype.yz=function(){var n=this.I();if(!this.xf){n-=this.da();for(var o=0,l=this.da();o<l;o++)this.dc(o)&&n++}return n},a.prototype.rv=function(n){var o=this.Ja(n);return this.dc(n)||o--,o},a.prototype.Ia=function(){return new a(this.xf,this.description)},a.prototype.Db=function(){return this.xf?2:1},a.prototype.getType=function(){return this.xf?1736:1607},a.prototype.QJ=function(n){this.nb=n,this.Pc(16777215)},a.prototype.VR=function(){return this.wx(),this.Ve},a.prototype.JR=function(){return this.wx(),this.mb},a.prototype.PJ=function(n){this.mb=n,this.Pc(16777215)},a.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},a.prototype.Vc=function(n){return this.nb.read(n+1)},a.prototype.Ja=function(n){return this.nb.read(n+1)-this.nb.read(n)},a.prototype.Ba=function(n){return this.nb.read(n)},a.prototype.lu=function(n,o){this.Bb==null&&(this.Bb=new h.Uk),o=h.Nx.pW(o);var l=this.Bb.Fk;if(l!=null){if(!(l.Ik<n||o>l.RR()))return!0;this.Bb.yD(null)}return l=h.Nx.create(this,n,o),this.Bb.yD(l),!0},a.prototype.cc=function(){var n=u.prototype.cc.call(this);if(!this.Ac()){var o=this.da();this.nb!=null&&this.nb.An(n,0,o+1),this.mb!=null&&this.mb.An(n,0,o)}return n},a.prototype.ZF=function(n){return this.Ve!=null?this.Ve.read(n):1},a.prototype.bc=function(n,o,l){var d=this.sz(n);if(n==this.Vc(d)-1&&!this.dc(d))throw h.i.fa("index out of bounds");this.mc();var p=this.Ve,y=1;if(p!=null&&(y=7&p.read(n)),y!==1)throw h.i.Qa();if(o.Or(),o=o.get(),l?o.Nf(h.ee.og()):o.Nf(this.description),d=n==this.Vc(d)-1&&this.dc(d)?this.Ba(d):n+1,p=new h.h,this.D(n,p),o.Dc(p),this.D(d,p),o.Qc(p),!l)for(l=1,p=this.description.Aa;l<p;l++){y=this.description.Ed(l);for(var v=h.ra.Va(y),$=0;$<v;$++){var I=this.Uc(y,n,$);o.YB(y,$,I),I=this.Uc(y,d,$),o.OB(y,$,I)}}},a.prototype.Rj=function(n,o){if(n>=this.da())throw h.i.N();if(this.B())o.Oa();else{if(this.yv(n))throw h.i.fa("not implemented");var l=this.ub(0),d=new h.h,p=new h.l;p.Oa();var y=this.Ba(n);for(n=this.Vc(n);y<n;y++)l.tc(2*y,d),p.Zb(d);o.K(p)}},a.prototype.fj=function(n){return this.Bb==null&&(this.Bb=new h.Uk),!(n==0||16>this.I())&&(n=h.ta.nE(this),this.Bb.WM(n),!0)},a.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new h.Uk),this.Bb.zo==null){this.Bb.xD(null);var n=h.ta.YN(this);this.Bb.xD(n)}},a.prototype.Yo=function(n){this.xq=n},a.prototype.In=function(){return this.xq},a.prototype.DD=function(n){if(this==n)throw h.i.fa("MultiPathImpl.add");for(var o=this.da(),l=0;l<n.da();l++)this.addPath(n,l,!0),this.CU(o),o++},a.prototype.kO=function(n){var o=this.sz(n),l=this.Ba(o);if(l!=n){if(n>=(o=this.Vc(o))||n<l)throw h.i.fa("change_ring_start_point");for(var d=0,p=this.description.Aa;d<p;d++){var y=this.description.kd(d);y=h.ra.Va(y),this.za[d].rotate(l*y,n*y,o*y)}}},a}(h.Gx);h.Vk=_}(Y||(Y={})),function(h){var P=function(_){function u(a){var n=_.call(this)||this;if(a!==void 0){if(a==null)throw h.i.N();n.description=a}else n.description=h.ee.og();return n.wa=0,n}return Vt(u,_),u.prototype.Ia=function(){return new u(this.description)},u.prototype.add=function(a){this.resize(this.wa+1),this.Dh(this.wa-1,a)},u.prototype.Bu=function(a,n){this.resize(this.wa+1);var o=new h.h;o.ma(a,n),this.Cb(this.wa-1,o)},u.prototype.Fd=function(a,n,o){if(o=0>o?a.I():o,0>n||n>a.I()||o<n)throw h.i.N();if(n!=o){this.Jl(a.description),o-=n;var l=this.wa;this.resize(this.wa+o),this.mc();for(var d=0,p=a.description.Aa;d<p;d++){var y=a.description.Ed(d),v=h.ra.Va(y),$=this.ub(y);y=a.ub(y),$.Mn(l*v,y,n*v,o*v,!0,1,l*v)}}},u.prototype.HD=function(a,n){var o=a.length;if(n=0>n?o:n,0>o||0>n)throw h.i.N();if(n!=0){o=n-0,n=this.wa,this.resize(this.wa+o);for(var l=0;l<o;l++)this.Cb(n+l,a[0+l])}},u.prototype.DB=function(a){if(0>a||a>=this.I())throw h.i.fa("index out of bounds");this.mc();for(var n=0,o=this.description.Aa;n<o;n++)if(this.za[n]!=null){var l=h.ra.Va(this.description.Ed(n));this.za[n].En(l*a,l,l*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},u.prototype.resize=function(a){this.dm(a)},u.prototype.op=function(){},u.prototype.Oa=function(){_.prototype.wD.call(this)},u.prototype.Oc=function(a){if(a instanceof h.Dd){if(this.B())return;this.mc();for(var n=this.za[0],o=new h.h,l=0;l<this.wa;l++)o.x=n.read(2*l),o.y=n.read(2*l+1),a.Eh(o,o),n.write(2*l,o.x),n.write(2*l+1,o.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),n=this.za[0],o=this.za[1];var d=new h.Nd;for(l=0;l<this.wa;l++){d.x=n.read(2*l),d.y=n.read(2*l+1),d.z=o.read(l);var p=a.fp(d);n.write(2*l,p.x),n.write(2*l+1,p.y),o.write(l,p.z)}}this.Pc(1993)},u.prototype.Db=function(){return 0},u.prototype.getType=function(){return 550},u.prototype.Ke=function(){return 0},u.prototype.Qb=function(){return 0},u.prototype.Nb=function(a){return a==this||a instanceof u&&_.prototype.Nb.call(this,a)},u.prototype.lW=function(a,n){var o=this.wa;if(o=Math.min(o,n+1e3),0>n||n>=this.wa||o<n||a.length!=1e3)throw h.i.N();var l=o-n,d=[];for(this.ub(0).Vw(2*n,2*l,d,0,!0),n=0;n<l;n++)a[n]=h.h.construct(d[2*n],d[2*n+1]);return o},u.prototype.$x=function(){},u.prototype.iy=function(){},u.prototype.lu=function(){return!1},u.prototype.fj=function(){return!1},u.prototype.mg=function(){return null},u}(h.Gx);h.de=P}(Y||(Y={})),function(h){var P;(P=h.iL||(h.iL={}))[P.NotDetermined=0]="NotDetermined",P[P.Structure=1]="Structure",P[P.DegenerateSegments=2]="DegenerateSegments",P[P.Clustering=3]="Clustering",P[P.Cracking=4]="Cracking",P[P.CrossOver=5]="CrossOver",P[P.RingOrientation=6]="RingOrientation",P[P.RingOrder=7]="RingOrder",P[P.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",P[P.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",P[P.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var _=function(){function u(a,n,o){a===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=a,this.Jo=n,this.Ko=o)}return u.prototype.Wt=function(a){this.Jj=a.Jj,this.Jo=a.Jo,this.Ko=a.Ko},u}();h.Md=_}(Y||(Y={})),function(h){h.O=function(){function P(){}return P.assert=function(_){if(_===!1)throw h.i.GK()},P.bK=function(_){return isNaN(_)?NaN:_===0?_:0<_?1:-1},P.Fu=function(_){var u;u===void 0&&(u=0);for(var a=[],n=0;n<_;n++)a[n]=P.lg(2,u);return a},P.lg=function(_,u){u===void 0&&(u=0);for(var a=[],n=0;n<_;n++)a[n]=u;return a},P.$u=function(_,u){var a,n;for(a===void 0&&(a=0),n===void 0&&(n=_.length-1);a<=n;a++)_[a]=u},P.Rk=function(_,u,a){return _<u?u:_>a?a:_},P.Th=function(_,u){var a=5381;return((a=((a=((a=u!==void 0?(u<<5)+u+(255&_):(a<<5)+a+(255&_))<<5)+a+(_>>8&255))<<5)+a+(_>>16&255))<<5)+a+(_>>24&255)&2147483647},P.uj=function(){throw Error("Not Implemented")},P.bB=function(_){return P.aU(_)+12345&2147483647},P.XG=function(_){var u=32,a=_%P.Qx|0,n=_/P.Qx|0;return(u&=63)==0?_:(32>u?(_=a>>>u|n<<32-u,u=n>>u):(_=n>>u-32,u=0<=n?0:-1),u*P.Qx+(_>>>0))},P.aU=function(_){var u=1103515245,a=65535&u;return((u-a)*(_|=0)|0)+(a*_|0)|0},P.truncate=function(_){return 0>_?-1*Math.floor(Math.abs(_)):Math.floor(_)},P.MAX_SAFE_INTEGER=Math.pow(2,53)-1,P.MIN_SAFE_INTEGER=-P.MAX_SAFE_INTEGER,P.VC=65536,P.Qx=P.VC*P.VC,P}()}(Y||(Y={})),function(h){var P;(P=h.CL||(h.CL={}))[P.Project=0]="Project",P[P.Union=1]="Union",P[P.Difference=2]="Difference",P[P.Proximity2D=3]="Proximity2D",P[P.Relate=4]="Relate",P[P.Equals=5]="Equals",P[P.Disjoint=6]="Disjoint",P[P.Intersects=7]="Intersects",P[P.Within=8]="Within",P[P.Contains=9]="Contains",P[P.Crosses=10]="Crosses",P[P.Touches=11]="Touches",P[P.Overlaps=12]="Overlaps",P[P.Buffer=13]="Buffer",P[P.Distance=14]="Distance",P[P.Intersection=15]="Intersection",P[P.Clip=16]="Clip",P[P.Cut=17]="Cut",P[P.DensifyByLength=18]="DensifyByLength",P[P.DensifyByAngle=19]="DensifyByAngle",P[P.LabelPoint=20]="LabelPoint",P[P.GeodesicBuffer=21]="GeodesicBuffer",P[P.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",P[P.ShapePreservingDensify=23]="ShapePreservingDensify",P[P.GeodeticLength=24]="GeodeticLength",P[P.GeodeticArea=25]="GeodeticArea",P[P.Simplify=26]="Simplify",P[P.SimplifyOGC=27]="SimplifyOGC",P[P.Offset=28]="Offset",P[P.Generalize=29]="Generalize",P[P.SymmetricDifference=30]="SymmetricDifference",P[P.ConvexHull=31]="ConvexHull",P[P.Boundary=32]="Boundary",P[P.SimpleRelation=33]="SimpleRelation";var _=function(){function u(){}return u.prototype.getType=function(){return null},u.prototype.wn=function(){},u.prototype.Iu=function(){return!1},u}();h.Je=_}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 13},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l,d){return a instanceof h.aa?(d=new h.Zc(a),this.V(d,n,[o],!1,l).next()):l===!0?(o=new h.BC(a,n,o,!1,d),h.Gh.local().V(o,n,d)):new h.BC(a,n,o,!1,d)},u.instance=null,u}(h.Je);h.AC=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l){this.ya=-1,this.Rd=u,this.$z=a,this.Cs=n,this.tT=new h.l,this.tT.Oa(),this.eo=-1,this.Ub=l}return _.prototype.next=function(){for(var u;(u=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(u,this.Cs[this.eo]);return null},_.prototype.La=function(){return this.ya},_.prototype.buffer=function(u,a){return h.HK.buffer(u,a,this.$z,NaN,96,this.Ub)},_.prototype.qe=function(){},_}();h.BC=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 16},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,n,o,l).next()):new h.lL(a,n,o,l)},u.instance=null,u}(h.Je);h.kL=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n){if(this.ya=-1,u==null)throw h.i.N();this.$=a,this.yk=u,this.qa=h.ta.Wd(n,a,!1)}return _.prototype.next=function(){var u;return(u=this.yk.next())!=null?(this.ya=this.yk.La(),h.Ud.clip(u,this.$,this.qa,0)):null},_.prototype.La=function(){return this.ya},_.prototype.qe=function(){},_}();h.lL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 31},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o){return a instanceof h.aa?h.DC.rE(a):new h.DC(n,a,o)},u.instance=null,u}(h.Je);h.CC=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n){if(this.uA=new h.Zt,this.ya=-1,a==null)throw h.i.N();this.cH=u,this.Ic=!1,this.yk=a,this.Ub=n}return _.prototype.next=function(){if(this.cH){if(!this.Ic){var u=this.dO(this.yk);return this.Ic=!0,u}return null}if(!this.Ic){if((u=this.yk.next())!=null)return this.ya=this.yk.La(),_.rE(u);this.Ic=!0}return null},_.prototype.La=function(){return this.ya},_.prototype.dO=function(u){for(var a;(a=u.next())!=null;)this.uA.Ib(a);return this.uA.cR()},_.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw h.i.fa("Invalid call for non merging convex hull.");var u=this.yk.next();if(u==null)throw h.i.fa("Expects a non-null geometry.");this.uA.Ib(u)}},_.rE=function(u){if(_.VS(u))return u;var a=u.getType();if(h.Vk.yd(a))return(a=new h.Ta(u.description)).oc(u,!0),a;if(a==550&&u.I()==2){var n=new h.Sa;return a=new h.Ta(u.description),u.ve(0,n),a.nf(n),u.ve(1,n),a.lineTo(n),a}return h.Zt.RO(u)},_.VS=function(u){if(u.B())return!0;var a=u.getType();return a==33||a==197||!h.Vk.yd(a)&&(a==550?u.I()==1:a==1607?u.da()==1&&2>=u.I():u.da()==1&&(2>=u.I()||h.Zt.JG(u,0)))},_}();h.DC=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 17},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l,d){return new h.nL(a,n,o,l,d)},u.instance=null,u}(h.Je);h.mL=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l){if(this.Tf=null,a==null||n==null)throw h.i.fa("invalid argument");this.qT=u,this.nA=a,this.lH=n,u=h.ta.mv(a,n),this.qa=h.ta.Wd(o,u,!0),this.kH=-1,this.nd=l}return _.prototype.La=function(){return 0},_.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},_.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},_.prototype.TQ=function(){var u=new h.Ta,a=new h.Ta,n=new h.Ta;this.Tf.push(u),this.Tf.push(a);var o=[];h.LK.JK(this.qT,this.nA,this.lH,this.qa,o,this.nd);for(var l=0;l<o.length;l++){var d=o[l];if(d.bt==0)u.add(d.X,!1);else if(d.bt==1||d.bt==2)a.add(d.X,!1);else if(d.bt==3)this.Tf.push(d.X);else{if(d.bt!=4)throw h.i.fa("internal");n.add(d.X,!1)}}n.B()||u.B()&&a.B()&&!(3<=this.Tf.length)||this.Tf.push(n),u.B()&&a.B()&&3>this.Tf.length&&(this.Tf.length=0)},_.prototype.SQ=function(){var u=new h.ia(0),a=new h.gd,n=a.aF(),o=a.Ib(this.nA),l=a.Ib(this.lH),d=new h.Fg;try{d.Ft(a,this.qa,this.nd),d.dl(n,o,l,u);var p=a.Ne(o),y=new h.Da,v=new h.Da;for(this.Tf.length=0,this.Tf.push(y),this.Tf.push(v),o=0;o<u.size;o++){var $=new h.gd,I=$.Ib(p),k=$.Ib(a.Ne(u.get(o)));d.dr($,this.nd);var O=d.Av(I,k),F=$.Ne(O);if(!F.B()){var j=a.KF(u.get(o),n);j==2?y.add(F,!1):j==1?v.add(F,!1):this.Tf.push(F);var z=new h.gd;I=z.Ib(p),k=z.Ib(a.Ne(u.get(o))),d.dr(z,this.nd),p=z.Ne(d.im(I,k))}}!p.B()&&0<u.size&&this.Tf.push(p),y.B()&&v.B()&&(this.Tf.length=0)}finally{d.Ug()}},_.prototype.qe=function(){},_}();h.nL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 18},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o){if(a instanceof h.aa)return a=new h.Zc(a),this.V(a,n,o).next();if(0>=n)throw h.i.N();return new h.oL(a,n,o)},u.instance=null,u}(h.Je);h.Xl=P}(Y||(Y={})),function(h){var P=function(){function _(u,a){this.ya=-1,this.Rd=u,this.Ps=a}return _.prototype.La=function(){return this.ya},_.prototype.next=function(){var u;return(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(u)):null},_.prototype.NP=function(u){if(u.B()||1>u.Db())return u;var a=u.getType();if(a==1736||a==1607)return this.Ny(u);if(h.aa.yd(a))return this.PP(u);if(a==197)return this.OP(u);throw h.i.Qa()},_.prototype.PP=function(u){if(u.Qb()<=this.Ps)return u;var a=new h.Ta(u.description);return a.oc(u,!0),this.Ny(a)},_.prototype.OP=function(u){var a=new h.Da(u.description);a.ad(u,!1);var n=new h.l;return u.A(n),u=n.ca(),n.R()<=this.Ps&&u<=this.Ps?a:this.Ny(a)},_.prototype.Ny=function(u){for(var a=u.Ia(),n=u.Ga();n.$a();)for(var o=!0;n.Ha();){var l=n.ha();if(l.getType()!=322)throw h.i.fa("not implemented");var d=n.On(),p=l.Qb();if(p>this.Ps){var y=Math.ceil(p/this.Ps);p=new h.Sa(u.description),o&&(l.To(p),a.nf(p));var v=o=1/y,$=0;for(--y;$<y;$++)l.Tw(v,p),a.lineTo(p),v+=o;d?a.Ap():(l.Po(p),a.lineTo(p))}else d?a.Ap():a.oc(l,o);o=!1}return a},_.prototype.qe=function(){},_}();h.oL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.getType=function(){return 2},u.prototype.V=function(a,n,o,l){return a instanceof h.aa?(a=new h.Zc(a),n=new h.Zc(n),this.V(a,n,o,l).next()):new h.qL(a,n,o,l)},u.im=function(a,n,o,l){if(a.B()||n.B())return a;var d=a.Db(),p=n.Db();if(d>p)return a;var y=a.getType(),v=n.getType(),$=new h.l,I=new h.l,k=new h.l;a.A($),n.A(I),k.K($),k.Zb(I);var O=(k=h.ta.Wd(o,k,!0))*Math.sqrt(2)*1.00001,F=new h.l;if(F.K($),F.W(O,O),!F.isIntersecting(I))return a;if(d==1&&p==2)return u.KV(a,n,v,o,l);if(y==33)switch(h.Vk.yd(v)?(o=new h.Ta(n.description),o.oc(n,!0)):o=n,v){case 1736:return u.XU(a,o,k);case 1607:return u.YU(a,o,k);case 550:return u.VU(a,o,k);case 197:return u.UU(a,o,k);case 33:return u.WU(a,o,k);default:throw h.i.N()}else if(y==550)switch(v){case 1736:return u.nU(a,n,k);case 197:return u.lU(a,n,k);case 33:return u.mU(a,n,k)}return h.Fg.im(a,n,o,l)},u.XU=function(a,n,o){return h.hd.KG(n,a,o)==0?a:a.Ia()},u.YU=function(a,n,o){var l=a.D();n=n.Ga();for(var d=o*Math.sqrt(2)*1.00001,p=d*d,y=new h.l;n.$a();)for(;n.Ha();){var v=n.ha();if(v.A(y),y.W(d,d),y.contains(l)){if(v.qs(l,o))return a.Ia();var $=v.ac();if(h.h.yc(l,$)<=p||($=v.wc(),h.h.yc(l,$)<=p))return a.Ia()}}return a},u.VU=function(a,n,o){var l=n.ub(0);n=n.I();var d=a.D(),p=new h.h;o=o*Math.sqrt(2)*1.00001,o*=o;for(var y=0;y<n;y++)if(l.tc(2*y,p),h.h.yc(p,d)<=o)return a.Ia();return a},u.UU=function(a,n,o){var l=new h.l;return n.A(l),l.W(o,o),n=a.D(),l.contains(n)?a.Ia():a},u.WU=function(a,n,o){o=o*Math.sqrt(2)*1.00001,o*=o;var l=a.D();return n=n.D(),h.h.yc(l,n)<=o?a.Ia():a},u.nU=function(a,n,o){var l=new h.l;n.A(l),l.W(o,o);for(var d=a.I(),p=!1,y=[],v=0;v<d;v++)y[v]=!1;var $=new h.h;for(v=0;v<d;v++)a.D(v,$),l.contains($)&&h.hd.Yd(n,$,o)!=0&&(p=!0,y[v]=!0);if(!p)return a;for(n=a.Ia(),v=0;v<d;v++)y[v]||n.Fd(a,v,v+1);return n},u.lU=function(a,n,o){var l=new h.l;n.A(l),l.W(o,o),n=a.I();var d=!1;o=[];for(var p=0;p<n;p++)o[p]=!1;var y=new h.h;for(p=0;p<n;p++)a.D(p,y),l.contains(y)&&(d=!0,o[p]=!0);if(!d)return a;for(l=a.Ia(),p=0;p<n;p++)o[p]||l.Fd(a,p,p+1);return l},u.mU=function(a,n,o){var l=a.ub(0),d=a.I(),p=n.D(),y=new h.h,v=!1;n=[];for(var $=0;$<d;$++)n[$]=!1;for(o=($=o*Math.sqrt(2)*1.00001)*$,$=0;$<d;$++)l.tc(2*$,y),h.h.yc(y,p)<=o&&(v=!0,n[$]=!0);if(!v)return a;for(l=a.Ia(),$=0;$<d;$++)n[$]||l.Fd(a,$,$+1);return l},u.KV=function(a,n,o,l,d){var p=new h.Fh;a.bn(p);var y=new h.l;return n.A(y),p.Zb(y),p.W(.1*p.R(),.1*p.ca()),(y=new h.Da).ad(p,!1),o==1736?y.add(n,!0):y.ad(n,!0),h.Xj.local().V(a,y,l,d)},u.instance=null,u}(h.Je);h.kp=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o){this.ts=a==null,this.ya=-1,this.Rd=u,this.$z=n,this.wT=a.next(),this.Ub=o}return _.prototype.next=function(){return this.ts?null:(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),h.kp.im(u,this.wT,this.$z,this.Ub)):null;var u},_.prototype.La=function(){return this.ya},_.prototype.qe=function(){},_}();h.qL=P}(Y||(Y={})),function(h){var P=function(){function u(a){this.nd=a,this.Bj=new h.l,this.Bj.Oa(),this.oh=new h.l,this.oh.Oa()}return u.prototype.Nt=function(){var a=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=a,a=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=a,a=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=a,a=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=a},u.prototype.eQ=function(a,n){if(this.nd!=null&&!this.nd.progress(-1,-1))throw h.i.fu("user_canceled");var o=!this.Bj.isIntersecting(this.oh);return h.aa.Hc(a.getType())&&h.aa.Hc(n.getType())?a.I()>n.I()?this.gE(a,n,o):(this.Nt(),a=this.gE(n,a,o),this.Nt(),a):a.getType()==550&&h.aa.Hc(n.getType())?(a=this.hE(n,a,o),this.Nt(),a):n.getType()==550&&h.aa.Hc(a.getType())?this.hE(a,n,o):a.getType()==550&&n.getType()==550?a.I()>n.I()?this.iE(a,n):(this.Nt(),a=this.iE(n,a),this.Nt(),a):0},u.prototype.gE=function(a,n,o){var l=a.Ga(),d=n.Ga(),p=new h.l,y=new h.l,v=17976931348623157e292;if(!o&&this.pY(a,n,l,d))return 0;for(;l.$a();)for(;l.Ha();)if((a=l.ha()).A(p),!(p.px(this.oh)>v)){for(;d.$a();)for(;d.Ha();)if((n=d.ha()).A(y),p.px(y)<v&&(n=a.tb(n,o),(n*=n)<v)){if(n==0)return 0;v=n}d.Zi()}return Math.sqrt(v)},u.prototype.hE=function(a,n,o){var l=a.Ga(),d=new h.l,p=17976931348623157e292,y=new h.h,v=n.I();for(o=!o&&a.getType()==1736;l.$a();)for(;l.Ha();){var $=l.ha();if($.A(d),!(1<v&&d.px(this.oh)>p)){for(var I=0;I<v;I++){if(n.D(I,y),o&&h.hd.Yd(a,y,0)!=0)return 0;var k=$.fe(y,!1);if(y.sub($.hc(k)),(k=y.Sk())<p){if(k==0)return 0;p=k}}o=!1}}return Math.sqrt(p)},u.prototype.iE=function(a,n){for(var o,l=17976931348623157e292,d=new h.h,p=new h.h,y=a.I(),v=n.I(),$=0;$<y;$++)if(a.D($,d),!(1<v&&this.oh.iK(d)>l)){for(var I=0;I<v;I++)if(n.D(I,p),(o=h.h.yc(d,p))<l){if(o==0)return 0;l=o}}return Math.sqrt(l)},u.prototype.pY=function(a,n,o,l){if(a.getType()==1736){for(;l.$a();)if(l.Ha()){var d=l.ha();if(h.hd.Yd(a,d.wc(),0)!=0)return!0}l.Zi()}if(n.getType()==1736){for(;o.$a();)if(o.Ha()&&(a=o.ha(),h.hd.Yd(n,a.wc(),0)!=0))return!0;o.Zi()}return!1},u.prototype.gm=function(a,n){return a.B()||n.B()?NaN:(a.A(this.Bj),n.A(this.oh),this.eQ(a,n))},u}(),_=function(u){function a(){return u!==null&&u.apply(this,arguments)||this}return Vt(a,u),a.prototype.V=function(n,o,l){if(n==null||o==null)throw h.i.N();if(n.B()||o.B())return NaN;var d=n.getType(),p=o.getType();if(d==33){if(p==33)return h.h.tb(n.D(),o.D());if(p==197)return l=new h.l,o.A(l),l.tb(n.D());(d=new h.de).add(n),n=d}else if(d==197){if(p==197)return p=new h.l,n.A(p),l=new h.l,o.A(l),l.tb(p);(d=new h.Da).ad(n,!1),n=d}return p==33?((p=new h.de).add(o),o=p):p==197&&((p=new h.Da).ad(o,!1),o=p),new P(l).gm(n,o)},a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.getType=function(){return 14},a.instance=null,a}(h.Je);h.rL=_}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o){this.zH=u,this.DH=a,this.nd=o,this.$G=n}return _.prototype.next=function(){var u=this.zH.next();return u==null?null:this.zC(u)},_.prototype.La=function(){return this.zH.La()},_.prototype.zC=function(u){var a=u.getType();if(h.aa.Rn(a))return u;if(a==197)return(a=new h.Da(u.description)).ad(u,!1),this.zC(a);if(u.B())return u;if(u==null)throw h.i.Qa();a=u.Ia();for(var n=new h.yb,o=0,l=u.da();o<l;o++)this.TK(u,o,a,n);return a},_.prototype.TK=function(u,a,n,o){if(!(2>u.Ja(a))){var l=u.Ba(a),d=u.Vc(a)-1,p=u.ub(0),y=u.dc(a),v=new h.ia(0);v.Jb(u.Ja(a)+1);var $=new h.ia(0);for($.Jb(u.Ja(a)+1),v.add(y?l:d),v.add(l),l=new h.h;1<v.size;){var I=v.Fc();v.If();var k=v.Fc();u.D(I,l),o.Dc(l),u.D(k,l),o.Qc(l),0<=(k=this.SK(o,l,p,I,k,d))?(v.add(k),v.add(I)):$.add(I)}if(y||$.add(v.get(0)),$.size==v.size)n.addPath(u,a,!0);else if(2<=$.size&&(!this.$G||$.size!=2||!(y||h.h.tb(u.Na($.get(0)),u.Na($.get(1)))<=this.DH))){for(a=new h.Sa,o=0,d=$.size;o<d;o++)u.ve($.get(o),a),o==0?n.nf(a):n.lineTo(a);y&&(this.$G||$.size!=2||n.lineTo(a),n.Ap())}}},_.prototype.SK=function(u,a,n,o,l,d){var p=l-1;for(l<=o&&(p=d),d=l=-1,o+=1;o<=p;o++){n.tc(2*o,a);var y=a.x,v=a.y;u.hc(u.fe(a,!1),a),a.x-=y,a.y-=v,(y=a.length())>this.DH&&y>d&&(l=o,d=y)}return l},_.prototype.qe=function(){},_}();h.sL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 29},u.prototype.V=function(a,n,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,n,o,l).next()):new h.sL(a,n,o,l)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u}(h.Je);h.EC=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 21},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l,d,p,y,v){return a instanceof h.aa?(v=new h.Zc(a),this.V(v,n,o,[l],d,p,!1,y).next()):y===!0?(o=new h.GC(a,n,o,l,d,!1,!1,v),h.Gh.local().V(o,n,v)):new h.GC(a,n,o,l,d,!1,!1,v)},u.instance=null,u}(h.Je);h.FC=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l,d,p,y){if(d)throw h.i.Ie();if(a==null)throw h.i.N();this.ya=-1,this.Ms=u,this.vg=a,this.ze=n,this.Cs=o,this.$n=l,this.eo=-1,this.Ub=y,this.uT=new h.l,this.uT.Oa()}return _.prototype.next=function(){for(var u;(u=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(u,this.Cs[this.eo]);return null},_.prototype.La=function(){return this.ya},_.prototype.$Q=function(u,a){return h.VK.buffer(u,this.vg,this.ze,a,this.$n,this.Ub)},_.prototype.qe=function(){},_}();h.GC=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 24},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o){if(n==null)throw h.i.N();if(a.B()||1>a.Db())return 0;if(o==4)throw h.i.Ie();var l=h.cb.sc(n),d=h.cb.vv(l),p=h.cb.ev(l);d*=2-d;var y=l.Hd().ai,v=a.getType();if(v==1736||v==197)var $=a.mg();else h.aa.yd(v)?($=new h.Ta(a.description)).oc(a,!0):$=a;if(l.Nb(n)==0){if(h.cb.Wc(n)){$=h.Hh.lj($,n),v==1607&&$==a&&($=h.aa.jg(a)),a=new h.Nc,h.cb.gh(n).cn(a),v=0;for(var I=$.I();v<I;v++){var k=$.Na(v);k.x=h.Hh.Zm(k.x,a),$.Cb(v,k)}}a=$.Ia(),$=h.Hh.WI(n,l,$,a)?a:h.cb.zh($,n,l)}return this.hQ($,o,p,d,y)},u.prototype.hQ=function(a,n,o,l,d){var p=new h.ga(0),y=0;for(a=a.Ga();a.$a();)for(;a.Ha();){var v=a.ha(),$=v.ac();v=v.wc(),$.scale(d),v.scale(d),h.kb.wd(o,l,$.x,$.y,v.x,v.y,p,null,null,n),y+=p.u}return y},u.instance=null,u}(h.Je);h.vL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 18},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l,d){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,n,o,l,d).next()):new h.uL(a,o,l,n,-1,-1,d)},u.instance=null,u}(h.Je);h.tL=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l,d){if(0<d||n!=4&&0<l)throw h.i.Ie();if(a==null)throw h.i.N();this.ya=-1,this.Ms=u,this.vg=a,this.ze=n,this.DT=o,this.CT=l}return _.prototype.next=function(){for(var u;(u=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(u);return null},_.prototype.La=function(){return this.ya},_.prototype.Zy=function(u){return h.cj.Qr(u,this.vg,this.ze,this.DT,this.CT,this.Ub)},_.prototype.qe=function(){},_}();h.uL=P}(Y||(Y={})),function(h){(function(P){P[P.Unknown=0]="Unknown",P[P.Contains=1]="Contains",P[P.Within=2]="Within",P[P.Equals=3]="Equals",P[P.Disjoint=4]="Disjoint",P[P.Touches=8]="Touches",P[P.Crosses=16]="Crosses",P[P.Overlaps=32]="Overlaps",P[P.NoThisRelation=64]="NoThisRelation",P[P.Intersects=1073741824]="Intersects",P[P.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(h.cL||(h.cL={})),h.wL=function(){function P(){}return P.nW=function(_,u){var a=_.getType(),n=u.getType();if(h.aa.xj(a)){var o=_.Bb;if(o!=null&&(o=o.Fk)!=null){if(n==33){var l=u.D();o=o.So(l.x,l.y)}else l=new h.l,u.A(l),o=o.Ro(l);if(o==1)return 1;if(o==0)return 4}}if(h.aa.xj(n)&&(o=u.Bb)!=null&&(o=o.Fk)!=null){if(a==33?(_=_.D(),o=o.So(_.x,_.y)):(u=new h.l,_.A(u),o=o.Ro(u)),o==1)return 2;if(o==0)return 4}return 0},P}()}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.getType=function(){return 15},u.prototype.V=function(a,n,o,l,d){return a instanceof h.aa?(a=new h.Zc(a),n=new h.Zc(n),this.V(a,n,o,l,d===void 0?-1:d).next()):d===void 0?new h.HC(a,n,o,l,-1):new h.HC(a,n,o,l,d)},u.prototype.wn=function(a,n,o){this.Iu(a)&&(n=h.ta.kj(n,a,!1),a.fj(o)||a.lu(n,o))},u.prototype.Iu=function(a){return h.Nx.zE(a)},u.instance=null,u}(h.Je);h.Xj=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l){if(this.ts=a==null,this.ya=-1,this.Rd=u,this.vg=n,this.Se=a.next(),this.Dj=this.Se.getType(),this.Ub=o,this.Fi=l,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw h.i.N("bad dimension mask")}return _.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var u=this.zw.next();if(u!=null)return u;this.zw=null}for(;(u=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?u=this.Ea(u):(this.zw=this.PS(u),u=this.zw.next()),u;return null},_.prototype.La=function(){return this.ya},_.prototype.Ea=function(u){var a=this.zK(u);if(a!=null)return a;a=h.ta.mv(this.Se,u);var n=h.ta.Wd(this.vg,a,!0);a=new h.l,this.Se.A(a);var o=new h.l;return u.A(o),a.W(2*n,2*n),a.Ea(o),a.W(100*n,100*n),n=h.Ud.clip(this.Se,a,0,0),u=h.Ud.clip(u,a,0,0),h.Fg.Av(u,n,this.vg,this.Ub)},_.prototype.QI=function(u,a,n){var o=0;if(1&a)n[0]==null&&(n[0]=new h.de(u)),o++;else for(var l=0;l<n.length-1;l++)n[l]=n[l+1];if(2&a)n[o]==null&&(n[o]=new h.Ta(u)),o++;else for(l=o;l<n.length-1;l++)n[l]=n[l+1];if(4&a)n[o]==null&&(n[o]=new h.Da(u)),o++;else for(l=o;l<n.length-1;l++)n[l]=n[l+1];if(o!=3){for(u=[],l=0;l<o;l++)u[l]=n[l];return new h.Zc(u)}return new h.Zc(n)},_.prototype.PS=function(u){var a=this.zK(u);if(a!=null){var n=[null,null,null];return n[a.Db()]=a,this.QI(u.description,this.Fi,n)}a=h.ta.mv(this.Se,u),n=h.ta.Wd(this.vg,a,!0),a=new h.l,this.Se.A(a),a.W(2*n,2*n);var o=new h.l;return u.A(o),a.Ea(o),a.W(100*n,100*n),n=h.Ud.clip(this.Se,a,0,0),a=h.Ud.clip(u,a,0,0),n=h.Fg.Pz(a,n,this.vg,this.Ub),this.QI(u.description,this.Fi,n)},_.prototype.zK=function(u){var a=h.ta.mv(u,this.Se),n=h.ta.Wd(this.vg,a,!0);a=u.getType();var o=u.B(),l=this.Se.B();if(!(l=o||l)){l=new h.l,u.A(l);var d=new h.l;this.Se.A(d),d.W(2*n,2*n),l=!l.isIntersecting(d)}if(!l)if((d=h.wL.nW(this.Se,u))==4)l=!0;else{if(2&d)return this.Se;if(1&d)return u}if(l)return(n=h.aa.tf(a))<(l=h.aa.tf(this.Dj))?_.HB(u,o):n>l||n==0&&a==550&&this.Dj==33?this.nJ():_.HB(u,o);if((this.Fi==-1||this.Fi==4)&&a==197&&this.Dj==197)return n=this.Se,a=new h.l,u.A(a),o=new h.l,n.A(o),a.Ea(o),n=new h.Fh,u.copyTo(n),n.Xo(a),n;if(a==197&&h.aa.tf(this.Dj)==0||this.Dj==197&&h.aa.tf(a)==0)return o=a==197?u:this.Se,u=a==197?this.Se:u,a=new h.l,o.A(a),h.Ud.clip(u,a,n,0);if(h.aa.tf(a)==0&&0<h.aa.tf(this.Dj)||0<h.aa.tf(a)&&h.aa.tf(this.Dj)==0){if(n=h.ta.kj(this.vg,u,!1),a==550||a==33)return h.Fg.zG(u,this.Se,n);if(this.Dj==550||this.Dj==33)return h.Fg.zG(this.Se,u,n);throw h.i.Qa()}return this.Fi!=-1&&this.Fi!=2||a!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||a!=1736||this.Dj!=1607?null:this.wK(this.Se,u):this.wK(u,this.Se)},_.prototype.wK=function(u,a){var n=u,o=a,l=h.ta.kj(this.vg,a,!1),d=new h.l;o.A(d);var p=new h.l;n.A(p),p.W(2*l,2*l),d.Ea(p),d.W(10*l,10*l),n=u=h.Ud.clip(u,d,0,0),p=new h.ia(0);var y=-1,v=o.Bb;if(v!=null){var $=v.Fk;if($!=null){y=0,p.Jb(n.I()+n.da());for(var I=new h.l,k=n.Ga();k.$a();)for(;k.Ha();){k.ha().A(I);var O=$.Ro(I);O==1?p.add(1):O==0?p.add(0):(p.add(-1),y++)}}}if(5<a.I()&&(v=(o=a=h.Ud.clip(a,d,0,0)).Bb),0>y&&(y=n.yz()),d=n.I()+o.I(),y*o.I()>Math.log(d)*d*4)return null;d=null,y=o.Ga(),v!=null&&v.Fb!=null&&(d=v.Fb),d==null&&20<o.I()&&(d=h.ta.nE(o)),u=u.Ia(),o=null,v=n.Ga(),$=[0,0,0,0,0,0,0,0,0],I=new h.be(0),k=new h.ig,O=-1;for(var F=0,j=0,z=0<p.size,B=-1;v.$a();){B=v.gb;var H=0;for(O=-1,F=0;v.Ha();){var U=z?h.O.truncate(p.get(j)):-1;j++;var Z=v.ha();if(0>U){if(d!=null)for(o==null?o=d.vR(Z,l):o.Uo(Z,l),U=o.next();U!=-1;U=o.next()){y.Vb(d.ja(U)),U=y.ha();var re=Z.Ea(U,null,$,null,l);for(U=0;U<re;U++)I.add($[U])}else for(y.Zi();y.$a();)for(;y.Ha();)for(U=y.ha(),re=Z.Ea(U,null,$,null,l),U=0;U<re;U++)I.add($[U]);if(0<I.size){I.Vd(0,I.size,function(Me,Te){return Me-Te});var ie=0;I.add(1),re=-1,U=0;for(var ce=I.size;U<ce;U++){var le=I.get(U);if(le!=ie){var _e=!1;if(ie!=0||le!=1?(Z.ah(ie,le,k),ie=k.get()):(ie=Z,_e=!0),2<=H){if(u.Dr(n,B,O,F,H==3),this.QD(a,ie.ac(),l)!=1&&this.RD(a,ie,l)!=1)return null;u.oc(ie,!1),H=1,F=0}else switch(re=this.RD(a,ie,l),re){case 1:_e?2>H?(O=v.wb()-n.Ba(B),F=1,H=H==0?3:2):F++:(u.oc(ie,H==0),H=1);break;case 0:H=0,O=-1,F=0;break;default:return null}ie=le}}}else{if(0>(U=this.QD(a,Z.ac(),l)))return null;U==1?(2>H&&(O=v.wb()-n.Ba(B),H=H==0?3:2),F++):(O=-1,F=0)}I.clear(!1)}else U!=0&&U==1&&(H==0?(H=3,O=v.wb()-n.Ba(B)):H==1?(H=2,O=v.wb()-n.Ba(B)):F++)}2<=H&&(u.Dr(n,B,O,F,H==3),O=-1)}return u},_.prototype.QD=function(u,a,n){return h.Dg.wm(u,a,n)},_.prototype.RD=function(u,a,n){var o=a.ac();a=a.wc();var l=h.Dg.wm(u,o,n),d=h.Dg.wm(u,a,n);return l==1&&d==0||l==0&&d==1?-1:l==0||d==0?0:l==1||d==1?1:((l=new h.h).add(o,a),l.scale(.5),(u=h.Dg.wm(u,l,n))==0?0:u==1?1:-1)},_.HB=function(u,a){return a?u:u.Ia()},_.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},_.prototype.qe=function(){},_}();h.HC=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 28},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l,d,p,y){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,n,o,l,d,p,y).next()):new h.xL(a,n,o,l,d,p,y)},u.instance=null,u}(h.Je);h.IC=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o,l,d,p){this.ya=-1,this.Rd=u,this.Mj=a,this.Ka=n,this.Ki=o,this.CA=l,this.uH=d,this.nd=p}return _.prototype.next=function(){var u=this.Rd.next();return u!=null?(this.ya=this.Rd.La(),this.jL(u)):null},_.prototype.La=function(){return this.ya},_.prototype.jL=function(u){var a=0>=this.uH?h.ta.kj(this.Mj,u,!1):this.uH;return h.IK.V(u,this.Ka,this.Ki,this.CA,a,this.nd)},_.prototype.qe=function(){},_}();h.xL=P}(Y||(Y={})),function(h){var P;(P=h.NK||(h.NK={}))[P.clipToDomainOnly=1]="clipToDomainOnly",P[P.clipWithHorizon=2]="clipWithHorizon",P[P.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var _=function(u){function a(){return u!==null&&u.apply(this,arguments)||this}return Vt(a,u),a.prototype.getType=function(){return 0},a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.V=function(n,o,l){return n instanceof h.aa?(n=new h.Zc(n),this.V(n,o,l).next()):new h.yL(n,o,l)},a.prototype.transform=function(n,o,l,d){return h.bu.transform(n,o,l,d,!0)},a.prototype.Qt=function(n,o,l,d){return h.bu.Qt(n,o,l,d)},a.instance=null,a}(h.Je);h.Hx=_}(Y||(Y={})),function(h){var P=function(){function _(u,a,n){this.ya=-1,this.Rd=u,this.MT=a,this.nd=n}return _.prototype.next=function(){var u=this.Rd.next();return u!=null?(this.ya=this.Rd.La(),h.bu.zh(u,this.MT,this.nd)):null},_.prototype.La=function(){return this.ya},_.prototype.qe=function(){},_}();h.yL=P}(Y||(Y={})),function(h){var P=function(){function u(){}return u.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},u.prototype.AQ=function(a,n,o){for(a.Vb(n,o);a.Ha();){var l=a.ha();if((l=l.Qb())!=0)return a.wb()}for(a.Vb(n,o);a.Ez();)if((l=(l=a.li()).Qb())!=0)return a.wb();return-1},u.prototype.BQ=function(a,n){for(a.Vb(n,-1);a.Ez();)if(a.li().Qb()!=0)return a.wb();return-1},u.prototype.zQ=function(a,n){for(a.Vb(n,-1),a.ha();a.Ha();)if(a.ha().Qb()!=0)return a.wb();return-1},u.prototype.yQ=function(a,n,o,l){if(this.xk=this.AQ(n,o,l),this.xk!=-1){n.Vb(this.xk,-1);var d=n.ha(),p=d.hc(d.fe(a,!1));if(o=h.h.yc(p,a),(l=new h.h).L(p),l.sub(d.ac()),(p=new h.h).L(a),p.sub(d.ac()),this.kq=0>l.wi(p),this.ph=this.zQ(n,this.xk),this.ph!=-1){n.Vb(this.ph,-1);var y=(d=n.ha()).fe(a,!1);y=d.hc(y);var v=h.h.yc(y,a);v>o?this.ph=-1:(l.L(y),l.sub(d.ac()),p.L(a),p.sub(d.ac()),this.us=0>l.wi(p))}this.ph==-1&&(this.ph=this.BQ(n,this.xk),this.ph!=-1&&(n.Vb(this.ph,-1),y=(d=n.ha()).fe(a,!1),y=d.hc(y),(v=h.h.yc(y,a))>o?this.ph=-1:(l.L(y),l.sub(d.ac()),p.L(a),p.sub(d.ac()),this.us=0>l.wi(p),a=this.xk,this.xk=this.ph,this.ph=a,a=this.kq,this.kq=this.us,this.us=a)))}},u.prototype.cO=function(a,n,o,l,d){return o=o.Ga(),this.yQ(a,o,l,d),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(o.Vb(this.xk,-1),a=o.ha().kg(),o.Vb(this.ph,-1),n=o.ha().kg(),0<=a.wi(n)):n},u}(),_=function(u){function a(){return u!==null&&u.apply(this,arguments)||this}return Vt(a,u),a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.getType=function(){return 3},a.prototype.nz=function(n,o,l){var d;if(d===void 0&&(d=!1),n.B())return new h.$l;o=o.D();var p=n,y=n.getType();switch(y==197&&((p=new h.Da).ad(n,!1),y=1736),y){case 33:return this.xI(p,o);case 550:return this.jI(p,o);case 1607:case 1736:return this.bU(p,o,l,d);default:throw h.i.fa("not implemented")}},a.prototype.oz=function(n,o){if(n.B())return new h.$l;o=o.D();var l=n,d=n.getType();switch(d==197&&((l=new h.Da).ad(n,!1),d=1736),d){case 33:return this.xI(l,o);case 550:case 1607:case 1736:return this.jI(l,o);default:throw h.i.fa("not implemented")}},a.prototype.pz=function(n,o,l,d){if(0>d)throw h.i.N();if(n.B())return[];o=o.D();var p=n,y=n.getType();switch(y==197&&((p=new h.Da).ad(n,!1),y=1736),y){case 33:return this.TU(p,o,l,d);case 550:case 1607:case 1736:return this.tU(p,o,l,d);default:throw h.i.fa("not implemented")}},a.prototype.bU=function(n,o,l,d){if(n.getType()==1736&&l&&(l=new h.l,n.A(l),l=h.ta.Wd(null,l,!1),(d?h.hd.Yd(n,o,0):h.hd.Yd(n,o,l))!=0)){var p=new h.$l(o,0,0);return d&&p.WJ(!0),p}var y=n.Ga();p=new h.h;for(var v=l=-1,$=17976931348623157e292,I=0;y.$a();)for(;y.Ha();){var k=y.ha();k=k.hc(k.fe(o,!1));var O=h.h.yc(k,o);O<$?(I=1,p=k,l=y.wb(),v=y.gb,$=O):O==$&&I++}return p=new h.$l(p,l,Math.sqrt($)),d&&(y.Vb(l,v),k=y.ha(),d=0>h.h.Uq(o,k.ac(),k.wc()),1<I&&((I=new P).reset(),d=I.cO(o,d,n,l,v)),p.WJ(d)),p},a.prototype.xI=function(n,o){return n=n.D(),o=h.h.tb(n,o),new h.$l(n,0,o)},a.prototype.jI=function(n,o){for(var l=n.ub(0),d=n.I(),p=n=0,y=0,v=17976931348623157e292,$=0;$<d;$++){var I=new h.h;l.tc(2*$,I);var k=h.h.yc(I,o);k<v&&(p=I.x,y=I.y,n=$,v=k)}return(o=new h.$l).ey(p,y,n,Math.sqrt(v)),o},a.prototype.TU=function(n,o,l,d){return d==0?[]:(l*=l,n=n.D(),(o=h.h.yc(n,o))<=l?(l=[],(d=new h.$l).ey(n.x,n.y,0,Math.sqrt(o)),l[0]=d):l=[],l)},a.prototype.tU=function(n,o,l,d){if(d==0)return[];var p=n.ub(0),y=n.I();n=[],l*=l;for(var v=0;v<y;v++){var $=p.read(2*v),I=p.read(2*v+1),k=o.x-$,O=o.y-I;(k=k*k+O*O)<=l&&((O=new h.$l).ey($,I,v,Math.sqrt(k)),n.push(O))}return o=n.length,n.sort(function(F,j){return F.Ka<j.Ka?-1:F.Ka==j.Ka?0:1}),d>=o||(n.length=d),n.slice(0)},a.instance=null,a}(h.Je);h.Ix=_}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 4},u.prototype.V=function(a,n,o,l,d){return h.am.yB(a,n,o,l,d)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.Iu=function(a){return h.Vt.wy(a)},u.prototype.wn=function(a,n,o){h.Vt.CD(a,n,o)},u.instance=null,u}(h.Je);h.zL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 33},u.prototype.V=function(a,n,o,l,d){return a===1073741824?!h.ud.zB(n,o,l,4,d):h.ud.zB(n,o,l,a,d)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.Iu=function(a){return h.Vt.wy(a)},u.prototype.wn=function(a,n,o){h.Vt.CD(a,n,o)},u.instance=null,u}(h.Je);h.dj=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o){if(this.nd=o,this.rT=n,this.ya=-1,u==null)throw h.i.N();this.yk=u,this.Mj=a}return _.prototype.next=function(){var u;if((u=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw h.i.fu("user_canceled");return this.eC(u)}return null},_.prototype.La=function(){return this.ya},_.prototype.eC=function(u){if(u==null)throw h.i.N();return h.Jx.cK(u,this.Mj,this.rT,this.nd)},_.prototype.qe=function(){},_}();h.AL=P}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 26},u.prototype.V=function(a,n,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,n,o,l).next()):new h.AL(a,n,o,l)},u.prototype.rs=function(a,n,o,l,d){return 0<(l!==void 0?h.Jx.rs(a,n,o,l,d):h.Jx.rs(a,n,!1,null,o))},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u}(h.Je);h.Yl=P}(Y||(Y={})),function(h){var P=function(){function d(){this.yq=0}return d.prototype.nX=function(p){this.yq&=-2,this.yq|=p?1:0},d.prototype.Wp=function(){return(1&this.yq)!=0},d.prototype.XF=function(){return this.Wp()?0:1},d}();h.xY=P;var _=function(){},u=function(d,p,y,v){this.x=d,this.y=p,this.Ai=y,this.xm=v},a=function(){function d(p){this.Be=p}return d.prototype.compare=function(p,y,v){return p=p.ja(v),y=this.Be.lf.read(2*y),0>(y-=p=this.Be.lf.read(2*p))?-1:0<y?1:0},d}(),n=function(){function d(p){this.Be=p}return d.prototype.compare=function(p,y,v){y=this.Be.hb[y],p=this.Be.hb[p.ja(v)];var $=y.Wp(),I=p.Wp();v=y.ne.Pe(this.Be.Mo,0);var k=p.ne.Pe(this.Be.Mo,0);return v==k&&(($=.5*((v=Math.min($?y.ne.na:y.ne.la,I?p.ne.na:p.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&($=v),v=y.ne.Pe($,0),k=p.ne.Pe($,0)),v<k?-1:v>k?1:0},d}(),o=function(){function d(p,y){this.YI=new h.h,this.parent=p,this.dS=y}return d.prototype.nr=function(p,y,v){var $=this.parent,I=this.dS;v.Vd(p,y,function(k,O){return $.Mh(k,O,I)})},d.prototype.$p=function(p){return p=this.parent.gi.get(p),this.parent.lf.tc(2*(p>>1),this.YI),this.YI.y+(1&p?this.parent.Oj:-this.parent.Oj)},d}(),l=function(){function d(p,y,v,$,I){this.nH=p.description,this.X=p,this.Qg=y,this.Oj=h.ta.kj(this.Qg,p,!1),this.Bo=h.ta.kj(this.Qg,p,!0),this.xA=v,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new h.jp,this.fb=new h.Yj,this.ke=new h.Md,this.ZG=this.ql=I}return d.prototype.eT=function(){return this.ZG=!0,(!h.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?h.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},d.prototype.kC=function(p,y){var v=this.lf.read(2*p);p=this.lf.read(2*p+1);var $=this.lf.read(2*y);y=this.lf.read(2*y+1);var I=!h.Yt.Cv(v,p,$,y,this.Oj*this.Oj);return I||this.X.Db()!=0&&v==$&&p==y},d.prototype.GE=function(){for(var p=this.X,y=p.xf?3:2,v=0,$=p.da();v<$;v++)if(p.Ja(v)<y)return this.ke=new h.Md(1,v,0),!1;return!0},d.prototype.DE=function(p){var y=this.X,v=y.Ga(),$=y.hasAttribute(1);for(y=$?h.ta.wE(this.Qg,y,!1):0;v.$a();)for(;v.Ha();){var I=v.ha();if(!(I.Qb()>this.Oj)){if(p&&$){var k=I.wv(1,0);if(I=I.wv(1,0),Math.abs(I-k)>y)continue}return this.ke=new h.Md(2,v.wb(),-1),!1}}return!0},d.prototype.mO=function(){var p=this.X,y=null;h.aa.Hc(this.X.getType())&&(y=this.X);var v=(this.ZG||this.ql)&&y!=null,$=p.I();this.lf=p.ub(0),this.gi=new h.ia(0),this.gi.Jb(2*$),this.fi=new h.ia(0),this.fi.Jb(2*$),v&&(this.Fl==null&&(this.Fl=new h.ia(0)),this.Fl.Jb($));for(var I=p=0;I<$;I++)if(this.gi.add(2*I),this.gi.add(2*I+1),this.fi.add(2*I),this.fi.add(2*I+1),v){for(;I>=y.Vc(p);)p++;this.Fl.add(p)}for(new h.Xt().sort(this.fi,0,2*$,new o(this,v)),this.fb.clear(),this.fb.Vo(new a(this)),this.fb.De($),y=0,$*=2;y<$;y++)if(v=this.fi.get(y),v=(p=this.gi.get(v))>>1,(1&p)==0){if(p=this.fb.addElement(v,-1),(I=this.fb.we(p))!=-1&&!this.kC(this.fb.ja(I),v))return this.ke=new h.Md(3,v,this.fb.ja(I)),!1;var k=this.fb.lb(p);if(k!=-1&&!this.kC(this.fb.ja(k),v))return this.ke=new h.Md(3,v,this.fb.ja(k)),!1}else if(p=this.fb.search(v,-1),I=this.fb.we(p),k=this.fb.lb(p),this.fb.vd(p,-1),I!=-1&&k!=-1&&!this.kC(this.fb.ja(I),this.fb.ja(k)))return this.ke=new h.Md(3,this.fb.ja(I),this.fb.ja(k)),!1;return!0},d.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},d.prototype.oO=function(){var p=new h.gd;p.Ib(this.X);var y=new h.Md;return!h.$t.kI(!1,p,this.Oj,y,this.nd)||(y.Jo=p.Ua(y.Jo),y.Ko=p.Ua(y.Ko),this.ke.Wt(y),!1)},d.prototype.nO=function(){var p=this.X,y=p.Ga();for(p=p.Ga();y.$a();)for(;y.Ha();){var v=y.ha();if(!y.Qn()||!y.$S()){p.BW(y);do for(;p.Ha();){var $=p.ha();if(($=v.zr($,this.Oj,!0))!=0)return this.ke=new h.Md($==2?5:4,y.wb(),p.wb()),!1}while(p.$a())}}return!0},d.prototype.sO=function(){var p=this.X;this.hb.length=0,this.po.length=0,this.Zf=p.Ga(),this.Zf.JB();var y=new h.ia(0);y.Jb(10);var v=NaN,$=0,I=0;for(p=2*p.I();I<p;I++){var k=this.fi.get(I);if(!(1&(k=this.gi.get(k)))){k>>=1;var O=this.lf.read(2*k),F=this.lf.read(2*k+1);if(y.size!=0&&(O!=v||F!=$)){if(!this.RI(y))return!1;y!=null&&y.clear(!1)}y.add(k),v=O,$=F}}return!!this.RI(y)},d.prototype.rO=function(){for(var p=this.X,y=Array(p.da()),v=0,$=p.da();v<$;v++)y[v]=p.Nn(v);$=new _;var I=new h.h;v=this.fi.get(0);var k=(v=this.gi.get(v))>>1;this.lf.tc(2*k,I);var O=y[v=this.Fl.get(k)],F=p.Ba(v),j=p.Vc(v)-1;$.el=k==F||k==j,$.ny=this.ql?!O&&$.el:$.el,$.Ai=v,$.x=I.x,$.y=I.y,$.xm=k;for(var z=new _,B=1,H=this.fi.size;B<H;B++)if(v=this.fi.get(B),(1&(v=this.gi.get(v)))==0){k=v>>1,this.lf.tc(2*k,I),(v=this.Fl.get(k))!=$.Ai&&(O=y[v],F=p.Ba(v),j=p.Vc(v)-1);var U=k==F||k==j,Z=this.ql?!O&&$.el:$.el;if(z.x=I.x,z.y=I.y,z.Ai=v,z.xm=k,z.ny=Z,z.el=U,z.x==$.x&&z.y==$.y){if(this.ql){if(!(z.ny&&$.ny||z.Ai==$.Ai&&(z.el||$.el)))return this.ke=new h.Md(8,z.xm,$.xm),!1}else if(!z.el||!$.el)return this.ke=new h.Md(5,z.xm,$.xm),!1}v=$,$=z,z=v}return!0},d.prototype.JE=function(){for(var p=this.X,y=[],v=-1,$=!1,I=0,k=p.da();I<k;I++)p.Ev(I)&&($=!1,v++,I<k-1&&(p.Ev(I+1)||($=!0))),y[I]=$?v:-1;$=new h.h,I=this.fi.get(0);var O=(I=this.gi.get(I))>>1;this.lf.tc(2*O,$),I=this.Fl.get(O),v=new u($.x,$.y,I,O,y[I]),p=[];var F=1;for(k=this.fi.size;F<k;F++)if(I=this.fi.get(F),(1&(I=this.gi.get(I)))==0){if(O=I>>1,this.lf.tc(2*O,$),I=this.Fl.get(O),(I=new u($.x,$.y,I,O,y[I])).x==v.x&&I.y==v.y){if(I.Ai==v.Ai)return this.ke=new h.Md(9,I.xm,v.xm),!1;0<=y[I.Ai]&&y[I.Ai]==y[v.Ai]&&(p.length!=0&&p[p.length-1]==v||p.push(v),p.push(I))}v=I}if(p.length==0)return!0;for(I=new h.jp(!0),h.O.$u(y,-1),$=-1,(F=new h.h).Rc(),v=0,k=p.length;v<k;v++){(O=p[v]).x==F.x&&O.y==F.y||($=I.Ph(0),F.x=O.x,F.y=O.y);var j=y[O.Ai];j==-1&&(j=I.Ph(2),y[O.Ai]=j),I.addElement(j,$),I.addElement($,j)}for((k=new h.ia(0)).Jb(10),v=I.je;v!=-1;v=I.qz(v))if(!(1&(p=I.PF(v)))&&2&p){for(p=-1,k.add(v),k.add(-1);0<k.size;){if($=k.Fc(),k.If(),F=k.Fc(),k.If(),(1&(O=I.PF(F)))!=0){p=2&O?F:$;break}for(I.fX(F,1|O),O=I.rc(F);O!=-1;O=I.lb(O))(j=I.getData(O))!=$&&(k.add(j),k.add(F))}if(p!=-1){for(I=-1,v=0,k=y.length;v<k;v++)if(y[v]==p){I=v;break}return this.ke=new h.Md(10,I,-1),!1}}return!0},d.prototype.tO=function(){var p=this.X;if(0>=p.Ke())return this.ke=new h.Md(6,p.da()==1?1:-1,-1),0;if(p.da()==1)return this.ql&&!this.JE()?0:2;this.to=h.ia.qf(p.da(),0),this.JA=h.ia.qf(p.da(),-1);for(var y=-1,v=0,$=0,I=p.da();$<I;$++){var k=p.Ir($);if(this.to.write($,0>k?0:256),0<k)y=$,v=k;else{if(k==0)return this.ke=new h.Md(6,$,-1),0;if((0>y||v<Math.abs(k))&&(this.ke=new h.Md(7,$,-1),this.ql))return 0;this.JA.write($,y)}}for(this.dt=p.da(),this.Om=new h.ia(0),this.Om.Jb(10),I=p.I(),this.Mo=NaN,(p=new h.ia(0)).Jb(10),this.Qq=h.ia.qf(I,-1),this.Hw=h.ia.qf(I,-1),this.zj!=null?this.zj.clear(!1):this.zj=new h.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new n(this)),y=0,I*=2;0<this.dt&&y<I;y++)if(v=this.fi.get(y),(1&(v=this.gi.get(v)))==0){if(v>>=1,($=this.lf.read(2*v+1))!=this.Mo&&p.size!=0){if(!this.ut(p))return 0;p!=null&&p.clear(!1)}p.add(v),this.Mo=$}return 0<this.dt&&!this.ut(p)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},d.prototype.RI=function(p){if(p.size==1)return!0;for(var y=0,v=p.size;y<v;y++){var $=p.get(y);this.Zf.Vb($);var I=this.Zf.li();this.hb.push(this.Su(I,$,this.Zf.gb,!0)),this.Zf.ha(),I=this.Zf.ha(),this.hb.push(this.Su(I,$,this.Zf.gb,!1))}var k=this;for(this.hb.sort(function(j,z){return k.XP(j,z)}),($=this.mh.je)==-1&&($=this.mh.Ph(0)),this.mh.fn(this.hb.length),y=0,v=this.hb.length;y<v;y++)this.mh.addElement($,y);y=!0;for(var O=v=-1;y&&(y=!1,(I=this.mh.rc($))!=-1);)for(var F=this.mh.lb(I);F!=-1;)if(v=this.mh.getData(I),O=this.mh.getData(F),(v=this.hb[v].Io)!=(O=this.hb[O].Io))I=F,F=this.mh.lb(I);else if(y=!0,this.mh.jd($,I),I=this.mh.we(F),(F=this.mh.jd($,F))==-1||I==-1)break;if(y=this.mh.bs($),this.mh.LE($),0<y)return this.ke=new h.Md(5,v,O),!1;for(y=0,v=p.size;y<v;y++)this.vB(this.hb[y]);return this.hb.length=0,!0},d.prototype.ut=function(p){for(var y=0,v=p.size;y<v;y++){var $=p.get(y),I=this.Qq.read($);if(I!=-1){var k=this.fb.ja(I);this.zj.add(k),this.fb.vd(I,-1),this.vB(this.hb[k]),this.hb[k]=null,this.Qq.write($,-1)}(I=this.Hw.read($))!=-1&&(k=this.fb.ja(I),this.zj.add(k),this.fb.vd(I,-1),this.vB(this.hb[k]),this.hb[k]=null,this.Hw.write($,-1))}for(y=0,v=p.size;y<v;y++){if($=p.get(y),this.Zf.Vb($),(I=this.Zf.li()).na>I.la){var O=this.Zf.wb(),F=this.Su(I,$,this.Zf.gb,!0);0<this.zj.size?(k=this.zj.Fc(),this.zj.If(),this.hb[k]=F):(k=this.hb.length,this.hb.push(F)),I=this.fb.addElement(k,-1),this.Qq.read(O)==-1?this.Qq.write(O,I):this.Hw.write(O,I),!(3&this.to.read(this.Zf.gb))&&this.Om.add(I)}this.Zf.ha(),(I=this.Zf.ha()).na<I.la&&(O=this.Zf.ik(),F=this.Su(I,$,this.Zf.gb,!1),0<this.zj.size?(k=this.zj.Fc(),this.zj.If(),this.hb[k]=F):(k=this.hb.length,this.hb.push(F)),I=this.fb.addElement(k,-1),this.Qq.read(O)==-1?this.Qq.write(O,I):this.Hw.write(O,I),!(3&this.to.read(this.Zf.gb))&&this.Om.add(I))}for(y=0,v=this.Om.size;y<v&&0<this.dt;y++)if(I=this.Om.get(y),(3&this.to.read(this.hb[this.fb.ja(I)].IA))==0){p=-1,$=this.fb.we(I);var j=I;F=null,k=-1;for(var z=0;$!=-1&&(k=this.fb.ja($),k=(F=this.hb[k]).IA,(3&(z=this.to.read(k)))==0);)j=$,$=this.fb.we($);$==-1?(O=1,$=j):(p=(3&z)==1?k:this.JA.read(k),O=F.XF()!=0?0:1,$=this.fb.lb($));do{if(k=this.fb.ja($),k=(F=this.hb[k]).IA,(3&(j=this.to.read(k)))==0){if(O!=F.XF())return this.ke=new h.Md(6,k,-1),!1;if(j=252&j|(z=O==0||F.Wp()?2:1),this.to.write(k,z),z==2&&this.ke.Jj==0&&this.JA.read(k)!=p&&(this.ke=new h.Md(7,k,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&j)==1&&(p=k),j=$,$=this.fb.lb($),O=O!=0?0:1}while(j!=I)}return this.Om!=null?this.Om.clear(!1):this.Om=new h.ia(0),!0},d.prototype.Su=function(p,y,v,$){if(p.getType()!=322)throw h.i.Qa();return(p=this.sP(p)).Io=y,p.IA=v,p.yq=0,p.nX($),p},d.prototype.sP=function(p){if(0<this.po.length){var y=this.po[this.po.length-1];--this.po.length,p.copyTo(y.ne)}else(y=new P).ne=h.SC.jg(p);return y},d.prototype.vB=function(p){p.ne.getType()==322&&this.po.push(p)},d.prototype.kU=function(){for(var p=this.X.I(),y=new h.ia(0),v=0;v<p;v++)y.add(v);var $=this;for(y.Vd(0,p,function(I,k){return $.Ou(I,k)}),v=1;v<p;v++)if(this.Ou(y.get(v-1),y.get(v))==0)return this.ke=new h.Md(3,y.get(v-1),y.get(v)),0;return 2},d.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},d.prototype.oV=function(){return this.eT()},d.prototype.pU=function(){for(var p=this.X.I(),y=new h.ia(0),v=0;v<p;v++)y.add(v);var $=this;y.Vd(0,p,function(j,z){return $.PO(j,z)});var I=Array(p);for(h.O.$u(I,!1),I[y.get(0)]=!0,v=1;v<p;v++){var k=y.get(v-1),O=y.get(v);this.Ou(k,O)==0?I[O]=!1:I[O]=!0}y=this.X.Ia(),k=this.X,O=0;var F=1;for(v=0;v<p;v++)I[v]?F=v+1:(O<F&&y.Fd(k,O,F),O=v+1);return O<F&&y.Fd(k,O,F),y.Ch(2,this.Bo),y},d.prototype.NV=function(){var p=this.X,y=p.Ga(),v=p.Ga(),$=this.X.Ia(),I=this.X,k=p.hasAttribute(1),O=k?h.ta.wE(this.Qg,p,!0):0,F=new h.ia(0),j=new h.ia(0);for(F.Jb(h.O.truncate(p.I()/2+1)),j.Jb(h.O.truncate(p.I()/2+1));y.$a();)if(v.$a(),!(2>p.Ja(y.gb))){v.EW();for(var z,B,H=!0;y.Ha();){var U=y.ha(),Z=v.li();if(y.wb()>v.wb())break;H&&(F.add(y.wb()),j.add(v.ik()),H=!1),B=F.Fc();var re=y.ik();if(1<re-B){var ie=new h.h;ie.uc(p.Na(B),p.Na(re)),z=ie.length()}else z=U.Qb();B=j.Fc(),1<(re=v.wb())-B?((ie=new h.h).uc(p.Na(B),p.Na(re)),B=ie.length()):B=Z.Qb(),z>this.Bo?F.add(y.ik()):k&&(z=p.Uc(1,F.Fc(),0),U=U.gv(1,0),Math.abs(U-z)>O&&F.add(y.ik())),B>this.Bo?j.add(v.wb()):k&&(z=p.Uc(1,j.Fc(),0),U=Z.gv(1,0),Math.abs(U-z)>O&&j.add(v.wb()))}if(F.Fc()<j.Fc()?F.size>j.size?F.If():j.If():(F.Fc()!=j.Fc()&&j.If(),j.If()),2<=j.size+F.size){for(H=new h.Sa,Z=0,U=F.size;Z<U;Z++)I.ve(F.get(Z),H),Z==0?$.nf(H):$.lineTo(H);for(Z=j.size-1;0<Z;Z--)I.ve(j.get(Z),H),$.lineTo(H);I.dc(y.gb)?$.Ap():0<j.size&&(I.ve(j.get(0),H),$.lineTo(H))}F!=null&&F.clear(!1),j!=null&&j.clear(!1)}return $.Ch(2,this.Bo),$},d.prototype.rV=function(){return this.DX()},d.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?h.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new h.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&h.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&h.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},d.rs=function(p,y,v,$,I){if($!=null&&($.Jj=0,$.Jo=-1,$.Ko=-1),p.B())return 1;var k=p.getType();if(k==33)return 1;var O=h.ta.kj(y,p,!1);if(k==197)return y=new h.l,p.A(y),y.Bi(O)?($!=null&&($.Jj=2,$.Jo=-1,$.Ko=-1),0):1;if(h.aa.yd(k))return(O=new h.Ta(p.description)).oc(p,!0),d.rs(O,y,v,$,I);var F=p.om(O);if((v=v?-1:F)!=-1)return v;if(y=new d(p,y,v,I,!1),k==550)v=y.kU();else if(k==1607)v=y.JV();else{if(k!=1736)throw h.i.Qa();v=y.oV()}return p.Ch(v,O),$!=null&&v==0&&$.Wt(y.ke),v},d.cK=function(p,y,v,$){if(p.B())return p;var I=p.getType();if(I==33)return p;var k=h.ta.kj(y,p,!1);if(I==197)return y=new h.l,p.A(y),y.Bi(k)?p.Ia():p;if(h.aa.yd(I))return(I=new h.Ta(p.description)).oc(p,!0),d.cK(I,y,v,$);if(k=p.om(k),(v=v?-1:k)==2)return p;if(p=new d(p,y,v,$,!1),I==550)p=p.pU();else if(I==1607)p=p.NV();else{if(I!=1736)throw h.i.Qa();p=p.rV()}return p},d.prototype.Mh=function(p,y,v){if(p==y)return 0;p=this.gi.get(p);var $=this.gi.get(y);y=p>>1;var I=$>>1,k=new h.h,O=new h.h;return this.lf.tc(2*y,k),k.y+=1&p?this.Oj:-this.Oj,this.lf.tc(2*I,O),O.y+=1&$?this.Oj:-this.Oj,(p=k.compare(O))==0&&v?0>(v=this.Fl.get(y)-this.Fl.get(I))?-1:0<v?1:0:p},d.prototype.Ou=function(p,y){if(p==y)return 0;var v=this.X,$=v.Na(p),I=v.Na(y);if($.x<I.x)return-1;if($.x>I.x)return 1;if($.y<I.y)return-1;if($.y>I.y)return 1;for($=1;$<this.oT;$++){I=this.nH.kd($);for(var k=h.ra.Va(I),O=0;O<k;O++){var F=v.Uc(I,p,O),j=v.Uc(I,y,O);if(F<j)return-1;if(F>j)return 1}}return 0},d.prototype.PO=function(p,y){var v=this.Ou(p,y);return v==0?p<y?-1:1:v},d.prototype.XP=function(p,y){if(p===y)return 0;var v=p.ne.kg();p.Wp()&&v.Sq(),p=y.ne.kg(),y.Wp()&&p.Sq(),y=v.qu();var $=p.qu();return $==y?(y=v.wi(p),Math.abs(y)<=8881784197001252e-31*(Math.abs(p.x*v.y)+Math.abs(p.y*v.x))&&(y--,y++),0>y?1:0<y?-1:0):y<$?-1:1},d}();h.Jx=l}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 30},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(a,n,o,l){return a instanceof h.aa?(a=new h.Zc(a),n=new h.Zc(n),this.V(a,n,o,l).next()):new h.BL(a,n,o,l)},u.ep=function(a,n,o,l){var d=a.Db(),p=n.Db();if(a.B()&&n.B())return d>p?a:n;if(a.B())return n;if(n.B())return a;var y=new h.l,v=new h.l,$=new h.l;return a.A(y),n.A(v),$.K(y),$.Zb(v),y=h.ta.Wd(o,$,!0),v=a.getType(),$=n.getType(),v==33&&$==33?u.aV(a,n,y):v!=$?0<d||0<p?d>p?a:n:v==550?u.iI(a,n,y):u.iI(n,a,y):h.Fg.ep(a,n,o,l)},u.aV=function(a,n,o){o=o*Math.sqrt(2)*1.00001,o*=o;var l=a.D(),d=n.D(),p=new h.de(a.description);return h.h.yc(l,d)>o&&(p.add(a),p.add(n)),p},u.iI=function(a,n,o){var l=a.ub(0),d=a.I(),p=n.D(),y=a.Ia();o=o*Math.sqrt(2)*1.00001;var v=new h.l;if(a.A(v),v.W(o,o),v.contains(p)){o*=o,v=!1;for(var $=[],I=0;I<d;I++)$[I]=!1;for(I=0;I<d;I++){var k=l.read(2*I),O=l.read(2*I+1);(k-=p.x)*k+(O-=p.y)*O<=o&&(v=!0,$[I]=!0)}if(v)for(I=0;I<d;I++)$[I]||y.Fd(a,I,I+1);else y.Fd(a,0,d),y.add(n)}else y.Fd(a,0,d),y.add(n);return y},u.instance=null,u}(h.Je);h.Kx=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n,o){this.ts=a==null,this.ya=-1,this.Rd=u,this.vg=n,this.NT=a.next(),this.Ub=o}return _.prototype.next=function(){return this.ts?null:(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),h.Kx.ep(u,this.NT,this.vg,this.Ub)):null;var u},_.prototype.La=function(){return this.ya},_.prototype.qe=function(){},_}();h.BL=P}(Y||(Y={})),function(h){var P=function(){function a(){}return a.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},a}(),_=function(){function a(){this.Gr=0,this.pj=[]}return a.prototype.pN=function(n){this.Gr+=n.Ax,this.pj.push(n)},a.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},a.prototype.my=function(){return this.pj[this.pj.length-1]},a.prototype.Nb=function(n){return n===this},a}(),u=function(){function a(n,o,l){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=n,this.vg=o,this.Ub=l}return a.dE=function(n){var o=[],l=0;for(n=Object.keys(n);l<n.length;l++)o.push(Number(n[l]));return o.sort(function(d,p){return d-p}),o},a.prototype.fG=function(n){var o=this.Do[n],l=a.dE(o)[0],d=o[l],p=d.my().$y;return d=d.my().AK,delete o[l],d&&(p=h.Yl.local().V(p,this.vg,!1,this.Ub),n==0&&p.getType()==33&&(n=new h.de(p.description),p.B()||n.add(p),p=n)),p},a.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw h.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},a.prototype.La=function(){return this.ya},a.prototype.qK=function(){if(this.Ic)return!0;var n=null;if(this.Rd!=null&&(n=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),h.mp.zp(this.Ub),n!=null){var o=n.Db();this.AH[o]=!0,o>=this.zk&&!this.jA&&(this.ND(o,!1,n),o>this.zk&&!this.jA&&this.zW(o))}if(0<this.iq)for(o=0;o<=this.zk;o++)for(;1<this.uq[o]&&(n=this.FO(o)).length!=0;)n=h.Fg.VP(n,this.vg,this.Ub),this.ND(o,!0,n);return this.Ic},a.prototype.FO=function(n){for(var o=[],l=[],d=this.Do[n],p=a.dE(d),y=0;y<p.length;y++){var v=p[y],$=d[v];if(this.Ic||1e4<$.Gr&&1<$.pj.length){for(this.uq[n]-=$.pj.length,this.iq-=$.pj.length;0<$.pj.length;)o.push($.my().$y),$.TV();l.push(v)}}for(y=0;y<l.length;y++)delete d[l[y]];return o},a.prototype.zW=function(n){for(var o=0;o<n;o++)this.Do[o]=[],this.iq-=this.uq[o],this.uq[o]=0},a.prototype.ND=function(n,o,l){var d=new P;if(d.Fz(),d.$y=l,l=a.eS(l),d.Ax=l,l=a.cS(l),n+1>this.Do.length)for(var p=0,y=Math.max(2,n+1);p<y;p++)this.Do.push([]);(p=this.Do[n][l])===void 0&&(p=new _,this.Do[n][l]=p),d.AK=o,p.pN(d),this.uq[n]++,this.iq++,this.zk=Math.max(this.zk,n)},a.cS=function(n){return 0<n?h.O.truncate(Math.log(n)/Math.log(4)+.5):0},a.eS=function(n){var o=n.getType();if(h.aa.xj(o))return n.I();if(o==33)return 1;if(o==197)return 4;if(h.aa.yd(o))return 2;throw h.i.Qa()},a.prototype.qe=function(){this.qK()},a}();h.DL=u}(Y||(Y={})),function(h){var P=function(_){function u(){return _!==null&&_.apply(this,arguments)||this}return Vt(u,_),u.prototype.getType=function(){return 1},u.prototype.V=function(a,n,o,l){return l===void 0?new h.DL(a,n,o):this.gQ(a,n,o,l)},u.prototype.gQ=function(a,n,o,l){return a=new h.Zc([a,n]),this.V(a,o,l).next()},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u}(h.Je);h.Gh=P}(Y||(Y={})),function(h){var P,_;(_=P||(P={}))[_.nextPath=0]="nextPath",_[_.nextSegment=1]="nextSegment",_[_.iterate=2]="iterate",P=function(){function u(a,n,o,l){this.Ts=new h.l,this.GT=a,this.HT=n,this.mq=l,this.uo=-1,this.rl=!1;var d=a.Bb;d!=null&&(d=l?d.zo:d.Fb)!=null&&(this.Ic=!1,this.qa=o,this.Fb=d,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,l?this.uo=n.da():this.sd=n.Ga()),this.rl||(d=n.Bb)!=null&&(d=l?d.zo:d.Fb)!=null&&(this.Ic=!1,this.qa=o,this.Fb=d,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,l?this.uo=a.da():this.sd=a.Ga()),this.rl||(this.ci=l?h.ta.mR(a,n,o,1<=a.om(0),1<=n.om(0)):h.ta.lR(a,n,o))}return u.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var a=!0;a;)switch(this.Xb){case 0:a=this.xU();break;case 1:a=this.yU();break;case 2:a=this.Uz();break;default:throw h.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},u.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},u.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},u.prototype.uz=function(){if(!this.mq)throw h.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},u.prototype.az=function(){if(!this.mq)throw h.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},u.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},u.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var a=this.sd.ha();return this.xw.Uo(a,this.qa),this.Xb=2,!0},u.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},u}(),h.Zl=P}(Y||(Y={})),function(h){(h=h.OL||(h.OL={}))[h.enumClosed=1]="enumClosed",h[h.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",h[h.enumOGCStartPolygon=4]="enumOGCStartPolygon",h[h.enumCalcMask=4]="enumCalcMask"}(Y||(Y={})),function(h){h.QC=function(){function P(){}return P.tb=function(_,u,a,n,o,l,d,p,y){var v=[0,0,0],$=[0,0,0],I=[0,0,0],k=[0,0,0,0],O=new h.ga(0),F=new h.ga(0),j=new h.ga(0);if(d!=null||p!=null||y!=null)if(h.s.ti(u))h.Yg.tb(_,a,n,o,l,d,p,y);else{o=h.F.ba(o),a=h.F.ba(a);var z=h.F.ba(o-a);if(h.s.Y(n,l)&&(h.s.Y(a,o)||h.s.Y(h.s.P(n),1.570796326794897)))d!=null&&(d.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(h.s.Y(n,-l)){if(h.s.Y(h.s.P(n),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0<n?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(y!=null&&(y.u=0<n?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(z),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(_,u)),p!=null&&(p.u=0),y!=null&&(y.u=0))}else if(h.s.Y(h.s.P(n),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897)||h.s.Y(a,o)||h.s.Y(h.s.P(z),3.141592653589793)||h.s.Cd(n))return void h.Wk.tb(_,u,a,n,o,l,d,p,y);var B=Math.sqrt(1-u);o=h.F.ba(o-a),a=0,h.F.cl(1,u,n,a,0,O,F,j),v[0]=O.u,v[1]=F.u,v[2]=j.u,h.F.cl(1,u,l,o,0,O,F,j),$[0]=O.u,$[1]=F.u,$[2]=j.u,I[0]=0,I[1]=0,I[2]=-1*u*h.F.n(1,u,n)*Math.sin(n),0>o?h.F.Wq(I,$,v,k,0):h.F.Wq(I,v,$,k,0),F=[0,0,0],j=[0,0,0];var H=[0,0,0];v=[0,0,0],O=[0,0,0];var U=Math.acos(k[2]/1),Z=1-u,re=Math.tan(U),ie=1+re*re/Z,ce=2*I[2]*re/Z;for(Z=(-ce+(re=Math.sqrt(ce*ce-4*ie*(I[2]*I[2]/Z-1))))/(ie*=2),ce=(-ce-re)/ie,re=Math.tan(U),U=(Z+ce)/2,I=((ie=re*Z+I[2])+(re*ce+I[2]))/2,re=h.F.gp(Z-U,ie-I),Z=I/B*1.570796326794897,ce=0;100>ce&&(ie=(ie=h.F.w(u,Z))*ie/Math.cos(Z)*(Math.sin(Z)-I*ie/(1-u)),!h.s.Cd(ie));ce++)Z-=ie;I=h.F.n(1,u,Z)*Math.cos(Z),re=1-re/(I=Math.sqrt((I-U)*(I+U))),re*=2-re,ie=h.F.on(F),U=h.F.on(j),Z=h.F.on(H);var le=h.F.St(H,F);ce=h.F.St(H,j),h.F.zx(H,F,v),h.F.zx(H,j,O),F=Math.acos(le/(Z*ie)),j=Math.acos(ce/(Z*U)),j*=h.s.Mb(1,h.F.St(v,O)),(1.570796326794897<=h.s.P(F)&&1.570796326794897<=h.s.P(j)||3.141592653589793<h.s.P(F-j))&&(F=(3.141592653589793-h.s.P(F))*h.s.Mb(1,F),j=(3.141592653589793-h.s.P(j))*h.s.Mb(1,j)),v=h.F.Qj(re,j),O=h.F.q(I,re,h.F.Qj(re,F)),v=h.F.q(I,re,v),v=h.s.P(v-O)*_,F=new h.ga(0),j=new h.ga(0),H=k[1]/1,H*=-h.s.Mb(1,z),O=Math.acos(H)*h.s.Mb(1,z),P.rf(_,u,a,n,v,O,F,j),h.s.Y(o,F.u)&&h.s.Y(l,j.u)||(re=h.F.gp(h.F.ba(o-F.u),l-j.u),P.rf(_,u,a,n,v,h.F.ba(O+3.141592653589793),F,j),(ie=h.F.gp(h.F.ba(o-F.u),l-j.u))<re&&(O=h.F.ba(O+3.141592653589793))),F=[0,0,0,0],j=[0,0,0,0],re=[0,0,0],_=[0,0,0],a=[0,0,0],n=[0,0,0],H=[0,0,0],(I=[0,0,0])[0]=0,I[1]=0,I[2]=B,re[0]=0,re[1]=0,re[2]=0,h.F.Wq(re,I,$,F,0),h.s.Cd(l)?(_[0]=$[0],_[1]=$[1],_[2]=1,a[0]=1*Math.cos(o)-1*Math.sin(o),a[1]=1*Math.sin(o)+1*Math.cos(o)):(u=h.F.n(1,u,l)*Math.cos(l),_[0]=0,_[1]=0,$[2]+=Math.tan(1.570796326794897-h.s.P(l))*u*h.s.Mb(1,l),a[0]=u*Math.cos(o)-u*Math.sin(o),a[1]=u*Math.sin(o)+u*Math.cos(o)),a[2]=$[2],h.F.Wq($,a,_,j,1),h.F.zx(j,F,n),h.F.zx(j,k,H),H=h.F.St(n,H)/(h.F.on(n)*h.F.on(H)),H*=h.s.Mb(1,z),o=Math.acos(H)*-h.s.Mb(1,z),(0<O&&0<o||0>O&&0>o)&&(o=h.F.ba(o+3.141592653589793)),d!=null&&(d.u=v),p!=null&&(p.u=O),y!=null&&(y.u=o)}}},P.rf=function(_,u,a,n,o,l,d,p){var y=[0,0,0],v=[0,0,0],$=[0,0,0],I=[0,0,0],k=[0,0,0],O=[0,0,0],F=[0,0,0],j=[0,0,0,0],z=new h.ga(0),B=new h.ga(0),H=new h.ga(0),U=new h.ga(0),Z=new h.ga(0),re=new h.ga(0);if(d!=null&&p!=null)if(h.s.ti(u))h.Yg.rf(_,a,n,o,l,d,p);else if(h.s.Cd(o))d!=null&&(d.u=a),p!=null&&(p.u=n);else if(l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),a=h.F.ba(a),n=h.F.ba(n),1.570796326794897<h.s.P(n)&&(a=h.F.ba(a+3.141592653589793),n=h.s.Mb(3.141592653589793,n)-n),h.s.Y(h.s.P(n),1.570796326794897)||h.s.Cd(n)||h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))h.Wk.rf(_,u,a,n,o,l,d,p);else{var ie=Math.sqrt(1-u);for(_=o/_,h.F.cl(1,u,n,0,0,U,Z,re),y[0]=U.u,y[1]=Z.u,y[2]=Z.u,F[0]=0,F[1]=0,F[2]=-1*u*h.F.n(1,u,n)*Math.sin(n),U=h.F.n(1,u,n),Z=h.F.ba(1.570796326794897-l),re=Math.sin(Z),o=Math.cos(n),n=Math.sin(n),k[0]=U*o-n*re,k[1]=Math.cos(Z),k[2]=(1-u)*U*n+o*re,0>l?h.F.Wq(F,k,y,j,0):h.F.Wq(F,y,k,j,0),y=Math.acos(j[2]/1),j=Math.atan2(-j[1],-j[0]),n=1-u,Z=1+(k=Math.tan(y))*k/n,n=(-(U=2*F[2]*k/n)+(k=Math.sqrt(U*U-4*Z*(F[2]*F[2]/n-1))))/(Z*=2),U=(-U-k)/Z,k=Math.tan(y),y=(n+U)/2,F=((Z=k*n+F[2])+(k*U+F[2]))/2,k=h.F.gp(n-y,Z-F),ie=F/ie*1.570796326794897,n=0;100>n&&(U=(U=h.F.w(u,ie))*U/Math.cos(ie)*(Math.sin(ie)-F*U/(1-u)),!h.s.Cd(U));n++)ie-=U;ie=h.F.n(1,u,ie)*Math.cos(ie),F=1-k/(ie=Math.sqrt((ie-y)*(ie+y))),F*=2-F,O=Math.acos(h.F.St(O,v)/(h.F.on(O)*h.F.on(v))),O*=h.s.Mb(1,v[0]),l=(h.F.q(ie,F,h.F.Qj(F,O))+_*h.s.Mb(1,l))/h.F.Ah(ie,F),l=h.F.ba(1.570796326794897*l),l=h.F.Rq(F,l),h.F.n(ie,F,l),k=h.F.ba(j+a),a=Math.cos(k),l=Math.sin(k),$[0]=I[0]*a+I[1]*-l,$[1]=I[0]*l+I[1]*a,$[2]=I[2],h.F.jO(u,$[0],$[1],$[2],H,B,z),d!=null&&(d.u=B.u),p!=null&&(p.u=H.u)}},P}()}(Y||(Y={})),function(h){var P=function(){function o(l){this.Ya=null,this.wt=new h.h,this.xt=new h.h,this.g=l}return o.prototype.compare=function(l,d,p){return this.g.Gc(d,this.wt),this.g.Gc(l.ja(p),this.xt),this.wt.compare(this.xt)},o}(),_=function(){function o(l){this.Bf=new h.h,this.Dk=new h.h,this.g=l}return o.prototype.Dh=function(l){this.Bf.L(l)},o.prototype.compare=function(l,d){return this.g.Gc(l.ja(d),this.Dk),this.Bf.compare(this.Dk)},o}(),u=function(o){function l(d){var p=o.call(this,d.g,d.qa,!1)||this;return p.ib=d,p}return Vt(l,o),l.prototype.compare=function(d,p,y){if(this.rg)return-1;var v=this.ib.Qd.Jn(this.ib.Rh(p));d=d.ja(y);var $=this.ib.Qd.Jn(this.ib.Rh(d));return this.Dm=y,this.RE(p,v,d,$)},l}(h.UC),a=function(o){function l(d){var p=o.call(this,d.g,d.qa)||this;return p.ib=d,p}return Vt(l,o),l.prototype.compare=function(d,p){return this.rg?-1:(d=this.ib.Qd.Jn(this.ib.Rh(d.ja(p))),this.Dm=p,this.SE(p,d))},l}(h.aM),n=function(){function o(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new h.h,this.Pi=new h.h,this.hb=new h.$c(8),this.zd=new h.$c(5),this.lh=new h.au,this.Qd=new h.au,this.Ng=!1,this.vh=new h.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new h.Yj,this.Mc=new h.Yj,this.nh=new h.ia(0),this.Gk=new h.TC,this.Ff=new h.ia(0),this.Ak=new h.ia(0),this.jo=new h.Sa}return o.prototype.PX=function(l,d){var p=new h.Dd;return p.$B(),l.Oc(p),this.er(l),this.Wn=!1,this.qa=d,this.UA=d*d,d=this.jC(),l.Oc(p),d||(this.qQ(),d||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},o.prototype.TX=function(l,d){this.er(l),this.Wn=!1,this.qa=d,this.UA=d*d,this.Ng=!1,this.jC(),this.Ng||(this.Ng=l.Gp(d,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},o.prototype.pg=function(l,d){return this.hb.T(l,0+d)},o.prototype.LB=function(l,d,p){this.hb.S(l,0+d,p)},o.prototype.Rh=function(l){return this.hb.T(l,2)},o.prototype.ZW=function(l,d){this.hb.S(l,2,d)},o.prototype.RF=function(l,d){return this.hb.T(l,3+d)},o.prototype.Pp=function(l){return this.hb.T(l,7)},o.prototype.Pl=function(l,d){this.hb.S(l,7,d)},o.prototype.Rp=function(l,d){return this.hb.T(l,3+this.Op(l,d))},o.prototype.fr=function(l,d,p){this.hb.S(l,3+this.Op(l,d),p)},o.prototype.NR=function(l,d){return this.hb.T(l,5+this.Op(l,d))},o.prototype.hr=function(l,d,p){this.hb.S(l,5+this.Op(l,d),p)},o.prototype.Sr=function(l){return this.zd.T(l,0)},o.prototype.UW=function(l,d){this.zd.S(l,0,d)},o.prototype.ez=function(l){return this.zd.T(l,4)},o.prototype.cr=function(l,d){this.zd.S(l,4,d)},o.prototype.il=function(l){return this.zd.T(l,1)},o.prototype.ln=function(l,d){this.zd.S(l,1,d)},o.prototype.dz=function(l){return this.zd.T(l,3)},o.prototype.Et=function(l,d){this.zd.S(l,3,d)},o.prototype.Ym=function(l){var d=this.zd.Ce(),p=this.lh.Ph();return this.UW(d,p),l!=-1?(this.lh.addElement(p,l),this.g.Ra(l,this.xh,d),this.cr(d,this.g.Ua(l))):this.cr(d,-1),d},o.prototype.HP=function(l){this.zd.jd(l)},o.prototype.LD=function(l,d){this.lh.addElement(this.Sr(l),d),this.g.Ra(d,this.xh,l)},o.prototype.nt=function(l){var d=this.hb.Ce(),p=this.Qd.Ph();return this.ZW(d,p),l!=-1&&this.Qd.addElement(p,l),d},o.prototype.MD=function(l,d){this.Qd.addElement(this.Rh(l),d)},o.prototype.Uu=function(l){this.hb.jd(l),0<=(l=this.nh.lF(l))&&this.nh.SV(l)},o.prototype.hj=function(l,d){if(this.pg(l,0)==-1)this.LB(l,0,d);else{if(this.pg(l,1)!=-1)throw h.i.Qa();this.LB(l,1,d)}this.ky(l,d)},o.prototype.ky=function(l,d){var p=this.il(d);if(p!=-1){var y=this.Rp(p,d);this.hr(y,d,l),this.fr(l,d,y),this.fr(p,d,l),this.hr(l,d,p)}else this.hr(l,d,l),this.fr(l,d,l),this.ln(d,l)},o.prototype.Op=function(l,d){return this.pg(l,0)==d?0:1},o.prototype.Xm=function(l,d){var p,y=this.dz(d);if(y!=-1&&(this.df.vd(y,-1),this.Et(d,-1)),(y=this.il(d))!=-1){var v=p=y;do{var $=!1,I=this.Op(p,d),k=this.RF(p,I);if(this.pg(p,I+1&1)==l){if(this.Xu(p),this.Qd.bh(this.Rh(p)),this.Uu(p),p==k){y=-1;break}y==p&&(y=this.il(d),v=k,$=!0)}p=k}while(p!=v||$);if(y!=-1){do I=this.Op(p,d),k=this.RF(p,I),this.LB(p,I,l),p=k;while(p!=v);(p=this.il(l))!=-1?(v=this.Rp(p,l),$=this.Rp(y,l),v==p?(this.ln(l,y),this.ky(p,l),this.ln(l,p)):$==y&&this.ky(y,l),this.fr(y,l,v),this.hr(v,l,y),this.fr(p,l,$),this.hr($,l,p)):this.ln(l,y)}}for(y=this.Sr(l),p=this.Sr(d),v=this.lh.rc(p);v!=-1;v=this.lh.lb(v))this.g.Ra(this.lh.ja(v),this.xh,l);this.lh.Hy(y,p),this.HP(d)},o.prototype.UT=function(l,d){var p=this.pg(l,0),y=this.pg(l,1),v=this.pg(d,0),$=this.pg(d,1);this.Qd.Hy(this.Rh(l),this.Rh(d)),d==this.il(p)&&this.ln(p,l),d==this.il(y)&&this.ln(y,l),this.Xu(d),this.Uu(d),p==v&&y==$||y==v&&p==$||(this.Hn(p,this.yo),this.Hn(v,this.Pi),this.yo.qb(this.Pi)?(p!=v&&this.Xm(p,v),y!=$&&this.Xm(y,$)):(y!=v&&this.Xm(y,v),p!=$&&this.Xm(p,$)))},o.prototype.Xu=function(l){var d=this.pg(l,1);this.dF(l,this.pg(l,0)),this.dF(l,d)},o.prototype.dF=function(l,d){var p=this.Rp(l,d),y=this.NR(l,d),v=this.il(d);p!=l?(this.fr(y,d,p),this.hr(p,d,y),v==l&&this.ln(d,p)):this.ln(d,-1)},o.prototype.WD=function(l,d,p){var y=this.Qd.rc(l),v=this.Qd.ja(y);l=this.Le(v);var $=this.Le(this.g.U(v));for(this.g.jr(v,d,p,!0),y=this.Qd.lb(y);y!=-1;y=this.Qd.lb(y)){v=this.Qd.ja(y);var I=this.Le(v)==l;this.g.jr(v,d,p,I)}y=d.Vp(p,0).ac(),d=d.Vp(p,d.ol(p)-1).wc(),this.BK(l,y),this.BK($,d)},o.prototype.ZE=function(l,d,p){var y=this.Rh(l),v=this.pg(l,0),$=this.pg(l,1),I=this.nt(-1);for(this.nh.add(I),this.Pl(I,-3),this.Ff.add(I),this.hj(I,v),l=1,d=d.ol(p);l<d;l++)p=this.Ym(-1),this.Ak.add(p),this.Ff.add(p),this.hj(I,p),I=this.nt(-1),this.nh.add(I),this.Pl(I,-3),this.Ff.add(I),this.hj(I,p);for(this.hj(I,$),y=this.Qd.rc(y);y!=-1;y=this.Qd.lb(y))if($=this.Qd.ja(y),this.Le($)==v){l=0;do 0<l&&(I=this.Ff.get(l-1),this.LD(I,$),this.ez(I)==-1&&this.cr(I,this.g.Ua($))),I=this.Ff.get(l),l+=2,this.MD(I,$),$=this.g.U($);while(l<this.Ff.size)}else{l=this.Ff.size-1;do l<this.Ff.size-2&&(I=this.Ff.get(l+1),this.LD(I,$),0>this.ez(I)&&this.cr(I,this.g.Ua($))),I=this.Ff.get(l),l-=2,this.MD(I,$),$=this.g.U($);while(0<=l)}this.Ff.clear(!1)},o.prototype.Le=function(l){return this.g.Pa(l,this.xh)},o.prototype.TI=function(l,d,p){var y=this.pg(d,0),v=new h.h;this.Hn(y,v);var $=new h.h,I=this.pg(d,1);this.Hn(I,$);var k=p.ol(l),O=p.Vp(l,0),F=new h.h;if(O.Yp(F),!v.qb(F)){if(!this.Ng){var j=v.compare(this.vh);0>j*(F=F.compare(this.vh))&&(this.Ng=!0)}this.vF(y,this.Ff),this.Ak.add(y)}for(!this.Ng&&1<k&&(j=v.compare($),O=O.wc(),(v.compare(O)!=j||O.compare($)!=j||0>O.compare(this.vh))&&(this.Ng=!0)),l=(O=p.Vp(l,k-1)).wc(),$.qb(l)||(this.Ng||0>(j=$.compare(this.vh))*(F=l.compare(this.vh))&&(this.Ng=!0),this.vF(I,this.Ff),this.Ak.add(I)),this.Ff.add(d),$=0,I=this.Ff.size;$<I;$++)l=this.Ff.get($),p=this.Pp(l),h.$c.LG(p)&&(this.Mc.vd(p,-1),this.Pl(l,-1)),l!=d&&this.Pp(l)!=-3&&(this.nh.add(l),this.Pl(l,-3));this.Ff.clear(!1)},o.prototype.lO=function(l,d){this.$d.compare(this.Mc,this.Mc.ja(l),d),this.$d.rg&&(this.$d.Kr(),this.oF(l,d))},o.prototype.oF=function(l,d){this.Wn=!0,l=this.Mc.ja(l),d=this.Mc.ja(d);var p=this.Qd.Jn(this.Rh(l)),y=this.Qd.Jn(this.Rh(d)),v=this.g.bc(p);v==null&&(this.ie==null&&(this.ie=new h.yb),this.g.ed(p,this.ie),v=this.ie),(p=this.g.bc(y))==null&&(this.Nm==null&&(this.Nm=new h.yb),this.g.ed(y,this.Nm),p=this.Nm),this.Gk.Oo(v),this.Gk.Oo(p),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(l,d,-1,this.Gk),this.Gk.clear()},o.prototype.GQ=function(l,d){this.Wn=!0,d=this.Mc.ja(d);var p=this.Qd.Jn(this.Rh(d)),y=this.g.bc(p);y==null&&(this.ie==null&&(this.ie=new h.yb),this.g.ed(p,this.ie),y=this.ie),p=this.BF(l),this.Gk.Oo(y),this.g.Vi(p,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(d,-1,l,this.Gk),this.Gk.clear()},o.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var l=this.nh.Fc();this.nh.If(),this.Pl(l,-1),this.WS(l)!=-1&&this.wS(l),this.Vn=!1}},o.prototype.wS=function(l){if(this.Vn){var d=this.Mc.zu(this.MH,this.GH,l,!0);this.Vn=!1}else d=this.Mc.KD(l);d==-1?this.UT(this.Mc.ja(this.Mc.FF()),l):(this.Pl(l,d),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,d)))},o.prototype.WS=function(l){var d=this.pg(l,0);if(l=this.pg(l,1),this.Hn(d,this.yo),this.Hn(l,this.Pi),h.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var p=this.yo.compare(this.vh),y=this.Pi.compare(this.vh);return 0>=p&&0<y?l:0>=y&&0<p?d:-1},o.prototype.oQ=function(){var l=new h.ia(0);l.Jb(this.g.fd);for(var d=this.g.Yq(),p=d.next();p!=-1;p=d.next())this.g.Pa(p,this.xh)!=-1&&l.add(p);this.g.nx(l,l.size),this.pQ(l)},o.prototype.pQ=function(l){this.df.clear(),this.df.De(l.size),this.df.Vo(new P(this.g));var d=new h.h;d.Rc();for(var p=-1,y=new h.h,v=0,$=l.size;v<$;v++){var I=l.get(v);this.g.Gc(I,y),y.qb(d)?(I=this.g.Pa(I,this.xh),this.Xm(p,I)):(p=this.Le(I),this.g.Gc(I,d),I=this.df.xn(I),this.Et(p,I))}},o.prototype.qQ=function(){var l=new h.ia(0);l.Jb(this.g.fd);for(var d=this.df.rc(-1);d!=-1;d=this.df.lb(d))l.add(this.df.ja(d));this.df.clear(),this.g.nx(l,l.size),d=0;for(var p=l.size;d<p;d++){var y=l.get(d),v=this.Le(y);y=this.df.xn(y),this.Et(v,y)}},o.prototype.vF=function(l,d){var p=this.il(l);if(p!=-1){var y=p;do h.$c.LG(this.Pp(y))&&d.add(y),y=this.Rp(y,l);while(y!=p)}},o.prototype.BK=function(l,d){for(l=this.lh.rc(this.Sr(l));l!=-1;l=this.lh.lb(l))this.g.mf(this.lh.ja(l),d)},o.prototype.hK=function(l,d,p,y){this.Xu(l),d!=-1&&this.Xu(d),this.TI(0,l,y),d!=-1&&this.TI(1,d,y),p!=-1&&(y.Bf.D(this.yo),this.Hn(p,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(p)),p=0;for(var v=this.Ak.size;p<v;p++){var $=this.Ak.get(p),I=this.dz($);I!=-1&&(this.df.vd(I,-1),this.Et($,-1))}for(p=this.Rh(l),v=d!=-1?this.Rh(d):-1,this.WD(p,y,0),d!=-1&&this.WD(v,y,1),this.ZE(l,y,0),d!=-1&&this.ZE(d,y,1),this.Qd.bh(p),this.Uu(l),d!=-1&&(this.Qd.bh(v),this.Uu(d)),p=0,v=this.Ak.size;p<v;p++)($=this.Ak.get(p))==this.Jq&&(this.Xv=!0),(I=this.dz($))==-1&&((I=this.df.KD(this.BF($)))==-1?(l=this.Le(this.df.ja(this.df.FF())),this.Xm(l,$)):this.Et($,I));this.Ak.clear(!1)},o.prototype.Hn=function(l,d){this.g.dG(this.ez(l),d)},o.prototype.BF=function(l){return this.lh.Jn(this.Sr(l))},o.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new u(this),this.Mc.Zn=this.$d);var l=new h.ia(0),d=null,p=null;this.GH=this.MH=-1,this.Vn=!1;for(var y=this.df.rc(-1);y!=-1;){this.Vn=!1;var v=this.df.ja(y);this.Jq=this.Le(v),this.g.Gc(v,this.vh),this.$d.$J(this.vh.y,this.vh.x);var $=this.il(this.Jq),I=$==-1;if(!I){v=$;do{var k=this.Pp(v);k==-1?(this.nh.add(v),this.Pl(v,-3)):k!=-3&&l.add(k),v=this.Rp(v,this.Jq)}while(v!=$)}if(0<l.size){for(this.Vn=l.size==1&&this.nh.size==1,I=0,$=l.size;I<$;I++)v=this.Mc.ja(l.get(I)),this.Pl(v,-2);var O=-2,F=-2;for(I=0,$=l.size;I<$;I++){if(k=l.get(I),O==-2){var j=this.Mc.we(k);j!=-1?(v=this.Mc.ja(j),(v=this.Pp(v))!=-2&&(O=j)):O=-1}if(F==-2&&((k=this.Mc.lb(k))!=-1?(v=this.Mc.ja(k),(v=this.Pp(v))!=-2&&(F=k)):F=-1),O!=-2&&F!=-2)break}for(I=0,$=l.size;I<$;I++)k=l.get(I),v=this.Mc.ja(k),this.Mc.vd(k,-1),this.Pl(v,-1);l.clear(!1),this.MH=O!=-1?O:-1,this.GH=F!=-1?F:-1,O!=-1&&F!=-1?this.Vn||this.lO(O,F):O==-1&&F==-1&&(this.Vn=!1)}else I&&(d==null&&(d=new a(this)),d.Dh(this.vh),this.Mc.uJ(d),d.rg&&(d.Kr(),this.GQ(this.Jq,d.Dm)));this.xS(),this.Xv?(this.Xv=!1,p==null&&(p=new _(this.g)),p.Dh(this.vh),y=this.df.uJ(p)):y=this.df.lb(y)}return this.Wn},o.prototype.er=function(l){for(this.g=l,this.xh=this.g.Gd(),this.hb.De(l.fd+32),this.zd.De(l.fd),this.lh.At(l.fd),this.lh.fn(l.fd),this.Qd.At(l.fd+32),this.Qd.fn(l.fd+32),l=this.g.ld;l!=-1;l=this.g.ue(l))if(h.aa.Hc(this.g.ic(l)))for(k=this.g.Ob(l);k!=-1;k=this.g.Rb(k)){var d=this.g.Ja(k),p=this.g.Xa(k),y=this.Ym(p),v=this.nt(p);for(this.hj(v,y),O=this.g.U(p),p=0,d-=2;p<d;p++){var $=this.g.U(O),I=this.Ym(O);this.hj(v,I),v=this.nt(O),this.hj(v,I),O=$}this.g.dc(k)?(I=this.Ym(O),this.hj(v,I),v=this.nt(O),this.hj(v,I),this.hj(v,y)):(I=this.Ym(O),this.hj(v,I))}else for(var k=this.g.Ob(l);k!=-1;k=this.g.Rb(k)){var O=this.g.Xa(k);for(y=0,d=this.g.Ja(k);y<d;y++)this.Ym(O),O=this.g.U(O)}this.oQ()},o}();h.RC=n}(Y||(Y={})),function(h){var P=function(_){function u(a,n,o){var l=_.call(this)||this;if(a!==void 0)if(o!==void 0){l.description=h.ee.og();var d=new h.Nd;d.K(a,n,o),l.dC(d)}else if(n!==void 0)l.description=h.ee.og(),l.Cb(a,n);else if(a instanceof h.ra)l.description=a;else if(a instanceof h.h)l.description=h.ee.og(),l.Cb(a);else{if(!(a instanceof u))throw h.i.N();l.description=a.description,l.Cb(a.Lg(),a.ih()),a.ka!==null&&(l.ka=a.ka.slice(0))}else l.description=h.ee.og();return l}return Vt(u,_),u.prototype.D=function(a){if(a===void 0){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return(a=new h.h).ma(this.ka[0],this.ka[1]),a}if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");a.ma(this.ka[0],this.ka[1])},u.prototype.Cb=function(a,n){typeof a=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=a,this.ka[1]=n):(this.vc(),this.Cb(a.x,a.y))},u.prototype.Cz=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");var a=new h.Nd;return a.x=this.ka[0],a.y=this.ka[1],a.z=this.description.iG()?this.ka[2]:h.ra.se(1),a},u.prototype.dC=function(a){this.vc();var n=this.hasAttribute(1);n||h.ra.DG(1,a.z)||(this.re(1),n=!0),this.ka==null&&this.un(),this.ka[0]=a.x,this.ka[1]=a.y,n&&(this.ka[2]=a.z)},u.prototype.Lg=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},u.prototype.cC=function(a){this.setAttribute(0,0,a)},u.prototype.ih=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},u.prototype.aK=function(a){this.setAttribute(0,1,a)},u.prototype.bS=function(){return this.Uc(1,0)},u.prototype.wX=function(a){this.setAttribute(1,0,a)},u.prototype.zR=function(){return this.Uc(2,0)},u.prototype.hX=function(a){this.setAttribute(2,0,a)},u.prototype.Ec=function(){return this.yF(3,0)},u.prototype.LJ=function(a){this.setAttribute(3,0,a)},u.prototype.Uc=function(a,n){var o=this.description.Pf(a);return 0<=o?this.ka[this.description.$j(o)+n]:h.ra.se(a)},u.prototype.yF=function(a,n){var o=this.description.Pf(a);return 0<=o?this.ka[this.description.$j(o)+n]:h.ra.se(a)},u.prototype.setAttribute=function(a,n,o){this.vc();var l=this.description.Pf(a);0>l&&(this.re(a),l=this.description.Pf(a)),this.ka==null&&this.un(),this.ka[this.description.$j(l)+n]=o},u.prototype.getType=function(){return 33},u.prototype.Db=function(){return 0},u.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},u.prototype.sn=function(a){if(this.ka!=null){for(var n=h.ee.Iw(a,this.description),o=[],l=0,d=0,p=a.Aa;d<p;d++){var y=a.kd(d),v=h.ra.Va(y);if(n[d]==-1){var $=h.ra.se(y);for(y=0;y<v;y++)o[l]=$,l++}else for($=this.description.$j(n[d]),y=0;y<v;y++)o[l]=this.ka[$],l++,$++}this.ka=o}this.description=a},u.prototype.un=function(){this.lJ(this.description.Ae.length),u.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},u.prototype.Oc=function(a){if(a instanceof h.Dd){if(!this.Ac()){var n=this.D();a.Eh(n,n),this.Cb(n)}}else this.Ac()||(this.re(1),n=this.Cz(),this.dC(a.fp(n)))},u.prototype.copyTo=function(a){if(a.getType()!=33)throw h.i.N();a.vc(),this.ka==null?(a.Oa(),a.ka=null,a.Nf(this.description)):(a.Nf(this.description),a.lJ(this.description.Ae.length),u.cE(this.ka,a.ka,this.description.Ae.length))},u.prototype.Ia=function(){return new u(this.description)},u.prototype.B=function(){return this.Ac()},u.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},u.prototype.bn=function(a){a.Oa(),this.description!=a.description&&a.Nf(this.description),a.Zb(this)},u.prototype.A=function(a){this.Ac()?a.Oa():(a.v=this.ka[0],a.G=this.ka[1],a.C=this.ka[0],a.H=this.ka[1])},u.prototype.Qo=function(a){if(this.Ac())a.Oa();else{var n=this.Cz();a.v=n.x,a.G=n.y,a.Ye=n.z,a.C=n.x,a.H=n.y,a.Bg=n.z}},u.prototype.Tg=function(a,n){var o=new h.Nc;return this.Ac()?(o.Oa(),o):(a=this.Uc(a,n),o.oa=a,o.va=a,o)},u.prototype.lJ=function(a){if(this.ka==null)this.ka=h.O.lg(a);else if(this.ka.length<a){for(var n=this.ka.slice(0),o=this.ka.length;o<a;o++)n[o]=0;this.ka=n}},u.cE=function(a,n,o){if(0<o)for(o=0;o<a.length;o++)n[o]=a[o]},u.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof u)||this.description!=a.description)return!1;if(this.Ac())return!!a.Ac();for(var n=0,o=this.description.Ae.length;n<o;n++)if(this.ka[n]!=a.ka[n])return!1;return!0},u.prototype.cc=function(){var a=this.description.cc();if(!this.Ac())for(var n=0,o=this.description.Ae.length;n<o;n++){var l=this.ka[n];l=h.O.truncate(l^l>>>32),a=h.O.Th(l,a)}return a},u.prototype.mg=function(){return null},u}(h.aa);h.Sa=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n){u!==void 0&&(this.x=u,this.y=a,this.z=n)}return _.construct=function(u,a,n){var o=new _;return o.x=u,o.y=a,o.z=n,o},_.prototype.K=function(u,a,n){this.x=u,this.y=a,this.z=n},_.prototype.lx=function(){this.z=this.y=this.x=0},_.prototype.normalize=function(){var u=this.length();u==0&&(this.x/=u,this.y/=u,this.z/=u)},_.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},_.prototype.sub=function(u){return new _(this.x-u.x,this.y-u.y,this.z-u.z)},_.prototype.Ag=function(u){new _(this.x*u,this.y*u,this.z*u)},_.prototype.Qh=function(u){return this.x*u.x+this.y*u.y+this.z*u.z},_}();h.Nd=P}(Y||(Y={})),function(h){var P=function(){function _(u,a,n){this.Gw=this.DA=null,this.Xf=a,this.FT=a.y-n,this.ET=a.y+n,this.Ew=0,this.dA=u,this.qa=n,this.RT=n*n,this.eA=n!=0,this.Lv=!1}return _.prototype.result=function(){return this.Ew!=0?1:0},_.prototype.ZM=function(u){return u=u.hc(u.fe(this.Xf,!1)),h.h.yc(u,this.Xf)<=this.RT},_.prototype.fF=function(u){if(!this.eA&&(this.dA&&this.Xf.qb(u.ac())||this.Xf.qb(u.wc())))this.Lv=!0;else if(u.na==this.Xf.y&&u.na==u.la){if(this.dA&&!this.eA){var a=Math.max(u.sa,u.pa);this.Xf.x>Math.min(u.sa,u.pa)&&this.Xf.x<a&&(this.Lv=!0)}}else{var n=!1;if(a=Math.max(u.sa,u.pa),this.Xf.x>a?n=!0:this.Xf.x>=Math.min(u.sa,u.pa)&&(n=0<u.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),n){if(this.Xf.y==u.ac().y){if(this.Xf.y<u.wc().y)return}else if(this.Xf.y==u.wc().y&&this.Xf.y<u.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(u.ac().y>u.wc().y?1:-1)}}},_.prototype.SI=function(u){var a=u.Tg(0,1);if(a.oa>this.ET||a.va<this.FT)return!1;if(this.eA&&this.ZM(u))return!0;if(a.oa>this.Xf.y||a.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(a=u.eG()))for(u=0;u<a;u++){var n=this.DA[u].get();if(this.fF(n),this.Lv)return!0}else if(this.fF(u),this.Lv)return!0;return!1},_.PM=function(u,a,n){for(a=new _(u.In()==0,a,n),u=u.Ga();u.$a();)for(;u.Ha();)if(n=u.ha(),a.SI(n))return-1;return a.result()},_.QM=function(u,a,n,o){var l=new h.l;u.xc(l),l.W(o,o);var d=new _(u.In()==0,n,o);u=u.Ga();var p=new h.l;for(p.K(l),p.C=n.x+o,p.G=n.y-o,p.H=n.y+o,o=(n=a.MF(p,o)).next();o!=-1;o=n.next())if(u.Vb(a.ja(o)),u.Ha()&&(o=u.ha(),d.SI(o)))return-1;return d.result()},_.wm=function(u,a,n){if(u.B())return 0;var o=new h.l;if(u.xc(o),o.W(n,n),!o.contains(a))return 0;if((o=u.Bb)!=null){var l=o.Fk;if(l!=null){if((l=l.So(a.x,a.y))==1)return 1;if(l==0)return 0}if((o=o.Fb)!=null)return _.QM(u,o,a,n)}return _.PM(u,a,n)},_.bT=function(u,a,n){return a.B()?0:_.wm(u,a.D(),n)},_.Ml=function(u,a){return!(16>(u=u.I()))&&2*u+Math.log(u)/Math.log(2)*a<1*u*a},_}();h.Dg=P}(Y||(Y={})),function(h){var P=function(_){function u(a){return _.call(this,!0,a)||this}return Vt(u,_),u.prototype.Ia=function(){return new u(this.description)},u.prototype.Db=function(){return 2},u.prototype.getType=function(){return 1736},u.prototype.xG=function(a,n,o){this.JS(a,n,o)},u.prototype.qR=function(){this.FR()},u}(h.Vk);h.Da=P}(Y||(Y={})),function(h){(function(P){P[P.PiPOutside=0]="PiPOutside",P[P.PiPInside=1]="PiPInside",P[P.PiPBoundary=2]="PiPBoundary"})(h.RL||(h.RL={})),h.hd=function(){function P(){}return P.KG=function(_,u,a){return(_=h.Dg.bT(_,u,a))==0?0:_==1?1:2},P.Yd=function(_,u,a){return(_=h.Dg.wm(_,u,a))==0?0:_==1?1:2},P.WX=function(_,u,a,n,o){if(u.length<a||o.length<a)throw h.i.N();for(var l=0;l<a;l++)o[l]=P.Yd(_,u[l],n)},P.sK=function(_,u,a,n,o){if(_.getType()==1736)P.WX(_,u,a,n,o);else{if(_.getType()!=197)throw h.i.fa("invalid_call");var l=new h.l;_.A(l),P.$M(l,u,a,n,o)}},P.$M=function(_,u,a,n,o){if(u.length<a||o.length<a)throw h.i.N();if(_.B())for(n=0;n<a;n++)o[n]=0;else for(_.W(.5*-n,.5*-n),_.W(.5*n,.5*n),n=0;n<a;n++)_.contains(u[n])?o[n]=1:_.contains(u[n])?o[n]=2:o[n]=0},P.YX=function(_,u,a,n,o){for(var l=0;l<a;l++)o[l]=_.qs(u[l],n)?2:0},P.XX=function(_,u,a,n,o){var l=_.Bb,d=null;l!=null&&(d=l.Fk),l=a;for(var p=0;p<a;p++)if(o[p]=1,d!=null){var y=u[p];d.So(y.x,y.y)==0&&(o[p]=0,l--)}if(l!=0)for(_=_.Ga();_.$a()&&l!=0;)for(;_.Ha()&&l!=0;)for(d=_.ha(),p=0;p<a&&l!=0;p++)o[p]==1&&d.qs(u[p],n)&&(o[p]=2,l--);for(p=0;p<a;p++)o[p]==1&&(o[p]=0)},P.tK=function(_,u,a,n,o){var l=_.getType();if(l==1607)P.XX(_,u,a,n,o);else{if(!h.aa.yd(l))throw h.i.fa("Invalid call.");P.YX(_,u,a,n,o)}},P}()}(Y||(Y={})),function(h){var P=function(_){function u(a,n){if(arguments.length==2){var o=_.call(this,!1,a.description)||this;o.nf(a),o.lineTo(n)}else o=_.call(this,!1,a)||this;return o}return Vt(u,_),u.prototype.Ia=function(){return new u(this.description)},u.prototype.Db=function(){return 1},u.prototype.getType=function(){return 1607},u.prototype.xG=function(a,n,o){this.KS(a,n,o)},u}(h.Vk);h.Ta=P}(Y||(Y={})),function(h){var P=function(){function _(){}return _.prototype.progress=function(){return!0},_.zp=function(u){if(u!=null&&!u.progress(-1,-1))throw h.i.WC()},_}();h.mp=P}(Y||(Y={})),function(h){var P;(P=h.PK||(h.PK={}))[P.clipWithInputHorizon=1]="clipWithInputHorizon",P[P.clipWithOutputHorizon=2]="clipWithOutputHorizon";var _=function(){function n(){this.Kg=3,this.Vu=this.Jr=NaN}return n.prototype.PW=function(o){this.QB(1,o)},n.prototype.QW=function(o){this.QB(2,o)},n.prototype.hS=function(){return this.hs(1)},n.prototype.iS=function(){return this.hs(2)},n.prototype.QB=function(o,l){this.Kg=l?this.Kg|o:this.Kg&~o},n.prototype.hs=function(o){return(this.Kg&o)!=0},n.prototype.Of=function(){var o=new n;return o.Jr=this.Jr,o.Vu=this.Vu,o.Kg=this.Kg,o},n}();h.yC=_,function(n){n[n.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",n[n.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(h.QK||(h.QK={}));var u=function(){function n(){this.Kg=0}return n.prototype.QB=function(o,l){this.Kg=l?this.Kg|o:this.Kg&~o},n.prototype.hs=function(o){return(this.Kg&o)!=0},n.jg=function(o){var l=new n;return l.Kg=o.Kg,l},n.prototype.mM=function(o){this.Kg=o.Kg},n}();h.AY=u;var a=function(){function n(o,l,d){this.ef=o,this.Yf=l,this.Uf=new h.l,this.Uf.K(d),this.AT=o.cc()+l.cc()+this.Uf.cc().toString()}return n.prototype.cc=function(){return this.AT},n.prototype.Nb=function(o){return this==o||this.ef.Nb(o.ef)&&this.Yf.Nb(o.Yf)&&this.Uf.Nb(o.Uf)},n}();h.FY=a,a=function(){function n(){this.Yf=this.ef=null,this.rH=new _,this.sH=new u,this.ww=this.Wf=null,this.mw=this.Tn=!0}return n.Nr=function(o,l,d,p){var y;p===void 0&&(p=null),y===void 0&&(y=null);var v=new n;return v.qp(o,l,d,p,y),v},n.prototype.qp=function(o,l,d,p,y){if(o==null||l==null)throw h.i.fa("invalidArgument");if(this.ef=o,this.Yf=l,this.mw=this.Tn=!1,p!=null&&(this.rH=p.Of()),y!=null&&this.sH.mM(y),y=!1,l.Sb()==1&&p!=null&&(p=p.Jr,isNaN(p)||p==0||(y=!0)),o==l)this.Tn=!y,this.mw=!0;else{p=o.Sb();var v=l.Sb();if(p==0||v==0){if(d!=null)throw h.i.N();o.Hd()!=null&&l.Hd()!=null&&(this.Tn=o.Hd().Nb(l.Hd()))}else p==3||v==3?this.Tn=o.Nb(l):this.ef.kS(this.Yf)?this.Tn=!y:this.Tn=!1,this.Wf=d,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},n.prototype.isIdentity=function(){return this.Tn},n.prototype.nR=function(){return this.rH.Of()},n.prototype.Nb=function(o){return o==this||!!(o instanceof n&&this.ef.Nb(o.ef)&&this.Yf.Nb(o.Yf))&&(this.Wf==o.Wf||!(this.Wf==null||o.Wf==null||!this.Wf.Nb(o.Wf)))},n.prototype.oY=function(){this.ww=new h.bu(this)},n}(),h.vr=a}(Y||(Y={})),function(h){var P=function(){function _(){}return _.Cp=function(u){return u*_.oW},_.mx=function(u,a){return _.gP(a-u)},_.hP=function(u){return-360<=u&&720>u?(0>u?u+=360:360<=u&&(u-=360),u):(0>(u=h.lc.RK(u))&&(u+=360),u)},_.gP=function(u){return 180<(u=_.hP(u))&&(u-=360),u},_.oW=57.29577951308232,_}();h.qr=P,h.Hh=function(){function _(){}return _.lj=function(u,a){var n=new h.l;u.A(n);var o=h.cb.gh(a),l=new h.l;return l.K(o),l.v=n.v,l.C=n.C,l.W(.01*l.ca(),0),a=h.ta.Wd(a,n,!1),l.contains(n)?u:h.Ud.clip(u,l,a,0)},_.ks=function(u,a,n,o,l){if(!h.cb.Wc(a))throw h.i.N();var d=h.ta.kj(a,u,!1),p=h.cb.gh(a),y=h.cb.sc(a),v=y.Hd().ai,$=h.cb.vv(y);y=h.cb.ev(y),$*=2-$;var I=new h.Nc;p.cn(I);var k=[[0,0],[0,0]];if(h.Eg.Sb(a)==2?o?(k[0][0]=_.Zm(l,I),k[0][1]=p.Jp(),h.cb.vt(),p=k[0][0]*v):(k[0][0]=p.gk(),k[0][1]=l,h.cb.vt(),p=k[0][1]*v):p=l*v,!o&&p!=0)throw h.i.N();var O=new h.ga,F=new h.gd;u=F.Ib(u);for(var j=[0],z=new h.h,B=new h.h,H=new h.h,U=new h.h,Z=new h.h,re=new h.h,ie=F.Ob(u);ie!=-1;ie=F.Rb(ie)){var ce=F.Xa(ie);F.D(ce,H);for(var le=!1,_e=ce=F.U(ce);_e!=-1;_e=F.U(_e)){if(_e==ce){if(le)break;le=!0}if(F.D(_e,U),o&&d<l-H.x&&U.x-l>d||d<l-U.x&&H.x-l>d||!o&&d<-H.y&&U.y>d||d<-U.y&&H.y>d)do if(!(Math.abs(H.x-U.x)>=.5*I.R())){if(h.Eg.Sb(a)==2?(k[0][0]=_.Zm(H.x,I),k[0][1]=H.y,k[1][0]=_.Zm(U.x,I),k[1][1]=U.y,h.cb.dW(),Z.x=k[0][0]*v,Z.y=k[0][1]*v,re.x=k[1][0]*v,re.y=k[1][1]*v):(Z.x=H.x*v,Z.y=H.y*v,re.x=U.x*v,re.y=U.y*v),re.x=6.283185307179586*(U.x-H.x)/I.R()+Z.x,o){if(B.x=p,B.y=_.Nz(y,$,Z,re,p,n),isNaN(B.y))break}else{if(B.x=_.Lz(y,$,Z,re,n),isNaN(B.x))break;B.y=0}h.kb.wd(y,$,Z.x,Z.y,re.x,re.y,O,null,null,n);var Me=O.u;h.kb.wd(y,$,Z.x,Z.y,B.x,B.y,O,null,null,n);var Te=O.u;h.Eg.Sb(a)==2?(k[0][0]=B.x/v,k[0][1]=B.y/v,h.cb.bR(),o?(z.y=k[0][1],z.x=l):(z.x=_.os(k[0][0],H.x,U.x,I),z.y=l)):o?(z.x=l,z.y=B.y/v):(z.x=_.os(B.x/v,H.x,U.x,I),z.y=l),j[0]=0<Me?h.O.Rk(Te/Me,0,1):.5,j[0]!=0&&j[0]!=1&&(Me=F.Ma(_e),F.Ul(Me,j,1),F.Cb(F.U(Me),z.x,z.y))}while(!1);H.L(U)}}return F.Ne(u)},_.Fn=function(u,a,n,o,l){if(u.B())return u;var d=h.cb.bf(a);return _.Hp(u,n-180*d,360*d,a,o,l,!0)},_.Nz=function(u,a,n,o,l,d){if(3.141592653589793<=Math.abs(n.x-o.x)||!_.Sn(n.x,o.x,l))return NaN;if(n.x>o.x)var p=o;else p=n,n=o;o=new h.ga(0);var y=new h.ga(0),v=new h.ga(0);h.kb.wd(u,a,p.x,p.y,n.x,n.y,y,o,null,d);var $=y.u,I=0,k=1,O=new h.h;for(O.L(p);$*(k-I)>1e-12*u;){var F=.5*(I+k);if(h.kb.oj(u,a,p.x,p.y,$*F,o.u,y,v,d),O.x=y.u,O.y=v.u,O.x==l)break;if(_.Sn(p.x,O.x,l))k=F;else{if(!_.Sn(n.x,O.x,l))return NaN;I=F}}return O.y},_.Sn=function(u,a,n){return u=P.Cp(u),a=P.mx(u,P.Cp(a)),(n=P.mx(u,P.Cp(n)))==0||0<a&&0<n&&n<=a||0>a&&0>n&&n>=a},_.Zm=function(u,a){var n=a.va-a.oa;return a.It(u-Math.floor((u-a.oa)/n)*n)},_.os=function(u,a,n,o){var l=new h.Nc;for(l.K(a,n),n=o.R(),u=Math.floor((u-a)/n)*n+u,l=l.sf();Math.abs(u-l)>Math.abs(u+n-l);)u+=n;return u},_.Lz=function(u,a,n,o,l){if(n.y>o.y)var d=o;else d=n,n=o;if((o=new h.Nc).K(d.y,n.y),!o.contains(0)||3.141592653589793<=Math.abs(d.x-n.x))return NaN;if(d.x==n.x)return d.x;var p=new h.ga(0),y=new h.ga(0),v=new h.ga(0);h.kb.wd(u,a,d.x,d.y,n.x,n.y,y,p,null,l);var $=y.u,I=0,k=1,O=new h.h;for(O.L(d);$*(k-I)>1e-12*u;){var F=.5*(I+k);if(h.kb.oj(u,a,d.x,d.y,$*F,p.u,y,v,l),O.x=y.u,O.y=v.u,o.K(d.y,O.y),O.y==0)break;if(o.contains(0))k=F;else{if(o.K(n.y,O.y),!o.contains(0))return NaN;I=F}}return O.x},_.Hp=function(u,a,n,o,l,d,p){var y=new h.l;if(u.A(y),y.B())return u;var v=new h.Nc;y.cn(v);var $=new h.Nc;if($.K(a,a+n),$.contains(v)&&$.va!=v.va)return u;var I=new h.l;I.K(y);var k=u.getType();if(k==33)return((y=(I=l?u:u.Of()).Lg())<$.oa||y>=$.va||p&&y==$.va)&&(y+=Math.ceil(($.oa-y)/n)*n,y=$.It(y),I.cC(y)),I;if(k==550){for(o=(I=l?u:u.Of()).ub(0),k=2*I.I(),u=!1,l=0;l<k;l+=2)((y=o.read(l))<$.oa||y>=$.va||p&&y==$.va)&&(u=!0,y+=Math.ceil(($.oa-y)/n)*n,y=$.It(y),o.write(l,y));return u&&I.Pc(1993),I}if($.contains(v))return u;if(k==197)return n=l?u:u.Of(),y.Ea(I),n.Xo(y),n;var O=.1*Math.max(y.ca(),y.R());for(I.W(0,O),p=u,$=o.Xd(0),u=h.Gh.local(),l=new h.Dd;;){var F=Math.floor((v.oa-a)/n),j=Math.ceil((v.va-a)/n);if(!(3<j-F))break;F=Math.floor(.5*(j+F)),I.v=y.v-O,I.C=a+n*F;var z=h.Ud.clip(p,I,$,d);I.v=I.C,I.C=y.C+O;var B=h.Ud.clip(p,I,$,d);l.gg((F-j)*n,0),B.Oc(l),k==1736?p=u.V(z,B,o,null):(p=z).add(B,!1),p.A(y),y.cn(v)}for(I.v=a,I.C=a+n,(a=new h.l).K(I),a.W($,0),(a=Math.floor((y.v-I.v)/n)*n)!=0?(I.move(a,0),l.gg(-a,0)):l.RB(),a=k==1607?new h.Ta(p.description):new h.Da(p.description),d=new h.l,v=new h.l;y.C>I.v;)(O=h.Ud.clip(p,I,$,0)).A(v),(k==1607?!O.B()&&(v.R()>$||v.ca()>$):!O.B()&&(k!=1736||v.R()>$))&&(O.Oc(l),O.A(v),a.A(d),d.W($,$),d.isIntersecting(v)&&k==1736?a=u.V(a,O,o,null):a.add(O,!1)),I.move(n,0),l.shift(-n,0);return a},_.WI=function(u,a,n,o){var l=new h.de(n.description);l.Fd(n,0,-1),l=h.cb.zh(l,u,a);var d=n.I();if(o.Oa(),!h.cb.Wc(u)||d!=l.I())return!1;var p=new h.l;n.A(p);var y=new h.l;if(l.A(y),p=p.R(),y=y.R(),p!=0&&y!=0){if(y/=p,u=h.cb.gh(a).R()/h.cb.gh(u).R(),1e-10<Math.abs(y/u-1))return!1}else if(p!=0||y!=0)return!1;for(o.add(n,!1),n=0;n<d;n++)u=l.Na(n),o.Cb(n,u);return!0},_.Oz=function(){throw h.i.Ie()},_}()}(Y||(Y={})),function(h){var P,_,u;(_=P=h.si||(h.si={}))[_.Clip=0]="Clip",_[_.DontClip=1]="DontClip",_[_.PannableFold=2]="PannableFold",function(a){a[a.Geodesic=0]="Geodesic",a[a.Loxodrome=1]="Loxodrome",a[a.GreatElliptic=2]="GreatElliptic",a[a.NormalSection=3]="NormalSection",a[a.ShapePreserving=4]="ShapePreserving"}(u=h.WK||(h.WK={})),h.zb=function(){function a(){}return a.xv=function(n,o,l){if(l||0<o){for(n=n.toString(h.Sc.PE_STR_NAME_CANON|h.Sc.PE_STR_AUTH_NONE),o=[],l=0;l<n.length;l++)o[l]="a"<=n[l]&&"z">=n[l]?o[l]=n[l].toUpperCase():n[l];return o.join()}return n.toString(h.Sc.PE_STR_AUTH_TOP)},a.ur=function(n,o,l,d){var p=d.length,y=l.I();if(y!=0){var v=l.ub(0),$=Math.min(y,p),I=0,k=n.eh();isNaN(o)&&(o=0);for(var O=n.Wc(),F=179*(n=O?n.sc().Oe().R():0)/360;0<y;){if(v.uB(I<<1,$,d),h.ej.projToGeogCenter(k,$,d,o),O)for(var j=0;j<$;j++){var z=d[j][0]-o,B=h.lc.sign(z),H=v.read(2*(I+j));0>B*h.lc.sign(H)&&Math.abs(z)>F&&(d[j][0]+=-B*n)}v.uC(I<<1,$,d),I+=$,y-=$,$=Math.min(y,p)}l.Pc(1993)}},a.IL=function(n,o,l,d){var p=0,y=n.eh();isNaN(p)&&(p=0);var v=n.Wc(),$=n.bf();n=360*$,$*=179;for(var I=d.length,k=0;k<l;){for(var O=k;O<l&&o[O].isNaN();++O)k++;var F=Math.min(I,l-k);if(0<F){O=1;for(var j=k+1;O<F;++O,++j)if(o[j].isNaN()){F=O;break}if(h.ta.Jy(d,o,k,F),h.ej.projToGeogCenter(y,F,d,p),v)for(O=0,j=k;O<F;++O,++j){var z=o[j].x,B=d[O][0]-p,H=h.lc.sign(B);0>H*h.lc.sign(z)&&Math.abs(B)>$&&(d[O][0]-=H*n)}h.ta.Iy(o,k,d,F),k+=F}}},a.Lx=function(n,o,l){var d=l.length,p=o.I();if(!(1>p)){var y=o.ub(0),v=Math.min(p,d),$=0,I=n.eh(),k=n.Wc(),O=k?n.Oe().R():0,F=179*O/360,j=0;for(k&&(j=n.zi());0<p;){if(y.uB($<<1,v,l),h.ej.geogToProj(I,v,l),k)for(n=0;n<v;n++){var z=l[n][0],B=h.lc.sign(z),H=y.read(2*($+n))-j;0>B*h.lc.sign(H)&&Math.abs(z)>F&&(l[n][0]+=-B*O)}y.uC($<<1,v,l),$+=v,p-=v,v=Math.min(p,d)}o.Pc(1993)}},a.HL=function(n,o,l,d){if(l!=0){var p=n.eh(),y=n.Wc(),v=y?n.Oe().R():0,$=179*v/360,I=0;for(y&&(I=n.zi()),n=0;n<l;){for(var k=n;k<l&&o[k].isNaN();++k)n++;var O=Math.min(d.length,l-n);if(0<O){k=1;for(var F=n+1;k<O;++k,++F)if(o[F].isNaN()){O=k;break}if(h.ta.Jy(d,o,n,O),h.ej.geogToProj(p,O,d),y)for(k=0,F=n;k<O;k++){var j=d[k][0],z=h.lc.sign(j);0>z*h.lc.sign(o[F].x-I)&&Math.abs(j)>$&&(d[k][0]-=z*v)}h.ta.Iy(o,n,d,O),n+=O}}}},a.tr=function(n,o,l,d){var p=o.I();if(p!=0){var y=o.ub(0),v=n.ef,$=n.Yf,I=v.sc().Qp(),k=$.sc().Qp(),O=v.bf(),F=$.bf();if((n=n.Wf)==null||n.count()==0){for(l=I/k,d=(v.Up()-$.Up())*F,k=-90*O,n=90*O,I=!1,F=1,v=2*p;F<v;)O=y.get(F),($=h.O.Rk(O,k,n))!=O&&(y.set(F,$),I=!0),F+=2;if(d!=0||l!=1)for(I=!0,k=new h.h,F=0;F<p;F++)y.tc(2*F,k),k.x*=l,k.x+=d,k.y*=l,y.Tt(2*F,k);I&&o.Pc(1993)}else{v=d.length,$=Math.min(p,v);var j=h.O.lg($),z=null,B=0,H=NaN,U=NaN,Z=360*F,re=F/O;l&&(U=90*F,H=89.9*O,z=h.O.lg($));for(var ie=!0,ce=0;p!=0;){for(O=!1,y.uB(B<<1,$,d),F=0;F<$;F++)j[F]=d[F][0];if(l)for(F=0;F<$;F++){var le=Math.abs(d[F][1])-H;0<le&&(O=d[F][1],d[F][1]=h.lc.Cn(H,O),z[F]=h.lc.Cn(le,O),O=!0)}for(F=d[0][0],n.transform(d,$,I,k),ie&&(ce=d[0][0]-re*F,ie=!1),F=0;F<$;F++)le=d[F][0]-j[F]*re-ce,200<Math.abs(le)&&(d[F][0]=0<le?d[F][0]-Z:d[F][0]+Z);if(O){for(F=0;F<$;F++)z[F]!=0&&(d[F][1]+=re*z[F],d[F][1]>U?d[F][1]=U:d[F][1]<-U&&(d[F][1]=-U));for(O=0;O<$;O++)z[O]=0}y.uC(B<<1,$,d),B+=$,p-=$,$=Math.min(p,v)}o.Pc(1993)}}},a.GL=function(n,o,l,d){if(n.mw)d=90*n.ef.bf(),h.ta.dK(o,l,-d,d);else{var p=n.Wf,y=n.ef,v=n.Yf;n=y.Xr();var $=v.Xr(),I=y.bf(),k=90*I,O=v.bf();if(p==null||p.count()==0){if(d=n/$,p=(y.Up()-v.Up())*O,h.ta.dK(o,l,-k,k),p!=0||d!=1)for(O=0;O<l;O++)o[O].x*=d,o[O].x+=p,o[O].y*=d}else{y=Math.min(l,d.length),k=h.O.lg(y),v=360*O,I=O/I;for(var F=!0,j=0,z=0;l!=0;){for(O=0;O<y;O++)k[O]=o[O+z].x;for(O=o[0].x,h.ta.Jy(d,o,z,y),p.transform(d,y,n,$),h.ta.Iy(o,z,d,y),F&&(j=o[0].x-I*O,F=!1),O=0;O<y;O++){var B=o[z+O].x-k[O]*I-j;200<Math.abs(B)&&(o[z+O].x=0<B?o[z+O].x-v:o[z+O].x+v)}z+=y,l-=y,y=Math.min(l,d.length)}}}},a.dv=function(n,o){return n=n.gh(),isNaN(o)||n.Ju(o,0),n},a.UQ=function(n,o,l,d,p,y,v,$){for(var I=a.dv(d,p),k=I.R(),O=k/360,F=a.pE*O,j=n.ub(0),z=o.Wc(),B=z?k/o.Oe().R():0,H=!1,U=new h.Da(l.description),Z=0,re=l.da();Z<re;++Z){var ie=z,ce=new h.Ta(l.description);if(ce.addPath(l,Z,!0),v!=0){var le=a.PD(!0,ce,I.H-$,I.H,v);(H=H||le)&&(ie=!1)}var _e=-1;ie&&(_e=n.Ba(Z));var Me=ce.ub(0),Te=ce.I(),Ye=0,Fe=Me.read(0),wt=0;le=3*d.Xd(0);var gt=!1,He=new h.h;He.Rc();var ci=new h.h;ci.Rc();for(var Ji=!1,_i=1;_i<Te;++_i){var Kt=h.h.construct(Me.eg(2*_i),Me.eg(2*_i+1)),vt=Kt.x,Nt=vt+Ye,Si=Nt-Fe;if(Kt.x=Nt,Math.abs(Si)>F){if(ie){var Mt=_e+(_i+1<Te?_i:0),pn=j.read(2*(_e+_i-1));Mt=(j.read(2*Mt)-pn)*B,Math.abs(Si-Mt)>1*O&&(ie=!1)}ie||(Nt=vt+(Ye-=h.lc.Cn(k,Nt-Fe)),++wt,Ji=Ye!=0,Kt.x=Nt)}else gt||h.ta.AG(ci,He,Kt,le)&&(gt=!0);Ji&&Me.write(2*_i,Nt),Fe=Nt,ci.L(He),He.L(Kt)}0<wt&&ce.Pc(1993),ie=ce.Na(0),Te=ce.Na(Te-1),ce=h.h.tb(ie,Te)<le?a.uQ(ce,d,p,y,gt):a.vQ(n,Z,ce,d,p),U.add(ce,!1)}return p=d.Xd(0),l=I.R()/180,a.Jt(U,I,.1*p,!1),U=U!=(p=h.ri.clip(U,I,p,l,y)),n=n.Ke(),v=0,0<($=p.Ke())&&0>n?v=1:0>=$&&0<n&&($==0?($=NaN,o.Sb()==2?$=o.ml().Ke():o.Sb()==1&&($=o.Oe().wF()),n>.99*$&&(v=-1)):v=-1),v!=0&&((o=new h.Da(p.description)).tp(I),(o=h.Xl.local().V(o,l,y)).add(p,!1),U=!0,p=o),U&&(p=h.Yl.local().V(p,d,!1,y)),p},a.vQ=function(n,o,l,d,p){var y=l.I(),v=l.Na(0),$=l.Na(y-1);p=(d=a.dv(d,p)).R(),v=h.lc.sign($.x-v.x);var I=new h.l;l.xc(I);var k=d.gk();if($=k-p,k+=p,0<=v){var O=Math.ceil(($-I.v)/p);for(O*=p;$>I.v+O;)O+=p;for(;$<I.C+O;)O-=p;var F=O;720<I.R()&&(k=$+360*Math.ceil(I.R()/360))}else{for(O=Math.ceil((k-I.C)/p),O*=p;k<I.C+O;)O-=p;for(;k>I.v+O;)O+=p;F=O,720<I.R()&&($=k-360*Math.ceil(I.R()/360))}O=v*p;var j=h.l.construct(I.v,I.G,I.C,I.H);j.move(F,0);var z=new h.Dd;z.gg(F,0),l.Oc(z),(I=new h.Ta(l.description)).add(l,!1),F=l.Na(y-1),p=0;for(var B=I.Na(0).x,H=0;0<v?j.C<k:j.v>$;)1024<=H&&(H=0),j.move(O,0),z.Gb=O,l.Oc(z),B+=O,d.v<=B&&d.C>=B&&(p=I.I()-1),l.Cb(0,F),F=l.Na(y-1),I.Dr(l,0,0,y-1,!1);return l=new h.Da(I.description),y=0<n.Ir(o),l.add(I,!1),n=I.Na(0),$=I.Na(I.I()-1),o=l.da()-1,(0>v?y:!y)?(v=h.h.construct($.x,d.H),l.Ci(v),v=h.h.construct(d.gk(),d.H),l.Ci(v),d=h.h.construct(n.x,d.H)):(v=h.h.construct($.x,d.G),l.Ci(v),v=h.h.construct(d.gk(),d.G),l.Ci(v),d=h.h.construct(n.x,d.G)),l.Ci(d),l.xG(0,o,0),l.kO(p),l},a.uQ=function(n,o,l,d,p){var y=new h.Da(n.description);y.add(n,!1),y.DB(0,y.I()-1);var v=new h.l;y.xc(v);var $=(l=a.dv(o,l)).R(),I=Math.ceil((l.v-v.v)/$);for(I*=$;l.v>v.v+I;)I+=$;for(;l.v<v.C+I;)I-=$;if((I+=$)!=0){v.move(I,0);var k=new h.Dd;k.gg(I,0),y.Oc(k)}if(l.v<=v.v&&l.C>v.C)return p&&(p=y.Ke(),o=(y=h.Yl.local().V(y,o,!0,d)).Ke(),(o=h.lc.sign(p)!=h.lc.sign(o))&&y.oJ()),y;for((n=new h.Da(n.description)).add(y,!1),p=p||v.R()>$-o.Xd(0);v.v<l.C;)v.move($,0),(k=new h.Dd).gg($,0),y.Oc(k),n.add(y,!1);return p&&(p=n.Ke(),n.Yo(1),o=(n=h.Yl.local().V(n,o,!0,d)).Ke(),(o=h.lc.sign(p)!=h.lc.sign(o))&&n.oJ()),n},a.PD=function(n,o,l,d,p){for(var y=o.ub(0),v=o.I(),$=!1,I=0;I<v;I++){var k=h.h.construct(y.eg(2*I),y.eg(2*I+1));if(1&p&&k.y>=l){$=!0;break}if(2&p&&k.y<=-l){$=!0;break}}if(!$)return!1;y=!1,n&&(y=o.Nn(0)),v=(n=new h.gd).Ib(o),$=n.Ob(v);var O=-1,F=!0,j=new h.h;j.Rc(),I=new h.Sa;for(var z=-1,B=n.Xa($);B!=-1;B=n.U(B)){k=n.Na(B);var H=1&p&&90<=k.y?1:0;if(H|=2&p&&k.y<=-l?2:0,0<O&&O!=H){if(j.x!=k.x){j.x=k.x,n.Vi(n.Ma(B),I);var U=n.wj($,B,I);n.mf(U,j)}if(y)for(z=z!=-1?n.U(z):n.Xa($),U=n.Ma(B);z!=U;)z=n.pd(z,!1);z=-1}0<H&&(k.y=h.lc.Cn(d,k.y),n.mf(B,k),F||O==H||(k.x!=j.x?(n.Vi(B,I),U=n.wj($,B,I),n.Cb(U,j.x,k.y),z=U):z=B)),O=H,j=k,F=!1}if(y){if(z!=-1)for(z=n.U(z);z!=-1;)z=n.pd(z,!1);l=n.Xa($),n.fq(l,n.rj($))||(n.Vi(l,I),n.wj($,-1,I))}return n.Ne(v).copyTo(o),!0},a.Mz=function(n,o,l,d){var p=n;if(p.B()||l==P.DontClip)return p;var y=p.getType();if(y==33)return p=[(d=p).D()],a.yG(p,1,o,l),p[0].isNaN()?d.Oa():d.Cb(p[0]),n;var v=(n=o.sc()).bf(),$=90*v,I=180*v,k=360*v,O=o.zi(),F=.5*v,j=new h.l;p.A(j);var z=o.Vr(),B=o.PQ(),H=z.getType()==197;if(o=new h.l,z.A(o),l==P.PannableFold&&(l=n.Oe().R(),o.v=O-.5*l,o.C=o.v+l),j.G<-$||j.H>$){if(new h.l().K(j.v-v,-$,j.C+v,$),(p=h.ri.Nu(p,o,n,NaN,0,d)).B())return p;p.A(j)}if(B&&(o.H<j.G||o.G>j.H))return p.Ia();if(j.R()>k&&(p=a.Hp(p,O-I,k,n,!0,0,!0,d)).A(j),($=a.eO(j.v,j.C,o.v,o.C,k))!=0&&j.move($,0),j.C>o.C||j.v<o.v){if(j.C>o.C)for(;j.v>=o.C;)j.move(-k,0),$-=k;for(;j.v<o.C-k;)j.move(k,0),$+=k}if(l=h.ta.Hu(n,z),$!=0&&((v=new h.Dd).gg($,0),p.Oc(v)),B){if(H&&o.contains(j))return p;for(B=[null,null],$=0;2>$;$++){if(H?v=h.aa.Hc(y)?h.ri.clip(p,o,l,F,d):h.ri.clip(p,o,l,0,d):(v=h.Xj.local().V(p,z,n,d))==z&&(v=h.aa.jg(v)),o.v<=j.v&&o.C>=j.C||o.v>=j.v&&o.C<=j.C)return v;B[$]=v,$==0&&(j.move(-k,0),(v=new h.Dd).gg(-k,0),p.Oc(v))}if(y==550)B[0].Fd(B[1],0,-1);else if(h.aa.Hc(y))B[0].add(B[1],!1);else{if(y!=33)throw h.i.fa("intersect_with_GCS_horizon: unexpected geometry type");B[0].B()&&(B[0]=B[1])}return B[0]}if(o.H<j.G||o.G>j.H)return p;for(y=0;!p.B()&&j.C>o.v;)y!=0&&((v=new h.Dd).gg(y,0),p.Oc(v)),h.dj.local().V(4,p,z,n,d)||z==(p=h.kp.local().V(p,z,n,d))&&(p=h.aa.jg(p)),y!=0&&((F=new h.Dd).gg(-y,0),p.Oc(F)),y-=k,j.move(-k,0);return p},a.yG=function(n,o,l,d){if(o!=0&&d!=P.DontClip)if(d==P.PannableFold){d=l.HR();for(var p=o,y=0;y<o;y++)(n[y].y>d.H||n[y].y<d.G)&&(n[y].Rc(),p--);p!=0&&a.av(n,o,d.v,d.R())}else{var v=90*(d=l.bf()),$=180*d;for(d*=360,p=o,y=0;y<o;y++)(n[y].y>v||n[y].y<-v)&&(n[y].Rc(),p--);if(p!=0){(p=new h.l).Zw(n,o),v=l.Vr();var I=l.hv();y=v.getType()==197;var k=new h.l;if(v.A(k),!I||!(k.H<p.G||k.G>p.H))if(I)if(a.av(n,o,k.gk()-$,d),p=o,y)for(y=0;y<o;y++)k.contains(n[y])||(n[y].Rc(),p--);else for(l=h.ta.Hu(l.sc(),v),y=0;y<o;y++)($=h.hd.Yd(v,n[y],l)!=0)||(n[y].Rc(),p--);else for(a.av(n,o,-$,d),p=o,l=h.ta.Hu(l.sc(),v),y=0;y<o;y++)($=n[y]).isNaN()&&p--,I=a.tE($.x,k.v,k.C,d),$.x+=I,($=h.hd.Yd(v,$,l)!=0)&&(n[y].Rc(),p--)}}},a.Hp=function(n,o,l,d,p,y,v,$){var I=n.getType(),k=o+l;if(I===33){var O=(d=p?n:n.Of()).Lg();return(O<o||O>=k||v&&O==k)&&(O+=Math.ceil((o-O)/l)*l,O=h.O.Rk(O,o,k),d.cC(O)),d}if(n.B()||(O=new h.l,n.A(O),O.B()))return n;var F=new h.Nc;O.cn(F);var j=new h.Nc;if(j.K(o,k),j.contains(F))return n;if((k=new h.l).K(O),I===550){for($=(d=p?n:n.Of()).ub(0),I=2*d.I(),k=!1,o=0;o<I;o+=2)((O=$.read(o))<j.oa||O>=j.va||v&&O==j.va)&&(k=!0,O+=Math.ceil((j.oa-O)/l)*l,O=j.It(O),$.write(o,O));return k&&d.Pc(1993),d}if(I==197)return l=p?n:n.Of(),O.Ea(k),l.Xo(O),l;var z=.1*Math.max(O.ca(),O.R());for(k.W(0,z),v=n,j=d.Xd(0),n=h.Gh.local(),p=new h.Dd;;){var B=Math.floor((F.oa-o)/l),H=Math.ceil((F.va-o)/l);if(!(3<H-B))break;B=Math.floor(.5*(H+B)),k.v=O.v-z,k.C=o+l*B;var U=h.ri.clip(v,k,j,y,$);k.v=k.C,k.C=O.C+z;var Z=h.ri.clip(v,k,j,y,$);p.gg((B-H)*l,0),Z.Oc(p),I==1736?v=n.V(U,Z,d,null):(v=U).add(Z,!1),v.A(O),O.cn(F)}for(k.v=o,k.C=o+l,(o=new h.l).K(k),o.W(j,0),(o=Math.floor((O.v-k.v)/l)*l)!=0?(k.move(o,0),p.gg(-o,0)):p.RB(),o=I==1607?new h.Ta(v.description):new h.Da(v.description),y=new h.l,F=new h.l;O.C>k.v;)(z=h.ri.clip(v,k,j,0,$)).A(F),(I==1607?!z.B()&&(F.R()>j||F.ca()>j):!z.B()&&(I!=1736||F.R()>j))&&(z.Oc(p),z.A(F),o.A(y),y.W(j,j),y.isIntersecting(F)&&I==1736?o=n.V(o,z,d,null):o.add(z,!1)),k.move(l,0),p.shift(-l,0);return o},a.av=function(n,o,l,d){for(var p=l+d,y=0;y<o;y++){var v=n[y].x;l<=v&&v<p||!(v<l||v>p||v==p)||(v+=Math.ceil((l-v)/d)*d,v=h.O.Rk(v,l,p),n[y].x=v)}},a.Fn=function(n,o,l,d,p,y){if(!o.Wc())throw h.i.fa("fold_into_360_degree_range");if(n.B())return n;if(o.Sb()==2){l=o.pv();var v=o.ov()-l}else{var $=o.bf();v=360*$,l-=180*$}return a.Hp(n,l,v,o,d,p,!0,y)},a.qF=function(n,o,l,d){if(l.Sb()==2)d=l.pv(),l=l.ov()-d;else{var p=l.bf();l=360*p,d-=180*p}a.av(n,o,d,l)},a.lj=function(n,o){var l=o.Oe();if(n.getType()==33){var d=n.ih();return l.G<=d&&d<=l.H?n:n.Ia()}d=new h.l,n.A(d);var p=new h.l;return p.K(l),p.v=d.v,p.C=d.C,p.W(.01*p.ca(),0),l=h.ta.uy(o,d),p.contains(d)?n:h.ri.clip(n,p,l,0,null)},a.ir=function(n,o,l){return n>o.C&&n-o.C<l?o.C:n<o.v&&o.v-n<l?o.v:n},a.FX=function(n,o,l,d){d.x=a.ir(n.x,o,l),d.y=n.y},a.EX=function(n,o,l,d){for(var p=0;p<o;p++)n[p].y<l.G||n[p].y>l.H?n[p].Rc():n[p].x=a.ir(n[p].x,l,d)},a.Jt=function(n,o,l,d){if(!n.B()){var p=n.getType();if(!d||p!=1736)if(h.aa.xj(p)){d=n.ub(0),p=0;for(var y=n.I();p<y;p++){var v=d.read(2*p),$=a.ir(v,o,l);$!=v&&d.write(2*p,$)}n.Pc(1993)}else if(p==197)d=new h.l,n.A(d),d.v=a.ir(d.v,o,l),d.C=a.ir(d.C,o,l),n.Xo(d);else{if(p!=33)throw h.i.fa("internal error");n.cC(a.ir(n.Lg(),o,l))}}},a.uS=function(n,o,l,d){var p=new h.gd,y=p.Ib(n);return n=h.ta.Hu(o,n),a.ks(p,y,o,n,l,!0,d),p.Ne(y)},a.ks=function(n,o,l,d,p,y,v){if(!l.Wc())throw h.i.N("invalid call");var $=l.Oe(),I=l.sc(),k=I.eh().getDatum().getSpheroid();I=I.Hd().ai;var O=k.getFlattening();k=k.getAxis(),O*=2-O;var F=new h.Nc;$.cn(F);var j=null,z=[[0,0],[0,0]];if(l.Sb()==2?(j=l.eh(),y?(z[0][0]=a.Zm(v,F),z[0][1]=$.Jp(),h.ej.projToGeog(j,1,z),$=z[0][0]*I):(z[0][0]=$.gk(),z[0][1]=v,h.ej.projToGeog(j,1,z),$=z[0][1]*I)):$=v*I,!y&&$!=0&&p!=u.GreatElliptic)throw h.i.fa("invalid argument");var B=new h.ga,H=[0],U=new h.h,Z=new h.h,re=new h.h,ie=[null,null],ce=new h.h,le=new h.h,_e=new h.h,Me=new h.h;for(o=n.Ob(o);o!=-1;o=n.Rb(o)){var Te=n.Xa(o);n.D(Te,ce);for(var Ye=!1,Fe=Te=n.U(Te);Fe!=-1;Fe=n.U(Fe)){if(Fe==Te){if(Ye)break;Ye=!0}if(n.D(Fe,le),y&&(d<v-ce.x&&le.x-v>d||d<v-le.x&&ce.x-v>d)||!y&&(v!=0||d<-ce.y&&le.y>d||d<-le.y&&ce.y>d))do if(!(Math.abs(ce.x-le.x)>=.5*F.R())){if(l.Sb()==2?(z[0][0]=a.Zm(ce.x,F),z[0][1]=ce.y,z[1][0]=a.Zm(le.x,F),z[1][1]=le.y,h.ej.projToGeogCenter(j,2,z,0),_e.x=z[0][0]*I,_e.y=z[0][1]*I,Me.y=z[1][1]*I):(_e.x=ce.x*I,_e.y=ce.y*I,Me.y=le.y*I),Me.x=2*(le.x-ce.x)*Math.PI/F.R()+_e.x,y){if(Z.x=$,Z.y=a.Nz(k,O,_e,Me,$,p),isNaN(Z.y))break;ie[0]=Z;var wt=1}else if(p==u.GreatElliptic){var gt=[0,0];if((wt=h.Ox.Oz(O,_e,Me,$,gt))==0)break;Z.x=gt[0],Z.y=$,ie[0]=Z,wt==2&&(re.x=gt[1],re.y=$,ie[1]=re)}else{if(Z.x=a.Lz(k,O,_e,Me,p),isNaN(Z.x))break;Z.y=0,ie[0]=Z,wt=1}var He=-1;for(gt=0;gt<wt;gt++){h.kb.wd(k,O,_e.x,_e.y,Me.x,Me.y,B,null,null,p);var ci=B.u;h.kb.wd(k,O,_e.x,_e.y,ie[gt].x,ie[gt].y,B,null,null,p);var Ji=B.u;if(l.Sb()==2?(z[0][0]=ie[gt].x/I,z[0][1]=ie[gt].y/I,h.ej.geogToProj(j,1,z),y?(U.y=z[0][1],U.x=v):(U.x=a.os(z[0][0],ce.x,le.x,F),U.y=v)):y?(U.x=v,U.y=ie[gt].y/I):(U.x=a.os(ie[gt].x/I,ce.x,le.x,F),U.y=v),H[0]=0<ci?h.O.Rk(Ji/ci,0,1):.5,H[0]==0||H[0]==1)break;He>H[0]||(He=n.Ma(Fe),n.Ul(He,H,1),n.Cb(n.U(He),U.x,U.y),He=H[0])}}while(!1);ce.L(le)}}},a.Zm=function(n,o){var l=o.va-o.oa;return o.It(n-Math.floor((n-o.oa)/l)*l)},a.os=function(n,o,l,d){var p=new h.Nc;for(p.K(o,l),l=d.R(),n=Math.floor((n-o)/l)*l+n,p=p.sf();Math.abs(n-p)>Math.abs(n+l-p);)n+=l;return n},a.Sn=function(n,o,l){return n=h.qr.Cp(n),o=h.qr.mx(n,h.qr.Cp(o)),(l=h.qr.mx(n,h.qr.Cp(l)))==0||0<o&&0<l&&l<=o||0>o&&0>l&&l>=o},a.Nz=function(n,o,l,d,p,y){if(y==u.GreatElliptic)return h.Ox.SS(o,l,d,p);if(Math.abs(l.x-d.x)>=Math.PI||!a.Sn(l.x,d.x,p))return NaN;if(l.x>d.x)var v=d;else v=l,l=d;d=new h.ga;var $=new h.ga,I=new h.ga;h.kb.wd(n,o,v.x,v.y,l.x,l.y,$,d,null,y);var k=$.u,O=0,F=1,j=new h.h;for(j.L(v);k*(F-O)>1e-12*n;){var z=.5*(O+F);if(h.kb.oj(n,o,v.x,v.y,k*z,d.u,$,I,y),j.x=$.u,j.y=I.u,j.x==p)break;if(a.Sn(v.x,j.x,p))F=z;else{if(!a.Sn(l.x,j.x,p))return NaN;O=z}}return j.y},a.Lz=function(n,o,l,d,p){if(p==u.GreatElliptic)return n=[0,0],h.Ox.Oz(o,l,d,0,n),n[0];if(l.y>d.y)var y=d;else y=l,l=d;if((d=new h.Nc).K(y.y,l.y),!d.contains(0)||Math.abs(y.x-l.x)>=Math.PI)return NaN;if(y.x==l.x)return y.x;var v=new h.ga,$=new h.ga,I=new h.ga;h.kb.wd(n,o,y.x,y.y,l.x,l.y,$,v,null,p);var k=$.u,O=0,F=1,j=new h.h;for(j.L(y);k*(F-O)>1e-12*n;){var z=.5*(O+F);if(h.kb.oj(n,o,y.x,y.y,k*z,v.u,$,I,p),j.x=$.u,j.y=I.u,d.K(y.y,j.y),j.y==0)break;if(d.contains(0))F=z;else{if(d.K(l.y,j.y),!d.contains(0))return NaN;O=z}}return j.x},a.WI=function(n,o,l,d){if(!n.ef.Wc())return!1;var p=new h.de(o.description);if(p.Fd(o,0,-1),d=h.Hx.local().V(p,n,d),p=o.I(),l.Oa(),p!=d.I())return!1;var y=new h.l;o.A(y);var v=new h.l;if(d.A(v),y=y.R(),v=v.R(),y!=0&&v!=0){if(v/=y,n=n.Yf.gh().R()/n.ef.gh().R(),1e-10<Math.abs(v/n-1))return!1}else if(y!=0||v!=0)return!1;for(l.add(o,!1),o=new h.h,n=0;n<p;n++)d.D(n,o),l.Cb(n,o);return!0},a.qN=function(n,o){return(n%=360*o)>=180*o&&(n-=360*o),n},a.UI=function(n,o,l,d){if(l==P.Clip){var p=o.ml();p.getType()==197?(l=new h.l,p.A(l),p=h.ta.uy(o,l),n=h.ri.clip(n,l,p,5e4*o.pm(),d)):h.dj.local().V(1,p,n,o,d)||(n=h.Xj.local().V(n,p,o,d))==p&&(n=h.Vk.jg(n))}else o.Wc()&&(d=new h.l,n.xc(d),o.Oe().contains(d)||(a.Jt(n,o.Oe(),o.Xd(0),!0),l==P.PannableFold&&(n=a.lj(n,o)),n=a.Fn(n,o,0,!0,1e5*o.pm(),null)));return n},a.XD=function(n,o,l){var d=o.Wr();if(d==null)return n;var p=(o=o.sc()).Oe().R(),y=new h.l;n.xc(y);var v=new h.Nc;y.cn(v),y=d.Ga(),d=null;for(var $=new h.Dd;y.$a();)for(;y.Ha();){var I=y.ha(),k=I.Tg(0,0),O=new h.Nc;for(O.K(k.oa,k.va),k=0;O.va>v.oa;)O.move(-p),--k;for(;O.oa<=v.va;){if(O.isIntersecting(v)){d==null&&(d=new h.Ta);var F=h.yb.cP(I.ac(),I.wc());k!=0&&($.gg(k*p,0),F.Oc($)),d.oc(F,!0)}O.move(p),++k}}return d!=null?(o=h.ta.gO(o,d),o=h.ta.Er(o),h.$t.lP(n,d,o,l)):n},a.eO=function(n,o,l,d,p){return n>=l&&o<=d?0:a.tE(.5*(o+n),l,d,p)},a.tE=function(n,o,l,d){return h.lc.round((.5*(l+o)-n)/d)*d},a.VQ=function(n,o,l,d,p,y,v,$){var I=a.dv(d,p),k=I.R(),O=k/360,F=a.pE*O,j=n.ub(0),z=o.Wc(),B=z?k/o.Oe().R():0;o=n.Ia();for(var H=0,U=l.da();H<U;++H){var Z=z,re=new h.Ta(l.description);re.addPath(l,H,!0);var ie=l.dc(H);v!=0&&(ie=a.PD(ie,re,I.H-$,I.H,v))&&(Z=!1);var ce=-1;ie=re.I();var le=!1;Z&&(ce=n.Ba(H),le=n.dc(H));var _e=re.ub(0),Me=0,Te=_e.read(0),Ye=0,Fe=3*d.Xd(0),wt=!1,gt=new h.h;gt.Rc();var He=new h.h;He.Rc();for(var ci=!1,Ji=1;Ji<ie;++Ji){var _i=h.h.construct(_e.eg(2*Ji),_e.eg(2*Ji+1)),Kt=_i.x,vt=Kt+Me,Nt=vt-Te;if(_i.x=vt,Math.abs(Nt)>F){if(Z){var Si=ce+Ji-1,Mt=ce;(!le||Ji+1<ie)&&(Mt+=Ji),Si=j.read(2*Si),Mt=(j.read(2*Mt)-Si)*B,Math.abs(Nt-Mt)>1*O&&(z=!1)}Z||(vt=Kt+(Me-=h.lc.Cn(k,vt-Te)),++Ye,ci=Me!=0,_i.x=vt)}else wt||h.ta.AG(gt,He,_i,Fe)&&(wt=!0);ci&&_e.write(2*Ji,vt),Te=vt,gt.L(He),He.L(_i)}Ye!=0&&re.Pc(1993),Z=re.Na(0),ie=re.Na(ie-1),h.h.tb(Z,ie),re=a.wQ(re,d,isNaN(p)?0:p,y),o.add(re,!1)}return n=d.Xd(0),l=I.R()/180,a.Jt(o,I,.1*n,!1),h.ri.clip(o,I,n,l,y)},a.wQ=function(n,o,l,d){return a.Fn(n,o,l,!0,0,d)},a.OS=function(n,o,l,d){var p=n.getType();if(p==1736)for(o=o!=null?o.Xd(0):0,p=0;p<d;p++)h.hd.Yd(n,l[p],o)!=1&&l[p].Rc();else{if(p!=197)throw h.i.N();for(p=0;p<d;p++)n.dP(l[p])||l[p].Rc()}},a.$k=function(n,o,l,d){if(32>l)for(var p=new h.Sa,y=0;y<l;y++)p.Cb(o[y]),n.$k(p,d).D(o[y]);else{var v=new h.de;for(v.re(3),v.HD(o,l),p=v.ub(3),y=0;y<l;y++)p.write(y,y);for(y=n.$k(v,d),n=y.ub(0),p=y.ub(3),d=h.h.construct(NaN,NaN),v=0;v<l;v++)o[v]=d;for(l=y.I(),y=0;y<l;y++)d=p.read(y),n.tc(2*y,o[d])}},a.Zk=function(n,o,l,d){if(32>l)for(var p=new h.Sa,y=0;y<l;y++)p.Cb(o[y]),n.Zk(p,d).D(o[y]);else{var v=new h.de;for(v.re(3),v.HD(o,l),p=v.ub(3),y=0;y<l;y++)p.write(y,y);for(y=n.Zk(v,d),n=y.ub(0),p=y.ub(3),d=h.h.construct(NaN,NaN),v=0;v<l;v++)o[v]=d;for(l=y.I(),y=0;y<l;y++)d=p.read(y),n.tc(2*y,o[d])}},a.pE=210,a}()}(Y||(Y={})),function(h){var P;(P=h.UL||(h.UL={}))[P.rightSide=1]="rightSide";var _=function(){function u(a,n,o){this.Bs=new h.h,a===void 0?this.Io=-1:(this.Bs.L(a),this.Io=n,this.Ka=o,this.nw=0)}return u.prototype.WJ=function(a){this.nw=a?1|this.nw:-2&this.nw},u.prototype.B=function(){return 0>this.Io},u.prototype.fz=function(){if(this.B())throw h.i.fa("invalid call");return new h.Sa(this.Bs.x,this.Bs.y)},u.prototype.Ua=function(){if(this.B())throw h.i.fa("invalid call");return this.Io},u.prototype.hz=function(){if(this.B())throw h.i.fa("invalid call");return this.Ka},u.prototype.Sz=function(){return(1&this.nw)!=0},u.prototype.ey=function(a,n,o,l){this.Bs.x=a,this.Bs.y=n,this.Io=o,this.Ka=l},u}();h.$l=_}(Y||(Y={})),function(h){var P=function(){function u(){}return u.prototype.Uo=function(a,n){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,a.xc(this.Ek),this.Ek.W(n,n),this.Ek.isIntersecting(this.Fb.Ca)){var o=a.getType();(this.vs=h.aa.yd(o))?(this.TH=a.ac(),this.SH=a.wc(),this.qa=n):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},u.prototype.Xi=function(a,n){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(a),this.Ek.W(n,n),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},u.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var a=null,n=null,o=null,l=null;this.vs&&(a=new h.h,n=new h.h,o=new h.l);for(var d=!1;!d;){for(;this.tk!=-1;){var p=this.Fb.bz(this.Fb.fv(this.tk));if(p.isIntersecting(this.Ek)){if(!this.vs){d=!0;break}if(a.L(this.TH),n.L(this.SH),o.K(p),o.W(this.qa,this.qa),0<o.zy(a,n)){d=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){p=this.th.Fc();var y=this.Ii[this.Ii.length-1];for(l==null&&((l=[])[0]=new h.l,l[1]=new h.l,l[2]=new h.l,l[3]=new h.l),_.EJ(y,l),this.th.If(),--this.Ii.length,y=0;4>y;y++){var v=this.Fb.Lp(p,y);if(v!=-1&&0<this.Fb.WR(v)&&l[y].isIntersecting(this.Ek))if(this.vs){if(a.L(this.TH),n.L(this.SH),o.K(l[y]),o.W(this.qa,this.qa),0<o.zy(a,n)){var $=new h.l;$.K(l[y]),this.th.add(v),this.Ii.push($)}}else($=new h.l).K(l[y]),this.th.add(v),this.Ii.push($)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},u.bP=function(a,n,o){var l=new u;return l.Fb=a,l.Ek=new h.l,l.th=new h.ia(0),l.Ii=[],l.Uo(n,o),l},u.aP=function(a,n,o){var l=new u;return l.Fb=a,l.Ek=new h.l,l.th=new h.ia(0),l.Ii=[],l.Xi(n,o),l},u.$O=function(a){var n=new u;return n.Fb=a,n.Ek=new h.l,n.th=new h.ia(0),n.Ii=[],n},u}();h.GY=P;var _=function(){function u(a,n){this.jf=new h.$c(11),this.Zh=new h.$c(5),this.ws=[],this.gw=new h.ia(0),this.Ca=new h.l,this.Nk(a,n)}return u.prototype.reset=function(a,n){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(a,n)},u.prototype.vj=function(a,n){return this.zv(a,n,0,this.Ca,this.kf,!1,-1)},u.prototype.Jz=function(a,n,o){o=o==-1?this.kf:this.WF(o);var l=this.ca(o),d=this.oR(o);return this.zv(a,n,l,d,o,!1,-1)},u.prototype.ja=function(a){return this.jR(a)},u.prototype.GF=function(a){return this.bz(this.fv(a))},u.prototype.ca=function(a){return this.jv(a)},u.prototype.oR=function(a){var n=new h.l;n.K(this.Ca);var o=this.jv(a);a=this.QF(a);for(var l=0;l<2*o;l+=2){var d=h.O.truncate(3&a>>l);d==0?(n.v=.5*(n.v+n.C),n.G=.5*(n.G+n.H)):d==1?(n.C=.5*(n.v+n.C),n.G=.5*(n.G+n.H)):(d==2?n.C=.5*(n.v+n.C):n.v=.5*(n.v+n.C),n.H=.5*(n.G+n.H))}return n},u.prototype.WR=function(a){return this.Az(a)},u.prototype.vR=function(a,n){return P.bP(this,a,n)},u.prototype.MF=function(a,n){return P.aP(this,a,n)},u.prototype.getIterator=function(){return P.$O(this)},u.prototype.Nk=function(a,n){if(0>n||32<2*n)throw h.i.N("invalid height");this.BT=n,this.Ca.K(a),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},u.prototype.zv=function(a,n,o,l,d,p,y){if(!l.contains(n))return o==0?-1:this.zv(a,n,0,this.Ca,this.kf,p,y);if(!p)for(var v=d;v!=-1;v=this.IR(v))this.jx(v,this.Az(v)+1);(v=new h.l).K(l),l=d;var $=[];for($[0]=new h.l,$[1]=new h.l,$[2]=new h.l,$[3]=new h.l;o<this.BT&&this.iO(l);o++){u.EJ(v,$);for(var I=!1,k=0;4>k;k++)if($[k].contains(n)){I=!0;var O=this.Lp(l,k);O==-1&&(O=this.rP(l,k)),this.jx(O,this.Az(O)+1),l=O,v.K($[k]);break}if(!I)break}return this.sS(a,n,o,v,l,p,d,y)},u.prototype.sS=function(a,n,o,l,d,p,y,v){var $=this.NF(d);if(p){if(d==y)return v;this.SP(v),p=v}else p=this.tP(),this.NB(p,a),this.KW(this.fv(p),n);return this.mX(p,d),$!=-1?(this.hx(p,$),this.bx($,p)):this.GJ(d,p),this.SB(d,p),this.ax(d,this.lv(d)+1),this.hO(d)&&this.MQ(o,l,d),p},u.prototype.SP=function(a){var n=this.WF(a),o=this.NF(n),l=this.OR(a),d=this.nv(a);this.Ur(n)==a?(d!=-1?this.hx(d,-1):this.SB(n,-1),this.GJ(n,d)):o==a?(this.bx(l,-1),this.SB(n,l)):(this.hx(d,l),this.bx(l,d)),this.hx(a,-1),this.bx(a,-1),this.ax(n,this.lv(n)-1)},u.EJ=function(a,n){var o=.5*(a.v+a.C),l=.5*(a.G+a.H);n[0].K(o,l,a.C,a.H),n[1].K(a.v,l,o,a.H),n[2].K(a.v,a.G,o,l),n[3].K(o,a.G,a.C,l)},u.prototype.hO=function(a){return this.lv(a)==8&&!this.gG(a)},u.prototype.MQ=function(a,n,o){var l=this.Ur(o);do{var d=this.fv(l),p=this.Zh.T(l,0);d=this.bz(d),this.zv(p,d,a,n,o,!0,l),l=p=this.nv(l)}while(l!=-1)},u.prototype.iO=function(a){return 8<=this.lv(a)||this.gG(a)},u.prototype.gG=function(a){return this.Lp(a,0)!=-1||this.Lp(a,1)!=-1||this.Lp(a,2)!=-1||this.Lp(a,3)!=-1},u.prototype.rP=function(a,n){var o=this.jf.Ce();return this.OW(a,n,o),this.jx(o,0),this.ax(o,0),this.Pk(o,a),this.KJ(o,this.jv(a)+1),this.NJ(o,n<<2*this.jv(a)|this.QF(a)),o},u.prototype.tP=function(){var a=this.Zh.Ce();if(0<this.gw.size){var n=this.gw.Fc();this.gw.If()}else n=this.ws.length,this.ws.push(new h.l);return this.LW(a,n),a},u.prototype.Lp=function(a,n){return this.jf.T(a,n)},u.prototype.OW=function(a,n,o){this.jf.S(a,n,o)},u.prototype.Ur=function(a){return this.jf.T(a,4)},u.prototype.GJ=function(a,n){this.jf.S(a,4,n)},u.prototype.NF=function(a){return this.jf.T(a,5)},u.prototype.SB=function(a,n){this.jf.S(a,5,n)},u.prototype.QF=function(a){return this.jf.T(a,6)},u.prototype.NJ=function(a,n){this.jf.S(a,6,n)},u.prototype.lv=function(a){return this.jf.T(a,7)},u.prototype.Az=function(a){return this.jf.T(a,8)},u.prototype.ax=function(a,n){this.jf.S(a,7,n)},u.prototype.jx=function(a,n){this.jf.S(a,8,n)},u.prototype.IR=function(a){return this.jf.T(a,9)},u.prototype.Pk=function(a,n){this.jf.S(a,9,n)},u.prototype.jv=function(a){return this.jf.T(a,10)},u.prototype.KJ=function(a,n){this.jf.S(a,10,n)},u.prototype.jR=function(a){return this.Zh.T(a,0)},u.prototype.NB=function(a,n){this.Zh.S(a,0,n)},u.prototype.OR=function(a){return this.Zh.T(a,1)},u.prototype.nv=function(a){return this.Zh.T(a,2)},u.prototype.hx=function(a,n){this.Zh.S(a,1,n)},u.prototype.bx=function(a,n){this.Zh.S(a,2,n)},u.prototype.WF=function(a){return this.Zh.T(a,3)},u.prototype.mX=function(a,n){this.Zh.S(a,3,n)},u.prototype.fv=function(a){return this.Zh.T(a,4)},u.prototype.LW=function(a,n){this.Zh.S(a,4,n)},u.prototype.bz=function(a){return this.ws[a]},u.prototype.KW=function(a,n){this.ws[a].K(n)},u}();h.du=_}(Y||(Y={})),function(h){var P;(P=h.aL||(h.aL={}))[P.Outside=0]="Outside",P[P.Inside=1]="Inside",P[P.Border=2]="Border";var _=function(){function a(n,o){this.PT=o,this.Vh=n}return a.prototype.setColor=function(n,o){this.iH!=o&&n.flush(),this.iH=o},a.prototype.gF=function(n,o){for(var l=0;l<o;)for(var d=n[l++],p=n[l++],y=n[l++]*this.PT;d<p;d++)this.Vh[y+(d>>4)]|=this.iH<<2*(15&d)},a}();h.HY=_;var u=function(){function a(n,o,l){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(n,o,l)}return a.create=function(n,o,l){if(!a.zE(n))throw h.i.N();return a.wP(n,o,l)},a.pW=function(n){switch(n){case 0:n=1024;break;case 1:n=16384;break;case 2:n=262144;break;default:throw h.i.fa("Internal Error")}return n},a.zE=function(n){return!(n.B()||n.getType()!=1607&&n.getType()!=1736)},a.prototype.rQ=function(n,o){o=o.Ga();for(var l=new h.h,d=new h.h;o.$a();)for(;o.Ha();){var p=o.ha();if(p.getType()!=322)throw h.i.fa("Internal Error");n.Eh(p.ac(),l),n.Eh(p.wc(),d),this.Ri.jy(l.x,l.y,d.x,d.y)}this.Ri.iJ(h.Px.Cx)},a.prototype.sQ=function(){throw h.i.fa("Internal Error")},a.prototype.Ry=function(n,o){for(var l=1;4>l;l++)n.jy(o[l-1].x,o[l-1].y,o[l].x,o[l].y);n.jy(o[3].x,o[3].y,o[0].x,o[0].y),this.Ri.iJ(h.Px.Cx)},a.prototype.rK=function(n,o,l){for(var d=[null,null,null,null],p=0;p<d.length;p++)d[p]=new h.h;o=o.Ga(),l=this.Jk.dY(l)+1.5,p=new h.h;for(var y=new h.h,v=new h.h,$=new h.h,I=new h.h,k=new h.l,O=new h.h;o.$a();){var F=!1,j=!0;for(O.ma(0,0);o.Ha();){var z=o.ha();if($.x=z.sa,$.y=z.na,I.x=z.pa,I.y=z.la,k.Oa(),k.Zb($.x,$.y),k.Lk(I.x,I.y),this.vl.HG(k)){this.Jk.Eh(I,I),j?(this.Jk.Eh($,$),O.L($),j=!1):$.L(O),p.uc(I,$);var B=.5>(z=p.length());z==0?p.ma(1,0):(B||O.L(I),p.scale(l/z),y.ma(-p.y,p.x),v.ma(p.y,-p.x),$.sub(p),I.add(p),d[0].add($,y),d[1].add($,v),d[2].add(I,v),d[3].add(I,y),B?F=!0:this.Ry(n,d))}else F&&(this.Ry(n,d),F=!1),j=!0}F&&this.Ry(n,d)}},a.prototype.sC=function(n){return h.O.truncate(n*this.qH+this.aI)},a.prototype.tC=function(n){return h.O.truncate(n*this.Es+this.cI)},a.wP=function(n,o,l){return new a(n,o,l)},a.prototype.Fz=function(n,o,l){this.Gf=Math.max(h.O.truncate(2*Math.sqrt(l)+.5),64),this.Um=h.O.truncate((2*this.Gf+31)/32),this.vl=new h.l,this.Ik=o,l=0;for(var d=this.Gf,p=this.Um;8<=d;)l+=d*p,d=h.O.truncate(d/2),p=h.O.truncate((2*d+31)/32);this.Vh=h.O.lg(l,0),this.Ri=new h.Px,l=new _(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,l),n.A(this.vl),this.vl.W(o,o),d=new h.l;var y=o*(p=h.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(o*=p.ca(),d.K(this.vl.sf(),Math.max(y,this.vl.R()),Math.max(o,this.vl.ca())),this.SA=this.Ik,this.Jk=new h.Dd,this.Jk.pS(d,p),new h.Dd,n.getType()){case 550:l.setColor(this.Ri,2),this.sQ();break;case 1607:l.setColor(this.Ri,2),this.rK(this.Ri,n,this.SA);break;case 1736:l.setColor(this.Ri,1),this.rQ(this.Jk,n),l.setColor(this.Ri,2),this.rK(this.Ri,n,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},a.prototype.XN=function(){this.Ri.flush();for(var n=0,o=this.Gf*this.Um,l=this.Gf,d=h.O.truncate(this.Gf/2),p=this.Um,y=h.O.truncate((2*d+31)/32);8<l;){for(l=0;l<d;l++)for(var v=2*l,$=2*l+1,I=0;I<d;I++){var k=2*I,O=2*I+1,F=k>>4;k=2*(15&k);var j=O>>4;O=2*(15&O);var z=this.Vh[n+p*v+F]>>k&3;z|=this.Vh[n+p*v+j]>>O&3,z|=this.Vh[n+p*$+F]>>k&3,z|=this.Vh[n+p*$+j]>>O&3,this.Vh[o+y*l+(I>>4)]|=z<<2*(15&I)}l=d,p=y,n=o,d=h.O.truncate(l/2),y=h.O.truncate((2*d+31)/32),o=n+p*l}},a.prototype.So=function(n,o){return this.vl.contains(n,o)?(n=this.sC(n),o=this.tC(o),0>n||n>=this.Gf||0>o||o>=this.Gf||(o=this.Vh[this.Um*o+(n>>4)]>>2*(15&n)&3)==0?0:o==1?1:2):0},a.prototype.Ro=function(n){if(!n.Ea(this.vl))return 0;var o=this.sC(n.v),l=this.sC(n.C),d=this.tC(n.G);if(n=this.tC(n.H),0>o&&(o=0),0>d&&(d=0),l>=this.Gf&&(l=this.Gf-1),n>=this.Gf&&(n=this.Gf-1),o>l||d>n)return 0;for(var p=Math.max(l-o,1)*Math.max(n-d,1),y=0,v=this.Um,$=this.Gf,I=0;;){if(32>p||16>$){for(p=d;p<=n;p++)for(var k=o;k<=l;k++)if(1<(I=this.Vh[y+v*p+(k>>4)]>>2*(15&k)&3))return 2;if(I==0)return 0;if(I==1)return 1}y+=v*$,$=h.O.truncate($/2),v=h.O.truncate((2*$+31)/32),o=h.O.truncate(o/2),d=h.O.truncate(d/2),l=h.O.truncate(l/2),n=h.O.truncate(n/2),p=Math.max(l-o,1)*Math.max(n-d,1)}},a.prototype.RR=function(){return this.Gf*this.Um},a}();h.Nx=u}(Y||(Y={})),function(h){var P;(P=h.VL||(h.VL={}))[P.contains=1]="contains",P[P.within=2]="within",P[P.equals=3]="equals",P[P.disjoint=4]="disjoint",P[P.touches=8]="touches",P[P.crosses=16]="crosses",P[P.overlaps=32]="overlaps",P[P.unknown=0]="unknown",P[P.intersects=1073741824]="intersects";var _=function(){function a(){}return a.construct=function(n,o,l,d,p,y,v,$){var I=new a;return I.pw=n,I.Mm=o,I.Kj=l,I.Si=d,I.BH=p,I.SY=y,I.TY=v,I.UY=$,I},a}();h.Vt=function(){function a(){}return a.CD=function(n,o,l){if(a.wy(n)){var d=h.ta.kj(o,n,!1);o=!1,h.Uk.CE(n)&&(o=o||n.lu(d,l)),(d=n.getType())!=1736&&d!=1607||!h.Uk.AE(n)||l==0||(o=o||n.fj(l)),d!=1736&&d!=1607||!h.Uk.BE(n)||l==0||o||n.hM()}},a.wy=function(n){return h.Uk.CE(n)||h.Uk.AE(n)||h.Uk.BE(n)},a}();var u=function(){function a(){this.rh=[]}return a.zB=function(n,o,l,d,p){var y=n.getType(),v=o.getType();if(y==197){if(v==197)return a.tW(n,o,l,d);if(v==33)return d==2?d=1:d==1&&(d=2),a.hJ(o,n,l,d)}else if(y==33){if(v==197)return a.hJ(n,o,l,d);if(v==33)return a.vW(n,o,l,d)}if(n.B()||o.B())return d==4;var $=new h.l;n.A($);var I=new h.l;o.A(I);var k=new h.l;if(k.K($),k.Zb(I),l=h.ta.Wd(l,k,!1),a.dk($,I,l))return d==4;switch($=!1,h.Vk.yd(y)&&((y=new h.Ta(n.description)).oc(n,!0),n=y,y=1607),h.Vk.yd(v)&&((v=new h.Ta(o.description)).oc(o,!0),o=v,v=1607),y!=197&&v!=197?(n.Db()<o.Db()||y==33&&v==550)&&(d==2?d=1:d==1&&(d=2)):y!=1736&&v!=197&&(d==2?d=1:d==1&&(d=2)),y){case 1736:switch(v){case 1736:$=a.rt(n,o,l,d,p);break;case 1607:$=a.$m(n,o,l,d,p);break;case 33:$=a.qt(n,o,l,d);break;case 550:$=a.pt(n,o,l,d,p);break;case 197:$=a.GI(n,o,l,d,p)}break;case 1607:switch(v){case 1736:$=a.$m(o,n,l,d,p);break;case 1607:$=a.gB(n,o,l,d,p);break;case 33:$=a.tt(n,o,l,d,p);break;case 550:$=a.st(n,o,l,d,p);break;case 197:$=a.MI(n,o,l,d)}break;case 33:switch(v){case 1736:$=a.qt(o,n,l,d);break;case 1607:$=a.tt(o,n,l,d,p);break;case 550:$=a.lt(o,n,l,d)}break;case 550:switch(v){case 1736:$=a.pt(o,n,l,d,p);break;case 1607:$=a.st(o,n,l,d,p);break;case 550:$=a.ZA(n,o,l,d,p);break;case 33:$=a.lt(n,o,l,d);break;case 197:$=a.hI(n,o,l,d)}break;case 197:switch(v){case 1736:$=a.GI(o,n,l,d,p);break;case 1607:$=a.MI(o,n,l,d);break;case 550:$=a.hI(o,n,l,d)}}return $},a.tW=function(n,o,l,d){if(n.B()||o.B())return d==4;var p=new h.l,y=new h.l,v=new h.l;switch(n.A(p),o.A(y),v.K(p),v.Zb(y),n=h.ta.Wd(l,v,!1),d){case 4:return a.dk(p,y,n);case 2:return a.jF(y,p,n);case 1:return a.jF(p,y,n);case 3:return a.ek(p,y,n);case 8:return a.cQ(p,y,n);case 32:return a.bQ(p,y,n);case 16:return a.aQ(p,y,n)}return!1},a.hJ=function(n,o,l,d){if(n.B()||o.B())return d==4;n=n.D();var p=new h.l,y=new h.l;switch(o.A(p),y.K(n),y.Zb(p),o=h.ta.Wd(l,y,!1),d){case 4:return a.Rw(n,p,o);case 2:return a.eB(n,p,o);case 1:return a.RU(n,p,o);case 3:return a.vI(n,p,o);case 8:return a.dB(n,p,o)}return!1},a.vW=function(n,o,l,d){if(n.B()||o.B())return d==4;n=n.D(),o=o.D();var p=new h.l;switch(p.K(n),p.Zb(o),l=h.ta.Wd(l,p,!1),d){case 4:return a.SU(n,o,l);case 2:return a.uI(o,n,l);case 1:return a.uI(n,o,l);case 3:return a.wI(n,o,l)}return!1},a.rt=function(n,o,l,d,p){switch(d){case 4:return a.kV(n,o,l);case 2:return a.Sw(o,n,l,p);case 1:return a.Sw(n,o,l,p);case 3:return a.nV(n,o,l);case 8:return a.vV(n,o,l);case 32:return a.qV(n,o,l,p)}return!1},a.$m=function(n,o,l,d,p){switch(d){case 4:return a.lV(n,o,l);case 1:return a.fB(n,o,l,p);case 8:return a.wV(n,o,l,p);case 16:return a.gV(n,o,l)}return!1},a.qt=function(n,o,l,d){switch(d){case 4:return a.jV(n,o,l);case 1:return a.dV(n,o,l);case 8:return a.uV(n,o,l)}return!1},a.pt=function(n,o,l,d){switch(d){case 4:return a.iV(n,o,l);case 1:return a.cV(n,o,l);case 8:return a.tV(n,o,l);case 16:return a.fV(n,o,l)}return!1},a.GI=function(n,o,l,d,p){if(a.hV(n,o,l))return d==4;if(d==4)return!1;switch(d){case 2:return a.xV(n,o,l);case 1:return a.bV(n,o,l);case 3:return a.mV(n,o,l);case 8:return a.sV(n,o,l,p);case 32:return a.pV(n,o,l,p);case 16:return a.eV(n,o,l,p)}return!1},a.gB=function(n,o,l,d){switch(d){case 4:return a.GV(n,o,l);case 2:return a.KI(o,n,l);case 1:return a.KI(n,o,l);case 3:return a.IV(n,o,l);case 8:return a.NI(n,o,l);case 32:return a.MV(n,o,l);case 16:return a.LI(n,o,l)}return!1},a.tt=function(n,o,l,d){switch(d){case 4:return a.FV(n,o,l);case 1:return a.AV(n,o,l);case 8:return a.QV(n,o,l)}return!1},a.st=function(n,o,l,d){switch(d){case 4:return a.EV(n,o,l);case 1:return a.zV(n,o,l);case 8:return a.PV(n,o,l);case 16:return a.CV(n,o,l)}return!1},a.MI=function(n,o,l,d){if(a.DV(n,o,l))return d==4;if(d==4)return!1;switch(d){case 2:return a.RV(n,o,l);case 1:return a.yV(n,o,l);case 3:return a.HV(n,o,l);case 8:return a.OV(n,o,l);case 32:return a.LV(n,o,l);case 16:return a.BV(n,o,l)}return!1},a.ZA=function(n,o,l,d){switch(d){case 4:return a.gU(n,o,l);case 2:return a.eI(o,n,l);case 1:return a.eI(n,o,l);case 3:return a.iU(n,o,l);case 32:return a.oU(n,o,l)}return!1},a.lt=function(n,o,l,d){switch(d){case 4:return a.fI(n,o,l);case 2:return a.sU(n,o,l);case 1:return a.dU(n,o,l);case 3:return a.Nw(n,o,l)}return!1},a.hI=function(n,o,l,d){switch(d){case 4:return a.fU(n,o,l);case 2:return a.rU(n,o,l);case 1:return a.cU(n,o,l);case 3:return a.hU(n,o,l);case 8:return a.qU(n,o,l);case 16:return a.eU(n,o,l)}return!1},a.nV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!!a.ek(d,p,l)&&(d=a.qc(n,o,!1))!=4&&d!=1&&d!=2&&(!!a.dI(n,o,l)||(d=n.Qb(),p=o.Qb(),!(Math.abs(d-p)>4*Math.max(n.I(),o.I())*l)&&a.Wz(n,o,l,!0)))},a.kV=function(n,o,l){var d=a.qc(n,o,!0);return d==4||d!=1&&d!=2&&d!=1073741824&&a.EI(n,o,l)},a.vV=function(n,o,l){var d=a.qc(n,o,!1);return d!=4&&d!=1&&d!=2&&a.II(n,o,l,null)},a.qV=function(n,o,l,d){var p=a.qc(n,o,!1);return p!=4&&p!=1&&p!=2&&a.FI(n,o,l,d)},a.Sw=function(n,o,l,d){var p=new h.l,y=new h.l;return n.A(p),o.A(y),!!a.zc(p,y,l)&&(p=a.qc(n,o,!1))!=4&&p!=2&&(p==1||a.BI(n,o,l,d))},a.lV=function(n,o,l){var d=a.qc(n,o,!0);return d==4||d!=1&&d!=1073741824&&a.EI(n,o,l)},a.wV=function(n,o,l,d){var p=a.qc(n,o,!1);return p!=4&&p!=1&&a.JI(n,o,l,d)},a.gV=function(n,o,l){var d=a.qc(n,o,!1);return d!=4&&d!=1&&a.DI(n,o,l,null)},a.fB=function(n,o,l,d){var p=new h.l,y=new h.l;return n.A(p),o.A(y),!!a.zc(p,y,l)&&(p=a.qc(n,o,!1))!=4&&(p==1||a.CI(n,o,l,d))},a.jV=function(n,o,l){return h.hd.KG(n,o,l)==0},a.uV=function(n,o,l){return o=o.D(),a.HI(n,o,l)},a.dV=function(n,o,l){return o=o.D(),a.AI(n,o,l)},a.iV=function(n,o,l){var d=a.qc(n,o,!1);if(d==4)return!0;if(d==1)return!1;d=new h.l,n.A(d),d.W(l,l);for(var p=new h.h,y=0;y<o.I();y++)if(o.D(y,p),d.contains(p)){var v=h.hd.Yd(n,p,l);if(v==1||v==2)return!1}return!0},a.tV=function(n,o,l){var d=this.qc(n,o,!1);if(d==4||d==1)return!1;d=new h.l,n.A(d),d.W(l,l);for(var p=!1,y=n,v=!1,$=0;$<o.I();$++){var I=o.Na($);if(d.contains(I)){if((I=h.hd.Yd(y,I,l))==2)p=!0;else if(I==1)return!1}v||(!h.Dg.Ml(n,o.I()-1)||n.Bb!=null&&n.Bb.Fb!=null?y=n:(y=new h.Da,n.copyTo(y),y.fj(1)),v=!0)}return!!p},a.fV=function(n,o,l){var d=this.qc(n,o,!1);if(d==4||d==1)return!1;var p=new h.l;d=new h.l;var y=new h.l;n.A(p),o.A(y),d.K(p),d.W(l,l),y=p=!1;for(var v=n,$=!1,I=0;I<o.I();I++){var k=o.Na(I);if(d.contains(k)?(k=h.hd.Yd(v,k,l))==0?y=!0:k==1&&(p=!0):y=!0,p&&y)return!0;$||(!h.Dg.Ml(n,o.I()-1)||n.Bb!=null&&n.Bb.Fb!=null?v=n:(v=new h.Da,n.copyTo(v),v.fj(1)),$=!0)}return!1},a.cV=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),!this.zc(d,p,l)||(p=this.qc(n,o,!1))==4)return!1;if(p==1)return!0;p=!1;for(var y=n,v=!1,$=0;$<o.I();$++){var I=o.Na($);if(!d.contains(I))return!1;if((I=h.hd.Yd(y,I,l))==1)p=!0;else if(I==0)return!1;v||(!h.Dg.Ml(n,o.I()-1)||n.Bb!=null&&n.Bb.Fb!=null?y=n:(y=new h.Da,n.copyTo(y),y.fj(1)),v=!0)}return p},a.mV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!!a.ek(d,p,l)&&((d=new h.Da).ad(o,!1),a.Wz(n,d,l,!0))},a.hV=function(n,o,l){var d=a.qc(n,o,!1);if(d==4)return!0;if(d==1||d==2)return!1;var p=new h.l;if(d=new h.l,n.A(p),o.A(d),a.zc(d,p,l)||(p=new h.h,d.dn(p),(o=h.hd.Yd(n,p,l))!=0)||(d.$I(p),(o=h.hd.Yd(n,p,l))!=0)||(d.en(p),(o=h.hd.Yd(n,p,l))!=0)||(d.cJ(p),(o=h.hd.Yd(n,p,l))!=0))return!1;o=n.ub(0),(p=new h.l).K(d),p.W(l,l);for(var y=0,v=n.I();y<v;y++){var $=o.read(2*y),I=o.read(2*y+1);if(p.contains($,I))return!1}return!a.TG(n,d,l)},a.sV=function(n,o,l,d){var p=a.qc(n,o,!1);if(p==4||p==1||p==2)return!1;p=new h.l;var y=new h.l;return n.A(p),o.A(y),!a.zc(y,p,l)&&(y.R()<=l&&y.ca()<=l?(o=o.Ip(),a.HI(n,o,l)):y.R()<=l||y.ca()<=l?(p=new h.Ta,y=new h.Sa,o.Hf(0,y),p.nf(y),o.Hf(2,y),p.lineTo(y),a.JI(n,p,l,d)):((p=new h.Da).ad(o,!1),a.II(n,p,l,d)))},a.pV=function(n,o,l,d){var p=a.qc(n,o,!1);if(p==4||p==1||p==2)return!1;p=new h.l;var y=new h.l;return n.A(p),o.A(y),!(a.zc(y,p,l)||y.R()<=l||y.ca()<=l)&&((p=new h.Da).ad(o,!1),a.FI(n,p,l,d))},a.xV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),a.zc(p,d,l)},a.bV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!!a.zc(d,p,l)&&(d=a.qc(n,o,!1))!=4&&d!=2&&(d==1||(p.R()<=l&&p.ca()<=l?(o=o.Ip(),a.AI(n,o,l)):p.R()<=l||p.ca()<=l?(p=new h.Ta,d=new h.Sa,o.Hf(0,d),p.nf(d),o.Hf(2,d),p.lineTo(d),a.CI(n,p,l,null)):((p=new h.Da).ad(o,!1),a.BI(n,p,l,null))))},a.eV=function(n,o,l,d){var p=new h.l,y=new h.l;return n.A(p),o.A(y),!(a.zc(y,p,l)||y.ca()>l&&y.R()>l||y.ca()<=l&&y.R()<=l)&&(p=new h.Ta,y=new h.Sa,o.Hf(0,y),p.nf(y),o.Hf(2,y),p.lineTo(y),a.DI(n,p,l,d))},a.IV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(!a.ek(d,p,l)||a.qc(n,o,!1)==4)&&(!!a.dI(n,o,l)||a.Wz(n,o,l,!1))},a.GV=function(n,o,l){return this.qc(n,o,!1)==4||!!new h.Zl(n,o,l,!0).next()&&!this.UG(n,o,l)},a.NI=function(n,o,l){if(a.qc(n,o,!1)==4)return!1;var d=new h.be(0);if(a.Xz(n,o,l,d)!=0)return!1;for(var p=new h.de,y=0;y<d.size;y+=2){var v=d.read(y),$=d.read(y+1);p.Bu(v,$)}return n=n.mg(),o=o.mg(),n.Fd(o,0,o.I()),a.Mw(n,p,l)},a.LI=function(n,o,l){if(a.qc(n,o,!1)==4)return!1;var d=new h.be(0);if(a.Xz(n,o,l,d)!=0)return!1;for(var p=new h.de,y=0;y<d.size;y+=2){var v=d.read(y),$=d.read(y+1);p.Bu(v,$)}return n=n.mg(),o=o.mg(),n.Fd(o,0,o.I()),!a.Mw(n,p,l)},a.MV=function(n,o,l){return a.qc(n,o,!1)!=4&&a.WG(n,o,l)},a.KI=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(!a.zc(d,p,l)||a.qc(n,o,!1)==4)&&a.ym(o,n,l,!1)},a.FV=function(n,o,l){return a.qc(n,o,!1)==4||(o=o.D(),!a.Yz(n,o,l))},a.QV=function(n,o,l){return a.qc(n,o,!1)!=4&&(o=o.D(),a.Zz(n,o,l))},a.AV=function(n,o,l){return a.qc(n,o,!1)!=4&&(o=o.D(),a.SG(n,o,l))},a.EV=function(n,o,l){return a.qc(n,o,!1)==4||!a.VG(n,o,l,!1)},a.PV=function(n,o,l){if(this.qc(n,o,!1)==4)return!1;var d=n.Ga(),p=new h.l,y=new h.l,v=new h.l;n.A(p),o.A(y),p.W(l,l),y.W(l,l),v.K(p),v.Ea(y),p=null;var $=n.Bb;if($!=null){var I=$.Fb;p=$.zo,I==null&&(I=$=h.ta.jj(n,v))}else I=$=h.ta.jj(n,v);var k=I.getIterator(),O=null;p!=null&&(O=p.getIterator());var F=new h.h,j=new h.h,z=!1,B=l*l;for(p=new h.pn(o.I()),$=0;$<o.I();$++)p.write($,0);for($=0;$<o.I();$++)if(o.D($,F),v.contains(F)){if(y.K(F.x,F.y,F.x,F.y),O!=null&&(O.Xi(y,l),O.next()==-1))continue;k.Xi(y,l);for(var H=k.next();H!=-1;H=k.next())if(d.Vb(I.ja(H)),(H=d.ha()).hc(H.fe(F,!1),j),h.h.yc(F,j)<=B){p.write($,1),z=!0;break}}if(!z)return!1;for(n=n.mg(),d=new h.de,y=new h.h,$=0;$<o.I();$++)p.read($)!=0&&(o.D($,y),d.Bu(y.x,y.y));return this.Mw(n,d,l)},a.CV=function(n,o,l){if(this.qc(n,o,!1)==4)return!1;var d=n.Ga(),p=new h.l,y=new h.l,v=new h.l;n.A(p),o.A(y),p.W(l,l),y.W(l,l),v.K(p),v.Ea(y),p=null;var $=n.Bb;if($!=null){var I=$.Fb;p=$.zo,I==null&&(I=$=h.ta.jj(n,v))}else I=$=h.ta.jj(n,v);var k=I.getIterator(),O=null;p!=null&&(O=p.getIterator());var F=new h.h,j=new h.h,z=!1,B=!1,H=l*l;for(p=new h.pn(o.I()),$=0;$<o.I();$++)p.write($,0);for($=0;$<o.I();$++)if(o.D($,F),v.contains(F)){if(y.K(F.x,F.y,F.x,F.y),O!=null&&(O.Xi(y,l),O.next()==-1)){B=!0;continue}k.Xi(y,l);for(var U=!1,Z=k.next();Z!=-1;Z=k.next())if(d.Vb(I.ja(Z)),(Z=d.ha()).hc(Z.fe(F,!1),j),h.h.yc(F,j)<=H){p.write($,1),U=z=!0;break}U||(B=!0)}else B=!0;if(!z||!B)return!1;for(n=n.mg(),d=new h.de,y=new h.h,$=0;$<o.I();$++)p.read($)!=0&&(o.D($,y),d.Bu(y.x,y.y));return!this.Mw(n,d,l)},a.zV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(!a.zc(d,p,l)||a.qc(n,o,!1)==4||!a.VG(n,o,l,!0))&&(n=n.mg(),!a.gI(n,o,l))},a.HV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(p.ca()>l&&p.R()>l)&&a.ek(d,p,l)},a.DV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!a.zc(p,d,l)&&!a.TG(n,p,l)},a.OV=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),p.ca()<=l&&p.R()<=l)return p=o.Ip(),a.Zz(n,p,l);if(p.ca()<=l||p.R()<=l)return p=new h.Ta,d=new h.Sa,o.Hf(0,d),p.nf(d),o.Hf(2,d),p.lineTo(d),a.NI(n,p,l);n=n.Ga(),o=new h.l,d=new h.l,o.K(p),d.K(p),o.W(-l,-l),d.W(l,l),p=!1;for(var y=new h.l,v=new h.l;n.$a();)for(;n.Ha();){if(n.ha().A(y),v.K(o),v.Ea(y),!v.B()&&(v.ca()>l||v.R()>l))return!1;v.K(d),v.Ea(y),v.B()||(p=!0)}return p},a.LV=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(a.zc(d,p,l)||a.zc(p,d,l)||a.zc(p,d,l)||p.ca()>l&&p.R()>l||p.ca()<=l&&p.R()<=l)&&(d=new h.Ta,p=new h.Sa,o.Hf(0,p),d.nf(p),o.Hf(2,p),d.lineTo(p),a.WG(n,d,l))},a.RV=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),!a.zc(p,d,l)||p.ca()<=l&&p.R()<=l)return!1;if(p.ca()<=l||p.R()<=l)return a.zc(p,d,l);n=n.Ga(),(o=new h.l).K(p),o.W(-l,-l),p=!1,d=new h.l;for(var y=new h.l;n.$a();)for(;n.Ha();)n.ha().A(d),o.hm(d)?p=!0:(y.K(o),y.Ea(d),!y.B()&&(y.ca()>l||y.R()>l)&&(p=!0));return p},a.yV=function(n,o,l){var d=new h.l,p=new h.l;return o.A(p),n.A(d),!(!a.zc(d,p,l)||p.ca()>l&&p.R()>l)&&(p.ca()<=l&&p.R()<=l?(o=o.Ip(),a.SG(n,o,l)):(d=new h.Ta,p=new h.Sa,o.Hf(0,p),d.nf(p),o.Hf(2,p),d.lineTo(p),a.ym(d,n,l,!1)))},a.BV=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),a.zc(p,d,l)||p.ca()<=l&&p.R()<=l)return!1;if(p.ca()<=l||p.R()<=l)return d=new h.Ta,p=new h.Sa,o.Hf(0,p),d.nf(p),o.Hf(2,p),d.lineTo(p),a.LI(n,d,l);n=n.Ga(),o=new h.l,(d=new h.l).K(p),o.K(p),d.W(-l,-l),o.W(l,l);for(var y=p=!1,v=new h.l,$=new h.l;n.$a();)for(;n.Ha();)if(n.ha().A(v),y||o.contains(v)||(y=!0),p||($.K(d),$.Ea(v),!$.B()&&($.ca()>l||$.R()>l)&&(p=!0)),p&&y)return!0;return!1},a.iU=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!!a.ek(d,p,l)&&(!!a.jU(n,o,l)||a.YA(n,o,l,!1,!0,!1))},a.gU=function(n,o,l){return!a.gI(n,o,l)},a.oU=function(n,o,l){return a.YA(n,o,l,!1,!1,!0)},a.eI=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!!a.zc(d,p,l)&&a.YA(o,n,l,!0,!1,!1)},a.Mw=function(n,o,l){l*=l;for(var d=new h.h,p=new h.h,y=0;y<o.I();y++){o.D(y,p);for(var v=!1,$=0;$<n.I();$++)if(n.D($,d),h.h.yc(d,p)<=l){v=!0;break}if(!v)return!1}return!0},a.Nw=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),a.ek(d,p,l)},a.fI=function(n,o,l){return o=o.D(),a.kt(n,o,l)},a.sU=function(n,o,l){return a.Nw(n,o,l)},a.dU=function(n,o,l){return!a.fI(n,o,l)},a.hU=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(p.ca()>l||p.R()>l)&&a.ek(d,p,l)},a.fU=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),a.zc(p,d,l))return!1;for((o=new h.l).K(p),o.W(l,l),l=new h.h,p=0;p<n.I();p++)if(n.D(p,l),o.contains(l))return!1;return!0},a.qU=function(n,o,l){var d=new h.l,p=new h.l,y=new h.l;if(o.A(d),d.ca()<=l&&d.R()<=l)return!1;if(d.ca()<=l||d.R()<=l){o=new h.h;var v=!1;p.K(d),y.K(d),p.W(l,l),d.ca()>l?y.W(0,-l):y.W(-l,0);for(var $=0;$<n.I();$++)if(n.D($,o),p.contains(o)){if(d.ca()>l){if(o.y>y.G&&o.y<y.H)return!1}else if(o.x>y.v&&o.x<y.C)return!1;v=!0}return v}for(p.K(d),y.K(d),p.W(l,l),y.W(-l,-l),o=new h.h,v=!1,$=0;$<n.I();$++)if(n.D($,o),p.contains(o)){if(y.hm(o))return!1;v=!0}return v},a.rU=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),!a.zc(p,d,l))return!1;if(p.ca()<=l&&p.R()<=l)return a.ek(d,p,l);if(p.ca()<=l||p.R()<=l){o=!1,d=new h.l;var y=new h.l;d.K(p),y.K(p),p.ca()>l?d.W(0,-l):d.W(-l,0),y.W(l,l);for(var v=new h.h,$=0;$<n.I();$++){if(n.D($,v),!y.contains(v))return!1;p.ca()>l?v.y>d.G&&v.y<d.H&&(o=!0):v.x>d.v&&v.x<d.C&&(o=!0)}return o}for(o=!1,d=new h.l,y=new h.l,d.K(p),y.K(p),d.W(-l,-l),y.W(l,l),v=new h.h,$=0;$<n.I();$++){if(n.D($,v),!y.contains(v))return!1;d.hm(v)&&(o=!0)}return o},a.cU=function(n,o,l){var d=new h.l,p=new h.l;return n.A(d),o.A(p),!(!a.zc(d,p,l)||p.ca()>l||p.R()>l)&&(o=o.Ip(),!a.kt(n,o,l))},a.eU=function(n,o,l){var d=new h.l,p=new h.l;if(n.A(d),o.A(p),a.zc(p,d,l)||p.ca()<=l&&p.R()<=l)return!1;if(p.ca()<=l||p.R()<=l){o=new h.l,d=new h.l,o.K(p),p.ca()>l?o.W(0,-l):o.W(-l,0),d.K(p),d.W(l,l);for(var y=new h.h,v=!1,$=!1,I=0;I<n.I();I++)if(n.D(I,y),v||(p.ca()>l?y.y>o.G&&y.y<o.H&&(v=!0):y.x>o.v&&y.x<o.C&&(v=!0)),$||d.contains(y)||($=!0),v&&$)return!0;return!1}for(o=new h.l,d=new h.l,o.K(p),o.W(-l,-l),d.K(p),d.W(l,l),y=new h.h,$=v=!1,I=0;I<n.I();I++)if(n.D(I,y),!v&&o.hm(y)&&(v=!0),$||d.contains(y)||($=!0),v&&$)return!0;return!1},a.wI=function(n,o,l){return h.h.yc(n,o)<=l*l},a.SU=function(n,o,l){return h.h.yc(n,o)>l*l},a.uI=function(n,o,l){return a.wI(n,o,l)},a.vI=function(n,o,l){var d=new h.l;return d.K(n),a.ek(d,o,l)},a.Rw=function(n,o,l){var d=new h.l;return d.K(o),d.W(l,l),!d.contains(n)},a.dB=function(n,o,l){if(o.ca()<=l&&o.R()<=l)return!1;var d=new h.l,p=new h.l;if(d.K(o),d.W(l,l),!d.contains(n))return!1;if(o.ca()<=l||o.R()<=l){if(p.K(o),o.ca()>l?p.W(0,-l):p.W(-l,0),o.ca()>l){if(n.y>p.G&&n.y<p.H)return!1}else if(n.x>p.v&&n.x<p.C)return!1;return!0}return p.K(o),p.W(-l,-l),!p.hm(n)},a.eB=function(n,o,l){if(o.ca()<=l&&o.R()<=l)return!0;if(o.ca()<=l||o.R()<=l){var d=new h.l;d.K(o),o.ca()>l?d.W(0,-l):d.W(-l,0);var p=!1;return o.ca()>l?n.y>d.G&&n.y<d.H&&(p=!0):n.x>d.v&&n.x<d.C&&(p=!0),p}return(d=new h.l).K(o),d.W(-l,-l),d.hm(n)},a.RU=function(n,o,l){return a.vI(n,o,l)},a.ek=function(n,o,l){return a.zc(n,o,l)&&a.zc(o,n,l)},a.dk=function(n,o,l){var d=new h.l;return d.K(o),d.W(l,l),!n.isIntersecting(d)},a.cQ=function(n,o,l){if(n.ca()<=l&&n.R()<=l){var d=n.sf();return a.dB(d,o,l)}if(o.ca()<=l&&o.R()<=l)return d=o.sf(),a.dB(d,n,l);if(n.ca()>l&&n.R()>l&&(o.ca()<=l||o.R()<=l)?d=o:(d=n,n=o),d.ca()<=l||d.R()<=l){if(n.ca()<=l||n.R()<=l){o=new h.yb;var p=new h.yb,y=[0,0],v=[0,0],$=new h.h;return d.dn($),o.Dc($),d.en($),o.Qc($),n.dn($),p.Dc($),n.en($),p.Qc($),o.Ea(p,null,y,v,l),o.Ea(p,null,null,null,l)==1&&(y[0]==0||y[1]==1||v[0]==0||v[1]==1)}return o=new h.l,p=new h.l,o.K(n),o.W(-l,-l),p.K(o),p.Ea(d),!(!p.B()&&(p.ca()>l||p.R()>l))}return n.W(l,l),(p=new h.l).K(d),p.Ea(n),!(p.B()||!p.B()&&p.ca()>l&&p.R()>l)},a.bQ=function(n,o,l){if(a.zc(n,o,l)||a.zc(o,n,l)||n.ca()<=l&&n.R()<=l||o.ca()<=l&&o.R()<=l)return!1;if(n.ca()<=l||n.R()<=l){if(o.ca()>l&&o.R()>l)return!1;var d=new h.yb,p=new h.yb,y=[0,0],v=[0,0],$=new h.h;return n.dn($),d.Dc($),n.en($),d.Qc($),o.dn($),p.Dc($),o.en($),p.Qc($),d.Ea(p,null,y,v,l),d.Ea(p,null,null,null,l)==2&&(0<y[0]||1>y[1])&&(0<v[0]||1>v[1])}return!(o.ca()<=l||o.R()<=l)&&((d=new h.l).K(n),d.Ea(o),!(d.B()||d.ca()<=l||d.R()<=l))},a.jF=function(n,o,l){if(!a.zc(n,o,l))return!1;if(n.ca()<=l&&n.R()<=l)return n=n.sf(),a.eB(n,o,l);if(o.ca()<=l&&o.R()<=l)return o=o.sf(),a.eB(o,n,l);if(n.ca()<=l||n.R()<=l)return a.zc(n,o,l);if(o.ca()<=l||o.R()<=l){var d=new h.l;return d.K(n),d.W(-l,-l),d.hm(o)?!0:((n=new h.l).K(d),n.Ea(o),!(n.B()||n.ca()<=l&&n.R()<=l))}return a.zc(n,o,l)},a.aQ=function(n,o,l){if(a.zc(n,o,l)||a.zc(o,n,l)||n.ca()<=l&&n.R()<=l||o.ca()<=l&&o.R()<=l||o.ca()>l&&o.R()>l&&n.ca()>l&&n.R()>l)return!1;if(n.ca()>l&&n.R()>l)var d=o;else d=n,n=o;if(n.ca()>l&&n.R()>l){o=new h.l;var p=new h.l;return p.K(n),p.W(-l,-l),o.K(p),o.Ea(d),!(o.B()||o.ca()<=l&&o.R()<=l)}o=new h.yb,p=new h.yb;var y=[0,0],v=[0,0],$=new h.h;return d.dn($),o.Dc($),d.en($),o.Qc($),n.dn($),p.Dc($),n.en($),p.Qc($),o.Ea(p,null,y,v,l),o.Ea(p,null,null,null,l)==1&&0<y[0]&&1>y[1]&&0<v[0]&&1>v[1]},a.EI=function(n,o,l){var d=new h.l,p=new h.l,y=new h.Zl(n,o,l,!0);if(!y.next())return!0;if(this.UG(n,o,l))return!1;var v=n,$=null;o.getType()==1736&&($=o);var I=!1,k=!1;do{var O=y.nl(),F=y.hl();if(F=o.Na(o.Ba(F)),d.K(y.uz()),d.W(l,l),d.contains(F)&&(F=h.hd.Yd(v,F,0))!=0||o.getType()==1736&&(O=n.Na(n.Ba(O)),p.K(y.az()),p.W(l,l),p.contains(O)&&(F=h.hd.Yd($,O,0))!=0))return!1;I||(!h.Dg.Ml(n,o.da()-1)||n.Bb!=null&&n.Bb.Fb!=null?v=n:(v=new h.Da,n.copyTo(v),v.fj(1)),I=!0),o.getType()!=1736||k||(k=o,!h.Dg.Ml(k,n.da()-1)||o.Bb!=null&&o.Bb.Fb!=null?$=o:($=new h.Da,k.copyTo($),$.fj(1)),k=!0)}while(y.next());return!0},a.zc=function(n,o,l){var d=new h.l;return d.K(n),d.W(l,l),d.contains(o)},a.ls=function(n,o,l){var d=new h.l;return d.K(o),d.W(l,l),o=new h.h,n.dn(o),!d.contains(o)||(n.$I(o),!d.contains(o)||(n.cJ(o),!d.contains(o)||(n.en(o),!d.contains(o))))},a.dI=function(n,o,l){if(n.da()!=o.da()||n.I()!=o.I())return!1;var d=new h.h,p=new h.h,y=!0;l*=l;for(var v=0;v<n.da();v++){if(n.Vc(v)!=o.Vc(v)){y=!1;break}for(var $=n.Ba(v);$<o.Vc(v);$++)if(n.D($,d),o.D($,p),h.h.yc(d,p)>l){y=!1;break}if(!y)break}return!!y},a.jU=function(n,o,l){if(n.I()!=o.I())return!1;var d=new h.h,p=new h.h,y=!0;l*=l;for(var v=0;v<n.I();v++)if(n.D(v,d),o.D(v,p),h.h.yc(d,p)>l){y=!1;break}return!!y},a.YA=function(n,o,l,d,p,y){var v=!1;if(n.I()>o.I()){d&&(d=!1,v=!0);var $=o}else $=n,n=o;if(o=null,p||y||v){o=new h.pn(n.I());for(var I=0;I<n.I();I++)o.write(I,0)}I=new h.l;var k=new h.l,O=new h.l;$.A(I),n.A(k),I.W(l,l),k.W(l,l),O.K(I),O.Ea(k),k=new h.h;for(var F=new h.h,j=!0,z=h.ta.oE(n,O),B=z.getIterator(),H=l*l,U=0;U<$.I();U++)if($.D(U,k),O.contains(k)){var Z=!1;I.K(k.x,k.y,k.x,k.y),B.Xi(I,l);for(var re=B.next();re!=-1&&(re=z.ja(re),n.D(re,F),!(h.h.yc(k,F)<=H&&((p||y||v)&&o.write(re,1),Z=!0,d)));re=B.next());if(!Z&&(j=!1,p||d))return!1}else{if(p||d)return!1;j=!1}if(y&&j)return!1;if(d)return!0;for(I=0;I<n.I();I++)if(o.read(I)==1){if(y)return!0}else if(p||v)return!1;return!y},a.gI=function(n,o,l){if(n.I()>o.I())var d=o;else d=n,n=o;o=new h.l;var p=new h.l,y=new h.l;d.A(o),n.A(p),o.W(l,l),p.W(l,l),y.K(o),y.Ea(p),p=new h.h;for(var v=new h.h,$=l*l,I=h.ta.oE(n,y),k=I.getIterator(),O=0;O<d.I();O++)if(d.D(O,p),y.contains(p)){o.K(p.x,p.y,p.x,p.y),k.Xi(o,l);for(var F=k.next();F!=-1;F=k.next())if(n.D(I.ja(F),v),h.h.yc(p,v)<=$)return!0}return!1},a.Wz=function(n,o,l,d){return a.ym(n,o,l,d)&&a.ym(o,n,l,d)},a.ym=function(n,o,l,d){function p(Ye,Fe){return F.QE(Ye,Fe)}var y,v=!0,$=[0,0],I=[0,0],k=0,O=new h.ia(0),F=new a,j=new h.l,z=new h.l,B=new h.l;n.A(j),o.A(z),j.W(l,l),z.W(l,l),B.K(j),B.Ea(z),n=n.Ga(),z=o.Ga();var H=null,U=H=null,Z=o.Bb;for(Z!=null?(H=Z.Fb,U=Z.zo,H==null&&(H=h.ta.jj(o,B))):H=h.ta.jj(o,B),o=H.getIterator(),Z=null,U!=null&&(Z=U.getIterator());n.$a();)for(;n.Ha();){var re=!1,ie=n.ha();if(ie.A(j),!j.isIntersecting(B)||Z!=null&&(Z.Xi(j,l),Z.next()==-1))return!1;for(U=ie.Qb(),o.Uo(ie,l),y=o.next();y!=-1;y=o.next()){z.Vb(H.ja(y)),y=z.ha();var ce=ie.Ea(y,null,$,I,l);if(ce==2&&(!d||I[0]<=I[1])){ce=$[0];var le=$[1],_e=I[0],Me=I[1];if(ce*U<=l&&(1-le)*U<=l){re=!0,k=0,O.resize(0),F.rh.length=0;var Te=n.wb();for(_e=!0;_e;){if(n.Ha()){if(U=(ie=n.ha()).Qb(),(ce=ie.Ea(y,null,$,I,l))==2&&(!d||I[0]<=I[1])&&(ce=$[0],le=$[1],ce*U<=l&&(1-le)*U<=l)){Te=n.wb();continue}if(z.Ha()&&(y=z.ha(),(ce=ie.Ea(y,null,$,I,l))==2&&(!d||I[0]<=I[1])&&(ce=$[0],le=$[1],ce*U<=l&&(1-le)*U<=l))){Te=n.wb();continue}}_e=!1}Te!=n.wb()&&(n.Vb(Te),n.ha());break}Te=n.wb(),y=_.construct(Te,n.gb,ce,le,z.wb(),z.gb,_e,Me),F.rh.push(y),O.add(O.size)}}if(!re){if(k==F.rh.length)return!1;for(1<O.size-k&&O.Vd(k,O.size,p),re=0;k<F.rh.length;k++)if(!((y=F.rh[O.get(k)]).Kj<re&&y.Si<re)){if(U*(y.Kj-re)>l)return!1;if(U*(1-(re=y.Si))<=l||re==1)break}if(U*(1-re)>l)return!1;k=0,O.resize(0),F.rh.length=0}}return v},a.WG=function(n,o,l){if(1>a.Xz(n,o,l,null))return!1;var d=new h.l,p=new h.l;n.A(d),o.A(p);var y=a.ls(d,p,l);return d=a.ls(p,d,l),!(!y||!d)||(y&&!d?!a.ym(o,n,l,!1):d&&!y?!a.ym(n,o,l,!1):!a.ym(n,o,l,!1)&&!a.ym(o,n,l,!1))},a.Xz=function(n,o,l,d){function p(He,ci){return j.QE(He,ci)}if(n.yz()>o.yz())var y=o,v=n;else y=n,v=o;n=y.Ga(),o=v.Ga();var $=[0,0],I=[0,0],k=-1,O=0,F=new h.ia(0),j=new a,z=new h.l,B=new h.l,H=new h.l;y.A(z),v.A(B),z.W(l,l),B.W(l,l),H.K(z),H.Ea(B),y=null,d!=null&&(y=new h.h);var U=B=B=null,Z=v.Bb;for(Z!=null?(B=Z.Fb,U=Z.zo,B==null&&(B=h.ta.jj(v,H))):B=h.ta.jj(v,H),v=B.getIterator(),Z=null,U!=null&&(Z=U.getIterator());n.$a();)for(U=0;n.Ha();){var re=n.ha();if(re.A(z),z.isIntersecting(H)){if(Z!=null&&(Z.Xi(z,l),Z.next()==-1))continue;var ie=re.Qb();v.Uo(re,l);for(var ce=v.next();ce!=-1;ce=v.next()){var le=B.ja(ce);o.Vb(le);var _e=o.ha(),Me=_e.Qb(),Te=re.Ea(_e,null,$,I,l);if(0<Te){ce=$[0],k=I[0];var Ye=Te==2?$[1]:NaN,Fe=Te==2?I[1]:NaN;if(Te==2){if(ie*(Ye-ce)>l)return 1;var wt=ie*(Ye-ce);if(o.Ha()){if(_e=o.ha(),(Te=re.Ea(_e,null,$,null,l))==2){Te=$[0];var gt=$[1];if(wt+(Te=ie*(gt-Te))>l)return 1}o.Vb(le),o.ha()}if(!o.vm()){if(o.li(),_e=o.li(),(Te=re.Ea(_e,null,$,null,l))==2&&(Te=$[0],wt+(Te=ie*((gt=$[1])-Te))>l))return 1;o.Vb(le),o.ha()}if(n.Ha()){if(le=n.wb(),(Te=(re=n.ha()).Ea(_e,null,$,null,l))==2&&(Te=$[0],wt+(Te=ie*((gt=$[1])-Te))>l))return 1;n.Vb(le),n.ha()}if(!n.vm()){if(le=n.wb(),n.li(),(Te=(re=n.li()).Ea(_e,null,$,null,l))==2&&(Te=$[0],wt+(Te=Me*((gt=$[1])-Te))>l))return 1;n.Vb(le),n.ha()}_e=_.construct(n.wb(),n.gb,ce,Ye,o.wb(),o.gb,k,Fe),j.rh.push(_e),F.add(F.size)}k=0,d!=null&&(re.hc(ce,y),d.add(y.x),d.add(y.y))}}if(O<j.rh.length){for(F.Vd(O,F.size,p),re=0,ce=j.rh[F.get(O)].Mm;O<j.rh.length;O++)if(!((_e=j.rh[F.get(O)]).Kj<re&&_e.Si<re))if(ie*(_e.Kj-re)>l)U=ie*(_e.Si-_e.Kj),re=_e.Si,ce=_e.Mm;else{if(_e.Mm!=ce?(U=ie*(_e.Si-_e.Kj),ce=_e.Mm):U+=ie*(_e.Si-_e.Kj),U>l)return 1;if((re=_e.Si)==1)break}ie*(1-re)>l&&(U=0),O=0,F.resize(0),j.rh.length=0}}}return k},a.UG=function(n,o,l){var d=n.Ga(),p=o.Ga();for(n=new h.Zl(n,o,l,!1);n.next();){o=n.nl();var y=n.hl();if(d.Vb(o),p.Vb(y),o=d.ha(),0<p.ha().Ea(o,null,null,null,l))return!0}return!1},a.VG=function(n,o,l,d){var p=n.Ga(),y=new h.l,v=new h.l,$=new h.l;n.A(y),o.A(v),y.W(l,l),y.contains(v),v.W(l,l),$.K(y),$.Ea(v),(y=n.Bb)!=null?(y=y.Fb)==null&&(y=h.ta.jj(n,$)):y=h.ta.jj(n,$),n=y.getIterator();for(var I=new h.h,k=new h.h,O=l*l,F=0;F<o.I();F++)if(o.D(F,I),$.contains(I)){v.K(I.x,I.y,I.x,I.y),n.Xi(v,l);for(var j=!1,z=n.next();z!=-1;z=n.next())if(p.Vb(y.ja(z)),(z=p.ha()).hc(z.fe(I,!1),k),h.h.yc(k,I)<=O){j=!0;break}if(d){if(!j)return!1}else if(j)return!0}return!!d},a.Yz=function(n,o,l){var d=new h.h,p=l*l,y=n.Ga();if((n=n.Bb)!=null&&(n=n.Fb)!=null){var v=new h.l;for(v.K(o),v=(l=n.MF(v,l)).next();v!=-1;v=l.next())if(y.Vb(n.ja(v)),y.Ha()){var $=(v=y.ha()).fe(o,!1);if(v.hc($,d),h.h.yc(o,d)<=p)return!0}return!1}for(n=new h.l;y.$a();)for(;y.Ha();)if((v=y.ha()).A(n),n.W(l,l),n.contains(o)&&($=v.fe(o,!1),v.hc($,d),h.h.yc(o,d)<=p))return!0;return!1},a.SG=function(n,o,l){return a.Yz(n,o,l)&&!a.Zz(n,o,l)},a.Zz=function(n,o,l){return n=n.mg(),!a.kt(n,o,l)},a.TG=function(n,o,l){if(n.tm()){var d=new h.yb(o.v,o.G,o.v,o.H),p=new h.yb(o.v,o.H,o.C,o.H),y=new h.yb(o.C,o.H,o.C,o.G);for(o=new h.yb(o.C,o.G,o.v,o.G),n=n.Ga();n.$a();)for(;n.Ha();){var v=n.ha();if(v.isIntersecting(d,l)||v.isIntersecting(p,l)||v.isIntersecting(y,l)||v.isIntersecting(o,l))return!0}}else{(d=new h.l).K(o),d.W(l,l),l=n.ub(0),p=new h.h,y=new h.h,o=new h.h,v=new h.h;for(var $=0,I=n.da();$<I;$++)for(var k=!0,O=n.Ba($),F=n.Vc($);O<F;O++)if(k)l.tc(2*O,y),k=!1;else{if(l.tc(2*O,p),o.L(y),v.L(p),d.zy(o,v)!=0)return!0;y.L(p)}}return!1},a.qc=function(n,o,l){var d=n.getType(),p=o.getType();if(h.aa.xj(d)){var y=n.Bb;if(y!=null&&(y=y.Fk)!=null)if(p==33){var v=o.D();if((v=y.So(v.x,v.y))==1)return 1;if(v==0)return 4}else{if(v=new h.l,o.A(v),(v=y.Ro(v))==1)return 1;if(v==0)return 4;if(l&&h.aa.xj(p)&&a.HE(o,y))return 1073741824}}if(h.aa.xj(p)&&(y=o.Bb)!=null&&(y=y.Fk)!=null)if(d==33){if(n=n.D(),(v=y.So(n.x,n.y))==1)return 2;if(v==0)return 4}else{if(o=new h.l,n.A(o),(v=y.Ro(o))==1)return 2;if(v==0)return 4;if(l&&h.aa.xj(d)&&a.HE(n,y))return 1073741824}return 0},a.HE=function(n,o){for(var l=n.I(),d=new h.h,p=0;p<l;p++)if(n.D(p,d),o.So(d.x,d.y)==1)return!0;return!1},a.II=function(n,o,l,d){for(var p=1<=n.om(0)&&1<=o.om(0),y=n.Ga(),v=o.Ga(),$=[0,0],I=[0,0],k=new h.Zl(n,o,l,!1),O=!1;k.next();){var F=k.nl(),j=k.hl();if(y.Vb(F),v.Vb(j),F=y.ha(),(j=v.ha().Ea(F,null,I,$,l))==2){if(O=$[0],j=$[1],F=F.Qb(),p&&(j-O)*F>l)return!1;O=!0}else if(j!=0){if(O=$[0],F=I[0],0<O&&1>O&&0<F&&1>F)return!1;O=!0}}return!!O&&(y=new h.l,v=new h.l,p=new h.l,n.A(y),o.A(v),y.W(1e3*l,1e3*l),v.W(1e3*l,1e3*l),p.K(y),p.Ea(v),!(10<n.I()&&(n=h.Ud.clip(n,p,l,0),n.B())||10<o.I()&&(o=h.Ud.clip(o,p,l,0),o.B()))&&h.am.rt(n,o,l,"F********",d))},a.FI=function(n,o,l,d){var p=1<=n.om(0)&&1<=o.om(0),y=new h.l,v=new h.l,$=new h.l;n.A(y),o.A(v);for(var I=!1,k=a.ls(y,v,l),O=a.ls(v,y,l),F=n.Ga(),j=o.Ga(),z=[0,0],B=[0,0],H=new h.Zl(n,o,l,!1);H.next();){var U=H.nl(),Z=H.hl();if(F.Vb(U),j.Vb(Z),Z=F.ha(),(U=j.ha().Ea(Z,null,B,z,l))==2){U=z[0];var re=z[1];if(Z=Z.Qb(),p&&(re-U)*Z>l&&(I=!0,k&&O))return!0}else if(U!=0&&(U=z[0],Z=B[0],0<U&&1>U&&0<Z&&1>Z))return!0}if(p=new h.l,F=new h.l,p.K(y),p.W(1e3*l,1e3*l),F.K(v),F.W(1e3*l,1e3*l),$.K(p),$.Ea(F),y="",y=I?y+"**":y+"T*",k){if(10<o.I()&&(o=h.Ud.clip(o,$,l,0)).B())return!1;y+="****"}else y+="T***";if(O){if(10<n.I()&&(n=h.Ud.clip(n,$,l,0)).B())return!1;y+="***"}else y+="T**";return h.am.rt(n,o,l,y.toString(),d)},a.BI=function(n,o,l,d){var p=[!1],y=a.zI(n,o,l,p);return p[0]?y:(p=new h.l,o.A(p),p.W(1e3*l,1e3*l),!(10<n.I()&&(n=h.Ud.clip(n,p,l,0),n.B()))&&h.am.Sw(n,o,l,d))},a.zI=function(n,o,l,d){d[0]=!1;for(var p=n.Ga(),y=o.Ga(),v=[0,0],$=[0,0],I=new h.Zl(n,o,l,!1),k=!1;I.next();){var O=I.nl(),F=I.hl();if(p.Vb(O,-1),y.Vb(F,-1),O=p.ha(),(O=y.ha().Ea(O,null,$,v,l))!=0&&(k=!0,O==1&&(O=v[0],F=$[0],0<O&&1>O&&0<F&&1>F)))return d[0]=!0,!1}if(!k){for(d[0]=!0,v=new h.l,n.A(v),v.W(l,l),I=n,k=!1,$=new h.l,d=0,p=o.da();d<p;d++)if(0<o.Ja(d)){if(o.Rj(d,$),!v.isIntersecting($)||(y=o.Na(o.Ba(d)),(y=h.Dg.wm(I,y,0))==0))return!1;k||(!h.Dg.Ml(n,o.da()-1)||n.Bb!=null&&n.Bb.Fb!=null?I=n:(y=new h.Da,n.copyTo(y),y.fj(1),I=y),k=!0)}if(n.da()==1||o.getType()==1607)return!0;for(v=new h.l,o.A(v),v.W(l,l),$=o,I=!1,l=new h.l,d=0,p=n.da();d<p;d++)if(0<n.Ja(d)){if(n.Rj(d,l),v.isIntersecting(l)&&(y=n.Na(n.Ba(d)),(y=h.Dg.wm($,y,0))==1))return!1;I||(!h.Dg.Ml(o,n.da()-1)||o.Bb!=null&&o.Bb.Fb!=null?$=o:(y=new h.Da,o.copyTo(y),y.fj(1),$=y),I=!0)}return!0}return!1},a.JI=function(n,o,l,d){for(var p=n.Ga(),y=o.Ga(),v=[0,0],$=[0,0],I=new h.Zl(n,o,l,!1),k=!1;I.next();){var O=I.nl(),F=I.hl();if(p.Vb(O),y.Vb(F),O=p.ha(),(O=y.ha().Ea(O,null,$,v,l))==2)k=!0;else if(O!=0){if(k=v[0],O=$[0],0<k&&1>k&&0<O&&1>O)return!1;k=!0}}return!!k&&(y=new h.l,v=new h.l,p=new h.l,n.A(y),o.A(v),y.W(1e3*l,1e3*l),v.W(1e3*l,1e3*l),p.K(y),p.Ea(v),!(10<n.I()&&(n=h.Ud.clip(n,p,l,0),n.B())||10<o.I()&&(o=h.Ud.clip(o,p,l,0),o.B()))&&h.am.$m(n,o,l,"F********",d))},a.DI=function(n,o,l,d){for(var p=n.Ga(),y=o.Ga(),v=[0,0],$=[0,0],I=new h.Zl(n,o,l,!1),k=!1;I.next();){var O=I.nl(),F=I.hl();if(p.Vb(O),y.Vb(F),O=p.ha(),(O=y.ha().Ea(O,null,$,v,l))==2)k=!0;else if(O!=0){if(k=v[0],O=$[0],0<k&&1>k&&0<O&&1>O)return!0;k=!0}}return!!k&&(y=new h.l,v=new h.l,$=new h.l,I=new h.l,p=new h.l,n.A(y),o.A(v),a.ls(v,y,l)?($.K(y),$.W(1e3*l,1e3*l),I.K(v),I.W(1e3*l,1e3*l),p.K($),p.Ea(I),!(10<n.I()&&(n=h.Ud.clip(n,p,l,0),n.B())||10<o.I()&&(o=h.Ud.clip(o,p,l,0),o.B()))&&(l=h.am.$m(n,o,l,"T********",d))):l=h.am.$m(n,o,l,"T*****T**",d))},a.CI=function(n,o,l,d){var p=[!1],y=a.zI(n,o,l,p);return p[0]?y:(p=new h.l,o.A(p),p.W(1e3*l,1e3*l),!(10<n.I()&&(n=h.Ud.clip(n,p,l,0),n.B()))&&h.am.fB(n,o,l,d))},a.AI=function(n,o,l){return h.hd.Yd(n,o,l)==1},a.HI=function(n,o,l){return h.hd.Yd(n,o,l)==2},a.kt=function(n,o,l){var d=new h.h;l*=l;for(var p=0;p<n.I();p++)if(n.D(p,d),h.h.yc(d,o)<=l)return!1;return!0},a.prototype.QE=function(n,o){return n=this.rh[n],o=this.rh[o],n.Mm<o.Mm||n.Mm==o.Mm&&(n.pw<o.pw||n.pw==o.pw&&(n.Kj<o.Kj||n.Kj==o.Kj&&(n.Si<o.Si||n.Si==o.Si&&n.BH<o.BH)))?-1:1},a}();h.ud=u}(Y||(Y={})),function(h){var P,_,u;(_=P||(P={}))[_.InteriorInterior=0]="InteriorInterior",_[_.InteriorBoundary=1]="InteriorBoundary",_[_.InteriorExterior=2]="InteriorExterior",_[_.BoundaryInterior=3]="BoundaryInterior",_[_.BoundaryBoundary=4]="BoundaryBoundary",_[_.BoundaryExterior=5]="BoundaryExterior",_[_.ExteriorInterior=6]="ExteriorInterior",_[_.ExteriorBoundary=7]="ExteriorBoundary",_[_.ExteriorExterior=8]="ExteriorExterior",function(a){a[a.AreaAreaPredicates=0]="AreaAreaPredicates",a[a.AreaLinePredicates=1]="AreaLinePredicates",a[a.LineLinePredicates=2]="LineLinePredicates",a[a.AreaPointPredicates=3]="AreaPointPredicates",a[a.LinePointPredicates=4]="LinePointPredicates",a[a.PointPointPredicates=5]="PointPointPredicates"}(u||(u={})),P=function(){function a(){this.le=0,this.j=new h.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return a.yB=function(n,o,l,d,p){if(d.length!=9)throw h.i.fa("relation string length has to be 9 characters");for(var y=0;9>y;y++){var v=d.charAt(y);if(v!="*"&&v!="T"&&v!="F"&&v!="0"&&v!="1"&&v!="2")throw h.i.fa("relation string")}if((y=this.MR(d,n.Db(),o.Db()))!=0)return h.ud.zB(n,o,l,y,p);y=new h.l,n.A(y),v=new h.l,o.A(v);var $=new h.l;if($.K(y),$.Zb(v),l=h.ta.Wd(l,$,!1),n=this.WE(n,l),o=this.WE(o,l),n.B()||o.B())return this.uW(n,o,d);switch(y=n.getType(),v=o.getType(),$=!1,y){case 1736:switch(v){case 1736:$=this.rt(n,o,l,d,p);break;case 1607:$=this.$m(n,o,l,d,p);break;case 33:$=this.qt(n,o,l,d);break;case 550:$=this.pt(n,o,l,d,p)}break;case 1607:switch(v){case 1736:$=this.$m(o,n,l,this.Zp(d),p);break;case 1607:$=this.gB(n,o,l,d,p);break;case 33:$=this.tt(n,o,l,d,p);break;case 550:$=this.st(n,o,l,d,p)}break;case 33:switch(v){case 1736:$=this.qt(o,n,l,this.Zp(d));break;case 1607:$=this.tt(o,n,l,this.Zp(d),p);break;case 33:$=this.$U(n,o,l,d);break;case 550:$=this.lt(o,n,l,this.Zp(d))}break;case 550:switch(v){case 1736:$=this.pt(o,n,l,this.Zp(d),p);break;case 1607:$=this.st(o,n,l,this.Zp(d),p);break;case 550:$=this.ZA(n,o,l,d,p);break;case 33:$=this.lt(n,o,l,d)}break;default:$=!1}return $},a.rt=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.xJ();var v=new h.l,$=new h.l;return n.A(v),o.A($),d=!1,h.ud.dk(v,$,l)&&(y.Cu(n,o),d=!0),d||((v=h.ud.qc(n,o,!1))==4?(y.Cu(n,o),d=!0):v==1?(y.ly(o),d=!0):v==2&&(y.ZD(n),d=!0)),d||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.Bp(n,o),y.j.Ug()),a.fg(y.J,y.Xc)},a.Sw=function(n,o,l,d){var p=new a;p.Yi(),p.bj("T*****F**"),p.xJ();var y=new h.l,v=new h.l;n.A(y),o.A(v);var $=!1;return h.ud.dk(y,v,l)&&(p.Cu(n,o),$=!0),$||((y=h.ud.qc(n,o,!1))==4?(p.Cu(n,o),$=!0):y==1?(p.ly(o),$=!0):y==2&&(p.ZD(n),$=!0)),$?this.fg(p.J,p.Xc):(n=($=new h.gd).Ib(n),y=$.Ib(o),h.Tk.V($,l,d,!1),l=$.Ne(y).mg(),$.Gp(0,!0,!0),h.rn.V($,n,-1,!1,d),$.I(n)!=0&&(h.rn.V($,y,-1,!1,d),p.er($,d),(o=$.I(y)==0)||(p.Bp(n,y),p.j.Ug(),y=this.fg(p.J,p.Xc))?(n=$.Ne(n),n=($=new h.gd).Ib(n),y=$.Ib(l),p.er($,d),p.le=0,p.Yi(),p.bj(o?"T*****F**":"******F**"),p.IB(),p.Bp(n,y),p.j.Ug(),this.fg(p.J,p.Xc)):y))},a.$m=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.IB();var v=new h.l,$=new h.l;return n.A(v),o.A($),d=!1,h.ud.dk(v,$,l)&&(y.Du(n,o),d=!0),d||((v=h.ud.qc(n,o,!1))==4?(y.Du(n,o),d=!0):v==1&&(y.$D(o),d=!0)),d||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.kh=y.j.Dp(),a.Jw(o,y.j,y.kh),y.Bp(n,o),y.j.Ep(y.kh),y.j.Ug()),a.fg(y.J,y.Xc)},a.fB=function(n,o,l,d){var p=new a;p.Yi(),p.bj("T*****F**"),p.IB();var y=new h.l,v=new h.l;n.A(y),o.A(v);var $=!1;return h.ud.dk(y,v,l)&&(p.Du(n,o),$=!0),$||((y=h.ud.qc(n,o,!1))==4?(p.Du(n,o),$=!0):y==1&&(p.$D(o),$=!0)),$?this.fg(p.J,p.Xc):(n=($=new h.gd).Ib(n),o=$.Ib(o),p.Wo($,l,d),$.I(n)!=0&&(p.Bp(n,o),p.j.Ug(),this.fg(p.J,p.Xc)))},a.pt=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.yJ();var v=new h.l,$=new h.l;return n.A(v),o.A($),d=!1,h.ud.dk(v,$,l)&&(y.Eu(n),d=!0),d||((v=h.ud.qc(n,o,!1))==4?(y.Eu(n),d=!0):v==1&&(y.zN(),d=!0)),d||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.Gy(n,o),y.j.Ug()),a.fg(y.J,y.Xc)},a.gB=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.eX(),d=new h.l;var v=new h.l;n.A(d),o.A(v);var $=!1;return h.ud.dk(d,v,l)&&(y.PG(n,o),$=!0),$||h.ud.qc(n,o,!1)!=4||(y.PG(n,o),$=!0),$||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.Yh=y.j.Dp(),y.kh=y.j.Dp(),a.Jw(n,y.j,y.Yh),a.Jw(o,y.j,y.kh),y.Bp(n,o),y.j.Ep(y.Yh),y.j.Ep(y.kh),y.j.Ug()),a.fg(y.J,y.Xc)},a.st=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.MJ(),d=new h.l;var v=new h.l;n.A(d),o.A(v);var $=!1;return h.ud.dk(d,v,l)&&(y.Vz(n),$=!0),$||h.ud.qc(n,o,!1)!=4||(y.Vz(n),$=!0),$||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.Yh=y.j.Dp(),a.Jw(n,y.j,y.Yh),y.Gy(n,o),y.j.Ep(y.Yh),y.j.Ug()),a.fg(y.J,y.Xc)},a.ZA=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.RJ(),d=new h.l;var v=new h.l;n.A(d),o.A(v);var $=!1;return h.ud.dk(d,v,l)&&(y.yI(),$=!0),$||(n=(d=new h.gd).Ib(n),o=d.Ib(o),y.Wo(d,l,p),y.Gy(n,o),y.j.Ug()),a.fg(y.J,y.Xc)},a.qt=function(n,o,l,d){var p=new a;p.Yi(),p.bj(d),p.yJ();var y=new h.l;n.A(y),o=o.D();var v=!1;return h.ud.Rw(o,y,l)&&(p.Eu(n),v=!0),v||((l=h.hd.Yd(n,o,l))==1?(p.J[0]=0,p.J[2]=2,p.J[3]=-1,p.J[5]=1,p.J[6]=-1):l==2?(p.J[6]=-1,n.Ke()!=0?(p.J[0]=-1,p.J[3]=0,p.J[2]=2,p.J[5]=1):(p.J[0]=0,p.J[3]=-1,p.J[5]=-1,l=new h.l,n.A(l),p.J[2]=l.ca()==0&&l.R()==0?-1:1)):p.Eu(n)),this.fg(p.J,d)},a.tt=function(n,o,l,d,p){var y=new a;y.Yi(),y.bj(d),y.MJ();var v=new h.l;n.A(v),d=o.D();var $=!1;if(h.ud.Rw(d,v,l)&&(y.Vz(n),$=!0),!$){v=null;var I=$=!1;(y.ea[0]||y.ea[6])&&(h.ud.Yz(n,d,l)?(y.ea[0]&&(v=h.pi.gm(n,p),I=!h.ud.kt(v,d,l),$=!0,y.J[0]=I?-1:0),y.J[6]=-1):(y.J[0]=-1,y.J[6]=0)),y.ea[3]&&(v!=null&&v.B()?y.J[3]=-1:($||(v==null&&(v=h.pi.gm(n,p)),I=!h.ud.kt(v,d,l),$=!0),y.J[3]=I?0:-1)),y.ea[5]&&(v!=null&&v.B()?y.J[5]=-1:$&&!I?y.J[5]=0:(v==null&&(v=h.pi.gm(n,p)),p=h.ud.Nw(v,o,l),y.J[5]=p?-1:0)),y.ea[2]&&(n.Qb()!=0?y.J[2]=1:((p=new h.de(n.description)).Fd(n,0,n.I()),n=h.ud.Nw(p,o,l),y.J[2]=n?-1:0))}return this.fg(y.J,y.Xc)},a.lt=function(n,o,l,d){var p=new a;p.Yi(),p.bj(d),p.RJ();var y=new h.l;n.A(y),o=o.D();var v=!1;if(h.ud.Rw(o,y,l)&&(p.yI(),v=!0),!v){y=!1,v=!0,l*=l;for(var $=0;$<n.I();$++){var I=n.Na($);if(h.h.yc(I,o)<=l?y=!0:v=!1,y&&!v)break}y?(p.J[0]=0,p.J[2]=v?-1:0,p.J[6]=-1):(p.J[0]=-1,p.J[2]=0,p.J[6]=0)}return a.fg(p.J,d)},a.$U=function(n,o,l,d){n=n.D(),o=o.D();for(var p=[],y=0;9>y;y++)p[y]=-1;return h.h.yc(n,o)<=l*l?p[0]=0:(p[2]=0,p[6]=0),p[8]=2,a.fg(p,d)},a.fg=function(n,o){for(var l=0;9>l;l++)switch(o.charAt(l)){case"T":if(n[l]==-1)return!1;break;case"F":if(n[l]!=-1)return!1;break;case"0":if(n[l]!=0)return!1;break;case"1":if(n[l]!=1)return!1;break;case"2":if(n[l]!=2)return!1}return!0},a.uW=function(n,o,l){var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(n.B()&&o.B()){for(var p=0;9>p;p++)d[p]=-1;return this.fg(d,l)}return p=!1,n.B()&&(n=o,p=!0),d[0]=-1,d[1]=-1,d[3]=-1,d[4]=-1,d[6]=-1,d[7]=-1,d[8]=2,o=n.getType(),h.aa.Hc(o)?o==1736?n.Ke()!=0?(d[2]=2,d[5]=1):(d[5]=-1,o=new h.l,n.A(o),d[2]=o.ca()==0&&o.R()==0?0:1):(o=n.Qb()!=0,d[2]=o?1:0,d[5]=h.pi.aq(n)?0:-1):(d[2]=0,d[5]=-1),p&&this.vK(d),this.fg(d,l)},a.MR=function(n,o,l){return a.dQ(n)?3:a.UP(n)?4:a.cY(n,o,l)?8:a.CP(n,o,l)?16:a.eP(n)?1:a.EU(n,o,l)?32:0},a.dQ=function(n){return n.charAt(0)=="T"&&n.charAt(1)=="*"&&n.charAt(2)=="F"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="F"&&n.charAt(6)=="F"&&n.charAt(7)=="F"&&n.charAt(8)=="*"},a.UP=function(n){return n.charAt(0)=="F"&&n.charAt(1)=="F"&&n.charAt(2)=="*"&&n.charAt(3)=="F"&&n.charAt(4)=="F"&&n.charAt(5)=="*"&&n.charAt(6)=="*"&&n.charAt(7)=="*"&&n.charAt(8)=="*"},a.cY=function(n,o,l){return(o!=0||l!=0)&&((o!=2||l!=2)&&(n.charAt(0)=="F"&&n.charAt(1)=="*"&&n.charAt(2)=="*"&&n.charAt(3)=="T"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="*"&&n.charAt(7)=="*"&&n.charAt(8)=="*"||o==1&&l==1&&n.charAt(0)=="F"&&n.charAt(1)=="T"&&n.charAt(2)=="*"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="*"&&n.charAt(7)=="*"&&n.charAt(8)=="*")||l!=0&&n.charAt(0)=="F"&&n.charAt(1)=="*"&&n.charAt(2)=="*"&&n.charAt(3)=="*"&&n.charAt(4)=="T"&&n.charAt(5)=="*"&&n.charAt(6)=="*"&&n.charAt(7)=="*"&&n.charAt(8)=="*")},a.CP=function(n,o,l){return o>l?n.charAt(0)=="T"&&n.charAt(1)=="*"&&n.charAt(2)=="*"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="T"&&n.charAt(7)=="*"&&n.charAt(8)=="*":o==1&&l==1&&n.charAt(0)=="0"&&n.charAt(1)=="*"&&n.charAt(2)=="*"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="*"&&n.charAt(7)=="*"&&n.charAt(8)=="*"},a.eP=function(n){return n.charAt(0)=="T"&&n.charAt(1)=="*"&&n.charAt(2)=="*"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="F"&&n.charAt(7)=="F"&&n.charAt(8)=="*"},a.EU=function(n,o,l){if(o==l){if(o!=1)return n.charAt(0)=="T"&&n.charAt(1)=="*"&&n.charAt(2)=="T"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="T"&&n.charAt(7)=="*"&&n.charAt(8)=="*";if(n.charAt(0)=="1"&&n.charAt(1)=="*"&&n.charAt(2)=="T"&&n.charAt(3)=="*"&&n.charAt(4)=="*"&&n.charAt(5)=="*"&&n.charAt(6)=="T"&&n.charAt(7)=="*"&&n.charAt(8)=="*")return!0}return!1},a.Jw=function(n,o,l){n=o.La(n);for(var d=o.Re;d!=-1;d=o.Rf(d))if(o.xd(d)&n){var p=o.Me(d);if(p==-1)o.nn(d,l,0);else{var y=p,v=0;do o.dh(y)&n&&v++,y=o.jc(o.xa(y));while(y!=p);o.nn(d,l,v)}}},a.Zp=function(n){var o=""+n.charAt(0);return o+=n.charAt(3),o+=n.charAt(6),o+=n.charAt(1),o+=n.charAt(4),o+=n.charAt(7),o+=n.charAt(2),(o+=n.charAt(5))+n.charAt(8)},a.prototype.Yi=function(){for(var n=0;9>n;n++)this.J[n]=-2,this.Za[n]=-2},a.vK=function(n){var o=n[1],l=n[2],d=n[5];n[1]=n[3],n[2]=n[6],n[5]=n[7],n[3]=o,n[6]=l,n[7]=d},a.prototype.bj=function(n){for(this.Xc=n,n=0;9>n;n++)this.Xc.charAt(n)!="*"?(this.ea[n]=!0,this.le++):this.ea[n]=!1},a.prototype.UJ=function(){for(var n=0;9>n;n++)this.ea[n]&&this.J[n]==-2&&(this.J[n]=-1,this.ea[n]=!1)},a.prototype.pc=function(n){return this.J[n]!=-2&&(this.J[n]==-1?(this.ea[n]=!1,this.le--,!0):this.Xc.charAt(n)!="T"&&this.Xc.charAt(n)!="F"?!(this.J[n]<this.Za[n])&&(this.ea[n]=!1,this.le--,!0):(this.ea[n]=!1,this.le--,!0))},a.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.xN=function(n,o,l){var d=!0;return this.ea[0]&&(this.CS(n,o,l),d=d&&this.pc(0)),this.ea[1]&&(this.sG(n,o,1),d=d&&this.pc(1)),this.ea[2]&&(this.tG(n,o,l,2),d=d&&this.pc(2)),this.ea[3]&&(this.sG(n,l,3),d=d&&this.pc(3)),this.ea[4]&&(this.BN(n,o,l),d=d&&this.pc(4)),this.ea[5]&&(this.eE(n,l,5),d=d&&this.pc(5)),this.ea[6]&&(this.tG(n,l,o,6),d=d&&this.pc(6)),this.ea[7]&&(this.eE(n,o,7),d=d&&this.pc(7)),d},a.prototype.Cu=function(n,o){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(n,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(o,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},a.prototype.Fr=function(n,o,l,d,p){o==-1&&d==-1||((l!="T"&&l!="F"&&o!=-1||p!="T"&&p!="F"&&d!=-1)&&n.Ke()==0?(d!=-1&&(this.J[d]=-1),o!=-1&&(l=new h.l,n.A(l),this.J[o]=l.ca()==0&&l.R()==0?0:1)):(o!=-1&&(this.J[o]=2),d!=-1&&(this.J[d]=1)))},a.prototype.ly=function(n){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(n,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},a.prototype.ZD=function(n){this.ly(n),a.vK(this.J)},a.prototype.Du=function(n,o){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var l=this.Xc.charAt(6);l=l=="T"||l=="F"||o.Qb()!=0,this.J[6]=l?1:0}this.ea[7]&&(o=h.pi.aq(o),this.J[7]=o?0:-1),this.Fr(n,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},a.prototype.$D=function(n){if(this.ea[0]){var o=this.Xc.charAt(0);o=o=="T"||o=="F"||n.Qb()!=0,this.J[0]=o?1:0}this.ea[1]&&(n=h.pi.aq(n),this.J[1]=n?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},a.prototype.Eu=function(n){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(n,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},a.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},a.prototype.PG=function(n,o){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var l=this.Xc.charAt(2);l=l=="T"||l=="F"||n.Qb()!=0,this.J[2]=l?1:0}this.ea[5]&&(n=h.pi.aq(n),this.J[5]=n?0:-1),this.ea[6]&&(l=(l=this.Xc.charAt(6))=="T"||l=="F"||o.Qb()!=0,this.J[6]=l?1:0),this.ea[7]&&(o=h.pi.aq(o),this.J[7]=o?0:-1)},a.prototype.Vz=function(n){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var o=this.Xc.charAt(2);o=o=="T"||o=="F"||n.Qb()!=0,this.J[2]=o?1:0}this.ea[5]&&(n=h.pi.aq(n),this.J[5]=n?0:-1),this.J[6]=0},a.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},a.prototype.yN=function(n,o,l){var d=!0;return this.ea[0]&&(this.DS(n,o),d=d&&this.pc(0)),this.ea[1]&&(this.zS(n,o,l,this.kh),d=d&&this.pc(1)),this.ea[2]&&(this.AS(n,o),d=d&&this.pc(2)),this.ea[3]&&(this.FN(n,o,l,this.kh),d=d&&this.pc(3)),this.ea[4]&&(this.CN(n,o,l,this.kh),d=d&&this.pc(4)),this.ea[5]&&(this.DN(n,o,l),d=d&&this.pc(5)),this.ea[6]&&(this.lQ(n,o),d=d&&this.pc(6)),this.ea[7]&&(this.kQ(n,o,l,this.kh),d=d&&this.pc(7)),d},a.prototype.mT=function(n,o,l){var d=!0;return this.ea[0]&&(this.GS(n,o,l,this.Yh,this.kh),d=d&&this.pc(0)),this.ea[1]&&(this.uG(n,o,l,this.Yh,this.kh,1),d=d&&this.pc(1)),this.ea[2]&&(this.vG(n,o,l,2),d=d&&this.pc(2)),this.ea[3]&&(this.uG(n,l,o,this.kh,this.Yh,3),d=d&&this.pc(3)),this.ea[4]&&(this.HN(n,o,l,this.Yh,this.kh),d=d&&this.pc(4)),this.ea[5]&&(this.fE(n,l,this.Yh,5),d=d&&this.pc(5)),this.ea[6]&&(this.vG(n,l,o,6),d=d&&this.pc(6)),this.ea[7]&&(this.fE(n,o,this.kh,7),d=d&&this.pc(7)),d},a.prototype.aE=function(n,o,l){var d=!0;return this.ea[0]&&(this.ES(n,o),d=d&&this.pc(0)),this.ea[2]&&(this.BS(n,o),d=d&&this.pc(2)),this.ea[3]&&(this.GN(n,o,l),d=d&&this.pc(3)),this.ea[5]&&(this.EN(n,o),d=d&&this.pc(5)),this.ea[6]&&(this.mQ(n,o),d=d&&this.pc(6)),d},a.prototype.QG=function(n,o,l){var d=!0;return this.ea[0]&&(this.HS(n,o,l,this.Yh),d=d&&this.pc(0)),this.ea[2]&&(this.FS(n,l),d=d&&this.pc(2)),this.ea[3]&&(this.JN(n,o,l,this.Yh),d=d&&this.pc(3)),this.ea[5]&&(this.IN(n,o,l,this.Yh),d=d&&this.pc(5)),this.ea[6]&&(this.nQ(n,o,l),d=d&&this.pc(6)),d},a.prototype.ZU=function(n,o,l){var d=!0;return this.ea[0]&&(this.IS(n,o,l),d=d&&this.pc(0)),this.ea[2]&&(this.wG(n,o,l,2),d=d&&this.pc(2)),this.ea[6]&&(this.wG(n,l,o,6),d=d&&this.pc(6)),d},a.prototype.CS=function(n,o,l){this.J[0]!=2&&(n=this.j.af(n))&o&&n&l&&(this.J[0]=2)},a.prototype.sG=function(n,o,l){if(this.J[l]!=1){var d=this.j.af(this.j.xa(n));this.j.af(n)&o&&d&o&&(this.J[l]=1)}},a.prototype.tG=function(n,o,l,d){this.J[d]!=2&&(n=this.j.af(n))&o&&!(n&l)&&(this.J[d]=2)},a.prototype.BN=function(n,o,l){if(this.J[4]!=1){var d=this.j.dh(n);d&o&&d&l?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1&&(n=this.j.xd(this.j.uf(n)))&o&&n&l&&(this.J[4]=0)}},a.prototype.eE=function(n,o,l){if(this.J[l]!=1){var d=this.j.af(this.j.xa(n));!(this.j.af(n)&o)&&!(d&o)&&(this.J[l]=1)}},a.prototype.DS=function(n,o){if(this.J[0]!=1){var l=this.j.af(this.j.xa(n));this.j.af(n)&o&&l&o&&(this.J[0]=1)}},a.prototype.zS=function(n,o,l,d){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1){var p=this.j.uf(n),y=this.j.xd(p);!(y&o)&&this.j.af(n)&o&&(n=this.j.ng(p,d),y&l&&n%2!=0&&(this.J[1]=0))}},a.prototype.AS=function(n,o){this.J[2]!=2&&this.j.dh(n)&o&&(this.J[2]=2)},a.prototype.FN=function(n,o,l,d){if(this.J[3]!=1){var p=this.j.dh(n);p&o&&p&l?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1&&(p=this.j.uf(n),(n=this.j.xd(p))&o&&(o=this.j.ng(p,d),n&l&&o%2==0&&(this.J[3]=0)))}},a.prototype.CN=function(n,o,l,d){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1){var p=this.j.uf(n);(n=this.j.xd(p))&o&&(o=this.j.ng(p,d),n&l&&o%2!=0&&(this.J[4]=0))}},a.prototype.DN=function(n,o,l){this.J[5]!=1&&(n=this.j.dh(n))&o&&!(n&l)&&(this.J[5]=1)},a.prototype.lQ=function(n,o){if(this.J[6]!=1){var l=this.j.af(this.j.xa(n));!(this.j.af(n)&o)&&!(l&o)&&(this.J[6]=1)}},a.prototype.kQ=function(n,o,l,d){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1){var p=this.j.uf(n),y=this.j.xd(p);!(y&o)&&!(this.j.af(n)&o)&&(n=this.j.ng(p,d),y&l&&n%2!=0&&(this.J[7]=0))}},a.prototype.GS=function(n,o,l,d,p){if(this.J[0]!=1){var y=this.j.dh(n);y&o&&y&l?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1&&(n=this.j.uf(n),(y=this.j.xd(n))&o&&y&l&&(o=this.j.ng(n,d),p=this.j.ng(n,p),o%2==0&&p%2==0&&(this.J[0]=0)))}},a.prototype.uG=function(n,o,l,d,p,y){if(this.J[y]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1){n=this.j.uf(n);var v=this.j.xd(n);v&o&&v&l&&(o=this.j.ng(n,d),p=this.j.ng(n,p),o%2==0&&p%2!=0&&(this.J[y]=0))}},a.prototype.vG=function(n,o,l,d){this.J[d]!=1&&(n=this.j.dh(n))&o&&!(n&l)&&(this.J[d]=1)},a.prototype.HN=function(n,o,l,d,p){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1){n=this.j.uf(n);var y=this.j.xd(n);y&o&&y&l&&(o=this.j.ng(n,d),p=this.j.ng(n,p),o%2!=0&&p%2!=0&&(this.J[4]=0))}},a.prototype.fE=function(n,o,l,d){this.J[d]!=0&&this.j.Ab(this.j.te(this.j.xa(n)),this.Ui)!=1&&(n=this.j.uf(n),!(this.j.xd(n)&o)&&this.j.ng(n,l)%2!=0&&(this.J[d]=0))},a.prototype.ES=function(n,o){this.J[0]!=0&&!(this.j.xd(n)&o)&&this.j.hk(this.j.cz(n))&o&&(this.J[0]=0)},a.prototype.BS=function(n,o){this.J[2]!=2&&this.j.xd(n)&o&&(this.J[2]=2)},a.prototype.GN=function(n,o,l){this.J[3]!=0&&(n=this.j.xd(n))&o&&n&l&&(this.J[3]=0)},a.prototype.EN=function(n,o){this.J[5]!=1&&this.j.xd(n)&o&&(this.J[5]=1)},a.prototype.mQ=function(n,o){this.J[6]!=0&&!(this.j.xd(n)&o)&&!(this.j.hk(this.j.cz(n))&o)&&(this.J[6]=0)},a.prototype.HS=function(n,o,l,d){if(this.J[0]!=0){var p=this.j.xd(n);p&o&&p&l&&this.j.ng(n,d)%2==0&&(this.J[0]=0)}},a.prototype.FS=function(n,o){this.J[2]!=1&&(this.j.Me(n)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.xd(n)&o)&&(this.J[2]=0))},a.prototype.JN=function(n,o,l,d){if(this.J[3]!=0){var p=this.j.xd(n);p&o&&p&l&&this.j.ng(n,d)%2!=0&&(this.J[3]=0)}},a.prototype.IN=function(n,o,l,d){if(this.J[5]!=0){var p=this.j.xd(n);p&o&&!(p&l)&&this.j.ng(n,d)%2!=0&&(this.J[5]=0)}},a.prototype.nQ=function(n,o,l){this.J[6]!=0&&!((n=this.j.xd(n))&o)&&n&l&&(this.J[6]=0)},a.prototype.IS=function(n,o,l){this.J[0]!=0&&(n=this.j.xd(n))&o&&n&l&&(this.J[0]=0)},a.prototype.wG=function(n,o,l,d){this.J[d]!=0&&(n=this.j.xd(n))&o&&!(n&l)&&(this.J[d]=0)},a.prototype.Bp=function(n,o){var l=!1;n=this.j.La(n),o=this.j.La(o),this.Ui=this.j.$g();for(var d=this.j.Re;d!=-1;d=this.j.Rf(d)){var p=this.j.Me(d);if(p==-1){if(this.Sm!=-1)switch(this.Sm){case 3:l=this.aE(d,n,o);break;case 4:l=this.QG(d,n,o);break;default:throw h.i.fa("internal error")}}else{var y=p;do{var v=y;if(this.j.Ab(v,this.Ui)!=1)do{switch(this.vw){case 0:l=this.xN(v,n,o);break;case 1:l=this.yN(v,n,o);break;case 2:l=this.mT(v,n,o);break;default:throw h.i.fa("internal error")}if(l)break;this.j.Kb(v,this.Ui,1),v=this.j.jc(v)}while(v!=y&&!l);if(l)break;y=this.j.jc(this.j.xa(v))}while(y!=p);if(l)break}}l||this.UJ(),this.j.Jg(this.Ui)},a.prototype.Gy=function(n,o){var l=!1;n=this.j.La(n),o=this.j.La(o);for(var d=this.j.Re;d!=-1;d=this.j.Rf(d)){switch(this.Sm){case 3:l=this.aE(d,n,o);break;case 4:l=this.QG(d,n,o);break;case 5:l=this.ZU(d,n,o);break;default:throw h.i.Qa()}if(l)break}l||this.UJ()},a.prototype.er=function(n,o){this.j.dr(n,o)},a.prototype.Wo=function(n,o,l){this.YP(n,o,l),this.er(n,l)},a.prototype.YP=function(n,o,l){for(h.Tk.V(n,o,l,!1),n.Gp(0,!0,!0),o=n.ld;o!=-1;o=n.ue(o))n.ic(o)==1736&&h.rn.V(n,o,-1,!1,l)},a.WE=function(n,o){var l=n.getType();return h.aa.yd(l)?((o=new h.Ta(n.description)).oc(n,!0),o):l==197?(l=new h.l,n.A(l),l.ca()<=o&&l.R()<=o?(o=new h.Sa(n.description),n.sf(o),o):l.ca()<=o||l.R()<=o?(o=new h.Ta(n.description),l=new h.Sa,n.Hf(0,l),o.nf(l),n.Hf(2,l),o.lineTo(l),o):((o=new h.Da(n.description)).ad(n,!1),o)):n},a}(),h.am=P}(Y||(Y={})),function(h){var P=function(){function a(n){this.Em=new h.ia(0),this.dw=new h.ia(0),this.wt=new h.h,this.xt=new h.h,this.g=n,this.Hs=-1}return a.prototype.bc=function(n){return this.g.bc(this.zz(n))},a.prototype.Bv=function(n){var o=this.iz(n);if(n=this.HF(n),this.g.Ma(o)==n){var l=o;o=n,n=l}return this.g.Gc(o,this.wt),this.g.Gc(n,this.xt),this.wt.y<this.xt.y},a.prototype.zz=function(n){var o=this.iz(n);return n=this.HF(n),this.g.U(o)==n?o:n},a.prototype.iz=function(n){return this.Em.get(n)},a.prototype.HF=function(n){return this.dw.get(n)},a.prototype.rF=function(n){this.Em.set(n,this.Hs),this.Hs=n},a.prototype.nI=function(n){if(this.Hs!=-1){var o=this.Hs;return this.Hs=this.Em.get(o),this.Em.set(o,n),this.dw.set(o,this.g.U(n)),o}return this.Em==null&&(this.Em=new h.ia(0),this.dw=new h.ia(0)),o=this.Em.size,this.Em.add(n),this.dw.add(this.g.U(n)),o},a.prototype.rz=function(n){return this.g.bd(this.iz(n))},a}();h.yY=P;var _=function(){function a(n){this.Be=n,this.ie=new h.yb,this.Nm=new h.yb,this.CH=0,this.Ao=null,this.yA=-1}return a.prototype.compare=function(n,o,l){l=n.ja(l);var d=this.Be.hb;if(this.yA==o)var p=this.CH;else this.Ao=d.bc(o),this.Ao==null?((n=d.g).ed(d.zz(o),this.ie),this.Ao=this.ie,p=this.ie.Pe(this.Be.yh,0)):p=this.Ao.Pe(this.Be.yh,0),this.CH=p,this.yA=o;if((n=d.bc(l))==null){(n=d.g).ed(d.zz(l),this.Nm),n=this.Nm;var y=this.Nm.Pe(this.Be.yh,0)}else y=n.Pe(this.Be.yh,0);return p==y&&(o=d.Bv(o),l=d.Bv(l),(o=.5*((l=Math.min(o?this.Ao.la:this.Ao.na,l?n.la:n.na))+this.Be.yh))==this.Be.yh&&(o=l),p=this.Ao.Pe(o,0),y=n.Pe(o,0)),p<y?-1:p>y?1:0},a.prototype.reset=function(){this.yA=-1},a}(),u=function(){function a(){this.Wm=this.Gl=null,this.fb=new h.Yj,this.fb.RP(),this.$d=new _(this),this.fb.Vo(this.$d)}return a.prototype.HQ=function(){var n=!1;if(this.fw&&(n=this.IQ()),this.g.da(this.X)==1){var o=this.g.Ob(this.X);return n=this.g.wz(o),this.g.PB(o,!0),0>n&&(n=this.g.Xa(o),this.g.pJ(n),this.g.Wg(o,this.g.Ma(n)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),o=this.g.Ob(this.X);o!=-1;o=this.g.Rb(o))this.g.gr(o,this.El,0),this.g.gr(o,this.wo,-1);o=new h.ia(0),this.yh=NaN;var l=new h.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var d=this.Gl.rc(this.Gl.je);d!=-1;d=this.Gl.lb(d)){var p=this.Gl.getData(d);if(this.g.Gc(p,l),l.y!=this.yh&&o.size!=0&&(n=this.ut(o)||n,this.$d.reset(),o.clear(!1)),o.add(p),this.yh=l.y,this.et==0)break}for(0<this.et&&(n=this.ut(o)||n,o.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),o=this.g.Ob(this.X);o!=-1;)if(this.g.sj(o,this.El)==3){for(this.g.PB(o,!0),l=o,o=this.g.sj(o,this.wo);o!=-1;)d=this.g.sj(o,this.wo),this.g.ZT(this.X,this.g.Rb(l),o),l=o,o=d;o=this.g.Rb(l)}else this.g.PB(o,!1),o=this.g.Rb(o);return this.g.CB(this.El),this.g.CB(this.wo),n},a.prototype.ut=function(n){return this.$V(n)},a.prototype.$V=function(n){var o=!1;this.hb==null&&(this.hb=new P(this.g)),this.Wm==null?(this.Wm=new h.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(n);for(var l=0,d=n.size;l<d;l++){var p=n.get(l);p!=-1&&this.oG(p,-1)}for(l=0;l<this.Wm.size&&0<this.et;l++)if(n=this.Wm.get(l),p=this.hb.rz(this.fb.ja(n)),d=-1,this.g.sj(p,this.El)==0){p=this.fb.we(n);for(var y,v=n;p!=-1;){var $=this.fb.ja(p),I=this.hb.rz($),k=this.g.sj(I,this.El);if(k!=0){d=I;break}v=p,p=this.fb.we(p)}p==-1?(y=!0,p=v):($=this.fb.ja(p),y=this.hb.Bv($),p=this.fb.lb(p),y=!y);do{if($=this.fb.ja(p),I=this.hb.rz($),(k=this.g.sj(I,this.El))==0&&(y!=this.hb.Bv($)&&(o=this.g.Xa(I),this.g.pJ(o),this.g.Wg(I,this.g.Ma(o)),o=!0),this.g.gr(I,this.El,y?3:2),y||(v=this.g.sj(d,this.wo),this.g.gr(d,this.wo,I),this.g.gr(I,this.wo,v)),this.et--,this.et==0))return o;d=I,v=p,p=this.fb.lb(p),y=!y}while(v!=n)}return o},a.prototype.ZV=function(n){for(var o=0,l=n.size;o<l;o++){var d=n.get(o),p=this.g.Pa(d,this.ro),y=this.g.Pa(d,this.Rs);if(p!=-1){var v=this.fb.ja(p);this.hb.rF(v),this.g.Ra(d,this.ro,-1)}y!=-1&&(v=this.fb.ja(y),this.hb.rF(v),this.g.Ra(d,this.Rs,-1)),v=-1,p!=-1&&y!=-1?(this.fb.vd(p,-1),this.fb.vd(y,-1),n.set(o,-1)):v=p!=-1?p:y,v!=-1&&(this.oG(d,v)||this.fb.vd(v,-1),n.set(o,-1))}},a.prototype.oG=function(n,o){var l=new h.h,d=new h.h;this.g.Gc(n,l);var p=this.g.U(n);this.g.Gc(p,d);var y=!1;if(l.y<d.y){y=!0;var v=this.hb.nI(n);if(o==-1)var $=this.fb.addElement(v,-1);else $=o,this.fb.Sj($,v);(v=this.g.Pa(p,this.ro))==-1?this.g.Ra(p,this.ro,$):this.g.Ra(p,this.Rs,$),p=this.g.bd(n),this.g.sj(p,this.El)==0&&this.Wm.add($)}return p=this.g.Ma(n),this.g.Gc(p,d),l.y<d.y&&(y=!0,v=this.hb.nI(p),o==-1?$=this.fb.addElement(v,-1):($=o,this.fb.Sj($,v)),(v=this.g.Pa(p,this.ro))==-1?this.g.Ra(p,this.ro,$):this.g.Ra(p,this.Rs,$),p=this.g.bd(n),this.g.sj(p,this.El)==0&&this.Wm.add($)),y},a.V=function(n,o,l,d){var p=new a;return p.g=n,p.X=o,p.Gl=l,p.fw=d,p.HQ()},a.prototype.IQ=function(){var n=new h.ia(0),o=new h.ia(0),l=-1,d=-1,p=new h.h;p.Rc();for(var y=-1,v=-1,$=-1,I=new h.h,k=this.Gl.rc(this.Gl.je);k!=-1;k=this.Gl.lb(k)){var O=this.Gl.getData(k);this.g.Gc(O,I);var F=this.g.bd(O);p.qb(I)&&v==F?(d==-1&&(l=this.g.Ky(),d=this.g.Gd()),$==-1&&($=o.size,this.g.Ra(y,d,$),o.add(1),this.g.sj(F,l)==-1&&(this.g.gr(F,l,y),n.add(F))),this.g.Ra(O,d,$),o.bX(o.Fc()+1)):($=-1,p.L(I)),y=O,v=F}if(n.size==0)return!1;for(p=new h.ia(0),y=new h.ia(0),v=0,$=n.size;v<$;v++){F=n.get(v);var j=this.g.sj(F,l);for(O=this.g.Pa(j,d),p.clear(!1),y.clear(!1),p.add(j),y.add(O),O=this.g.U(j);O!=j;O=this.g.U(O)){var z=O;if((I=this.g.Pa(z,d))!=-1)if(y.size==0)y.add(I),p.add(z);else if(y.Fc()==I){k=p.Fc();var B=this.g.U(k);j=this.g.U(z),this.g.Bc(k,j),this.g.Cc(j,k),this.g.Bc(z,B),this.g.Cc(B,z),z=[!1],B=this.g.nG(this.X,B,this.g.Xa(F),z),this.g.Ra(O,d,-1),z[0]&&this.g.Jf(F,j),O=this.g.Ja(F),O-=j=this.g.Ja(B),this.g.Vj(F,O),o.set(I,o.get(I)-1),o.get(I)==1&&(o.set(I,0),y.If(),p.If()),O=j=k}else p.add(O),y.add(I)}}return this.g.CB(l),this.g.Td(d),!0},a}();h.WL=u}(Y||(Y={})),function(h){var P=function(){function _(){}return _.prototype.ig=function(){this.PA=this.sb=null},_.prototype.get=function(){return this.PA},_.prototype.set=function(u){if(this.PA=u,u!=null)throw u.getType()==322&&(this.sb=u),h.i.Qa()},_.prototype.create=function(u){if(u!=322)throw h.i.fa("Not Implemented");this.Or()},_.prototype.Or=function(){this.sb==null&&(this.sb=new h.yb),this.PA=this.sb},_}();h.ig=P}(Y||(Y={})),function(h){(h=h.XL||(h.XL={}))[h.enumLineSeg=1]="enumLineSeg",h[h.enumBezierSeg=2]="enumBezierSeg",h[h.enumArcSeg=4]="enumArcSeg",h[h.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",h[h.enumSegmentMask=7]="enumSegmentMask",h[h.enumDensified=8]="enumDensified"}(Y||(Y={})),function(h){var P=function(u){this.$i=u,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},_=function(){function u(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new h.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return u.prototype.wB=function(a){if(a!=null){for(var n=0,o=a.length;n<o;n++)this.rW(a[n]);a.length=0}},u.prototype.rW=function(a){a.$i=null,this.Iq.push(a)},u.prototype.Ow=function(a){if(this.Iq.length===0)var n=new P(a);else(n=this.Iq[this.Iq.length-1]).$i=a,--this.Iq.length;return n},u.prototype.SR=function(a,n){return a==0?this.$s[n]:this.yw[n]},u.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new h.ig);var a=this.MA[this.Cw];return this.Cw++,a},u.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},u.prototype.Oo=function(a){this.mo.push(this.Ow(a))},u.prototype.ol=function(a){return a==0?this.$s.length:this.yw.length},u.prototype.Vp=function(a,n){return this.SR(a,n).$i},u.prototype.Ea=function(a,n){if(this.mo.length!=2)throw h.i.Qa();this.qa=a;var o=h.lc.ox(.01*a),l=!1,d=this.mo[0],p=this.mo[1];if(n||5&d.$i.zr(p.$i,a,!0)){if(d.$i.getType()==322){var y=d.$i;if(p.$i.getType()==322){n=p.$i;var v=h.yb.Zx(y,n,null,this.Fq,this.Bk,a);if(v==0)throw h.yb.Zx(y,n,null,this.Fq,this.Bk,a),h.i.Qa();a=Array(9),h.O.$u(a,null);for(var $=0;$<v;$++){var I=this.Fq[$],k=this.Bk[$],O=d.sB,F=1;I==0?(O=d.tB,F=d.rC):I==1&&(O=d.rB,F=d.qC);var j=p.sB,z=1;k==0?(j=p.tB,z=p.rC):k==1&&(j=p.rB,z=p.qC);var B=new h.h;O==j?(O=new h.h,y.hc(I,O),I=new h.h,n.hc(k,I),z/=k=F+z,h.lc.OG(O,I,z,B),h.h.yc(B,O)+h.h.yc(B,I)>o&&(l=!0)):O>j?(y.hc(I,B),I=new h.h,n.hc(k,I),h.h.yc(B,I)>o&&(l=!0)):(n.hc(k,B),O=new h.h,y.hc(I,O),h.h.yc(B,O)>o&&(l=!0)),a[$]=B}for(d=0,p=-1,$=0;$<=v;$++)(z=$<v?this.Fq[$]:1)!=d&&(o=this.aB(),y.ah(d,z,o),p!=-1&&o.get().Dc(a[p]),$!=v&&o.get().Qc(a[$]),d=z,this.$s.push(this.Ow(o.get()))),p=$;for(y=[0,0,0,0,0,0,0,0,0],$=0;$<v;$++)y[$]=$;for(1<v&&this.Bk[0]>this.Bk[1]&&(z=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=z,$=y[0],y[0]=y[1],y[1]=$),d=0,p=-1,$=0;$<=v;$++)(z=$<v?this.Bk[$]:1)!=d&&(o=this.aB(),n.ah(d,z,o),p!=-1&&(d=y[p],o.get().Dc(a[d])),$!=v&&(d=y[$],o.get().Qc(a[d])),d=z,this.yw.push(this.Ow(o.get()))),p=$;return l}}throw h.i.Qa()}return!1},u.prototype.Kz=function(a,n,o){if(n.copyTo(this.Bf),this.mo.length!=1)throw h.i.Qa();this.qa=a;var l=this.mo[0];if(o||l.$i.ru(n.D(),a,!0)){if(l.$i.getType()!=322)throw h.i.Qa();var d=(a=l.$i).fe(n.D(),!1);this.Fq[0]=d;var p=l.sB;for(o=1,d==0?(p=l.tB,o=l.rC):d==1&&(p=l.rB,o=l.qC),l=new h.h,p==0?(p=new h.h,a.hc(d,p),n=n.D(),h.lc.OG(p,n,1/(o+1),l)):0<p?(l=new h.h,a.hc(d,l)):l=n.D(),o=0,d=-1,p=0;1>=p;p++){if((n=1>p?this.Fq[p]:1)!=o){var y=this.aB();a.ah(o,n,y),d!=-1&&y.get().Dc(l),p!=1&&y.get().Qc(l),o=n,this.$s.push(this.Ow(y.get()))}d=p}this.Bf.Cb(l)}},u}();h.TC=_}(Y||(Y={})),function(h){var P=function(){function _(u){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=u,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new h.h}return _.prototype.BW=function(u){if(this.ib!=u.ib)throw h.i.Hb();this.zf=u.zf,this.Jd=u.Jd,this.gb=u.gb,this.Cl=u.Cl,this.ag=u.ag,this.zm=u.zm,this.rk=null},_.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw h.i.ce();this.Jd++}return this.rk},_.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw h.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},_.prototype.DW=function(){this.zf=-1,this.Jd=0},_.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},_.prototype.Vb=function(u,a){if(a===void 0&&(a=-1),0<=this.gb&&this.gb<this.ib.da()){var n=this.IM();if(u>=n&&u<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=u-n)}a=0<=a&&a<this.ib.da()&&u>=this.ib.Ba(a)&&u<this.ib.Vc(a)?a:this.ib.sz(u),this.Cl=a+1,this.gb=a,this.zf=-1,this.Jd=u-this.ib.Ba(a),this.ag=this.Wx(a),this.ib.Ba(this.gb),this.ib.dc(this.gb)},_.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},_.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},_.prototype.Wx=function(u){if(this.ib.Ac())return 0;var a=1;return this.ib.dc(u)&&(a=0),this.ib.Ja(u)-a},_.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},_.prototype.JB=function(){this.zm=!0},_.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},_.prototype.IM=function(){return this.ib.Ba(this.gb)},_.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},_.prototype.vm=function(){return this.zf==0},_.prototype.Qn=function(){return this.zf==this.ag-1},_.prototype.Ha=function(){return this.Jd<this.ag},_.prototype.Ez=function(){return 0<this.Jd},_.prototype.Of=function(){var u=new _(this.ib);return u.zf=this.zf,u.Jd=this.Jd,u.ag=this.ag,u.gb=this.gb,u.Cl=this.Cl,u.ib=this.ib,u.zm=this.zm,u},_.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw h.i.ce();this.zf=this.Jd;var u=this.wb();this.ib.mc();var a=this.ib.Ve,n=1;switch(a!=null&&(n=7&a.read(u)),a=this.ib.description,n){case 1:this.sb==null&&(this.sb=new h.yb),this.rk=this.sb;break;case 2:throw h.i.fa("internal error");default:throw h.i.Qa()}this.rk.Nf(a),n=this.ik(),this.ib.Gc(u,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(n,this.Ds),this.rk.Qc(this.Ds);for(var o=1,l=a.Aa;o<l;o++)for(var d=a.kd(o),p=h.ra.Va(d),y=0;y<p;y++){var v=this.ib.Uc(d,u,y);this.rk.YB(d,y,v),v=this.ib.Uc(d,n,y),this.rk.OB(d,y,v)}},_.prototype.$S=function(){return this.gb==this.ib.da()-1},_.prototype.Pn=function(){var u=this.ib.VR();return u!=null&&(7&u.read(this.zf))!=1},_}();h.YL=P}(Y||(Y={})),function(h){var P=function(){function _(u){u instanceof h.aa?(this.xH=u,this.ya=-1,this.Ei=1):(this.vT=u.slice(0),this.ya=-1,this.Ei=u.length)}return _.prototype.La=function(){return this.ya},_.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},_.prototype.qe=function(){},_}();h.Zc=P}(Y||(Y={})),function(h){var P=function(){this.next=null},_=function(){function u(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return u.prototype.AX=function(a,n,o){this.oi=a,this.pl=n,this.Jh=this.Wl=null,this.Tq=0,this.vy=o,this.gn==null&&(this.gn=h.O.lg(384,0)),this.nK()},u.prototype.R=function(){return this.oi},u.prototype.ca=function(){return this.pl},u.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},u.prototype.nK=function(){if(0<this.Tq){for(var a=0;a<this.pl;a++){for(var n=this.Wl[a];n!=null;){var o=n;n=n.next,o.next=null}this.Wl[a]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},u.prototype.iJ=function(a){for(this.kF=a==u.Cx,a=this.Lw;a<=this.Kw;a++)this.sN(),this.lN(a),this.ZP();this.nK()},u.prototype.jy=function(a,n,o,l){if(n!=l){var d=1;if(n>l&&(d=a,a=o,o=d,d=n,n=l,l=d,d=-1),!(0>l||n>=this.pl)){0>a&&0>o?o=a=-1:a>=this.oi&&o>=this.oi&&(o=a=this.oi);var p=(o-a)/(l-n);l>this.pl&&(o=p*((l=this.pl)-n)+a),0>n&&(a=p*(0-n)+a,n=0);var y=Math.max(this.oi+1,8388607);-8388607>a?(n=(0-a)/p+n,a=0):a>y&&(n=(this.oi-a)/p+n,a=this.oi),-8388607>o?l=(0-a)/p+n:o>y&&(l=(this.oi-a)/p+n),(n=h.O.truncate(n))!=(l=h.O.truncate(l))&&((o=new P).x=h.O.truncate(4294967296*a),o.y=n,o.H=l,o.WP=h.O.truncate(4294967296*p),o.dir=d,this.Wl==null&&(this.Wl=h.O.lg(this.pl,null)),o.next=this.Wl[o.y],this.Wl[o.y]=o,o.y<this.Lw&&(this.Lw=o.y),o.H>this.Kw&&(this.Kw=o.H),this.Tq++)}}},u.prototype.sN=function(){if(this.Jh!=null){for(var a=!1,n=null,o=this.Jh;o!=null;)if(o.y++,o.y==o.H){var l=o;o=o.next,n!=null?n.next=o:this.Jh=o,l.next=null}else o.x+=o.WP,n!=null&&n.x>o.x&&(a=!0),n=o,o=o.next;a&&(this.Jh=this.fK(this.Jh))}},u.prototype.lN=function(a){if(!(a>=this.pl)){var n=this.Wl[a];if(n!=null){this.Wl[a]=null,n=this.fK(n),this.Tq-=this.gK,a=this.Jh;for(var o=!0,l=n,d=null;a!=null&&l!=null;)a.x>l.x?(o&&(this.Jh=l),o=l.next,l.next=a,d!=null&&(d.next=l),d=l,l=o):(o=a.next,a.next=l,d!=null&&(d.next=a),d=a,a=o),o=!1;this.Jh==null&&(this.Jh=n)}}},u.eK=function(a,n){return 0>a?0:a>n?n:a},u.prototype.ZP=function(){if(this.Jh!=null){for(var a=0,n=this.Jh,o=h.O.truncate(h.O.XG(n.x)),l=n.next;l!=null;l=l.next)if(a=this.kF?1^a:a+l.dir,l.x>n.x){var d=h.O.truncate(h.O.XG(l.x));a!=0&&(n=u.eK(o,this.oi),(o=u.eK(d,this.oi))>n&&n<this.oi&&(this.gn[this.Ol++]=n,this.gn[this.Ol++]=o,this.gn[this.Ol++]=l.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),n=l,o=d}}},u.prototype.fK=function(a){for(var n=0,o=a;o!=null;o=o.next)n++;if(this.gK=n,n==1)return a;this.Kf==null?this.Kf=h.O.lg(Math.max(n,16),null):this.Kf.length<n&&(this.Kf=h.O.lg(Math.max(n,2*this.Kf.length),null));var l=0;for(o=a;o!=null;o=o.next)this.Kf[l++]=o;for(n==2?this.Kf[0].x>this.Kf[1].x&&(a=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=a):u.AN(this.Kf,n,function(d,p){return d==p?0:d.x<p.x?-1:d.x>p.x?1:0}),a=this.Kf[0],this.Kf[0]=null,o=a,l=1;l<n;l++)o.next=this.Kf[l],o=this.Kf[l],this.Kf[l]=null;return o.next=null,a},u.AN=function(a,n,o){if(n==a.length)a.sort(o);else{var l=a.slice(0,0),d=a.slice(n);n=a.slice(0,n).sort(o),a.length=0,a.push.apply(a,l.concat(n).concat(d))}},u.Cx=0,u}();h.Px=_}(Y||(Y={})),function(h){var P=function(){function _(){}return _.prototype.ui=function(u,a){var n=this.g.Pa(u,this.Pq);if(this.Dl==n&&(this.Dl=this.oe.lb(this.Dl)),this.ho==n&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,n),this.bk(u),a&&(a=this.g.bd(u))!=-1&&this.g.Xa(a)==u){var o=this.g.U(u);if(o!=u){if((n=this.g.bd(o))==a)return void this.g.Jf(a,o);if((o=this.g.Ma(u))!=u&&(n=this.g.bd(o))==a)return void this.g.Jf(a,o)}this.g.Jf(a,-1),this.g.Wg(a,-1)}},_.prototype.pD=function(){for(var u=!1,a=new h.h;;){this.Wh==null?(this.Wh=new h.ia(0),this.zs=new h.ia(0),this.xe=new h.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var n=this.ho,o=0,l=!0;n!=this.Dl;){var d=this.oe.getData(n),p=new h.h;this.g.Gc(d,p),l&&(this.g.Gc(d,a),l=!1),p=this.g.Ma(d);var y=this.g.U(d);this.g.Pa(p,this.zg)!=-559038737&&(this.Wh.add(p),this.g.Ra(p,this.zg,-559038737),this.zs.add(d),this.xe.add(o++)),this.g.Pa(y,this.zg)!=-559038737&&(this.Wh.add(y),this.g.Ra(y,this.zg,-559038737),this.zs.add(d),this.xe.add(o++)),n=this.oe.lb(n)}if(2>this.Wh.size)break;var v=this;for(this.xe.Vd(0,this.xe.size,function($,I){return v.pM($,I)}),n=0,o=this.xe.size;n<o;n++)l=this.xe.get(n),l=this.Wh.get(l),this.g.Ra(l,this.zg,n),p=new h.h,this.g.Gc(l,p);for(p=this.TM(a),n=0,o=this.xe.size;n<o;n++)(l=this.xe.get(n))!=-1&&(l=this.Wh.get(l),this.g.Ra(l,this.zg,-1));if(!p)break;u=!0}return u},_.prototype.TM=function(u){for(var a=!1,n=!0;n;){n=!1;var o=0;this.xe.get(o)==-1&&(o=this.cm(o));for(var l=this.cm(o),d=0,p=this.xe.size;d<p&&o!=-1&&l!=-1&&o!=l;d++){var y=this.xe.get(o);l=this.xe.get(l),y=this.Wh.get(y),l=this.Wh.get(l);var v=this.g.U(y);this.g.Dv(v,u)||(v=this.g.Ma(y));var $=this.g.U(l);this.g.Dv($,u)||($=this.g.Ma(l));var I=this.pu(v,y),k=this.pu($,l),O=I?this.g.Ma(v):this.g.U(v),F=k?this.g.Ma($):this.g.U($),j=!1;(this.sp(v)||this.sp($)||this.sp(y)||this.sp(l)||this.sp(O)||this.sp(F))&&(j=!0),!j&&this.g.fq(y,l)&&(j=!0,this.tD(I,k,v,y,$,l)),!j&&this.g.fq(O,F)&&(j=!0,this.tD(!I,!k,v,O,$,F)),j&&(a=!0),n=n||j,o=this.cm(o),l=this.cm(o)}}if(!a)for(o=0,this.xe.get(o)==-1&&(o=this.cm(o)),l=this.cm(o),d=0,p=this.xe.size;d<p&&o!=-1&&l!=-1&&o!=l;d++)y=this.xe.get(o),l=this.xe.get(l),y=this.Wh.get(y),l=this.Wh.get(l),v=this.g.U(y),this.g.Dv(v,u)||(v=this.g.Ma(y)),$=this.g.U(l),this.g.Dv($,u)||($=this.g.Ma(l)),I=this.pu(v,y),k=this.pu($,l),O=I?this.g.Ma(v):this.g.U(v),F=k?this.g.Ma($):this.g.U($),this.DM(I,k,y,v,O,l,$,F)&&(a=!0),o=this.cm(o),l=this.cm(o);return a},_.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new h.Fg().MU(this.fw,this.g,this.X,this.nd);var u=!1,a=!0;this.zg=this.Pq=-1;var n=this.g.I(this.X),o=new h.ia(0);o.Jb(n);for(var l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var d=this.g.Xa(l),p=0,y=this.g.Ja(l);p<y;p++)o.add(d),d=this.g.U(d);var v=this.g.td.o,$=this.g.td.stride;this.g.vb.mc();var I=this.g.vb.za[0].o;for(o.Vd(0,n,function(O,F){var j=v[$*O],z=v[$*F],B=I[2*j];j=I[2*j+1];var H=I[2*z];return(B=j<(z=I[2*z+1])?-1:j>z?1:B<H?-1:B>H?1:0)==0&&(B=(O=v[$*O+3])<(F=v[$*F+3])?-1:O==F?0:1),B}),this.Pq=this.g.Gd(),this.oe=new h.jp,this.RA=this.oe.Ph(0),this.oe.fn(n),l=0;l<n;l++)d=o.get(l),p=this.oe.addElement(this.RA,d),this.g.Ra(d,this.Pq,p);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(u=!0);a;){a=!1,n=0,o=!1;do{o=!1,this.ho=-1,y=0,l=new h.h,p=new h.h;for(var k=this.oe.rc(this.RA);k!=-1;)d=this.oe.getData(k),this.ho!=-1?(this.g.Gc(d,p),l.qb(p)?y++:(l.L(p),this.Dl=k,0<y&&(d=this.pD())&&(o=!0,this.Dl!=-1&&(d=this.oe.getData(this.Dl),this.g.Gc(d,l))),this.ho=k=this.Dl,y=0)):(this.ho=k,this.g.Gc(this.oe.getData(k),l),y=0),k!=-1&&(k=this.oe.lb(k));if(this.Dl=-1,0<y&&(d=this.pD())&&(o=!0),10<n++)throw h.i.Qa();o&&this.GM(),this.cD()&&(o=!0),a=a||o&&!1,u=u||o}while(o)}return this.g.Td(this.Pq),this.g.Td(this.zg),h.WL.V(this.g,this.X,this.oe,this.fw)||u},_.prototype.pu=function(u,a){return this.g.U(a)!=u},_.prototype.DM=function(u,a,n,o,l,d,p,y){if(o==p)return this.bk(n),this.bk(d),!1;var v=this.g.Pa(n,this.zg),$=this.g.Pa(l,this.zg),I=this.g.Pa(d,this.zg),k=this.g.Pa(y,this.zg),O=[0,0,0,0];for((n=[0,0,0,0,0,0,0,0])[0]=0,O[0]=v,n[1]=0,O[1]=$,n[2]=1,O[2]=I,n[3]=1,O[3]=k,v=1;4>v;v++){for($=O[v],I=n[v],k=v-1;0<=k&&O[k]>$;)O[k+1]=O[k],n[k+1]=n[k],k--;O[k+1]=$,n[k+1]=I}return O=0,n[0]!=0&&(O|=1),n[1]!=0&&(O|=2),n[2]!=0&&(O|=4),n[3]!=0&&(O|=8),(O==5||O==10)&&(u==a?u?(this.g.Bc(y,o),this.g.Cc(o,y),this.g.Bc(l,p),this.g.Cc(p,l)):(this.g.Cc(y,o),this.g.Bc(o,y),this.g.Cc(l,p),this.g.Bc(p,l)):u?(this.g.Cc(o,d),this.g.Bc(d,o),this.g.Cc(p,l),this.g.Bc(l,p)):(this.g.Bc(o,d),this.g.Cc(d,o),this.g.Bc(p,l),this.g.Cc(l,p)),!0)},_.prototype.tD=function(u,a,n,o,l,d){this.MY?this.VM():this.UM(u,a,n,o,l,d)},_.prototype.VM=function(){throw h.i.fa("not implemented.")},_.prototype.UM=function(u,a,n,o,l,d){if(u!=a)u?(this.g.Bc(n,l),this.g.Cc(l,n),this.g.Bc(d,o),this.g.Cc(o,d),this.vn(l,n),this.ui(l,!0),this.g.mi(l,!0),this.bk(n),this.vn(d,o),this.ui(d,!0),this.g.mi(d,!1)):(this.g.Bc(l,n),this.g.Cc(n,l),this.g.Bc(o,d),this.g.Cc(d,o),this.vn(l,n),this.ui(l,!0),this.g.mi(l,!1),this.bk(n),this.vn(d,o),this.ui(d,!0),this.g.mi(d,!0)),this.bk(o);else{var p=u?n:o,y=a?l:d;for(u=u?o:n,a=a?d:l,l=!1,this.g.Bc(p,y),this.g.Bc(y,p),this.g.Cc(u,a),this.g.Cc(a,u),d=a;d!=y;)n=this.g.Ma(d),o=this.g.U(d),this.g.Cc(d,o),this.g.Bc(d,n),l=l||d==p,d=o;l||(n=this.g.Ma(y),o=this.g.U(y),this.g.Cc(y,o),this.g.Bc(y,n)),this.vn(y,p),this.ui(y,!0),this.g.mi(y,!1),this.bk(p),this.vn(a,u),this.ui(a,!0),this.g.mi(a,!1),this.bk(u)}},_.prototype.cD=function(){for(var u=!1,a=this.g.Ob(this.X);a!=-1;){for(var n=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l&&1<l;){var d=this.g.Ma(n),p=this.g.U(n);this.g.fq(d,p)?(u=!0,this.ui(n,!1),this.g.pd(n,!0),this.ui(p,!1),this.g.pd(p,!0),n=d,o=0,l=this.g.Ja(a)):(n=p,o++)}if(2>this.g.Ja(a)){for(u=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++)this.ui(u,!1),u=this.g.U(u);a=this.g.Zq(a),u=!0}else a=this.g.Rb(a)}return u},_.prototype.sp=function(u){for(var a=!1;;){var n=this.g.U(u),o=this.g.Ma(u);if(n==u)return this.ui(u,!0),this.g.mi(u,!1),!0;if(!this.g.fq(n,o)||(a=!0,this.bk(o),this.bk(n),this.ui(u,!0),this.g.mi(u,!1),this.vn(n,o),this.ui(n,!0),this.g.mi(n,!0),n==o))break;u=o}return a},_.prototype.GM=function(){for(var u=0,a=this.oe.rc(this.oe.je);a!=-1;a=this.oe.lb(a)){var n=this.oe.getData(a);this.g.aj(n,-1)}for(var o=0,l=this.g.Ob(this.X);l!=-1;)if((a=this.g.Xa(l))==-1||this.g.bd(a)!=-1)n=l,l=this.g.Rb(l),this.g.$q(n);else{this.g.aj(a,l);var d=1;for(n=this.g.U(a);n!=a;n=this.g.U(n))this.g.aj(n,l),d++;this.g.cp(l,!1),this.g.Vj(l,d),this.g.Wg(l,this.g.Ma(a)),o+=d,u++,l=this.g.Rb(l)}for(a=this.oe.rc(this.oe.je);a!=-1;a=this.oe.lb(a))n=this.oe.getData(a),this.g.bd(n)==-1&&(l=this.g.nG(this.X,n,n,null),o+=this.g.Ja(l),u++);for(this.g.Rl(this.X,u),this.g.Tj(this.X,o),u=0,o=this.g.ld;o!=-1;o=this.g.ue(o))u+=this.g.I(o);this.g.bC(u)},_.prototype.cm=function(u){for(var a=0,n=this.xe.size-1;a<n;a++)if(u=(u+1)%this.xe.size,this.xe.get(u)!=-1)return u;return-1},_.prototype.vn=function(u,a){var n=this.g.Pa(a,this.Pq),o=this.g.Pa(a,this.zg);this.g.lC(u,a),this.g.Ra(a,this.Pq,n),this.g.Ra(a,this.zg,o)},_.prototype.bk=function(u){var a=this.g.Pa(u,this.zg);a!=-1&&(this.xe.set(a,-1),this.g.Ra(u,this.zg,-1))},_.V=function(u,a,n,o,l){var d=new _;return d.g=u,d.X=a,d.xA=n,d.fw=o,d.nd=l,d.XM()},_.prototype.pM=function(u,a){var n=this.Wh.get(u),o=new h.h;this.g.Gc(n,o),n=new h.h;var l=this.Wh.get(a);return this.g.Gc(l,n),o.qb(n)?0:(l=this.zs.get(u),u=new h.h,this.g.Gc(l,u),l=this.zs.get(a),a=new h.h,this.g.Gc(l,a),(l=new h.h).uc(o,u),(o=new h.h).uc(n,a),h.h.nu(l,o))},_}();h.rn=P}(Y||(Y={})),function(h){var P;(P=h.$L||(h.$L={}))[P.Local=0]="Local",P[P.Geographic=1]="Geographic",P[P.Projected=2]="Projected",P[P.Image=3]="Image",P[P.Unknown=4]="Unknown",function(u){u[u.Integer32=0]="Integer32",u[u.Integer64=1]="Integer64",u[u.FloatingPoint=2]="FloatingPoint"}(h.TL||(h.TL={}));var _=function(){function u(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return u.prototype.Ec=function(){return this.dg},u.prototype.VF=function(){return 1},u.prototype.VW=function(a){this.mA=a},u.prototype.Xd=function(){if(this.mA!==null)return this.mA;var a=.001;return this.dg!=0?a=h.wr.CQ(this.dg):this.wh!=null&&(a=h.XC.DQ(this.wh)),a},u.prototype.Bz=function(){return this.wh},u.prototype.Hd=function(){return this.dg!=0?h.Tc.Zg(h.wr.Sy(this.dg)):this.wh!=null?h.XC.EQ(this.wh):void 0},u.Sb=function(a){if(a.dg!=0){if(h.wr.ZS(a.dg)===!0)return 1;if(h.wr.aT(a.dg)===!0)return 2}return 4},u.prototype.$r=function(){var a=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=h.wr.FK(a),this.Ho!=-1?this.Ho:a)},u.create=function(a){if(0>=a)throw h.i.N("Invalid or unsupported wkid: "+a);var n=new u;return n.dg=a,n},u.qP=function(a){if(a==null||a.length==0)throw h.i.N("Cannot create SpatialReference from null or empty text.");var n=new u;return n.wh=a,n},u.prototype.Nb=function(a){return this==a||a!=null&&this.constructor==a.constructor&&this.dg==a.dg&&(this.dg!=0||this.wh===a.wh)},u.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},u.prototype.cc=function(){if(this.pp!=="")return this.pp;var a=this.toString();if(Array.prototype.reduce)return this.pp="S"+a.split("").reduce(function(l,d){return(l=(l<<5)-l+d.charCodeAt(0))&l},0);var n=0;if(a.length===0)return"";for(var o=0;o<a.length;o++)n=(n<<5)-n+a.charCodeAt(o),n&=n;return this.pp="S"+n},u.prototype.Kn=function(){return this.Xd(0)},u.prototype.fh=function(){return this.su!==null?this.su:this.su=h.gu.yP(this)},u.ZN=2147483645,u.$N=9007199254740990,u}();h.Eg=_}(Y||(Y={})),function(h){var P=function(_){function u(){var a=_!==null&&_.apply(this,arguments)||this;return a.Ji=null,a.ST=null,a.Hq=new h.ZL,a.Eo=null,a.jw=null,a}return Vt(u,_),u.yP=function(a){var n=new u;if(n.dg=a.dg,n.Ho=a.Ho,n.ZH=a.ZH,n.wh=a.wh,n.wh!==""&&n.wh!==null){a=u.kM(n.wh);var o=u.iM(n.wh);n.Hq.Xx(a,o,h.hu.Integer64),n.by(a),n.gy(o),n.dg=a.$r()}else a=u.jM(n.dg),n.by(a),n.gy(null),n.Hq.Xx(a,null,h.hu.Integer64);return n},u.prototype.Xd=function(a){return this.Hq.Kn(a)},u.iM=function(a){if(0>=a.length)throw h.i.N();var n=null;try{n=h.NC.fromString(a)}catch{n=null}return n==null?null:u.bD(n,!0)},u.prototype.by=function(a){this.Kd=a,this.Eo=this.Kd.Hd()},u.prototype.gy=function(a){this.KH=a,this.ST=this.KH!=null?this.KH.Eo:null},u.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},u.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},u.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},u.prototype.pm=function(){return this.Kd.pm()},u.prototype.bf=function(){return this.Kd.bf()},u.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},u.prototype.Up=function(){return this.Kd.Up()},u.prototype.Wr=function(){return this.Kd.Wr()},u.prototype.kk=function(){return this.Kd.kk()},u.prototype.kS=function(a){return h.OC.Py(this.Kd,a.Kd)},u.prototype.ml=function(){return this.Kd.ml()},u.prototype.Vr=function(){return this.Kd.Vr()},u.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},u.prototype.gh=function(){if(!this.Wc())throw h.i.N("!isPannable()");var a=new h.l;return this.Kd.gh(a),a},u.prototype.Oe=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.so},u.prototype.HR=function(){if(!this.Wc())throw h.i.N("!isPannable()");var a=new h.l;return this.Kd.GR(a),a},u.prototype.pv=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.pv()},u.prototype.ov=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.ov()},u.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},u.prototype.PQ=function(){return this.Kd.hv()},u.prototype.Qp=function(){return this.Eo.getUnitFactor()},u.prototype.vz=function(a){return this.Hq.vz(a)},u.prototype.sc=function(){var a=this.Sb();if(a==1)return this;if(a==3)return this.Ji.fk().sc();if(a==0||a===4)throw h.i.fa("invalid call");if(this.jw!==null)return this.jw;if((a=this.eh().getGeogcs())==null)throw h.i.Qa();return this.jw=u.bF(a,this.Hq.VF())},u.bF=function(a,n){if(a==null)throw h.i.N("null pointer.");var o=new u;return a=u.mu(a,!0),o.Hq.Xx(a,null,n),o.by(a),o.gy(null),o.dg=a.$r(),o},u.prototype.Sb=function(){var a=this.eh();if(a!=null)switch(a.getType()){case h.Sc.PE_TYPE_GEOGCS:return 1;case h.Sc.PE_TYPE_PROJCS:return 2}return 4},u.prototype.hv=function(){return this.Kd.hv()},u.mu=function(a,n){var o=a.getCode();if(0>=o&&0<(o=h.pf.getCode(a))){if((a=h.pf.coordsys(o))==null)throw h.i.N("Text to wkid mapping had failed: "+o);return u.mu(a,n)}if(n&&0<o&&(n=u.qx[o]))return n;n=h.zb.xv(a,o,!1);var l=u.lK[n];return l||(a=0>=o?a:h.pf.coordsys(o),a=new h.OC(a),u.lK[n]=a,0<o&&(u.qx[o]=a),a)},u.jM=function(a){if(0>=a)throw h.i.N("Invalid or unsupported wkid: "+a);var n=u.qx[a];if(n!=null)return n;if((n=h.pf.coordsys(a))==null)throw h.i.N("Invalid or unsupported wkid: "+a);return(n=u.mu(n,!1)).$r()!=a&&(u.qx[a]=n),n},u.kM=function(a){if(a==null||a===void 0||a.length==0)throw h.i.N("Cannot create SpatialReference from null or empty text.");var n=null;try{n=h.pf.fromString(h.Sc.PE_TYPE_COORDSYS,a)}catch(o){throw h.i.N("Cannot create SpatialReference from text. "+o.message)}if(n===null)throw h.i.N("Cannot create SpatialReference from text. ");return u.mu(n,!0)},u.bD=function(a,n){var o,l=a.getCode();if(0>=l&&0<(l=h.pf.getCode(a))){if((l=h.pf.vertcs(l))===null)throw h.i.N();return u.bD(l,n)}if(n&&0<l&&(n=u.kK[l])||(a=h.zb.xv(a,l,!1),n=u.mK[a]))return n;if(0>=l||(o=h.pf.vertcs(l)),o===null)throw h.i.N();return o=new h.PL(o),u.mK[a]=o,0<l&&(u.kK[l]=o),o},u.sI=function(a,n){if(n===null||n.B())return null;var o=new h.l;if(n!==null&&a.Sb()!=1){var l=a.sc(),d=l.eh();a=h.vr.Nr(a,l,null,null),(n=h.Hx.local().V(n,a,null)).A(o)}else d=a.eh(),n.A(o);return n=d.getPrimem().getLongitude(),d=d.getUnit().getUnitFactor(),new h.LC(o.v,o.G,o.C,o.H,n,d)},u.lD=function(a){var n={name:"",steps:[],_pt:null,_entry:null},o=0;for(a=a.getEntries();o<a.length;o++){var l=a[o],d={LY:!1,ZY:"",YY:-1,geogtran:null};l.getDirection()===0?d.isInverse=!1:d.isInverse=!0;var p=l.getGeogtran().getCode();-1<p?d.wkid=p:d.wkt=l.getGeogtran().toString(),n.steps.push(d)}return n},u.XR=function(a,n,o,l){return o===void 0&&(o=null),o=u.sI(l,o),a=h.lp.getGTlist(a.eh(),n.eh(),2,h.lp.PE_GTLIST_OPTS_COMMON,o,1),n=null,a&&0<a.length&&(n=this.lD(a[0]),h.Mx.destroy(a)),o!==null&&o.destroy(),n},u.YR=function(a,n,o,l){var d;if(o===void 0&&(o=null),l===void 0&&(l=null),d===void 0&&(d=30),o=u.sI(l,o),a=h.lp.getGTlist(a.eh(),n.eh(),2,h.lp.PE_GTLIST_OPTS_COMMON,o,d),n=[],a&&0<a.length){for(d=0;d<a.length;d++)n.push(this.lD(a[d]));h.Mx.destroy(a)}return o!==null&&o.destroy(),n},u.qx={},u.lK={},u.kK={},u.mK={},u}(h.Eg);h.gu=P}(Y||(Y={})),function(h){var P,_;(_=P=h.hu||(h.hu={}))[_.Integer32=0]="Integer32",_[_.Integer64=1]="Integer64",_[_.FloatingPoint=2]="FloatingPoint";var u=function(){function a(){this.qp()}return a.prototype.assign=function(n){this.Fm=n.Fm,this.Gm=n.Gm,this.Pj=n.Pj,this.sA=n.sA,this.Fo=n.Fo,this.rA=n.rA,this.Ik=n.Ik,this.Mq=n.Mq,this.Lq=n.Lq,this.Rm=n.Rm},a.prototype.VF=function(){return this.Rm},a.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=P.FloatingPoint},a.prototype.Xx=function(n,o,l){if(this.qp(),this.Rm=l,l!=P.FloatingPoint){var d=new h.l;n.hR(d),this.Fm=d.v,this.Gm=d.G}else this.Gm=this.Fm=-17976931348623157e292;(d=n.Ue.getType())==h.Sc.PE_TYPE_GEOGCS?(d=(l==P.Integer64?1e-9:1/18e5)*n.bf(),this.Pj=1/d):d==h.Sc.PE_TYPE_PROJCS&&(d=(l==P.Integer64?1e-4:.001)*n.pm(),this.Pj=1/d),o!=null?(d=(l==P.Integer32?.001:1e-4)*o.IH,this.Fo=1/d):this.Fo=1e4,this.YM(),this.Ik=n.sw,this.Mq=o!=null?.001*o.IH:.001,this.Lq=2220446049250313e-29},a.prototype.YM=function(){if(this.Rm!=P.FloatingPoint){var n=this.Rm==P.Integer64?h.Eg.$N:h.Eg.ZN,o=n/this.Pj,l=this.Fm+o,d=h.O.truncate((l-this.Fm)*this.Pj);d>n&&(this.Pj=n/(l-this.Fm)),o=this.Gm+o,(d=h.O.truncate((o-this.Gm)*this.Pj))>n&&(this.Pj=n/(o-this.Gm))}},a.prototype.aC=function(n){switch(n){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},a.prototype.Kn=function(n){switch(n){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},a.prototype.vz=function(n){if(this.Rm==P.FloatingPoint)return 0;switch(n){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},a.prototype.toString=function(){var n="SRPD [m_toleranceXY: "+this.Ik.toString();return(n=(n=(n=(n=(n=(n=(n=(n=(n=n+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},a}();h.ZL=u}(Y||(Y={})),function(h){function P(l,d){return 89.99999<d?d=89.99999:-89.99999>d&&(d=-89.99999),d*=.017453292519943,[111319.49079327169*l,31890685e-1*Math.log((1+Math.sin(d))/(1-Math.sin(d)))]}function _(l,d,p){return l=l/6378137*57.29577951308232,p?[l,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*d/6378137)))]:[l-360*Math.floor((l+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*d/6378137)))]}function u(l,d,p){var y=l.Of();if(l.getType()===33)d=d(y.Lg(),y.ih()),y.Cb(d[0],d[1]);else if(l.getType()===197){var v=d(l.es(),l.gs(),p);d=d(l.ds(),l.fs(),p),y.K(v[0],v[1],d[0],d[1])}else for(v=new h.h,l=0;l<y.I();l++){y.D(l,v);var $=d(v.x,v.y,p);v.ma($[0],$[1]),y.Cb(l,v)}return y}function a(l){return u(l,_,!0)}function n(l){return u(l,P,!0)}var o=Math.PI/180;h.UK=function(){function l(){}return l.vu=function(d){var p=Math.sqrt(.006694379990197414),y=Math.sin(d.y*o);return h.h.construct(6378137*d.x*o,3.1677196636462314e6*(y/(1-.006694379990197414*y*y)-1/(2*p)*Math.log((1-p*y)/(1+p*y))))},l.Vx=function(d,p,y,v){var $=.0033528106647474805,I=Math.sin(y);y=Math.cos(y);var k=(1-$)*Math.tan(d),O=k*(d=1/Math.sqrt(1+k*k)),F=Math.atan2(k,y),j=(k=d*I)*k,z=1-j,B=27233160610754688e-5*z/4040829998466145e-2,H=1+B/16384*(4096+B*(B*(320-175*B)-768)),U=B/1024*(256+B*(B*(74-47*B)-128));B=v/(635675231424518e-8*H);for(var Z,re,ie,ce=2*Math.PI;1e-12<Math.abs(B-ce);)ie=Math.cos(2*F+B),ce=B,B=v/(635675231424518e-8*H)+U*(Z=Math.sin(B))*(ie+U/4*((re=Math.cos(B))*(2*ie*ie-1)-U/6*ie*(4*Z*Z-3)*(4*ie*ie-3)));return v=O*Z-d*re*y,z=$/16*z*(4+$*(4-3*z)),h.h.construct((p+(Math.atan2(Z*I,d*re-O*Z*y)-(1-z)*$*k*(B+z*Z*(ie+z*re*(2*ie*ie-1)))))/o,Math.atan2(O*re+d*Z*y,(1-$)*Math.sqrt(j+v*v))/o)},l.MM=function(d,p,y,v){var $=.0033528106647474805,I=v-p,k=Math.atan((1-$)*Math.tan(d)),O=Math.atan((1-$)*Math.tan(y)),F=Math.sin(k);k=Math.cos(k);var j=Math.sin(O);O=Math.cos(O);var z=I,B=1e3;do{var H=Math.sin(z),U=Math.cos(z),Z=Math.sqrt(O*H*O*H+(k*j-F*O*U)*(k*j-F*O*U));if(Z===0)return 0;U=F*j+k*O*U;var re=Math.atan2(Z,U),ie=k*O*H/Z,ce=1-ie*ie;H=U-2*F*j/ce,isNaN(H)&&(H=0);var le=$/16*ce*(4+$*(4-3*ce)),_e=z;z=I+(1-le)*$*ie*(re+le*Z*(H+le*U*(2*H*H-1)))}while(1e-12<Math.abs(z-_e)&&0<--B);return B===0?(F=v-p,{azimuth:Math.atan2(Math.sin(F)*Math.cos(y),Math.cos(d)*Math.sin(y)-Math.sin(d)*Math.cos(y)*Math.cos(F)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(d)*Math.sin(y)+Math.cos(d)*Math.cos(y)*Math.cos(v-p))}):(p=(d=27233160610754688e-5*ce/4040829998466145e-2)/1024*(256+d*(d*(74-47*d)-128)),{azimuth:Math.atan2(O*Math.sin(z),k*j-F*O*Math.cos(z)),YQ:635675231424518e-8*(1+d/16384*(4096+d*(d*(320-175*d)-768)))*(re-p*Z*(H+p/4*(U*(2*H*H-1)-p/6*H*(4*Z*Z-3)*(4*H*H-3)))),XY:Math.atan2(k*Math.sin(z),k*j*Math.cos(z)-F*O)})},l.jQ=function(d){var p=d.hasAttribute(1),y=d.hasAttribute(2),v=[],$=d.da(),I=null,k=null;p&&(I=d.ub(1)),y&&(k=d.ub(2));for(var O=new h.h,F=0;F<$;F++){for(var j=d.Ba(F),z=d.Ja(F),B=0,H=0,U=NaN,Z=NaN,re=NaN,ie=NaN,ce=d.dc(F),le=[],_e=j;_e<j+z;_e++){d.D(_e,O),ie=re=NaN;var Me=[O.x,O.y];p&&(re=I.get(_e),Me.push(re)),y&&($=k.get(_e),Me.push(ie)),_e==j&&ce&&(B=O.x,H=O.y,U=re,Z=ie),le.push(Me)}!ce||B==O.x&&H==O.y&&(!p||isNaN(U)&&isNaN(re)||U==re)&&(!y||isNaN(Z)&&isNaN(ie)||Z==ie)||le.push(le[0].slice(0)),v.push(le)}return v},l.Wy=function(d,p){d=l.jQ(d),637.100877141506>p&&(p=637.100877141506);for(var y,v=[],$=0;$<d.length;$++){var I,k,O=d[$];v.push(y=[]),y.push([O[0][0],O[0][1]]);var F=O[0][0]*o,j=O[0][1]*o;for(I=0;I<O.length-1;I++){var z=O[I+1][0]*o,B=O[I+1][1]*o;if(F!==z||j!==B){z=(B=l.MM(j,F,B,z)).azimuth;var H=(B=B.YQ)/p;if(1<H){for(k=1;k<=H-1;k++){var U=l.Vx(j,F,z,k*p);y.push([U.x,U.y])}k=l.Vx(j,F,z,(B+Math.floor(H-1)*p)/2),y.push([k.x,k.y])}j=l.Vx(j,F,z,B),y.push([j.x,j.y]),F=j.x*o,j=j.y*o}}}return{qJ:v}},l.XQ=function(d){for(var p=[],y=0;y<d.length;y++){var v=d[y];v=l.Wy(v,1e4),p.push(v)}d=[];for(var $=0;$<p.length;$++){v=p[$];var I=0;for(y=0;y<v.qJ.length;y++){var k,O=v.qJ[y],F=l.vu(h.h.construct(O[0][0],O[0][1])),j=l.vu(h.h.construct(O[O.length-1][0],O[O.length-1][1])),z=j.x*F.y-F.x*j.y;for(k=0;k<O.length-1;k++)F=l.vu(h.h.construct(O[k+1][0],O[k+1][1])),z+=(j=l.vu(h.h.construct(O[k][0],O[k][1]))).x*F.y-F.x*j.y;I+=z}I/=1,d.push(I/-2)}return d},l}(),h.cb=function(){function l(){}return l.xB=function(d,p,y,v,$,I,k){l.gD[d.cc()]=p,isNaN(y)==0&&(l.mD[d.cc()]=y),isNaN(v)==0&&(l.zD[d.cc()]=v),isNaN($)==0&&(l.aD[d.cc()]=$),l.nD[d.cc()]=I,k!==null&&(l.oD[d.cc()]=k)},l.Ww=function(d,p,y){l.sD[d.cc()+"-"+p.cc()]=y},l.sc=function(d){if((d=l.gD[d.cc()])==null)throw h.i.Ie();return d},l.bf=function(d){if((d=l.mD[d.cc()])==null)throw h.i.Ie();return d},l.vv=function(d){if((d=l.zD[d.cc()])==null)throw h.i.Ie();return d},l.ev=function(d){if((d=l.aD[d.cc()])==null)throw h.i.Ie();return d},l.gh=function(d){if((d=l.oD[d.cc()])==null)throw h.i.Ie();return h.l.construct(d[0],d[1],d[2],d[3])},l.Wc=function(d){if((d=l.nD[d.cc()])==null)throw h.i.Ie();return d},l.zh=function(d,p,y){if(p.Nb(y))return d;var v=l.sD[p.cc()+"-"+y.cc()];if(v!==void 0)return v(d,p,y);throw h.i.Ie()},l.vt=function(){throw h.i.Ie()},l.bR=function(){throw h.i.Ie()},l.dW=function(){throw h.i.Ie()},l.ml=function(){throw h.i.Ie()},l.sW=function(){var d=h.Eg.create(102100),p=h.Eg.create(3857),y=h.Eg.create(4326);h.cb.xB(d,y,NaN,NaN,NaN,!1,null),h.cb.xB(y,y,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),h.cb.xB(p,y,NaN,NaN,NaN,!1,null),h.cb.Ww(d,y,a),h.cb.Ww(y,d,n),h.cb.Ww(p,y,a),h.cb.Ww(y,p,n)},l.gD=[],l.mD=[],l.zD=[],l.aD=[],l.nD=[],l.oD=[],l.sD=[],l}()}(Y||(Y={})),Y.cb.sW(),function(h){var P=function(){function _(u){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=u}return _.prototype.jd=function(u){u<this.Bl?(this.o[u*this.stride]=this.io,this.io=u):this.Bl--,this.size--},_.prototype.T=function(u,a){return this.o[u*this.stride+a]},_.prototype.S=function(u,a,n){this.o[u*this.stride+a]=n},_.prototype.Ce=function(){var u=this.io;if(u==-1){if(this.Bl==this.Hg){if(2147483647<(u=this.Hg!=0?h.O.truncate(3*(this.Hg+1)/2):1)&&(u=2147483647),u==this.Hg)throw h.i.ce();this.Dz(u)}u=this.Bl,this.Bl++}else this.io=this.o[u*this.stride];this.size++;for(var a=u*this.stride;a<u*this.stride+this.stride;a++)this.o[a]=-1;return u},_.prototype.Ll=function(u){var a=this.io;if(a==-1){if(this.Bl==this.Hg){if(2147483647<(a=this.Hg!=0?h.O.truncate(3*(this.Hg+1)/2):1)&&(a=2147483647),a==this.Hg)throw h.i.ce();this.Dz(a)}a=this.Bl,this.Bl++}else this.io=this.o[a*this.stride];this.size++;for(var n=a*this.stride,o=0;o<u.length;o++)this.o[n+o]=u[o];return a},_.prototype.mj=function(u){this.io=-1,this.size=this.Bl=0,u&&(this.o=null,this.Hg=0)},_.prototype.De=function(u){u>this.Hg&&this.Dz(u)},_.prototype.tx=function(u,a){u*=this.stride,a*=this.stride;for(var n=0;n<this.stride;n++){var o=this.o[a+n];this.o[a+n]=this.o[u+n],this.o[u+n]=o}},_.prototype.gC=function(u,a,n){var o=this.o[this.stride*a+n];this.o[this.stride*a+n]=this.o[this.stride*u+n],this.o[this.stride*u+n]=o},_.LG=function(u){return 0<=u},_.prototype.Dz=function(u){this.o==null&&(this.o=new Int32Array(0));var a=new Int32Array(this.stride*u);a.set(this.o,0),this.o=a,this.Hg=u},_}();h.$c=P}(Y||(Y={})),function(h){var P,_;(_=P||(P={}))[_.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",_[_.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",_[_.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",_[_.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var u=function(){function n(o){this.Be=o,this.yh=NaN,this.eH=new h.ig,this.fH=new h.ig,this.ms=new h.Nc,this.ns=new h.Nc}return n.prototype.compare=function(o,l,d){if(o=o.ja(d),this.Be.pB(l,this.eH),this.Be.pB(o,this.fH),l=this.eH.get(),o=this.fH.get(),this.ms.K(l.sa,l.pa),this.ns.K(o.sa,o.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;d=l.na==l.la;var p=o.na==o.la;if(d||p){if(d&&p)return 0;if(l.na==o.na&&l.sa==o.sa)return d?1:-1;if(l.la==o.la&&l.pa==o.pa)return d?-1:1}return(d=l.Pe(this.yh,this.ms.oa))==(p=o.Pe(this.yh,this.ns.oa))&&((p=.5*((d=Math.min(l.la,o.la))+this.yh))==this.yh&&(p=d),d=l.Pe(p,this.ms.oa),p=o.Pe(p,this.ns.oa)),d<p?-1:d>p?1:0},n.prototype.aK=function(o){this.yh=o},n}(),a=function(){function n(o){this.ib=o,this.WH=new h.ig,this.Bf=new h.h,this.wA=new h.Nc}return n.prototype.kX=function(o){this.Bf.L(o)},n.prototype.compare=function(o,l){return this.ib.pB(o.ja(l),this.WH),o=this.WH.get(),this.wA.K(o.sa,o.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(o=o.Pe(this.Bf.y,this.Bf.x),this.Bf.x<o?-1:this.Bf.x>o?1:0)},n}();P=function(){function n(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new h.Md,this.bO=2147483647,this.aO=h.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return n.prototype.yy=function(o){this.lA=o},n.prototype.Ym=function(){this.ge==null&&(this.ge=new h.$c(8));var o=this.ge.Ce();return this.ge.S(o,1,0),o},n.prototype.vU=function(){this.Kc==null&&(this.Kc=new h.$c(8));var o=this.Kc.Ce();this.Kc.S(o,2,0),this.Kc.S(o,3,0);var l=this.Kc.Ce();return this.Kc.S(l,2,0),this.Kc.S(l,3,0),this.JJ(o,l),this.JJ(l,o),o},n.prototype.mI=function(){this.ye==null&&(this.ye=new h.$c(8));var o=this.ye.Ce();return this.ye.S(o,2,0),o},n.prototype.TW=function(o,l){this.ge.S(o,7,l)},n.prototype.mn=function(o,l){this.ge.S(o,2,l)},n.prototype.SW=function(o,l){this.ge.S(o,1,l)},n.prototype.lX=function(o,l){this.ge.S(o,3,l)},n.prototype.iX=function(o,l){this.ge.S(o,4,l)},n.prototype.cr=function(o,l){this.ge.S(o,5,l)},n.prototype.eR=function(o){return this.ge.T(o,5)},n.prototype.RW=function(o,l){this.ge.S(o,6,l)},n.prototype.cN=function(o,l){this.RW(l,o)},n.prototype.IJ=function(o,l){this.Kc.S(o,1,l)},n.prototype.JJ=function(o,l){this.Kc.S(o,4,l)},n.prototype.Tl=function(o,l){this.Kc.S(o,5,l)},n.prototype.Sl=function(o,l){this.Kc.S(o,6,l)},n.prototype.$W=function(o,l){this.Kc.S(o,2,l)},n.prototype.$w=function(o,l){this.Kc.S(o,3,l)},n.prototype.LF=function(o){return this.Kc.T(o,3)},n.prototype.Gt=function(o,l){this.Kc.S(o,7,l)},n.prototype.EK=function(o,l){if(this.mm(o)!=-1)for(l=l?-1:o,o=this.mm(o);o!=-1;o=this.js(o))this.g.Ra(this.tj(o),this.Cq,l)},n.prototype.yx=function(o,l){o!=-1&&(this.EK(o,l),this.EK(this.xa(o),l))},n.prototype.Dt=function(o,l){this.ye.S(o,1,l)},n.prototype.Vg=function(o,l){this.ye.S(o,2,l)},n.prototype.jn=function(o,l){this.ye.S(o,3,l),this.NW(o,this.dR(l)),this.MW(l,o)},n.prototype.MW=function(o,l){this.ye.S(o,4,l)},n.prototype.NW=function(o,l){this.ye.S(o,5,l)},n.prototype.DJ=function(o,l){this.ye.S(o,6,l)},n.prototype.BJ=function(o,l){this.ye.S(o,7,l)},n.prototype.AJ=function(o,l){this.Yn.write(o,l)},n.prototype.CJ=function(o,l){this.kA.write(o,l)},n.prototype.kY=function(o){var l=0,d=0,p=this.AF(o),y=new h.h,v=new h.h,$=new h.h;this.Yr(p,y),v.L(y);var I=p;do this.lm(I,$),d+=h.h.tb(v,$),this.$e(this.xa(I))!=o&&(l+=($.x-y.x-(v.x-y.x))*($.y-y.y+(v.y-y.y))*.5),v.L($),I=this.jc(I);while(I!=p);this.Yn.write(o,l),this.kA.write(o,d)},n.prototype.PU=function(o,l){var d=new u(this),p=new h.Yj;p.De(h.O.truncate(this.wa/2)),p.Vo(d);for(var y=new h.ia(0),v=this.$g(),$=null,I=0,k=new h.h,O=this.Re;O!=-1;O=this.Rf(O)){if(!(255&++I)&&l!=null&&!l.progress(-1,-1))throw h.i.WC();var F=this.Me(O);if(F!=-1){if(y.Bh(0),!this.gY(p,v,y,F)){this.D(O,k),d.aK(k.y);var j=F;do{var z=this.Ab(j,v);z!=-1&&(p.vd(z,-1),this.Kb(j,v,-2)),j=this.jc(this.xa(j))}while(F!=j);j=F;do(z=this.Ab(j,v))==-1&&(z=p.addElement(j,-1),y.add(z)),j=this.jc(this.xa(j));while(F!=j)}for(F=y.size-1;0<=F;F--)z=y.get(F),j=p.ja(z),this.Kb(this.xa(j),v,z),this.OU(p,z,o)}else this.cz(O)==-1&&($==null&&($=new a(this)),this.D(O,k),$.kX(k),j=p.IW($),F=this.Hl,j!=-1&&(z=p.ja(j),this.$e(z)==this.$e(this.xa(z))&&(z=this.OF(p,j)),z!=-1&&(F=this.$e(z))),this.cN(F,O))}this.Jg(v)},n.prototype.OU=function(o,l,d){var p=o.ja(l),y=this.$e(p);if(this.Gn(y)==-1){var v=this.OF(o,l),$=this.xa(p),I=this.$e($);this.Kp(y),this.Kp(I);var k=this.Gn(y),O=this.Gn(I);if(v==-1&&k==-1&&(I==y?(this.jn(I,this.Hl),k=O=this.Hl):(O==-1&&(this.jn(I,this.Hl),O=this.Hl),this.jn(y,I),k=I)),v!=-1){var F=this.$e(v);O==-1&&(0>=this.Kp(F)?(O=this.Gn(F),this.jn(I,O)):(this.jn(I,F),O=F),I==y&&(k=O))}k==-1&&this.hY(y,I),d==0?this.jW(o,l,p,v,y,I):d==5?this.kW(o,l,p,$,y,I):d==4&&this.iW(p,v,y,I)}},n.prototype.jW=function(o,l,d,p,y,v){var $=this.hk(y);if(p!=-1){var I=this.hk(v),k=this.hk(this.$e(p));p=$&I&k,k^=k&this.dh(d),(k|=p)!=0&&(this.Vg(v,I|k),this.Vg(y,k|$),$=$||k)}for(l=o.lb(l);l!=-1&&(p=o.ja(l),d=this.$e(this.xa(p)),y=this.hk(d),v=this.dh(p),I=this.$e(p),p=y&(k=this.hk(I))&$,$^=$&v,($|=p)!=0);l=o.lb(l))this.Vg(d,y|$),this.Vg(I,k|$)},n.prototype.kW=function(o,l,d,p,y,v){if(y!=v){d=this.Ab(d,this.cg),d+=this.Ab(p,this.cg),p=0;var $=new h.ia(0),I=new h.ia(0);I.add(0);for(var k=o.rc(-1);k!=l;k=o.lb(k)){var O=o.ja(k),F=this.xa(O),j=this.$e(O),z=this.$e(F);if(j!=z){if(O=this.Ab(O,this.cg),p+=O+=this.Ab(F,this.cg),F=!1,$.size!=0&&$.Fc()==z&&(I.If(),$.If(),F=!0),this.Gn(z)==-1)throw h.i.Qa();F&&this.Gn(z)==j||(I.add(p),$.add(j))}}p+=d,$.size!=0&&$.Fc()==v&&(I.If(),$.If()),p!=0?I.Fc()==0&&(o=this.g.ld,o=this.La(o),this.Vg(y,o)):I.Fc()!=0&&(o=this.g.ld,o=this.La(o),this.Vg(y,o))}},n.prototype.iW=function(o,l,d,p){var y=this.La(this.g.ld);if(l==-1)this.Vg(p,this.Go),1&(o=this.Ab(o,this.xg))?this.Vg(d,y):this.Vg(d,this.Go);else{var v=this.hk(p);v==0?(v=this.hk(this.$e(l)),this.Vg(p,v),1&(o=this.Ab(o,this.xg))?this.Vg(d,v==y?this.Go:y):this.Vg(d,v)):1&(o=this.Ab(o,this.xg))?this.Vg(d,v==y?this.Go:y):this.Vg(d,v)}},n.prototype.gY=function(o,l,d,p){var y=p,v=-1,$=-1,I=0;do{if(I==2)return!1;var k=this.Ab(y,l);if(k!=-1){if(v!=-1)return!1;v=k}else{if($!=-1)return!1;$=y}I++,y=this.jc(this.xa(y))}while(p!=y);return $!=-1&&v!=-1&&(this.Kb(o.ja(v),l,-2),o.Sj(v,$),d.add(v),!0)},n.prototype.hY=function(o,l){var d=this.Kp(o);if(d!=0){var p=this.Kp(l);0<d&&0>p||0>d&&0<p?this.jn(o,l):(l=this.Gn(l))!=-1&&this.jn(o,l)}},n.prototype.vP=function(o,l){this.Cq=this.g.Gd();for(var d=0,p=l.size;d<p;d++){var y=l.get(d),v=this.g.Pa(y,this.Cm),$=this.g.Qf(this.g.bd(y)),I=this.g.ic($);if(h.aa.Hc(I)){var k=this.g.U(y);if(k!=-1){var O=this.g.Pa(k,this.Cm);if(v!=O){var F=this.vU(),j=this.xa(F),z=this.jh.Ce();this.jh.S(z,0,y),this.jh.S(z,1,-1),this.Gt(F,z),this.IJ(F,v),(z=this.Me(v))==-1?(this.mn(v,F),this.Tl(F,j),this.Sl(j,F)):(v=this.te(z),this.Tl(z,j),this.Sl(j,z),this.Sl(v,F),this.Tl(F,v)),this.IJ(j,O),(v=this.Me(O))==-1?(this.mn(O,j),this.Sl(F,j),this.Tl(j,F)):(O=this.te(v),this.Tl(v,F),this.Sl(F,v),this.Sl(O,j),this.Tl(j,O)),$=this.La($),o==0?(this.Kb(j,this.ae,0),this.Kb(F,this.ae,I==1736?$:0)):o==5?(O=new h.h,this.g.D(y,O),y=new h.h,this.g.D(k,y),v=k=0,0>O.compare(y)?k=1:v=-1,this.Kb(j,this.ae,0),this.Kb(F,this.ae,0),this.Kb(F,this.cg,k),this.Kb(j,this.cg,v)):o==7?(this.Kb(j,this.ae,this.Go),this.Kb(F,this.ae,I==1736?$:0)):o==4&&(this.Kb(j,this.ae,0),this.Kb(F,this.ae,0),this.Kb(F,this.xg,1),this.Kb(j,this.xg,1)),I=I==1736?this.aO:0,this.$w(F,$|I),this.$w(j,$|I)}}}}},n.prototype.VT=function(o,l){var d=this.mm(l);if(d!=-1){var p=this.mm(o);this.jh.S(d,1,p),this.Gt(o,d),this.Gt(l,-1)}o=this.xa(o),l=this.xa(l),(d=this.mm(l))!=-1&&(p=this.mm(o),this.jh.S(d,1,p),this.Gt(o,d),this.Gt(l,-1))},n.prototype.IX=function(o){function l(re,ie){return p.HO(re,ie)}var d=new h.ia(0);d.Jb(10);for(var p=this,y=this.Re;y!=-1;y=this.Rf(y)){d.clear(!1);var v=this.Me(y);if(v!=-1){var $=v;do d.add($),$=this.jc(this.xa($));while($!=v);if(1<d.size){if($=!0,2<d.size)d.Vd(0,d.size,l),d.add(d.get(0));else if(0<this.GO(d.get(0),d.get(1))){var I=d.get(0);d.set(0,d.get(1)),d.set(1,I)}else $=!1;for(var k=I=d.get(0),O=this.uf(k),F=this.xa(k),j=-1,z=1,B=d.size;z<B;z++){var H=d.get(z),U=this.xa(H),Z=this.jk(U);if(Z==O&&H!=k){if(o==0)j=this.LF(k)|this.LF(H),this.$w(k,j),this.$w(F,j),this.Kb(k,this.ae,this.Ab(k,this.ae)|this.Ab(H,this.ae)),this.Kb(F,this.ae,this.Ab(F,this.ae)|this.Ab(U,this.ae));else if(this.cg!=-1)j=this.Ab(k,this.cg)+this.Ab(H,this.cg),U=this.Ab(F,this.cg)+this.Ab(U,this.cg),this.Kb(k,this.cg,j),this.Kb(F,this.cg,U);else{if(o==7)return void(this.Ni=new h.Md(5,y,-1));this.xg!=-1&&(j=this.Ab(k,this.xg)+this.Ab(H,this.xg),U=this.Ab(F,this.xg)+this.Ab(U,this.xg),this.Kb(k,this.xg,j),this.Kb(F,this.xg,U))}this.VT(k,H),this.Ly(H),j=k,d.set(z,-1),H==I&&(d.set(0,-1),I=-1)}else this.yx(j,!1),j=-1,k=H,O=Z,F=U}if(this.yx(j,!1),j=-1,$){for(I=-1,z=0,B=d.size;z<B;z++)if((H=d.get(z))!=-1){if(I==-1)k=I=H,O=this.uf(k),F=this.xa(k);else if(H!=k&&(U=this.xa(H),Z=this.jk(U),this.Sl(F,H),this.Tl(H,F),k=H,O=Z,F=U,o==7&&(this.Ab(H,this.ae)|this.Ab(this.te(H),this.ae))==(1|this.Go)))return void(this.Ni=new h.Md(5,y,-1))}this.mn(y,I)}else{for(I=-1,z=0,B=d.size;z<B;z++)if((H=d.get(z))!=-1){I=H;break}v!=I&&this.mn(y,I)}}}}},n.prototype.WN=function(){for(var o=-1,l=this.$g(),d=this.Re;d!=-1;d=this.Rf(d)){var p=this.Me(d);if(p!=-1){var y=p;do{if(this.Ab(y,l)!=1){var v=this.mI();this.Dt(v,y),this.BJ(v,o),o!=-1&&this.DJ(o,v),o=v;var $=0,I=y;do $|=this.Ab(I,this.ae),this.$W(I,v),this.Kb(I,l,1),I=this.jc(I);while(I!=y);this.Vg(v,$)}y=this.jc(this.xa(y))}while(y!=p)}}v=this.mI(),this.Dt(v,-1),this.BJ(v,o),o!=-1&&this.DJ(o,v),this.Hl=v,this.Yn=h.be.qf(this.ye.size,NaN),this.kA=h.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(l)},n.prototype.sR=function(o,l,d){if((l=l!=-1?l:this.Me(o))==-1)return-1;for(o=l;;){if(this.Ab(l,d)!=1)return l;if((l=this.jc(this.xa(l)))==o)return-1}},n.prototype.yW=function(){for(var o=this.$g(),l=this.Re;l!=-1;l=this.Rf(l))for(var d=-1;;){var p=this.sR(l,d,o);if(p==-1)break;d=this.jc(this.xa(p));for(var y=p;;){var v=this.jc(y),$=this.te(y),I=this.xa(y);if($==I){if(this.IP(y),d!=y&&d!=I||(d=-1),y==p||$==p){if(y==(p=v)||$==p)break;y=v;continue}}else this.Kb(y,o,1);if((y=v)==p)break}}this.Jg(o)},n.prototype.MB=function(o,l,d,p,y){this.Ug(),this.gH=y,this.g=o,this.Bq=this.g.aF(),(o=new h.ia(0)).Jb(d!=null?this.g.I(d.get(0)):this.g.fd);var v=0,$=1,I=d!=null?d.get(0):this.g.ld;for(y=1;I!=-1;){this.g.HJ(I,this.Bq,$),$<<=1;for(var k=this.g.Ob(I);k!=-1;k=this.g.Rb(k))for(var O=this.g.Xa(k),F=0,j=this.g.Ja(k);F<j;F++)o.add(O),O=this.g.U(O);h.aa.Rn(this.g.ic(I))||(v+=this.g.da(I)),d!=null?(I=y<d.size?d.get(y):-1,y++):I=this.g.ue(I)}for(this.Go=$,this.wa=o.size,this.g.nx(o,this.wa),this.jh==null&&(this.jh=new h.$c(2),this.ge=new h.$c(8),this.Kc=new h.$c(8),this.ye=new h.$c(8)),this.jh.De(this.wa),h.mp.zp(p),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,v)),this.Cm=this.g.Gd(),d=new h.h,y=0,v=new h.h,d.Rc(),$=0;$<=this.wa;$++)if($<this.wa?(O=o.get($),this.g.D(O,v)):v.Rc(),!d.qb(v)){if(y<$){for(O=this.Ym(),j=F=-1;y<$;y++)j=o.get(y),this.g.Ra(j,this.Cm,O),I=this.jh.Ce(),this.jh.S(I,0,j),this.jh.S(I,1,F),F=I,k=this.g.bd(j),I=this.g.Qf(k),I=this.La(I),this.SW(O,this.xd(O)|I);this.TW(O,F),this.cr(O,this.g.Ua(j)),this.Os!=-1&&this.iX(this.Os,O),this.lX(O,this.Os),this.Os=O,this.Re==-1&&(this.Re=O)}y=$,d.L(v)}h.mp.zp(p),this.ae=this.$g(),l==5&&(this.cg=this.$g()),l==4&&(this.xg=this.$g()),this.vP(l,o),this.Ni.Jj==0&&(this.IX(l),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(l,p))):this.pA=!0))},n.prototype.Ly=function(o){var l=this.jc(o),d=this.te(o),p=this.xa(o),y=this.jc(p),v=this.te(p);l!=p&&(this.Sl(v,l),this.Tl(l,v)),d!=p&&(this.Sl(d,y),this.Tl(y,d)),d=this.jk(o),this.Me(d)==o&&(y!=o?this.mn(d,y):this.mn(d,-1)),y=this.jk(p),this.Me(y)==p&&(l!=p?this.mn(y,l):this.mn(y,-1)),this.Kc.jd(o),this.Kc.jd(p)},n.prototype.OF=function(o,l){for(;;){if((l=o.we(l))==-1)return-1;var d=o.ja(l);if(this.$e(d)!=this.$e(this.xa(d)))return d}},n.prototype.dr=function(o,l){var d;d===void 0&&(d=!0),this.MB(o,0,null,l,d)},n.prototype.vJ=function(o,l,d){var p=new h.ia(0);p.add(l),this.MB(o,4,p,d,o.ic(l)==1736)},n.prototype.wJ=function(o,l,d){var p=new h.ia(0);p.add(l),this.MB(o,5,p,d,!0)},n.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},n.prototype.Me=function(o){return this.ge.T(o,2)},n.prototype.D=function(o,l){this.g.dG(this.eR(o),l)},n.prototype.xd=function(o){return this.ge.T(o,1)},n.prototype.Rf=function(o){return this.ge.T(o,4)},n.prototype.cz=function(o){return this.ge.T(o,6)},n.prototype.km=function(o){return this.ge.T(o,7)},n.prototype.js=function(o){return this.jh.T(o,1)},n.prototype.tj=function(o){return this.jh.T(o,0)},n.prototype.ng=function(o,l){return(l=this.Di[l]).size<=o?-1:l.read(o)},n.prototype.nn=function(o,l,d){(l=this.Di[l]).size<=o&&l.resize(this.ge.size,-1),l.write(o,d)},n.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var o=h.ia.qf(this.ge.Hg,-1),l=0,d=this.Di.length;l<d;l++)if(this.Di[l]==null)return this.Di[l]=o,l;return this.Di.push(o),this.Di.length-1},n.prototype.Ep=function(o){this.Di[o]=null},n.prototype.jk=function(o){return this.Kc.T(o,1)},n.prototype.uf=function(o){return this.jk(this.xa(o))},n.prototype.xa=function(o){return this.Kc.T(o,4)},n.prototype.te=function(o){return this.Kc.T(o,5)},n.prototype.jc=function(o){return this.Kc.T(o,6)},n.prototype.$e=function(o){return this.Kc.T(o,2)},n.prototype.af=function(o){return this.hk(this.Kc.T(o,2))},n.prototype.mm=function(o){return this.Kc.T(o,7)},n.prototype.Yr=function(o,l){this.D(this.jk(o),l)},n.prototype.lm=function(o,l){this.D(this.uf(o),l)},n.prototype.dh=function(o){return this.Kc.T(o,3)&this.bO},n.prototype.Ab=function(o,l){return(l=this.Gi[l]).size<=o?-1:l.read(o)},n.prototype.Kb=function(o,l,d){(l=this.Gi[l]).size<=o&&l.resize(this.Kc.size,-1),l.write(o,d)},n.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var o=h.ia.qf(this.Kc.Hg,-1),l=0,d=this.Gi.length;l<d;l++)if(this.Gi[l]==null)return this.Gi[l]=o,l;return this.Gi.push(o),this.Gi.length-1},n.prototype.Jg=function(o){this.Gi[o]=null},n.prototype.IP=function(o){var l=this.$e(o),d=this.xa(o),p=this.jc(o);p==d&&(p=this.jc(p))==o&&(p=-1);var y=this.AF(l);y!==o&&y!=d||this.Dt(l,p),d=this.Yn.read(l),isNaN(d)||(this.AJ(l,NaN),this.CJ(l,NaN)),this.yx(o,!0),this.Ly(o)},n.prototype.JP=function(o){for(var l=0,d=o.size;l<d;l++){var p=o.get(l),y=this.$e(this.xa(p));this.Dt(this.$e(p),-1),this.Dt(y,-1),this.yx(p,!0),this.Ly(p)}},n.prototype.AF=function(o){return this.ye.T(o,1)},n.prototype.hk=function(o){return this.ye.T(o,2)},n.prototype.Gn=function(o){return this.ye.T(o,3)},n.prototype.dR=function(o){return this.ye.T(o,4)},n.prototype.Kp=function(o){var l=this.Yn.read(o);return isNaN(l)&&(this.kY(o),l=this.Yn.read(o)),l},n.prototype.La=function(o){return this.g.KF(o,this.Bq)},n.prototype.Le=function(o){return this.g.Pa(o,this.Cm)},n.prototype.uR=function(o){return this.g.Pa(o,this.Cq)},n.prototype.tR=function(o,l){var d=this.Me(o);if(d==-1)return-1;var p=d,y=-1,v=-1;do{if(this.uf(p)==l)return p;if(y==-1){if((y=this.Me(l))==-1)break;v=y}if(this.uf(v)==o)return this.xa(v);p=this.jc(this.xa(p)),v=this.jc(this.xa(v))}while(p!=d&&v!=y);return-1},n.prototype.pB=function(o,l){l.Or(),l=l.get();var d=new h.h;this.Yr(o,d),l.Dc(d),this.lm(o,d),l.Qc(d)},n.prototype.HO=function(o,l){if(o==l)return 0;var d=new h.h;this.lm(o,d);var p=new h.h;return this.lm(l,p),d.qb(p)?0:(l=new h.h,this.Yr(o,l),(o=new h.h).uc(d,l),(d=new h.h).uc(p,l),h.h.nu(o,d))},n.prototype.GO=function(o,l){if(o==l)return 0;var d=new h.h;this.lm(o,d);var p=new h.h;return this.lm(l,p),d.qb(p)?0:(l=new h.h,this.Yr(o,l),(o=new h.h).uc(d,l),(d=new h.h).uc(p,l),0<=d.y&&0<o.y?h.h.nu(o,d):0)},n.prototype.xO=function(){for(var o=h.lc.ox(this.lA),l=new h.h,d=new h.h,p=new h.h,y=new h.h,v=new h.h,$=this.Re;$!=-1;$=this.Rf($)){var I=this.Me($);if(I!=-1){var k=I;this.Yr(k,l),this.lm(k,d),v.uc(d,l);var O=v.Sk();do{var F=k;if((k=this.jc(this.xa(k)))!=F){this.lm(k,p),y.uc(p,l),F=y.Sk();var j=y.wi(v);if(j*j/(F*O)*Math.min(F,O)<=o)return!1;v.L(y),O=F,d.L(p)}}while(k!=I)}}return!0},n}(),h.iu=P}(Y||(Y={})),function(h){var P=function(){function _(){this.j=null,this.oH=new h.h,this.pH=new h.h,this.Gj=null,this.Mv=!1,this.tl=-1}return _.prototype.cf=function(u){return u<this.Gj.length&&this.Gj[u]},_.prototype.dl=function(u,a,n,o){var l=h.aa.tf(this.j.g.ic(n));if(h.aa.tf(this.j.g.ic(a))!=2||l!=1)throw h.i.Qa();this.FP(u,a,n,o)},_.prototype.dr=function(u,a){this.j==null&&(this.j=new h.iu),this.j.dr(u,a)},_.prototype.Ft=function(u,a,n){for(h.Tk.V(u,a,n,!0),a=u.ld;a!=-1;a=u.ue(a))u.ic(a)==1736&&h.rn.V(u,a,-1,this.Mv,n);this.dr(u,n)},_.prototype.ME=function(u,a,n,o,l){var d=this.j.g;if(d.ic(u)==1736)for(u=d.Ob(u);u!=-1;u=d.Rb(u)){var p=d.Xa(u);this.j.Le(p),this.j.Le(d.U(p));var y=this.j.uR(p);if(y!=-1){var v=this.j.Ab(y,n);if(v!=1&&v!=2)if(this.cf(this.j.af(y))){this.j.Kb(y,n,1),v=d.vf(a,-1);var $=y,I=this.j.Le(p),k=1;do{var O=this.sm(p,l);d.ij(v,O),o!=-1&&this.j.nn(I,o,1),this.j.Kb($,n,1),$=this.j.jc($);do var F=(O=k==1?d.U(p):d.Ma(p))!=-1?this.j.Le(O):-1;while(F==I);var j=this.j.jk($);if(j!=F){do F=(O=k==1?d.Ma(p):d.U(p))!=-1?this.j.Le(O):-1;while(F==I);j!=F?(F=j,O=this.j.tj(this.j.km(F))):k=-k}I=F,p=O}while($!=y);d.kn(v,!0)}else this.j.Kb(y,n,2)}}},_.prototype.eF=function(){for(var u=this.j.$g(),a=new h.ia(0),n=this.j.Re;n!=-1;n=this.j.Rf(n)){var o=this.j.Me(n),l=o;if(o!=-1)do{if(this.j.Ab(l,u)!=1){var d=this.j.xa(l);this.j.Kb(d,u,1),this.j.Kb(l,u,1),this.cf(this.j.af(l))&&this.cf(this.j.af(d))&&a.add(l)}l=this.j.jc(this.j.xa(l))}while(l!=o)}this.j.Jg(u),this.j.JP(a)},_.prototype.sm=function(u,a){return a==-1?u:this.aS(u,a)},_.prototype.aS=function(u,a){var n=this.j.g,o=this.j.km(this.j.Le(u));do{var l=this.j.tj(o);if(n.Qf(n.bd(l))==a)return l;o=this.j.js(o)}while(o!=-1);return u},_.prototype.Ot=function(u,a,n){this.eF();var o=this.j.g,l=o.Ig(1736),d=this.j.$g();return this.uK(u,a,l,n,d,-1),this.j.Jg(d),h.rn.V(o,l,1,this.Mv,null),l},_.prototype.uK=function(u,a,n,o,l,d){for(this.ME(u,n,l,d,o),a!=-1&&this.ME(a,n,l,d,o),u=this.j.g,a=this.j.Re;a!=-1;a=this.j.Rf(a)){var p=this.j.Me(a);if(p!=-1){var y=p;do{var v=this.j.Ab(y,l);if(v!=1&&v!=2)if(this.cf(this.j.af(y))){v=u.vf(n,-1);var $=y;do{var I=this.j.mm($);I!=-1?I=this.j.tj(I):(I=this.j.tj(this.j.mm(this.j.xa($))),I=this.j.g.U(I)),I=this.sm(I,o),u.ij(v,I),this.j.Kb($,l,1),d!=-1&&(I=this.j.Le(I),this.j.nn(I,d,1)),$=this.j.jc($)}while($!=y);u.kn(v,!0)}else this.j.Kb(y,l,2);y=this.j.jc(this.j.xa(y))}while(y!=p)}}},_.prototype.aY=function(u,a,n){var o=this.j.g,l=o.Ig(1736),d=o.Ig(1607),p=o.Ig(550);this.eF();var y=-1,v=this.j.$g(),$=this.j.Dp();for(this.uK(u,a,l,n,v,$),u=this.j.Re;u!=-1;u=this.j.Rf(u))if((a=this.j.Me(u))!=-1){var I=a;do{var k=this.j.Ab(I,v),O=this.j.Ab(this.j.xa(I),v);if((k|=O)==2)if(k=this.j.dh(I),this.cf(k)){var F=o.vf(d,-1),j=I;k=this.Yw(u,o),k=this.sm(k,n),o.ij(F,k),this.j.nn(u,$,1);do{if(k=this.j.uf(j),O=this.Yw(k,o),O=this.sm(O,n),o.ij(F,O),this.j.Kb(j,v,1),this.j.Kb(this.j.xa(j),v,1),this.j.nn(k,$,1),j=this.j.jc(j),k=this.j.Ab(j,v),(k|=O=this.j.Ab(this.j.xa(j),v))!=2)break;if(k=this.j.dh(j),!this.cf(k)){this.j.Kb(j,v,1),this.j.Kb(this.j.xa(j),v,1);break}}while(j!=I)}else this.j.Kb(I,v,1),this.j.Kb(this.j.xa(I),v,1);I=this.j.jc(this.j.xa(I))}while(I!=a)}for(u=this.j.Re;u!=-1;u=this.j.Rf(u))(k=this.j.ng(u,$))!=1&&(k=this.j.xd(u),this.cf(k)&&(y==-1&&(y=o.vf(p,-1)),(a=this.j.km(u))!=-1&&(a=this.j.tj(a),k=this.sm(a,n),o.ij(y,k))));return this.j.Ep($),this.j.Jg(v),h.rn.V(o,l,1,this.Mv,null),(n=[])[0]=p,n[1]=d,n[2]=l,n},_.prototype.Yw=function(u,a){var n=-1;for(u=this.j.km(u);u!=-1;u=this.j.js(u)){var o=this.j.tj(u);n==-1&&(n=o);var l=this.j.La(a.Qf(a.bd(o)));if(this.cf(l)){n=o;break}}return n},_.prototype.lB=function(u,a){for(var n=this.jl(a),o=this.j.jk(a),l=this.j.uf(a),d=0,p=0,y=this.j.km(o);y!=-1;y=this.j.js(y)){var v=this.j.tj(y),$=u.bd(v),I=this.j.La(u.Qf($));$=u.Xa($),(I=(I&n)!=0)&&$==v&&(this.tl=a);var k=u.U(v);k!=-1&&this.j.Le(k)==l?(d++,I&&(this.tl===-1&&$==k&&(v=this.j.jc(a),this.cf(this.jl(v))&&(this.tl=v)),p++)):(v=u.Ma(v))!=-1&&this.j.Le(v)==l&&(d--,I&&(this.tl===-1&&$===v&&(v=this.j.jc(a),this.cf(this.jl(v))&&(this.tl=v)),p--))}return this.j.D(o,this.oH),this.j.D(l,this.pH),(p!=0?p:d)*(u=h.h.tb(this.oH,this.pH))},_.prototype.jl=function(u){return this.j.dh(u)|this.j.af(u)|this.j.af(this.j.xa(u))},_.prototype.xK=function(u){for(var a=this.j.xa(this.j.te(u)),n=-1;a!=u;){if(this.cf(this.jl(a))){if(n!=-1)return-1;n=a}a=this.j.xa(this.j.te(a))}return n!=-1?this.j.xa(n):-1},_.prototype.yK=function(u){for(var a=this.j.xa(this.j.jc(u)),n=-1;a!=u;){if(this.cf(this.jl(a))){if(n!=-1)return-1;n=a}a=this.j.xa(this.j.jc(a))}return n!=-1?this.j.xa(n):-1},_.prototype.mJ=function(u,a,n,o,l){var d=this.j.g,p=u,y=this.j.xa(p);this.j.Kb(p,n,1),this.j.Kb(y,n,1),this.tl=-1;for(var v=this.lB(d,p),$=p,I=-1,k=!1,O=1;;){var F=this.j.te(p);if(F==y)break;if(y=this.j.jc(y),this.j.xa(F)!=y){if((p=this.xK(p))==-1){k=!0;break}y=this.j.xa(p)}else p=F;if(p==u){I=u;break}if(F=this.jl(p),!this.cf(F))break;this.j.Kb(p,n,1),this.j.Kb(y,n,1),$=p,v+=this.lB(d,p),O++}if(I==-1)for(p=u,y=this.j.xa(p),I=p;(u=this.j.jc(p))!=y;){if(y=this.j.te(y),this.j.xa(u)!=y){if((p=this.yK(p))==-1){k=!0;break}y=this.j.xa(p)}else p=u;if(F=this.jl(p),!this.cf(F))break;this.j.Kb(p,n,1),this.j.Kb(y,n,1),I=p,v+=this.lB(d,p),O++}else if(this.tl!=-1&&($=this.tl,I=this.j.te(this.tl),this.j.xa(I)!=this.j.jc(this.j.xa($))&&(I=this.xK($))==-1))throw h.i.Qa();for(0<=v||(p=I,I=this.j.xa($),$=this.j.xa(p)),n=d.vf(a,-1),p=$,$=this.j.jk($),k=this.j.uf(I)==$&&k,v=this.Yw($,d),v=this.sm(v,l),d.ij(n,v),o!=-1&&this.j.nn($,o,1),$=0,O=k?h.O.truncate((O+1)/2):-1;u=this.j.uf(p),v=this.Yw(u,d),v=this.sm(v,l),d.ij(n,v),$++,o!=-1&&this.j.nn(u,o,1),k&&$==O&&(n=d.vf(a,-1),d.ij(n,v)),p!=I;)if(u=this.j.jc(p),this.j.te(this.j.xa(p))!=this.j.xa(u)){if((p=this.yK(p))==-1)throw h.i.Qa()}else p=u},_.prototype.Pt=function(u){for(var a=this.j.g.Ig(1607),n=this.j.$g(),o=this.j.Re;o!=-1;o=this.j.Rf(o)){var l=this.j.Me(o),d=l;do this.j.Ab(d,n)!=1&&this.cf(this.jl(d))&&this.mJ(d,a,n,-1,u),d=this.j.jc(this.j.xa(d));while(d!=l)}return this.j.Jg(n),a},_.prototype.bY=function(u){for(var a=this.j.g,n=a.Ig(1607),o=a.Ig(550),l=this.j.$g(),d=this.j.Dp(),p=-1,y=this.j.Re;y!=-1;y=this.j.Rf(y)){var v=this.j.Me(y),$=v;do{var I=this.j.Ab($,l);I!=1&&(I=this.jl($),this.cf(I)&&this.mJ($,n,l,d,u)),$=this.j.jc(this.j.xa($))}while($!=v)}for(y=this.j.Re;y!=-1;y=this.j.Rf(y))(I=this.j.ng(y,d))!=1&&(I=this.j.xd(y),this.cf(I)&&(p==-1&&(p=a.vf(o,-1)),(v=this.j.km(y))!=-1&&(v=this.j.tj(v),v=this.sm(v,u),a.ij(p,v))));return this.j.Jg(l),this.j.Ep(d),(u=[])[0]=o,u[1]=n,u},_.prototype.mr=function(){for(var u=this.j.g,a=u.Ig(550),n=u.vf(a,-1),o=this.j.Re;o!=-1;o=this.j.Rf(o))if(this.cf(this.j.xd(o))){for(var l=-1,d=this.j.km(o);d!=-1;d=this.j.js(d)){var p=this.j.tj(d);l==-1&&(l=p);var y=this.j.La(u.Qf(u.bd(p)));if(this.cf(y)){l=p;break}}u.ij(n,l)}return a},_.prototype.bq=function(u){this.Gj=[];for(var a=0;a<u;a++)this.Gj[a]=!1},_.aW=function(u,a,n){var o=u.Ia(),l=Array(1e3);h.O.$u(l,null);var d=h.O.lg(1e3,0),p=u.I(),y=!0,v=a.Db()==2;if(a.Db()!=1&&a.Db()!=2)throw h.i.Qa();for(var $=0;$<p;){var I=h.O.truncate(u.lW(l,$)-$);v?h.hd.sK(a,l,I,n,d):h.hd.tK(a,l,I,n,d);for(var k=0,O=0;O<I;O++)d[O]==0&&(y&&(y=!1,o.Fd(u,0,$)),k!=O&&o.Fd(u,$+k,$+O),k=O+1);y||k==I||o.Fd(u,$+k,$+I),$+=I}return y?u:o},_.zG=function(u,a,n){return u instanceof h.de?_.aW(u,a,n):a instanceof h.Sa?u.B()||a.B()?u.Ia():h.Tk.zU(n,u,a)?h.Tk.CO(u,a):u.Ia():_.bW(u,a,n)},_.Av=function(u,a,n,o){var l=new h.l;u.A(l);var d=new h.l;a.A(d);var p=new h.l;if(p.K(l),p.Zb(d),n=h.ta.Wd(n,p,!0),(p=new h.l).K(d),d=h.ta.Er(n),p.W(d,d),!l.isIntersecting(p)){if(u.Db()<=a.Db())return _.ki(_.Xe(u.Ia()),u,"&");if(u.Db()>a.Db())return _.ki(_.Xe(a.Ia()),u,"&")}return d=new _,p=(l=new h.gd).Ib(_.Xe(u)),a=l.Ib(_.Xe(a)),d.Ft(l,n,o),o=d.Av(p,a),u=_.ki(l.Ne(o),u,"&"),h.aa.Hc(u.getType())&&(u.Ch(2,n),u.getType()==1736&&u.fm()),u},_.bW=function(u,a,n){if(u.B()||a.B())return u.Ia();var o=[null],l=[0],d=a.Db()==2;if(a.Db()!=1&&a.Db()!=2)throw h.i.Qa();return o[0]=u.D(),d?h.hd.sK(a,o,1,n,l):h.hd.tK(a,o,1,n,l),l[0]==0?u.Ia():u},_.prototype.LU=function(u,a,n,o,l){if(u.B())return u;var d=new h.gd;return u=d.Ib(u),this.Mk(d,u,a,n,o,l)},_.prototype.NU=function(u,a,n,o,l,d){if(l&&u.ic(a)!=550){var p=new h.RC;p.TX(u,n),p.Ng?(h.Tk.V(u,n,d,!0),l=!1):this.j.yy(n)}else h.Tk.V(u,n,d,!0),l=!1;if(o&&u.ic(a)!=550?this.j.wJ(u,a,d):this.j.vJ(u,a,d),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(u,a,n,o,!1,d);if(this.j.yy(NaN),d=this.j.La(a),this.bq(d+1),this.Gj[d]=!0,u.ic(a)==1736||o&&u.ic(a)!=550)return u.Yo(a,0),a=this.Ot(a,-1,-1),(u=u.Ne(a)).Yo(0),l?u.Ch(1,0):(u.Ch(2,n),u.fm()),u;if(u.ic(a)==1607)return a=this.Pt(-1),u=u.Ne(a),l||u.Ch(2,n),u;if(u.ic(a)==550)return a=this.mr(),u=u.Ne(a),l||u.Ch(2,n),u;throw h.i.Qa()},_.prototype.Mk=function(u,a,n,o,l,d){this.j=new h.iu;try{return this.NU(u,a,n,o,l,d)}finally{this.j.Ug()}},_.Mk=function(u,a,n,o,l){return new _().LU(u,a,n,o,l)},_.prototype.MU=function(u,a,n,o){this.Mv=u,this.j=new h.iu,u=a.In(n);var l=a.ic(n);if(u!=1||l==550?this.j.vJ(a,n,o):this.j.wJ(a,n,o),!this.j.pA)if(this.j.yy(NaN),o=this.j.La(n),this.bq(o+1),this.Gj[o]=!0,a.ic(n)==1736||u==1&&a.ic(n)!=550)a.Yo(n,0),o=this.Ot(n,-1,-1),a.hC(o,n),a.BB(o);else if(a.ic(n)==1607)o=this.Pt(-1),a.hC(o,n),a.BB(o);else{if(a.ic(n)!=550)throw h.i.fa("internal error");o=this.mr(),a.hC(o,n),a.BB(o)}},_.prototype.im=function(u,a){var n=h.aa.tf(this.j.g.ic(u)),o=h.aa.tf(this.j.g.ic(a));if(n>o)return u;var l=this.j.La(u),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(u)]=!0,n==2&&o==2)return this.Ot(u,a,-1);if(n==1&&o==2||n==1&&o==1)return this.Pt(-1);if(n==0)return this.mr();throw h.i.Qa()},_.prototype.Av=function(u,a){var n=h.aa.tf(this.j.g.ic(u)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(u),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(u)|this.j.La(a)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=u),n==2&&o==2)return this.Ot(u,a,l);if(n==1&&0<o||o==1&&0<n)return this.Pt(l);if(n==0||o==0)return this.mr();throw h.i.Qa()},_.prototype.Pz=function(u,a){var n=h.aa.tf(this.j.g.ic(u)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(u),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(u)|this.j.La(a)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=u),n==2&&o==2)return this.aY(u,a,l);if(n==1&&0<o||o==1&&0<n)return this.bY(l);if(n==0||o==0)return(u=[])[0]=this.mr(),u;throw h.i.Qa()},_.prototype.ep=function(u,a){var n=h.aa.tf(this.j.g.ic(u)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(u),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(u)]=!0,this.Gj[this.j.La(a)]=!0,n==2&&o==2)return this.Ot(u,a,-1);if(n==1&&o==1)return this.Pt(-1);if(n==0&&o==0)return this.mr();throw h.i.Qa()},_.Xe=function(u){var a=u.getType();return a==197?(a=new h.Da(u.description),u.B()||a.ad(u,!1),a):a==33?(a=new h.de(u.description),u.B()||a.add(u),a):a==322?(a=new h.Ta(u.description),u.B()||a.oc(u,!0),a):u},_.ki=function(u,a,n){var o=u.getType();return o==197?(a=new h.Da(u.description),u.B()||a.ad(u,!1),a):o!=33||n!="|"&&n!="^"?o==322?(a=new h.Ta(u.description),u.B()||a.oc(u,!0),a):o==33&&n=="-"&&a.getType()==33||o==550&&n=="&"&&a.getType()==33?(a=new h.Sa(u.description),u.B()||u.ve(0,a),a):u:(a=new h.de(u.description),u.B()||a.add(u),a)},_.im=function(u,a,n,o){if(u.B()||a.B()||u.Db()>a.Db())return _.ki(_.Xe(u),u,"-");var l=new h.l;u.A(l);var d=new h.l;if(a.A(d),!l.isIntersecting(d))return _.ki(_.Xe(u),u,"-");var p=new h.l;return p.K(l),p.Zb(d),n=h.ta.Wd(n,p,!0),d=new _,p=(l=new h.gd).Ib(_.Xe(u)),a=l.Ib(_.Xe(a)),d.Ft(l,n,o),o=d.im(p,a),o=l.Ne(o),u=_.ki(o,u,"-"),h.aa.Hc(u.getType())&&(u.Ch(2,n),u.getType()==1736&&u.fm()),u},_.VP=function(u,a,n){if(2>u.length)throw h.i.N("not enough geometries to dissolve");for(var o=0,l=0,d=u.length;l<d;l++)o=Math.max(u[l].Db(),o);var p=new h.l;p.Oa();var y=new h.gd,v=-1,$=0,I=-1;for(l=0,d=u.length;l<d;l++)if(u[l].Db()==o)if(u[l].B())I==-1&&(I=l);else{I=l,v==-1?v=y.Ib(_.Xe(u[l])):y.uN(v,_.Xe(u[l]));var k=new h.l;u[l].xc(k),p.Zb(k),$++}return 2>$?_.Xe(u[I]):(u=o==2,a=h.ta.Wd(o==0?a:null,p,!0),new _().Mk(y,v,a,u,!0,n))},_.Pz=function(u,a,n,o){var l=[null,null,null],d=new h.l;u.A(d);var p=new h.l;a.A(p);var y=new h.l;if(y.K(d),y.Zb(p),n=h.ta.Wd(n,y,!0),(y=new h.l).K(p),p=h.ta.Er(n),y.W(p,p),!d.isIntersecting(y)){if(u.Db()<=a.Db())return l[(u=_.ki(_.Xe(u.Ia()),u,"&")).Db()]=u,l;if(u.Db()>a.Db())return l[(u=_.ki(_.Xe(a.Ia()),u,"&")).Db()]=u,l}for(p=new _,y=(d=new h.gd).Ib(_.Xe(u)),a=d.Ib(_.Xe(a)),p.Ft(d,n,o),o=p.Pz(y,a),a=0;a<o.length;a++)p=_.ki(d.Ne(o[a]),u,"&"),h.aa.Hc(p.getType())&&(p.Ch(2,n),p.getType()==1736&&p.fm()),l[p.Db()]=p;return l},_.ep=function(u,a,n,o){if(u.Db()>a.Db())return _.ki(_.Xe(u),u,"^");if(u.Db()<a.Db()||u.B())return _.ki(_.Xe(a),u,"^");if(a.B())return _.ki(_.Xe(u),u,"^");var l=new h.l;u.A(l);var d=new h.l;a.A(d);var p=new h.l;return p.K(l),p.Zb(d),n=h.ta.Wd(n,p,!0),d=new _,p=(l=new h.gd).Ib(_.Xe(u)),a=l.Ib(_.Xe(a)),d.Ft(l,n,o),o=d.ep(p,a),u=_.ki(l.Ne(o),u,"^"),h.aa.Hc(u.getType())&&(u.Ch(2,n),u.getType()==1736&&u.fm()),u},_.prototype.LQ=function(u,a){var n=this.j.g;u=n.vf(u,-1);for(var o=a.size,l=0;l<o;l++){var d=a.get(l);n.ij(u,d)}n.kn(u,!0)},_.prototype.aX=function(u,a){for(var n=this.j.g,o=n.ld;o!=-1;o=n.ue(o))if(o==a)for(var l=n.Ob(o);l!=-1;l=n.Rb(l)){var d=n.Xa(l);if(d!=-1)for(var p=n.U(d);p!=-1;){d=this.j.Le(d);var y=this.j.Le(p);(d=this.j.tR(d,y))!=-1&&(y=this.j.xa(d),this.j.Kb(d,u,1),this.j.Kb(y,u,2)),d=p,p=n.U(d)}}},_.prototype.cW=function(u,a,n,o){n=this.j.La(n),o=this.j.La(o);var l=new h.ia(0);l.Jb(256);for(var d=this.j.g,p=this.j.$g(),y=this.j.Re;y!=-1;y=this.j.Rf(y)){var v=this.j.Me(y);if(v!=-1){var $=v;do{if(this.j.Ab($,p)!=1){var I=$,k=$,O=!1,F=0;do{if(this.j.Kb(I,p,1),!O){var j=this.j.dh(I);j&o&&this.j.af(I)&n&&(k=I,O=!0)}O&&(l.add(this.j.tj(this.j.km(this.j.jk(I)))),u!=-1&&(j=this.j.dh(I))&o&&(F|=j=this.j.Ab(I,u))),I=this.j.jc(I)}while(I!=k);O&&0<this.j.Kp(this.j.$e(k))&&(I=d.Ig(1736),this.LQ(I,l),a!=-1&&d.HJ(I,a,F)),l.clear(!1)}$=this.j.jc(this.j.xa($))}while($!=v)}}this.j.Jg(p)},_.prototype.FP=function(u,a,n,o){this.j.yW();var l=-1;u!=-1&&(l=this.j.$g(),this.aX(l,n)),this.cW(l,u,a,n),l!=-1&&(this.j.Jg(l),l=-1);var d=this.j.g;for(u=0,l=d.ld;l!=-1;l=d.ue(l))l!=a&&l!=n&&(o.add(l),u++);o.Vd(0,u,function(p,y){return(p=d.wz(d.Ob(p)))<(y=d.wz(d.Ob(y)))?-1:p==y?0:1})},_.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},_}();h.Fg=P}(Y||(Y={})),function(h){var P=function(){function _(u){u!==void 0?this.setScale(u):this.RB()}return _.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},_.prototype.Nb=function(u){return this==u||u instanceof _&&this.bb==u.bb&&this.eb==u.eb&&this.Gb==u.Gb&&this.jb==u.jb&&this.ab==u.ab&&this.Lb==u.Lb},_.prototype.cc=function(){return h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj()},_.prototype.Eh=function(u,a){var n=this.jb*u.x+this.ab*u.y+this.Lb;a.x=this.bb*u.x+this.eb*u.y+this.Gb,a.y=n},_.prototype.eY=function(u,a,n){for(var o=0;o<a;o++){var l=u[o].x,d=u[o].y,p=this.bb*l+this.eb*d+this.Gb;l=this.jb*l+this.ab*d+this.Lb,n[o]!=null?n[o].ma(p,l):n[o]=h.h.construct(p,l)}},_.prototype.multiply=function(u){_.multiply(this,u,this)},_.multiply=function(u,a,n){var o=u.bb*a.bb+u.jb*a.eb,l=u.eb*a.bb+u.ab*a.eb,d=u.Gb*a.bb+u.Lb*a.eb+a.Gb,p=u.bb*a.jb+u.jb*a.ab,y=u.eb*a.jb+u.ab*a.ab;u=u.Gb*a.jb+u.Lb*a.ab+a.Lb,n.bb=o,n.eb=l,n.Gb=d,n.jb=p,n.ab=y,n.Lb=u},_.prototype.Of=function(){var u=new _;return u.bb=this.bb,u.eb=this.eb,u.Gb=this.Gb,u.jb=this.jb,u.ab=this.ab,u.Lb=this.Lb,u},_.prototype.mC=function(u){if(!u.B()){for(var a=[],n=0;4>n;n++)a[n]=new h.h;u.nB(a),this.fY(a,a),u.Zw(a,4)}},_.prototype.fY=function(u,a){for(var n=0;n<u.length;n++){var o=new h.h,l=u[n];o.x=this.bb*l.x+this.eb*l.y+this.Gb,o.y=this.jb*l.x+this.ab*l.y+this.Lb,a[n]=o}},_.prototype.pS=function(u,a){u.B()||a.B()||u.R()==0||u.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=a.R()/u.R(),this.ab=a.ca()/u.ca(),this.Gb=a.v-u.v*this.bb,this.Lb=a.G-u.G*this.ab)},_.prototype.dY=function(u){var a=new h.h,n=new h.h;a.ma(this.bb,this.jb),n.ma(this.eb,this.ab),a.sub(a);var o=.5*a.Sk();return a.ma(this.bb,this.jb),n.ma(this.eb,this.ab),a.add(n),u*(o>(a=.5*a.Sk())?Math.sqrt(o):Math.sqrt(a))},_.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},_.prototype.isIdentity=function(u){if(u!==void 0){var a=h.h.construct(0,1);return this.Eh(a,a),a.sub(h.h.construct(0,1)),a.Sk()>u*u?!1:(a.ma(0,0),this.Eh(a,a),!(a.Sk()>u*u)&&(a.ma(1,0),this.Eh(a,a),a.sub(h.h.construct(1,0)),a.Sk()<=u*u))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},_.prototype.Bi=function(u){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*u*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},_.prototype.gg=function(u,a){this.bb=1,this.eb=0,this.Gb=u,this.jb=0,this.ab=1,this.Lb=a},_.prototype.setScale=function(u,a){a!==void 0?(this.bb=u,this.jb=this.Gb=this.eb=0,this.ab=a,this.Lb=0):this.setScale(u,u)},_.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},_.prototype.setRotate=function(u){this.pX(Math.cos(u),Math.sin(u))},_.prototype.pX=function(u,a){this.bb=u,this.eb=-a,this.Gb=0,this.jb=a,this.ab=u,this.Lb=0},_.prototype.shift=function(u,a){this.Gb+=u,this.Lb+=a},_.prototype.scale=function(u,a){this.bb*=u,this.eb*=u,this.Gb*=u,this.jb*=a,this.ab*=a,this.Lb*=a},_.prototype.flipX=function(u,a){this.bb=-this.bb,this.eb=-this.eb,this.Gb=u+a-this.Gb},_.prototype.flipY=function(u,a){this.jb=-this.jb,this.ab=-this.ab,this.Lb=u+a-this.Lb},_.prototype.rotate=function(u){var a=new _;a.setRotate(u),this.multiply(a)},_.prototype.inverse=function(u){if(u!==void 0){var a=this.bb*this.ab-this.eb*this.jb;a==0?u.lx():(a=1/a,u.Gb=(this.eb*this.Lb-this.Gb*this.ab)*a,u.Lb=(this.Gb*this.jb-this.bb*this.Lb)*a,u.bb=this.ab*a,u.eb=-this.eb*a,u.jb=-this.jb*a,u.ab=this.bb*a)}else this.inverse(this)},_}();h.Dd=P}(Y||(Y={})),function(h){var P=function(){function _(){}return _.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},_.prototype.setScale=function(u,a,n){this.bb=u,this.eb=this.Ze=this.jb=0,this.ab=a,this.Fe=this.Ee=this.Ge=0,this.He=n,this.hg=this.Lb=this.Gb=0},_.prototype.setTranslate=function(u,a,n){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=u,this.Lb=a,this.hg=n},_.prototype.translate=function(u,a,n){this.Gb+=u,this.Lb+=a,this.hg+=n},_.prototype.mC=function(u){if(!u.B()){for(var a=new h.Nd[8],n=0;8>n;n++)a[n]=new h.Nd;u.nB(a),this.transform(a,8,a),u.Zw(a)}},_.prototype.transform=function(u,a,n){for(var o=0;o<a;o++){var l=new h.Nd,d=u[o];l.x=this.bb*d.x+this.eb*d.y+this.Ee*d.z+this.Gb,l.y=this.jb*d.x+this.ab*d.y+this.Fe*d.z+this.Lb,l.z=this.Ze*d.x+this.Ge*d.y+this.He*d.z+this.hg,n[o]=l}},_.prototype.fp=function(u){var a=new h.Nd;return a.x=this.bb*u.x+this.eb*u.y+this.Ee*u.z+this.Gb,a.y=this.jb*u.x+this.ab*u.y+this.Fe*u.z+this.Lb,a.z=this.Ze*u.x+this.Ge*u.y+this.He*u.z+this.hg,a},_.prototype.Ag=function(u){_.multiply(this,u,this)},_.multiply=function(u,a,n){var o=u.bb*a.bb+u.jb*a.eb+u.Ze*a.Ee,l=u.bb*a.jb+u.jb*a.ab+u.Ze*a.Fe,d=u.bb*a.Ze+u.jb*a.Ge+u.Ze*a.He,p=u.eb*a.bb+u.ab*a.eb+u.Ge*a.Ee,y=u.eb*a.jb+u.ab*a.ab+u.Ge*a.Fe,v=u.eb*a.Ze+u.ab*a.Ge+u.Ge*a.He,$=u.Ee*a.bb+u.Fe*a.eb+u.He*a.Ee,I=u.Ee*a.jb+u.Fe*a.ab+u.He*a.Fe,k=u.Ee*a.Ze+u.Fe*a.Ge+u.He*a.He,O=u.Gb*a.bb+u.Lb*a.eb+u.hg*a.Ee+a.Gb,F=u.Gb*a.jb+u.Lb*a.ab+u.hg*a.Fe+a.Lb;u=u.Gb*a.Ze+u.Lb*a.Ge+u.hg*a.He+a.hg,n.bb=o,n.jb=l,n.Ze=d,n.eb=p,n.ab=y,n.Ge=v,n.Ee=$,n.Fe=I,n.He=k,n.Gb=O,n.Lb=F,n.hg=u},_.inverse=function(u,a){var n=u.bb*(u.ab*u.He-u.Ge*u.Fe)-u.jb*(u.eb*u.He-u.Ge*u.Ee)+u.Ze*(u.eb*u.Fe-u.ab*u.Ee);if(n==0)throw h.i.fa("math singularity");var o=1/n;n=(u.ab*u.He-u.Ge*u.Fe)*o;var l=-(u.eb*u.He-u.Ge*u.Ee)*o,d=(u.eb*u.Fe-u.ab*u.Ee)*o,p=-(u.jb*u.He-u.Fe*u.Ze)*o,y=(u.bb*u.He-u.Ze*u.Ee)*o,v=-(u.bb*u.Fe-u.jb*u.Ee)*o,$=(u.jb*u.Ge-u.Ze*u.ab)*o,I=-(u.bb*u.Ge-u.Ze*u.eb)*o;o*=u.bb*u.ab-u.jb*u.eb;var k=-(u.Gb*n+u.Lb*l+u.hg*d),O=-(u.Gb*p+u.Lb*y+u.hg*v);u=-(u.Gb*$+u.Lb*I+u.hg*o),a.bb=n,a.jb=p,a.Ze=$,a.eb=l,a.ab=y,a.Ge=I,a.Ee=d,a.Fe=v,a.He=o,a.Gb=k,a.Lb=O,a.hg=u},_.prototype.Of=function(){var u=new _;return u.bb=this.bb,u.jb=this.jb,u.Ze=this.Ze,u.eb=this.eb,u.ab=this.ab,u.Ge=this.Ge,u.Ee=this.Ee,u.Fe=this.Fe,u.He=this.He,u.Gb=this.Gb,u.Lb=this.Lb,u.hg=this.hg,u},_}();h.JY=P}(Y||(Y={})),function(h){var P=function(u){function a(n){if(n!==void 0)n=u.call(this,n.cc(),n)||this;else{(n=u.call(this)||this).bg=[],n.bg[0]=0,n.Aa=1,n.uh=[];for(var o=0;10>o;o++)n.uh[o]=-1;n.uh[n.bg[0]]=0}return n.jq=!0,n}return Vt(a,u),a.prototype.re=function(n){this.hasAttribute(n)||(this.uh[n]=0,this.jD())},a.prototype.removeAttribute=function(n){if(n==0)throw h.i.N("Position attribue cannot be removed");this.hasAttribute(n)&&(this.uh[n]=-1,this.jD())},a.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var n=0;n<this.uh.length;n++)this.uh[n]=-1;this.uh[this.bg[0]]=0,this.jq=!0},a.prototype.EF=function(){return _.kz().add(this)},a.og=function(){return _.kz().$R()},a.prototype.tM=function(){var n=this.cc();return new h.ra(n,this)},a.prototype.jD=function(){for(var n=this.Aa=0,o=0;10>n;n++)0<=this.uh[n]&&(this.bg[o]=n,this.uh[n]=o,o++,this.Aa++);this.jq=!0},a.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},a.prototype.Nb=function(n){if(n==null)return!1;if(n==this)return!0;if(!(n instanceof a)||n.Aa!=this.Aa)return!1;for(var o=0;o<this.Aa;o++)if(this.bg[o]!=n.bg[o])return!1;return this.jq==n.jq},a.prototype.GG=function(n){if(n.Aa!=this.Aa)return!1;for(var o=0;o<this.Aa;o++)if(this.bg[o]!=n.bg[o])return!1;return!0},a.Iw=function(n,o){for(var l=[],d=0;d<n.Aa;d++)l[d]=-1;d=0;for(var p=n.Aa;d<p;d++)l[d]=o.Pf(n.kd(d));return l},a.BR=function(n,o){return(n=new a(n)).re(o),n.EF()},a.CR=function(n,o){for(var l=null,d=0;10>d;d++)!n.hasAttribute(d)&&o.hasAttribute(d)&&(l==null&&(l=new a(n)),l.re(d));return l!=null?l.EF():n},a}(h.ra);h.ee=P;var _=function(){function u(){this.map=[];var a=new P;this.add(a),(a=new P).re(1),this.add(a)}return u.kz=function(){return u.bL},u.prototype.$R=function(){return u.ft},u.prototype.add=function(a){var n=a.cc();if(u.ft!=null&&u.ft.cc()==n&&a.GG(u.ft))return u.ft;if(u.Dw!=null&&u.Dw.cc()==n&&a.GG(u.Dw))return u.Dw;var o=null;return this.map[n]!==void 0&&(o=this.map[n]),o==null&&((o=a.tM()).Aa==1?u.ft=o:o.Aa==2&&o.kd(1)==1?u.Dw=o:this.map[n]=o),o},u.bL=new u,u}()}(Y||(Y={}));var ds={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},Du={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},Bo=new(function(){function h(){this.RM=50,this.np=new Map,this.gj=[]}return h.prototype.clear=function(){this.gj.length=0,this.np.clear()},h.prototype.delete=function(P){return!!this.np.delete(P)&&(this.gj.splice(this.gj.indexOf(P),1),!0)},h.prototype.get=function(P){var _=this.np.get(P);if(_!==void 0)return this.gj[0]!==P&&(this.gj.splice(this.gj.indexOf(P),1),this.gj.unshift(P)),_},h.prototype.has=function(P){return this.np.has(P)},h.prototype.set=function(P,_){return this.get(P)!==void 0&&this.delete(P),this.gj.unshift(P),this.np.set(P,_),this.oM(),this},h.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var P=this.gj.pop();this.np.delete(P)}},h}()),Ve=((nr={}).convertJSONToGeometry=function(h){return Y.$b.fP(h)},nr.hasM=function(h){return h.hasAttribute(Y.Ih.M)},nr.hasZ=function(h){return h.hasAttribute(Y.Ih.Z)},nr.getPointX=function(h){return h.Lg()},nr.getPointY=function(h){return h.ih()},nr.getPointZ=function(h){return h.bS()},nr.getPointM=function(h){return h.zR()},nr.getXMin=function(h){return h.es()},nr.getYMin=function(h){return h.gs()},nr.getXMax=function(h){return h.ds()},nr.getYMax=function(h){return h.fs()},nr.getZExtent=function(h){return h.Tg(Y.Ih.Z,0)},nr.getMExtent=function(h){return h.Tg(Y.Ih.M,0)},nr.exportPaths=function(h){var P=[],_=h.da(),u=null,a=null,n=h.hasAttribute(Y.Ih.Z),o=h.hasAttribute(Y.Ih.M);n&&(u=h.ub(Y.Ih.Z)),o&&(a=h.ub(Y.Ih.M));for(var l=new Y.h,d=0;d<_;d++){for(var p=h.Ba(d),y=h.Ja(d),v=0,$=0,I=NaN,k=NaN,O=NaN,F=NaN,j=h.dc(d),z=[],B=p;B<p+y;B++){h.D(B,l),F=O=NaN;var H=[l.x,l.y];n&&(O=u.get(B),H.push(O)),o&&(F=a.get(B),H.push(F)),B==p&&j&&(v=l.x,$=l.y,I=O,k=F),z.push(H)}!j||v==l.x&&$==l.y&&(!n||isNaN(I)&&isNaN(O)||I==O)&&(!o||isNaN(k)&&isNaN(F)||k==F)||z.push(z[0].slice(0)),P.push(z)}return P},nr.exportPathsFlat=function(){},nr.exportPoints=function(h){var P=h.hasAttribute(Y.Ih.Z),_=h.hasAttribute(Y.Ih.M),u=null,a=null;P&&(u=h.ub(Y.Ih.Z)),_&&(a=h.ub(Y.Ih.M));for(var n=new Y.h,o=h.I(),l=[],d=0;d<o;d++){h.D(d,n);var p=[n.x,n.y];P&&p.push(u.get(d)),_&&p.push(a.get(d)),l.push(p)}return l},nr.exportPointsFlat=function(){},nr),js=new Map;return function(){function h(){}return h.buffer=ri,h.clip=L,h.contains=D,h.convexHull=Ge,h.crosses=G,h.cut=N,h.densify=Pt,h.difference=Ue,h.disjoint=pe,h.distance=q,h.equals=J,h.extendedSpatialReferenceInfo=C,h.generalize=Le,h.geodesicArea=wi,h.geodesicBuffer=yt,h.geodesicDensify=Dt,h.geodesicLength=ui,h.intersect=nt,h.intersects=ne,h.isSimple=Ce,h.nearestCoordinate=dt,h.nearestVertex=rt,h.nearestVertices=be,h.offset=Tt,h.overlaps=ge,h.planarArea=Zt,h.planarLength=ii,h.relate=Ae,h.simplify=qe,h.symmetricDifference=et,h.touches=ue,h.union=Qe,h.within=ae,h.rotate=Y.Ex.rotate,h.flipHorizontal=Y.Ex.JQ,h.flipVertical=Y.Ex.KQ,h.intersectLinesToPoints=z0,h.ExtendedParams=Y.yC,h.clearDefaultSpatialReferenceTolerance=V0,h.changeDefaultSpatialReferenceTolerance=_p,h._enableProjection=Li,h._project=D0,h._getTransformation=Cn,h._getTransformationBySuitability=sh,h}()}var r=i();r!==void 0&&(e.exports=r)})(AX);var OX=AX.exports;const Wt=Zme(OX),jxe=Nxe({__proto__:null,default:Wt},[OX]),Dxe=Object.freeze(Object.defineProperty({__proto__:null,G:Wt,g:jxe},Symbol.toStringTag,{value:"Module"})),li={convertToGEGeometry:Vxe,exportPoint:zxe,exportPolygon:Uxe,exportPolyline:Gxe,exportMultipoint:Wxe,exportExtent:qxe};function Vxe(e,t){if(t==null)return null;let i="cache"in t?t.cache._geVersion:void 0;return i==null&&(i=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=i)),i}function zxe(e,t,i){const r=e.hasZ(t),s=e.hasM(t),c=new Hi({x:e.getPointX(t),y:e.getPointY(t),spatialReference:i});return r&&(c.z=e.getPointZ(t)),s&&(c.m=e.getPointM(t)),c.cache._geVersion=t,c}function Uxe(e,t,i){const r=new wl({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return r.cache._geVersion=t,r}function Gxe(e,t,i){const r=new M0({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return r.cache._geVersion=t,r}function Wxe(e,t,i){const r=new Mm({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:i});return r.cache._geVersion=t,r}function qxe(e,t,i){const r=e.hasZ(t),s=e.hasM(t),c=new rr({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:i});if(r){const f=e.getZExtent(t);c.zmin=f.vmin,c.zmax=f.vmax}if(s){const f=e.getMExtent(t);c.mmin=f.vmin,c.mmax=f.vmax}return c.cache._geVersion=t,c}const Bxe=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:li},Symbol.toStringTag,{value:"Module"}));function fi(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function Hxe(e){return Wt.extendedSpatialReferenceInfo(e)}function Jxe(e,t){return Wt.clip(li,fi(e),e,t)}function Zxe(e,t){return Wt.cut(li,fi(e),e,t)}function Kxe(e,t){return Wt.contains(li,fi(e),e,t)}function Yxe(e,t){return Wt.crosses(li,fi(e),e,t)}function Qxe(e,t,i){return Wt.distance(li,fi(e),e,t,i)}function Xxe(e,t){return Wt.equals(li,fi(e),e,t)}function eEe(e,t){return Wt.intersects(li,fi(e),e,t)}function tEe(e,t){return Wt.touches(li,fi(e),e,t)}function iEe(e,t){return Wt.within(li,fi(e),e,t)}function rEe(e,t){return Wt.disjoint(li,fi(e),e,t)}function nEe(e,t){return Wt.overlaps(li,fi(e),e,t)}function sEe(e,t,i){return Wt.relate(li,fi(e),e,t,i)}function oEe(e){return Wt.isSimple(li,fi(e),e)}function aEe(e){return Wt.simplify(li,fi(e),e)}function lEe(e,t=!1){return Wt.convexHull(li,fi(e),e,t)}function uEe(e,t){return Wt.difference(li,fi(e),e,t)}function cEe(e,t){return Wt.symmetricDifference(li,fi(e),e,t)}function hEe(e,t){return Wt.intersect(li,fi(e),e,t)}function dEe(e,t=null){return Wt.union(li,fi(e),e,t)}function pEe(e,t,i,r,s,c){return Wt.offset(li,fi(e),e,t,i,r,s,c)}function fEe(e,t,i,r=!1){return Wt.buffer(li,fi(e),e,t,i,r)}function yEe(e,t,i,r,s,c){return Wt.geodesicBuffer(li,fi(e),e,t,i,r,s,c)}function mEe(e,t,i=!0){return Wt.nearestCoordinate(li,fi(e),e,t,i)}function gEe(e,t){return Wt.nearestVertex(li,fi(e),e,t)}function vEe(e,t,i,r){return Wt.nearestVertices(li,fi(e),e,t,i,r)}function sO(e){var t;return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?((t=e.extent)==null?void 0:t.center)??null:null}function bEe(e,t,i){if(e==null)throw new wm;const r=e.spatialReference;if((i=i??sO(e))==null)throw new wm;const s=e.constructor.fromJSON(Wt.rotate(e,t,i));return s.spatialReference=r,s}function wEe(e,t){if(e==null)throw new wm;const i=e.spatialReference;if((t=t??sO(e))==null)throw new wm;const r=e.constructor.fromJSON(Wt.flipHorizontal(e,t));return r.spatialReference=i,r}function _Ee(e,t){if(e==null)throw new wm;const i=e.spatialReference;if((t=t??sO(e))==null)throw new wm;const r=e.constructor.fromJSON(Wt.flipVertical(e,t));return r.spatialReference=i,r}function SEe(e,t,i,r){return Wt.generalize(li,fi(e),e,t,i,r)}function $Ee(e,t,i){return Wt.densify(li,fi(e),e,t,i)}function xEe(e,t,i,r=0){return Wt.geodesicDensify(li,fi(e),e,t,i,r)}function EEe(e,t){return Wt.planarArea(li,fi(e),e,t)}function TEe(e,t){return Wt.planarLength(li,fi(e),e,t)}function IEe(e,t,i){return Wt.geodesicArea(li,fi(e),e,t,i)}function oO(e,t,i){return Wt.geodesicLength(li,fi(e),e,t,i)}function MEe(e,t){return Wt.intersectLinesToPoints(li,fi(e),e,t)}function kEe(e,t){Wt.changeDefaultSpatialReferenceTolerance(e,t)}function CEe(e){Wt.clearDefaultSpatialReferenceTolerance(e)}let wm=class extends Error{constructor(){super("Illegal Argument Exception")}};const PDe=Object.freeze(Object.defineProperty({__proto__:null,buffer:fEe,changeDefaultSpatialReferenceTolerance:kEe,clearDefaultSpatialReferenceTolerance:CEe,clip:Jxe,contains:Kxe,convexHull:lEe,crosses:Yxe,cut:Zxe,densify:$Ee,difference:uEe,disjoint:rEe,distance:Qxe,equals:Xxe,extendedSpatialReferenceInfo:Hxe,flipHorizontal:wEe,flipVertical:_Ee,generalize:SEe,geodesicArea:IEe,geodesicBuffer:yEe,geodesicDensify:xEe,geodesicLength:oO,intersect:hEe,intersectLinesToPoints:MEe,intersects:eEe,isSimple:oEe,nearestCoordinate:mEe,nearestVertex:gEe,nearestVertices:vEe,offset:pEe,overlaps:nEe,planarArea:EEe,planarLength:TEe,relate:sEe,rotate:bEe,simplify:aEe,symmetricDifference:cEe,touches:tEe,union:dEe,within:iEe},Symbol.toStringTag,{value:"Module"}));function AEe({hasZ:e,spatialReference:t,paths:i},r,s=0){const c=XC(t);if(c==null)return!1;const f=e?m=>m:m=>_r(OEe,m[0],m[1],s);for(const m of i){const b=[];for(const x of m){const T=[0,0,s];c(f(x),0,T,0),b.push(T)}r.push(b)}return!0}const OEe=Je();function GV(e,t,i){if(t==null)return!1;const r=XC(t);return r!=null&&(r(e,0,Zg,0),i!==Zg&&(i[0]=Zg[0],i[1]=Zg[1],i.length>2&&(i[2]=Zg[2])),!0)}const Zg=Je();function LX(e,t,i,r,...s){return v2(e)&&U2(e)?t.apply(void 0,s):Tu(e)?i.apply(void 0,s):r.apply(void 0,s)}const FDe=1e5;function RDe(e){const{spatialReference:t}=e;return LX(t,REe,NEe,jEe,e)}function NDe(e,t){if(!cn(e.spatialReference,t.spatialReference))return null;const{spatialReference:i}=e;return o5[0]=e.x,o5[1]=e.y,o5[2]=e.hasZ?e.z:0,a5[0]=t.x,a5[1]=t.y,a5[2]=t.hasZ?t.z:0,aO(o5,a5,i)}function aO(e,t,i){return LX(i,LEe,PEe,FEe,e,t,i)}function LEe(e,t,i){return P0(vp(lO,e,t,i).distance,"meters")}function PEe(e,t,i){return P0(oO(DEe(e,t,i),"meters"),"meters")}function FEe(e,t,i){return GV(e,i,WV)&&GV(t,i,qV)?P0(vp(lO,WV,qV,Lt.WGS84).distance,"meters"):null}function REe(e){return P0(w3e([e],"meters")[0],"meters")}function NEe(e){return P0(oO(e,"meters"),"meters")}function jEe(e){const t=[];if(!AEe(e,t))return null;let i=0;for(const r of t){let s=0;for(let c=1;c<r.length;++c)s+=vp(lO,r[c-1],r[c],Lt.WGS84).distance;i+=s}return P0(i,"meters")}function DEe(e,t,i){return{type:"polyline",spatialReference:i,paths:[[[...e],[...t]]]}}const lO=new Wm,o5=Je(),a5=Je(),WV=Je(),qV=Je();let VEe=class extends N9{snapNewVertex(t,i){const r=i.editGeometryOperations.data.components[0],s=r.edges.length,c=[];if(s<1)return c;const{spatialReference:f}=i,m=us(t,f,Rr,this.view),{view:b}=this,x=r.edges[s-1];let T=x;do{if(this.edgeExceedsShortLineThreshold(T,i)){const C=oS(T,b,i);this._processCandidateProposal(C.left,C.right,t,m,i,c)}T=T.leftVertex.leftEdge}while(T&&T!==x);return c}snapExistingVertex(t,i){const r=[],s=i.vertexHandle,c=s.component;if(c.edges.length<2)return r;const{view:f}=this,{spatialReference:m}=i,b=us(t,m,Rr,f),x=s.leftEdge,T=s.rightEdge;x&&T&&this.edgeExceedsShortLineThreshold(x,i)&&this.edgeExceedsShortLineThreshold(T,i)&&this._processCandidateProposal(Kr(x.leftVertex.pos,f,i),Kr(T.rightVertex.pos,f,i),t,b,i,r);const C=c.edges[0];let L=C;do{if(L!==s.leftEdge&&L!==s.rightEdge&&this.edgeExceedsShortLineThreshold(L,i)){const N=oS(L,f,i);this._processCandidateProposal(N.left,N.right,t,b,i,r)}L=L.rightVertex.rightEdge}while(L&&L!==C);return r}_processCandidateProposal(t,i,r,s,c,f){var C;const{spatialReference:m,pointer:b}=c,x=Je();this._projectedLine(x,t,i,r,c);const T=x;N0(s,us(T,m,Rr,this.view))<this.squaredProximityThreshold(b)&&f.push(new CX({lineStart:t,lineEnd:i,targetPoint:T,isDraped:((C=c.elevationInfo)==null?void 0:C.mode)==="on-the-ground"}))}_projectedLine(t,i,r,s,c){this._projectToLineGeodesic(t,i,r,s,c)||this._projectToLinePlanar(t,s,i,r)}_projectToLineGeodesic(t,i,r,s,{spatialReference:c}){const f=n2(i,r,c,c);if(f==null)return!1;const m=n2(r,s,c,c);if(m==null)return!1;const b=aO(r,s,c);if(b==null)return!1;const x=Math.abs(Nce.shortestSignedDiff(f,m))>Math.PI/2?oq.normalize(f+Math.PI):f;return jK(t,r,c,cA(b,"meters"),$l(x,"radians","geographic"),"geodesic"),t[2]=s[2],!0}_projectToLinePlanar(t,i,r,s){qA(i,{start:r,end:s,type:ir.LINE},t),t[2]=i[2]}},zEe=class PX extends R9{constructor(t,i,r,s=Tn.ALL){super(r,s),this.lineStart=t,this.lineEnd=i}equals(t){return t instanceof PX&&Ni(this.lineStart,t.lineStart)&&Ni(this.lineEnd,t.lineEnd)}},FX=class extends Jm{constructor({referenceLine:t,lineStart:i,targetPoint:r,isDraped:s}){const c=$a(i),{left:f,right:m}=t;fr(c,xa(c,c,m),f),super(r,new bX(i,c),s,Tn.SELF),this._referenceLines=[{edge:t,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new Pu(Ia.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new zEe(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map(t=>new Pu(Ia.REFERENCE,t.edge.left,t.edge.right,this.isDraped,this.domain,t.fadeLeft,t.fadeRight))]}addReferenceLine(t){const i={edge:t,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(r=>{Ni(t.right,r.edge.left)&&(r.fadeLeft=!1,i.fadeRight=!1),Ni(t.right,r.edge.right)&&(r.fadeRight=!1,i.fadeRight=!1),Ni(t.left,r.edge.right)&&(r.fadeRight=!1,i.fadeLeft=!1),Ni(t.left,r.edge.left)&&(r.fadeLeft=!1,i.fadeLeft=!1)}),this._referenceLines.push(i)}},UEe=class extends N9{snapNewVertex(t,i){const r=i.editGeometryOperations.data.components[0],s=r.edges.length,c=r.vertices.length,f=[];if(s<2)return f;const{view:m}=this,b=us(t,i.spatialReference,Rr,m),x=Kr(r.vertices[c-1].pos,m,i),T=Kr(r.vertices[0].pos,m,i),C=r.edges[s-1];let L=C;do{if(this.edgeExceedsShortLineThreshold(L,i)){const N=oS(L,m,i);this._checkEdgeForParallelLines(N,x,t,b,i,f),this._checkEdgeForParallelLines(N,T,t,b,i,f)}L=L.leftVertex.leftEdge}while(L&&L!==C);return f}snapExistingVertex(t,i){const r=[],s=i.vertexHandle,c=s.component;if(c.edges.length<3)return r;const{view:f}=this,m=us(t,i.spatialReference,Rr,f),b=s.leftEdge,x=s.rightEdge,T=c.vertices[0],C=Kr(T.pos,f,i),L=c.vertices.length,N=c.vertices[L-1],D=Kr(N.pos,f,i),G=c.edges[0];let q=G;do{if(q!==b&&q!==x&&this.edgeExceedsShortLineThreshold(q,i)){const J=oS(q,f,i);b&&this._checkEdgeForParallelLines(J,Kr(b.leftVertex.pos,f,i),t,m,i,r),x&&this._checkEdgeForParallelLines(J,Kr(x.rightVertex.pos,f,i),t,m,i,r),s===T?this._checkEdgeForParallelLines(J,D,t,m,i,r):s===N&&this._checkEdgeForParallelLines(J,C,t,m,i,r)}q=q.rightVertex.rightEdge}while(q&&q!==G);return r}_checkEdgeForParallelLines(t,i,r,s,c,f){var L;const m=t.left,b=t.right;if(Zx(Up,i,m,b),Kc(Up,i)<Uc.parallelLineThreshold)return;Zx(Up,r,m,b,i);const{spatialReference:x,pointer:T}=c,C=Lu(Up[0],Up[1],r[2]);if(N0(s,us(C,x,Rr,this.view))<this.squaredProximityThreshold(T)){if(this.isVertical(C,i,c)||this.isVertical(m,b,c)||this._parallelToPreviousCandidate(t,f))return;f.push(new FX({referenceLine:t,lineStart:i,targetPoint:C,isDraped:((L=c.elevationInfo)==null?void 0:L.mode)==="on-the-ground"}))}}_parallelToPreviousCandidate(t,i){const r=t.left,s=t.right;for(const c of i)if(Zx(Up,s,c.constraint.start,c.constraint.end,r),Kc(Up,s)<Uc.parallelLineThreshold)return c.addReferenceLine(t),!0;return!1}};const Up=hn();let GEe=class extends N9{snapNewVertex(t,i){const r=i.editGeometryOperations.data.components[0],s=[];if(r.vertices.length<2)return s;const{view:c}=this,f=us(t,i.spatialReference,Rr,c),m=r.vertices.at(-1);this._checkForSnappingCandidate(s,m.leftEdge,m,m.leftEdge.leftVertex,t,f,i);const b=r.vertices[0];return this._checkForSnappingCandidate(s,b.rightEdge,b,b.rightEdge.rightVertex,t,f,i),s}snapExistingVertex(t,i){const r=[],s=i.vertexHandle;if(s.component.vertices.length<3)return r;const{view:c}=this,f=us(t,i.spatialReference,Rr,c),m=s.leftEdge,b=s.rightEdge;if(m!=null&&m.leftVertex.leftEdge){const x=m.leftVertex.leftEdge;this._checkForSnappingCandidate(r,x,x.rightVertex,x.leftVertex,t,f,i)}if(b!=null&&b.rightVertex.rightEdge){const x=b.rightVertex.rightEdge;this._checkForSnappingCandidate(r,x,x.leftVertex,x.rightVertex,t,f,i)}return r}_checkForSnappingCandidate(t,i,r,s,c,f,m){if(!this.edgeExceedsShortLineThreshold(i,m))return;const b=this.view,x=Kr(r.pos,b,m),T=Kr(s.pos,b,m);this._checkForSnappingCandidateNormalized(t,T,x,c,f,m)}_checkForSnappingCandidateNormalized(t,i,r,s,c,f){this._projectionRay(BV,i,r,s,f),this._checkForSnappingCandidateAlongProjectedRay(t,i,r,BV,s,c,f)}_projectionRay(t,i,r,s,c){this._projectionRayGeodesic(t,i,r,s,c)||this._projectionRayPlanar(t,i,r)}_projectionRayGeodesic(t,i,r,s,{spatialReference:c}){const f=n2(i,r,c,c);if(f==null)return!1;const m=n2(r,s,c,c);if(m==null)return!1;const b=Math.sign(oq.shortestSignedDiff(f,m))*Math.PI*.5,x=$l(f+b,"radians","geographic"),T=Je(),C=aO(r,s,c);return C!=null&&(jK(T,r,c,cA(C,"meters"),x,"geodesic"),fr(t,T,r),!0)}_projectionRayPlanar(t,i,r){const s=Qr(tE,r,i);_r(t,s[1],-s[0],0)}_checkForSnappingCandidateAlongProjectedRay(t,i,r,s,c,f,m){var G;const{spatialReference:b,pointer:x}=m,T=Qr(tE,c,r),C=gp(s,T)/Ou(s),L=_a(tE,r,s,C),N=Lu(L[0],L[1],c[2]);if(N0(f,us(N,b,Rr,this.view))>this.squaredProximityThreshold(x)||this.isVertical(N,r,m)||this.isVertical(r,i,m))return;const D=ln(Je(),r,s,Math.sign(C));t.push(new nO({targetPoint:N,constraint:new vX(r,D),previousVertex:i,otherVertex:r,otherVertexType:bm.CENTER,isDraped:((G=m.elevationInfo)==null?void 0:G.mode)==="on-the-ground"}))}};const tE=hn(),BV=Je();let WEe=class extends Jm{constructor({targetPoint:t,point1:i,point2:r,isDraped:s}){super(t,new gX(_2(Je(),i,r,.5),.5*z2(i,r)),s,Tn.SELF),this._p1=i,this._p2=r}get hints(){return[new Pu(Ia.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new Pu(Ia.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new MX(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}},qEe=class extends N9{snapNewVertex(t,i){const r=i.editGeometryOperations.data.components[0],s=[],c=r.vertices.length;if(i.editGeometryOperations.data.type!=="polygon"||c<2)return s;const{view:f}=this,m=r.vertices[0],b=r.vertices[c-1],x=Kr(m.pos,f,i),T=Kr(b.pos,f,i);return this._processCandidateProposal(x,T,t,i,s),s}snapExistingVertex(t,i){const r=[],s=i.vertexHandle,c=s.component;if(c.edges.length<2||i.editGeometryOperations.data.type==="polyline"&&(s.index===0||s.index===c.vertices.length-1))return r;const{view:f}=this,m=Kr(s.leftEdge.leftVertex.pos,f,i),b=Kr(s.rightEdge.rightVertex.pos,f,i);return this._processCandidateProposal(m,b,t,i,r),r}_processCandidateProposal(t,i,r,s,c){var N;if(!this.exceedsShortLineThreshold(t,i,s))return;const f=pA(HV,t,i,.5),m=.5*z2(t,i),b=C6e(HV,r,f,m),x=Lu(b[0],b[1],r[2]),{spatialReference:T,pointer:C}=s,L=us(r,T,Rr,this.view);if(N0(L,us(x,T,Rr,this.view))<this.squaredProximityThreshold(C)){if(this.isVertical(t,x,s)||this.isVertical(x,i,s))return;c.push(new WEe({targetPoint:x,point1:t,point2:i,isDraped:((N=s.elevationInfo)==null?void 0:N.mode)==="on-the-ground"}))}}};const HV=hn();let fy=class extends ht{constructor(t){super(t),this.updating=!1,this._snappers=new it,this._domain=Tn.SELF}initialize(){this._snappers.push(new UEe(this.view,this.options),new VEe(this.view,this.options),new GEe(this.view,this.options),new qEe(this.view,this.options))}set options(t){this._set("options",t);for(const i of this._snappers)i.options=t}async fetchCandidates(t,i,r){if(!(i&this._domain&&this.options.effectiveSelfEnabled))return[];const s=[];for(const c of this._snappers.items)for(const f of c.snap(t,r))s.push(f);return iO(t,s),s}};g([S({readOnly:!0})],fy.prototype,"updating",void 0),g([S({constructOnly:!0})],fy.prototype,"view",void 0),g([S()],fy.prototype,"options",null),fy=g([Q("esri.views.interactive.snapping.SelfSnappingEngine")],fy);function BEe(e,t){return[new fy({view:e,options:t}),new dd({view:e,options:t,spatialReference:e.spatialReference})]}let pd=class extends ht{constructor(t){super(t),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new it}};g([S({constructOnly:!0})],pd.prototype,"layer",void 0),g([S()],pd.prototype,"enabled",void 0),g([S()],pd.prototype,"updating",void 0),g([S()],pd.prototype,"availability",void 0),g([S()],pd.prototype,"sublayerSources",void 0),pd=g([Q("esri.views.interactive.snapping.FeatureSnappingLayerSource")],pd);const j9=pd;let ts=class extends ht{constructor(t){super(t),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new it,this.distance=Uc.distance,this.touchSensitivityMultiplier=Uc.touchSensitivityMultiplier,this.constraintsActive=!1}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){var b;const t=this.featureSources;t.some(JV)&&ke.getLogger(this).warnOnce("Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.");const i=t.filter(JEe),r=((b=this._get("_effectiveFeatureSources"))==null?void 0:b.filter(JV))??new it;for(const x of i){const T=r.find(C=>C.layer===x.layer.parent);if(T)T.sublayerSources.includes(x)||T.sublayerSources.add(x);else if(x.layer.parent){const C=new j9({layer:x.layer.parent});C.sublayerSources.add(x),r.add(C)}}for(const x of r){const T=x.sublayerSources.filter(C=>!i.includes(C));x.sublayerSources.removeMany(T)}r.removeMany(r.filter(x=>x.sublayerSources.length===0));const s=t.filter(HEe),c=this._get("_effectiveFeatureSources")??new it,{added:f,removed:m}=Xie(c.toArray(),[...s,...r]);return c.removeMany(m),c.addMany(f),c}};g([S()],ts.prototype,"enabled",void 0),g([S()],ts.prototype,"enabledToggled",void 0),g([S()],ts.prototype,"forceDisabled",void 0),g([S()],ts.prototype,"selfEnabled",void 0),g([S()],ts.prototype,"featureEnabled",void 0),g([S({type:it.ofType(j9)})],ts.prototype,"featureSources",void 0),g([S()],ts.prototype,"distance",void 0),g([S()],ts.prototype,"touchSensitivityMultiplier",void 0),g([S()],ts.prototype,"constraintsActive",void 0),g([S({readOnly:!0})],ts.prototype,"effectiveEnabled",null),g([S({readOnly:!0})],ts.prototype,"effectiveSelfEnabled",null),g([S({readOnly:!0})],ts.prototype,"effectiveFeatureEnabled",null),g([S({readOnly:!0})],ts.prototype,"_effectiveFeatureSources",null),ts=g([Q("esri.views.interactive.snapping.SnappingOptions")],ts);const j0=ts;function JV(e){return e.layer.type==="subtype-group"}function HEe(e){return e.layer.type!=="subtype-group"}function JEe(e){return e.layer.type==="subtype-sublayer"}let ZEe=class RX extends R9{constructor(t,i,r=Tn.ALL){super(i,r),this.intersectionPoint=t}equals(t){return t instanceof RX&&Ni(this.intersectionPoint,t.intersectionPoint)}},l5=class extends Jm{constructor(t,i,r,s){super(t,new Hm(t),s,Tn.ALL),this.first=i,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new ZEe(this.targetPoint,this.isDraped,this.domain)]}},Fo=class extends Ps.EventedMixin(ht){constructor(t){super(t),this.options=new j0,this.snappingEnginesFactory=BEe,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=kc.MAIN}initialize(){this.addHandles([Ze(()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:i,touchSensitivityMultiplier:r,distance:s,constraintsActive:c}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:i,touchSensitivityMultiplier:r,distance:s,constraintsActive:c}},()=>{this.doneSnapping(),this.emit("changed")},Mu),Ze(()=>this.options,t=>{for(const i of this._engines)i.options=t},Mu),Ze(()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory}),({viewReady:t,snappingEnginesFactory:i})=>this._recreateEngines(t,i),Is)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some(t=>t.updating)}_recreateEngines(t,i){if(this._destroyEngines(),!t)return;const{view:r,options:s}=this;this._engines=i(r,s)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:i}=this.options,r=t*i;return r*r}get _squaredSatisfiesConstraintThreshold(){return Uc.satisfiesConstraintScreenThreshold*Uc.satisfiesConstraintScreenThreshold}snap(t){return KEe(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:i,context:r}=t;this._removeVisualization();const s=this._currentMainCandidate;if(s==null)return i;const c=this._selectUpdateInput(t);if(c==null)return i;const{spatialReference:f}=r,m=pm(c,f);if(m==null)return i;const{view:b}=this,{elevationInfo:x,visualizer:T}=r,C=[],L=Kv(m,b,x),N=s.constraint.closestTo(L);if(!this._arePointsWithinScreenThreshold(L,N,r))return this._resetSnappingState(),i;s.targetPoint=N,C.push(...s.hints);for(const D of this._currentOtherActiveCandidates)D.targetPoint=N,C.push(...D.hints);return T!=null&&this.addHandles(T.draw(C,{spatialReference:f,elevationInfo:YEe(r),view:b,selfSnappingZ:r.selfSnappingZ}),u5),IV(N,b,i,r)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:i}){switch(this._currentSnappedType){case kc.MAIN:return t;case kc.SCENE:return i}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=kc.MAIN}_removeVisualization(){this.removeHandles(u5)}async _snapSinglePoint({point:t,context:i,signal:r}){const{view:s}=this,{elevationInfo:c}=i,f=Kv(t,s,c),m=await this._fetchCandidates(f,Tn.ALL,i,r);return this._createSnapResult(f,kc.MAIN,m,s,t,i,r)}async _snapMultiPoint({point:t,scenePoint:i,context:r,signal:s}){const{view:c}=this,{coordinateHelper:f,elevationInfo:m,spatialReference:b}=r;await V2(i.spatialReference,b);const x=pm(i,b),T=Kv(x,c,m),C=await this._fetchCandidates(T,Tn.FEATURE,r,s);if(C.length>0){const D=await this._fetchCandidates(T,Tn.SELF,r,s);return this._createSnapResult(T,kc.SCENE,[...C,...D],c,x,r,s)}const L=Kv(t,c,m),N=await this._fetchCandidates(L,Tn.SELF,r,s);return this._createSnapResult(L,kc.MAIN,N,c,{z:f.hasZ()&&t.hasZ?t.z??0:void 0,m:f.hasM()&&t.hasM?t.m??0:void 0},r,s)}async _fetchCandidates(t,i,r,s){return(await Promise.all(this._engines.map(c=>c.fetchCandidates(t,i,r,s)))).flat()}_createSnapResult(t,i,r,s,c,f,m){return{get valid(){return!Tl(m)},apply:()=>{const{spatialReference:b}=f,{snappedPoint:x,hints:T}=this._processCandidates(t,i,r,f);return this._removeVisualization(),f.visualizer!=null&&this.addHandles(f.visualizer.draw(T,{spatialReference:b,elevationInfo:Rr,view:s,selfSnappingZ:f.selfSnappingZ}),u5),IV(x,s,c,f)}}}_processCandidates(t,i,r,s){if(r.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==i&&this._resetSnappingState(),iO(t,r);const c=this._currentMainCandidate;if(c!=null){const f=this._findOldConstraintInNewCandidates(c,r);if(f>=0){if(!(r[f]instanceof l5))return this._intersectWithOtherCandidates(f,r,t,i,s);if(this._arePointsWithinScreenThreshold(t,c.targetPoint,s))return this._updateSnappingCandidate(c,i,r,s)}}return this._intersectWithOtherCandidates(0,r,t,i,s)}_findOldConstraintInNewCandidates(t,i){return t instanceof l5?this._findOldCandidateIndex(i,t.first)>=0&&this._findOldCandidateIndex(i,t.second)>=0?0:-1:this._findOldCandidateIndex(i,t)}_intersectWithOtherCandidates(t,i,r,s,c){const{coordinateHelper:f}=c,m=i[t],b=[];for(let x=0;x<i.length;++x){if(x===t)continue;const T=i[x],C=m.constraint.intersect(T.constraint);if(C)for(const L of C.closestPoints(m.targetPoint))b.push([new l5(L,m,T,T.isDraped),this._squaredScreenDistance(r,L,f)])}return b.length>0&&(b.sort((x,T)=>x[1]-T[1]),b[0][1]<this._squaredPointProximityThreshold(c.pointer))?this._updateSnappingCandidate(b[0][0],s,i,c):this.options.constraintsActive&&(m instanceof CX||m instanceof IX||m instanceof nO||m instanceof FX)?{snappedPoint:r,hints:[]}:this._updateSnappingCandidate(m,s,i,c)}_updateSnappingCandidate(t,i,r,s){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=i;const c=this._currentMainCandidate.targetPoint,f=[];f.push(...t.hints);for(const m of r){if(t instanceof l5){if(m.constraint.equals(t.first.constraint)||m.constraint.equals(t.second.constraint))continue}else if(m.constraint.equals(t.constraint))continue;const b=m.constraint.closestTo(c);this._squaredScreenDistance(b,c,s.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(m.targetPoint=c,this._currentOtherActiveCandidates.push(m),f.push(...m.hints))}return{snappedPoint:c,hints:f}}_squaredPointProximityThreshold(t){return t==="touch"?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,i,r){return this._squaredScreenDistance(t,i,r.coordinateHelper)<this._squaredPointProximityThreshold(r.pointer)}_squaredScreenDistance(t,i,r){return N0(this._toScreen(t,r),this._toScreen(i,r))}_toScreen(t,i){return us(t,i.spatialReference,Rr,this.view)}_findOldCandidateIndex(t,i){let r=-1;for(let s=0;s<t.length;++s)if(i.constraint.equals(t[s].constraint)){r=s;break}return r}get test(){return{visualizationsActive:this.hasHandles(u5),engines:this._engines}}};var kc;g([S({constructOnly:!0})],Fo.prototype,"view",void 0),g([S()],Fo.prototype,"options",void 0),g([S({readOnly:!0})],Fo.prototype,"updating",null),g([S()],Fo.prototype,"snappingEnginesFactory",void 0),g([S()],Fo.prototype,"_engines",void 0),g([S()],Fo.prototype,"_squaredMouseProximityThreshold",null),g([S()],Fo.prototype,"_squaredTouchProximityThreshold",null),g([S()],Fo.prototype,"_squaredSatisfiesConstraintThreshold",null),Fo=g([Q("esri.views.interactive.snapping.SnappingManager")],Fo),function(e){e[e.MAIN=0]="MAIN",e[e.SCENE=1]="SCENE"}(kc||(kc={}));const u5="visualization-handle";function KEe(e){return e.scenePoint!=null}function YEe({coordinateHelper:e,elevationInfo:t}){return e.hasZ()?Rr:t}function QEe(e,t){switch(e){case"point":case"multipoint":return XEe();case"polyline":return eTe(t);case"polygon":return tTe(t);default:return}}function XEe(e){return"point"}function eTe(e){return(e!=null&&e.type==="polyline"&&e.paths.length?e.paths[0].length:0)<2?"polylineZeroVertices":"polylineOneVertex"}function tTe(e){const t=e!=null&&e.type==="polygon"&&e.rings.length?e.rings[0].length:0;return t<3?"polylineZeroVertices":t<4?"polygonOneVertex":"polygonTwoVertices"}let tu=class extends ht{constructor(t){super(t),this.creationInfo=null,this.editorItem=null,this.parent=null,this.pendingFeatures=new it,this.sketchOptions=null,this.snappingManager=null,this.viewModel=null,this.upload=null}};g([S()],tu.prototype,"creationInfo",void 0),g([S()],tu.prototype,"editorItem",void 0),g([S()],tu.prototype,"parent",void 0),g([S({constructOnly:!0})],tu.prototype,"sketchOptions",void 0),g([S()],tu.prototype,"snappingManager",void 0),g([S()],tu.prototype,"viewModel",void 0),g([S()],tu.prototype,"upload",void 0),tu=g([Q("esri.widgets.Editor.CreateFeaturesWorkflowData")],tu);function iE(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function iTe(e){let t=0,i=0;for(let r=0;r<e.length;r++){const s=e[r].size;typeof s=="number"&&(t+=s,i++)}return t/i}function ZV(e,t){var i;return typeof e=="number"?e:(i=e==null?void 0:e.stops)!=null&&i.length?iTe(e.stops):t}function rTe(e,t){if(!t)return e;const i=t.filter(f=>f.type==="size").map(f=>{const{maxSize:m,minSize:b}=f;return(ZV(m,e)+ZV(b,e))/2});let r=0;const s=i.length;if(s===0)return e;for(let f=0;f<s;f++)r+=i[f];const c=Math.floor(r/s);return Math.max(c,e)}function NX(e){var c;const t=e==null?void 0:e.renderer,i=e==null?void 0:e.pointerType,r=i==="touch"?9:6;if(!t)return r;const s="visualVariables"in t?rTe(r,t.visualVariables):r;if(t.type==="simple")return iE(s,t.symbol);if(t.type==="unique-value"){let f=s;return(c=t.uniqueValueInfos)==null||c.forEach(m=>{f=iE(f,m.symbol)}),f}if(t.type==="class-breaks"){let f=s;return t.classBreakInfos.forEach(m=>{f=iE(f,m.symbol)}),f}return t.type==="dot-density"||t.type,s}let $d=class extends Ps.EventedAccessor{constructor(t){super(t),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};g([S({constructOnly:!0})],$d.prototype,"graphic",void 0),g([S()],$d.prototype,"tracking",void 0),g([S()],$d.prototype,"displaying",void 0),g([S()],$d.prototype,"isDraped",void 0),$d=g([Q("esri.views.3d.layers.graphics.GraphicState")],$d);function jX(e,t,i,r=new rr){let s=0;if(i.type==="2d")s=t*(i.resolution??0);else if(i.type==="3d"){const T=i.overlayPixelSizeInMapUnits(e),C=i.basemapSpatialReference;s=C==null||C.equals(i.spatialReference)?t*T:Hc(C)/Hc(i.spatialReference)}const c=e.x-s,f=e.y-s,m=e.x+s,b=e.y+s,{spatialReference:x}=i;return r.xmin=Math.min(c,m),r.ymin=Math.min(f,b),r.xmax=Math.max(c,m),r.ymax=Math.max(f,b),r.spatialReference=x,r}function YDe(e,t,i){const r=i.toMap(e);return r==null?!1:jX(r,NX(),i,nTe).intersects(t)}const nTe=new rr;async function sTe(e,t){if(e.type==="2d")return e.hitTest(t);const i=await e.hitTest(t);if(i.results.length===0)return i;const r=i.results[0],s=(r.distance??0)*(1+oTe),c=i.results.findIndex(f=>(f.distance??0)>s);return c!==-1&&(i.results=i.results.slice(0,c)),r&&i.ground.distance>s&&(i.ground.mapPoint=null),i}const oTe=.05;function DX(e){return(e==null?void 0:e.type)==="graphic"}function aTe(e){return e.find(DX)??null}function VX(e){return e.filter(DX)}function uO(e){const t=e.sourceLayer;if(!t||t.type!=="feature"||!dTe(t.renderer))return{rotation:null,size:null};let i=null,r=null;const s=t.renderer.getVisualVariablesForType("rotation").filter(f=>(!f.axis||f.axis==="heading")&&f.field&&!f.valueExpression&&SC(f,e)!=null);s.length===1&&(i=lTe(s[0],t));const c=t.renderer.getVisualVariablesForType("size").filter(f=>f.field&&!f.useSymbolValue&&!f.valueExpression&&PH(f)===Jr.RealWorldSize&&N2(f,e)!=null);return c.length===1&&(r=hTe(c[0],t)),{rotation:i,size:r}}function lTe(e,t){const i=(e.axis||"heading")==="heading"&&e.rotationType==="arithmetic"?-1:1,r=e.field,s=t.fields&&t.fields.filter(m=>m.name===r),c=s&&s.length===1?s[0].type:"double",f={initial:0,current:0};return{field:r,fieldType:c,getDefault:()=>Promise.resolve(0),getValue:m=>(f.current=f.initial-i*m,dk((f.current+360)%360,c)),initValue:m=>{f.initial=m??f.current,f.current=0},isUpdatingInteractively:!1,rotationType:e.rotationType??"geographic"}}function uTe(e,t){switch(t){case"width":return e[0];case"depth":return e[1];case"height":return e[2];default:return e[2]||e[1]||e[0]}}async function cTe(e,t,i){if(t==null)return 0;const{symbol:r}=VH(t);if(r==null||r.type==="web-style"||r.type==="cim")return 0;const s=r.symbolLayers.at(0);if(!s)return 0;switch(s.type){case"icon":{const{computeIconLayerResourceSize:c}=await te(()=>import("./symbolLayerUtils-C-C8BcC6.js"),[]);return s.size||Math.min(Rh.icon,(await c(s,Rh.icon))[0])||Rh.icon}case"text":return s.size||Rh.text;case"line":return s.size||Rh.line;case"object":{const{computeObjectLayerResourceSize:c}=await te(()=>import("./symbolLayerUtils-C-C8BcC6.js"),[]);return uTe(await c(s,e.scale/Rh.viewScaleSizeFactor),i)}case"path":return(s.width!=null?s.width:s.height)||e.scale/Rh.viewScaleSizeFactor;case"extrude":return s.size||e.scale/Rh.viewScaleSizeFactor;default:return 0}}function hTe(e,t){const i=e.field,r=e.axis,s=t.fields&&t.fields.filter(x=>x.name===i),c=s&&s.length===1?s[0].type:"double",f={updating:!1,initial:0,current:0},m=R2[e.valueUnit]??1;let b;return b=e.valueRepresentation==="area"?x=>(x*m/2)**2*Math.PI:e.valueRepresentation==="radius"||e.valueRepresentation==="distance"?x=>x*m/2:x=>x*m,{field:i,fieldType:c,getDefault:async(x,T)=>dk(b(await cTe(T,x,r)),c),getValue:(x,T)=>(f.initial||(f.initial=T.pixelSizeAt(T.center)),f.current=f.initial*x,dk(f.current,c)),initValue:x=>{f.initial=x??f.current,f.current=0},isUpdatingInteractively:!1,displayUnit:ITe(e.valueUnit),axis:e.axis}}function dk(e,t){switch(t){case"small-integer":case"integer":case"long":return Math.round(e);case"double":case"single":return e;default:return 0}}function dTe(e){switch(e==null?void 0:e.type){case"class-breaks":case"simple":case"unique-value":case"dot-density":case"dictionary":case"pie-chart":return!0;default:return!1}}async function Gc(e,t,i){const r=await rk(e,{useSourceLayer:!0,ignoreGraphicSymbol:!0,webStyleCache:t,scale:i});PJ(e.symbol,r)!=null&&(e.symbol=r)}function pTe(e){if(!e)throw new Error("no geometry type");return e==="multipatch"?"mesh":e}async function fTe(e,t,i){var T;const r=t.layer,s={...(T=t.template)==null?void 0:T.prototype.attributes,...t.attributeOverrides};let c=null;const{view:f}=e,m=(f==null?void 0:f.type)==="2d";if(await KV(e,r,s,i,m?f.scale:null),m){const C=ba(L=>KV(e,r,s,i,L));c=Ze(()=>f.scale,L=>C(L))}const{data:b,editing:x}=r.capabilities;return e.layer.elevationInfo=r.elevationInfo,t.geometryToPlace==null?await e.create(pTe(r.geometryType),{graphicProperties:{attributes:s,sourceLayer:r},hasZ:b.supportsZ,defaultZ:(m?x.zDefault:null)??e.defaultCreateOptions.defaultZ}):await e.place(t.geometryToPlace,{graphicProperties:{attributes:s,sourceLayer:r}}),c??xt()}async function KV(e,t,i,r,s){const c=new Dn({sourceLayer:t,attributes:i}),{rotation:f,size:m}=uO(c);let b=await rk(c,{useSourceLayer:!0,webStyleCache:r,scale:s}),x=!1;for(const T of[m,f])T!=null&&i[T.field]==null&&(i[T.field]=await T.getDefault(b,e.view),x=!0);switch(x&&(b=await rk(c,{useSourceLayer:!0,webStyleCache:r,scale:s})),b==null?void 0:b.type){case"simple-fill":case"polygon-3d":e.polygonSymbol=b;break;case"simple-line":case"line-3d":e.polylineSymbol=b;break;case"simple-marker":case"picture-marker":case"point-3d":case"cim":e.pointSymbol=b;break;case"mesh-3d":e.meshSymbol=b}zX(e.tooltipOptions,m,f)}function zX(e,t,i){e.visualVariables=t!=null||i!=null?{size:t!=null?{unit:t.displayUnit,axis:t.axis,valueType:t.fieldType}:null,rotation:i!=null?{valueType:i.fieldType,rotationType:i.rotationType??"geographic"}:null}:null}function yTe(e,t){return e==null?void 0:e.find(i=>i.layer===t)}async function mTe(e,t,i,r){switch(t.type){case"3d":return gTe(e,t,i,r);case"2d":return vTe(e,t,i,r)}}async function gTe(e,t,i,r){if(e.length===0)return[];const{updatable:s,graphicsByLayer:c}=await i.async(async()=>{const{results:f}=await Jy(sTe(t,i),r),m=new Map,b=T=>{const C=T.layer,L=m.get(C);if(!L){const N=new Array;return m.set(C,N),N}return L};VX(f).forEach(({graphic:T})=>b(T).push(T));const x=e.filter(({capabilities:T,layer:C})=>T.update.enabled&&m.has(C));return x.length!==0&&i.stopPropagation(),{updatable:x,graphicsByLayer:m}});return Jy(Promise.allSettled(s.map(async({layer:f})=>{const m=c.get(f),b=UX(f);if(m.every(C=>UB(b,C)))return m;const x=[];for(const C of m){x.push(C.getObjectId());const L=Object.keys(C.attributes);Yie(b,L)}const T=f.createQuery();return T.returnGeometry=!1,T.objectIds=x,T.outFields=A0(f.fieldsIndex,b),f.queryFeatures(T,{signal:r}).then(({features:C})=>C)})),r)}async function vTe(e,t,i,r){if(e.length===0)return[];const{mapPoint:s}=i;if(s==null)return[];let c=null;const f=await i.async(async()=>{const{results:m}=await Jy(t.hitTest(i),r);if(m.length===0)return[];const b=new Set;c=VX(m),c.forEach(({graphic:T})=>T&&b.add(T.layer));const x=e.filter(T=>b.has(T.layer)&&T.supportsUpdateWorkflow);return x.length>0&&i.stopPropagation(),x});return Jy(Promise.allSettled(f.map(async({layer:m})=>{const b=m.createQuery();b.returnGeometry=!1,b.outFields=UX(m);const x="renderer"in m?NX({renderer:m.renderer,pointerType:i.pointerType}):0;b.geometry=jX(s,x,t),b.outSpatialReference=t.spatialReference;const{features:T}=await m.queryFeatures(b,{signal:r});return c==null||c.forEach(({graphic:C})=>{C.layer!==m||T.some(L=>L.getObjectId()===C.getObjectId())||T.push(C)}),T})),r)}function UX(e){return A0(e.fieldsIndex,[e.objectIdField,rC({displayField:"displayField"in e?e.displayField:null,fields:e.fields})])}async function bTe(e,t,i){const{sourceLayer:r}=e,s=r.createQuery();s.objectIds=[e.getAttribute(r.objectIdField)],s.outFields=["*"],s.outSpatialReference=t,s.returnM=r.capabilities.data.supportsM,s.returnZ=r.capabilities.data.supportsZ,NJ()&&RJ()&&r.type==="scene"&&r.infoFor3D!=null&&(s.returnGeometry=!0,s.formatOf3DObjects="3D_glb");const c=await r.queryFeatures(s,{signal:i});return dr(i),c.features[0]}async function pk(e){var T;const{graphic:t,sketchViewModel:i,sourceLayer:r,visualVariables:s,webStyleCache:c}=e;let f=!1;const{rotation:m,size:b}=s;if([m,b].forEach(async C=>{if(C==null)return;const L=t.getAttribute(C.field);if(L!=null)C.initValue(L);else{const N=await C.getDefault(t.symbol,i.view);C.initValue(N),t.setAttribute(C.field,N),f=!0}}),f){const C=((T=i.view)==null?void 0:T.type)==="2d"?i.view.scale:null;await Gc(t,c,C)}const x={multipleSelectionEnabled:!1};return r.geometryType==="point"&&(x.enableRotation=m!=null,x.enableScaling=b!=null),zX(i.tooltipOptions,b,m),i.layer.elevationInfo=r.elevationInfo,i.update(t,x)}function wTe(e){return e==null||e.type!=="rotate-start"&&e.type!=="rotate"&&e.type!=="rotate-stop"?null:e}function _Te(e){return e==null||e.type!=="scale-start"&&e.type!=="scale"&&e.type!=="scale-stop"?null:e}async function GX(e,t,i,r,s){var x;if(t.geometry==null||((x=t.geometry)==null?void 0:x.type)!=="point")return;const c=r.rotation,f=wTe(i.toolEventInfo);if(c!=null&&f!=null)if(f.type==="rotate-stop")c.isUpdatingInteractively=!1,c.initValue();else{c.isUpdatingInteractively=!0;const{field:T,getValue:C}=c;t.setAttribute(T,C(f.angle,e))}const m=r.size,b=_Te(i.toolEventInfo);if(m!=null&&b!=null)if(b.type==="scale-stop")m.isUpdatingInteractively=!1,m.initValue();else{m.isUpdatingInteractively=!0;const{field:T,getValue:C}=m;t.setAttribute(T,C(b.xScale,e))}await Gc(t,s,e.type==="2d"?e.scale:null)}async function STe({feature:e,featureClone:t,visualVariableAttributes:i,sketchViewModel:r,view:s,onUpdate:c,webStyleCache:f}){var q;await Gc(t,f,s.type==="2d"?s.scale:null);let m=null;if(((q=r==null?void 0:r.view)==null?void 0:q.type)==="2d"){const J=ba(ne=>Gc(t,f,ne));m=Ze(()=>{var ne;return(ne=r==null?void 0:r.view)==null?void 0:ne.scale},ne=>J(ne))}const b=t.sourceLayer,x=_m(s,b);await pk({graphic:t,sketchViewModel:r,sourceLayer:b,visualVariables:i,webStyleCache:f});let T=null;x.then(J=>T=J).catch(()=>{});const C=i.size,L=i.rotation,N=Ze(()=>e.attributes,async J=>{let ne=!1;for(const ue in J){const ae=J[ue];ae!==t.getAttribute(ue)&&(t.setAttribute(ue,ae),C==null||C.isUpdatingInteractively||C.field!==ue||C.initValue(ae),L==null||L.isUpdatingInteractively||L.field!==ue||L.initValue(ae),(T==null||T.requiredFields.includes(ue))&&(ne=!0))}ne&&await Gc(t,f,s.type==="2d"?s.scale:null)}),D=r.on("update",async J=>{const ne=J.graphics[0];if(J.state==="complete")return pk({graphic:ne,sketchViewModel:r,sourceLayer:b,visualVariables:i,webStyleCache:f});await GX(s,ne,J,i,f),c(fk(ne),J)}),G=r.on(["undo","redo"],async J=>{c(fk(J.graphics[0]),J)});return Do([G,D,xt(()=>r.cancel()),N,m])}async function $Te(e,t,i){const r=e.view;e.layer.add(i);const s=t.sourceLayer,c=t.layer,f=t.getAttribute(c.objectIdField);let m=null;function b(x){m==null||m.abort(),m=y8(async T=>{var L;const C=await _m(r,s);dr(T),(L=C.setVisibility)==null||L.call(C,f,x)})}return await ETe(r,i),b(!1),Do([xTe(r,i,x=>b(!x)),xt(async()=>{b(!0);try{const x=await _m(r,s);await Fn(()=>!x.updating)}finally{e.layer.remove(i)}})])}function xTe(e,t,i){if(e.type==="3d"){const r=new $d({graphic:t});return Do([e.trackGraphicState(r),Ze(()=>r.displaying,i)])}return Ze(()=>t.visible,i)}async function ETe(e,t){if(e.type==="3d"){const i=new $d({graphic:t}),r=e.trackGraphicState(i);await Fn(()=>i.displaying),r.remove()}else await Fn(()=>t.visible)}const Rh={icon:zo(24),text:zo(12),line:zo(1),viewScaleSizeFactor:100};function WX(e,t,i){let r=!1;return e.filter(s=>!!r||(r=s===t,r)).map(s=>i[s]())}function TTe(e,t){e.viewModel.syncFeatureTemplates();const i=e.creationInfo;if(t[0].id==="awaiting-feature-creation-info"&&i){const r=i.layer,s=tS(r);s.length===1&&r.type!=="scene"&&(i.template=s[0],t.shift())}return t}function ITe(e){switch(e){case"unknown":case"decimal-degrees":return null;default:return e}}function MTe(e){e.filesEnabled=!0,e.mode="view",e.capabilities={editing:!0,operations:{add:!0,update:!0,delete:!0}}}const qX=e=>/-stop/.test(e)||/vertex-/.test(e),_m=(e,t)=>{const i=t.type==="subtype-sublayer"?t.parent:t;return e.whenLayerView(i)};function kTe(e){return"createInteractiveEditSession"in e}function fk(e){var i;const t=e.geometry;if((t==null?void 0:t.type)==="mesh"){const r=e.cloneShallow();return r.attributes=ye(e.attributes),r.geometry=t.cloneShallow(),r.geometry.transform=((i=t.transform)==null?void 0:i.clone())??null,r}return e.clone()}function yk(e){const t=e.cursor;return e.cursor="progress",xt(()=>e.cursor=t)}async function CTe({view:e,data:t,signal:i,next:r,cancel:s}){const{creationInfo:c}=t;if(!c||!Lb(c))return xt();const{layer:f}=c,m=c.geometryToPlace!=null;if(c.geometryToPlace=null,m)return s(),xt();const{Upload:b}=await te(()=>import("./Upload-B0JnMsMV.js"),__vite__mapDeps([262,263]));dr(i);const x=new b;t.upload=x;let T=null;const C=()=>T==null?void 0:T.remove(),L=Do([Ze(()=>x.state,N=>{switch(N){case"default":case"error":C();break;case"pending":C(),T=yk(e);break;case"success":c.maxFeatures=1,c.geometryToPlace=x.result,C(),r()}}),xt(()=>{x.cancel(),C()})]);return x.uploadTo(f),L}function Lb(e){const t=e==null?void 0:e.layer;return(t==null?void 0:t.type)==="scene"}let an=class extends Ps.EventedAccessor{constructor(t){super(t),this._indexHistory=[],this._lastStepIndex=-1,this._stepIndex=-1,this._updatingHandles=new zc,this._handleKeys={afterCommit:"after-commit",beforeCommit:"before-commit"},this.data=void 0,this.started=!1,this.steps=[],this.type=null,this._pendingOperation=null}destroy(){this._updatingHandles.destroy()}get hasNextStep(){const{steps:t}=this;return!!(t&&this._stepIndex<t.filter(i=>!i.parent).length-1)}get hasPreviousStep(){return this._stepIndex>0}get reliesOnOwnerAdminPrivileges(){return!1}get hasInvalidFormTemplate(){return!1}get shouldShowAttachments(){return!1}get shouldAllowAttachmentEditing(){return!1}get stepId(){const{steps:t}=this,i=t&&t[this._stepIndex];return i&&i.id}get helpMessage(){}get hasPendingEdits(){return!1}get keyboardCancellationEnabled(){return!0}get updating(){return this._updatingHandles.updating}async back(t=()=>Promise.resolve(!0)){this.hasPendingEdits&&!await t()||(this.hasPreviousStep?await this.previous({cancelCurrentStep:!0}):await this.cancel({force:!0}))}async cancel(t={force:!0}){return t.force!==!1?this._cancel(t):new Promise((i,r)=>{this.emit("cancel-request",{controller:{allow:()=>{this._cancel({...t,force:!0}).then(i)},deny:()=>r(new me("workflow:cancel-denied","Request to cancel workflow was denied."))}})})}async commit(){this.removeHandles(this._handleKeys.beforeCommit),this.onCommit&&await this.onCommit(this.data),this.removeHandles(this._handleKeys.afterCommit),this.emit("commit")}async go(t){const{steps:i}=this,r=i.findIndex(s=>s.id===t);this._indexHistory.push(this._stepIndex),await this._go(r)}async next(){this._indexHistory.push(this._stepIndex),await this._go(this._stepIndex+1)}async previous(t={cancelCurrentStep:!1}){await this._go(this._indexHistory.pop(),t.cancelCurrentStep)}async reset(){await this._cancel({emitCancelEvent:!1}),await this.start()}async save(){await this.commit(),await this.reset()}async start(){this._set("started",!0);const t=this._stepIndex===-1?0:this._stepIndex;await this._go(t)}async _cancel({emitCancelEvent:t=!0,error:i}={}){this.started&&(this._set("started",!1),await this._transaction(()=>{var r;return(r=this.steps[this._stepIndex])==null?void 0:r.tearDown({canceled:!0})})),this.removeHandles([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),this._resetIndexing(t),t&&this.emit("cancel",{error:i})}_go(t=-1,i=!1){return this._transaction(async()=>{const{steps:r}=this;if(!(t<=-1||t>=r.length)){if(!this.started)return this._stepIndex=t,void this._notifyStepProps();this._lastStepIndex>-1&&await r[this._lastStepIndex].tearDown({canceled:i});try{await r[t].setUp()}catch(s){gE(s)}this._lastStepIndex=t,this._stepIndex=t,this._notifyStepProps()}})}async _transaction(t){const i=this._pendingOperation,r=Sa(),s=(i??Promise.resolve()).then(()=>r.promise);this._pendingOperation=s,this._updatingHandles.addPromise(s);try{i&&await i,await t()}finally{r.resolve(),s===this._pendingOperation&&(this._pendingOperation=null)}}_resetIndexing(t=!0){this._stepIndex=-1,this._lastStepIndex=-1,this._indexHistory.length=0,t&&this._notifyStepProps()}_notifyStepProps(){this.notifyChange("stepId"),this.notifyChange("hasPreviousStep"),this.notifyChange("hasNextStep")}};g([S()],an.prototype,"data",void 0),g([S()],an.prototype,"hasNextStep",null),g([S()],an.prototype,"hasPreviousStep",null),g([S()],an.prototype,"onCommit",void 0),g([S()],an.prototype,"reliesOnOwnerAdminPrivileges",null),g([S()],an.prototype,"hasInvalidFormTemplate",null),g([S()],an.prototype,"shouldShowAttachments",null),g([S()],an.prototype,"shouldAllowAttachmentEditing",null),g([S()],an.prototype,"started",void 0),g([S({readOnly:!0})],an.prototype,"stepId",null),g([S()],an.prototype,"steps",void 0),g([S({readOnly:!0})],an.prototype,"type",void 0),g([S()],an.prototype,"helpMessage",null),g([S()],an.prototype,"hasPendingEdits",null),g([S()],an.prototype,"keyboardCancellationEnabled",null),g([S()],an.prototype,"updating",null),an=g([Q("esri.widgets.Editor.Workflow")],an);const cO=an;function rE(e){switch(e){case Ti.SUPPORTED:break;case Ti.GRAPHICS_LAYER_MISSING:return"not owned by a graphics layer";case Ti.GEOMETRY_MISSING:return"no geometry";case Ti.GEOMETRY_TYPE_UNSUPPORTED:return"the geometry type is not supported";case Ti.ELEVATION_MODE_UNSUPPORTED:return"the elevation mode is not supported";case Ti.SYMBOL_TYPE_UNSUPPORTED:return"the symbol type is not supported"}return""}var Ti;(function(e){e[e.SUPPORTED=0]="SUPPORTED",e[e.GRAPHICS_LAYER_MISSING=1]="GRAPHICS_LAYER_MISSING",e[e.GEOMETRY_MISSING=2]="GEOMETRY_MISSING",e[e.GEOMETRY_TYPE_UNSUPPORTED=3]="GEOMETRY_TYPE_UNSUPPORTED",e[e.ELEVATION_MODE_UNSUPPORTED=4]="ELEVATION_MODE_UNSUPPORTED",e[e.SYMBOL_TYPE_UNSUPPORTED=5]="SYMBOL_TYPE_UNSUPPORTED"})(Ti||(Ti={}));function ATe(e){var t;if(((t=e.layer)==null?void 0:t.type)!=="graphics")return Ti.GRAPHICS_LAYER_MISSING;if(e.geometry==null)return Ti.GEOMETRY_MISSING;switch(e.geometry.type){case"polygon":case"point":case"polyline":case"mesh":break;default:return Ti.GEOMETRY_TYPE_UNSUPPORTED}return I9(e)!=="on-the-ground"&&RA(e)?Ti.ELEVATION_MODE_UNSUPPORTED:Ti.SUPPORTED}var mk;let fd=mk=class extends wl{constructor(...e){super(...e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}normalizeCtorArgs(e,t){let i;if(e!=null&&e.center)i=e;else{if(e!=null&&e.rings)return super.normalizeCtorArgs(e,t);i={center:e}}return{...super.normalizeCtorArgs(),...i,...t}}initialize(){const e=this.center,t=this.numberOfPoints;if(this.hasZ=(e==null?void 0:e.hasZ)??!1,this.rings.length!==0||!e)return;const i=Jt(this.radius,this.radiusUnit,"meters"),r=e.spatialReference;let s,c="geographic";if(r.isWebMercator?c="webMercator":((r.wkid&&K[r.wkid])!=null||(r.wkt2||r.wkt)&&T8(r.wkt2||r.wkt))&&(c="projected"),this.geodesic){let f;switch(c){case"webMercator":f=wy(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":f=e}s=this._createGeodesicCircle(f,i,t),c==="webMercator"&&(s=sb(s))}else{let f;c==="webMercator"||c==="projected"?f=i/FG(e.spatialReference):c==="geographic"&&(f=OG(i,"meters",_8(e.spatialReference).radius)),s=this._createPlanarCircle(e,f,t)}this.spatialReference=s.spatialReference,this.addRing(s.rings[0])}clone(){const{center:e,numberOfPoints:t,radius:i,radiusUnit:r,geodesic:s}=this;return new mk({center:e==null?void 0:e.clone(),numberOfPoints:t,radius:i,radiusUnit:r,geodesic:s})}_createGeodesicCircle(e,t,i){let r=0;const s=[];for(;r<360;){const c=[0,0],f=[e.x,e.y];Hd(c,f,r,t,Lt.WGS84),this.hasZ&&c.push(e.z),s.push(c),r+=360/i}return s.push(s[0]),new wl(s)}_createPlanarCircle(e,t,i){const r=[],s=2*Math.PI/i;for(let c=0;c<i;++c){const f=s*c,m=[e.x+Math.cos(-f)*t,e.y+Math.sin(-f)*t];this.hasZ&&m.push(e.z),r.push(m)}return r.push(r[0]),new wl({spatialReference:e.spatialReference,rings:[r]})}};g([S({type:Hi})],fd.prototype,"center",void 0),g([S()],fd.prototype,"geodesic",void 0),g([S()],fd.prototype,"numberOfPoints",void 0),g([S()],fd.prototype,"radius",void 0),g([S()],fd.prototype,"radiusUnit",void 0),fd=mk=g([Q("esri.geometry.Circle")],fd);const OTe=fd;function c5(e){return BX(e).result}function XDe(e){return BX(e).geometry}function BX(e){var r;if(((r=e.layer)==null?void 0:r.type)!=="graphics")return{result:Ti.GRAPHICS_LAYER_MISSING,geometry:null};const{geometry:t}=e;if(t==null)return{result:Ti.GEOMETRY_MISSING,geometry:null};if(I9(e)!=="on-the-ground"&&RA(e))return{result:Ti.ELEVATION_MODE_UNSUPPORTED,geometry:null};const i=t.type;return i!=="point"&&i!=="mesh"&&i!=="polyline"&&(i!=="polygon"||e.geometry instanceof OTe)?{result:Ti.GEOMETRY_TYPE_UNSUPPORTED,geometry:null}:{result:Ti.SUPPORTED,geometry:t}}function LTe(e){var i;if(((i=e.layer)==null?void 0:i.type)!=="graphics")return Ti.GRAPHICS_LAYER_MISSING;if(e.geometry==null)return Ti.GEOMETRY_MISSING;switch(e.geometry.type){case"point":break;case"polygon":case"polyline":case"multipoint":case"extent":case"mesh":return Ti.SUPPORTED;default:return Ti.GEOMETRY_TYPE_UNSUPPORTED}const t=e.symbol!=null&&e.symbol.type==="point-3d"&&e.symbol.symbolLayers;return!t||!t.some(r=>r.type==="object")?Ti.SYMBOL_TYPE_UNSUPPORTED:I9(e)!=="on-the-ground"&&RA(e)?Ti.ELEVATION_MODE_UNSUPPORTED:Ti.SUPPORTED}function YV(e,t,i){if(!t||!(e!=null&&e.map))return;const{map:r}=e;r.layers.find(c=>c===t)||r.add(t,i)}function PTe(e,t){const i=(t==null?void 0:t.type)==="subtype-sublayer"?t.parent:t;return e.allLayerViews.find(r=>{const s=r.layer;return s===i||"sublayers"in s&&s.sublayers!=null&&s.sublayers.includes(i)})}function gk(e){return b4(e.x,e.y)}function eVe(e){return pW(e.x,e.y)}function FTe(e,t){var r;const i=(r=e instanceof HTMLElement?e:e.surface)==null?void 0:r.getBoundingClientRect();return i?b4(t.clientX-i.left,t.clientY-i.top):b4(0,0)}function tVe(e,t){return t instanceof Event?FTe(e,t):gk(t)}function iVe(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let Pn=class extends Ps.EventedAccessor{constructor(t){super(t),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case"graphic-mover":case"move-3d":return"move";case"box":case"transform-3d":return"transform";case"reshape":case"reshape-3d":return"reshape";case"draw-2d":case"draw-3d":return this.activeComponent.geometryType;default:this.activeComponent}return null}addToHistory(t){this.history.redo=[],this.history.undo.push(t)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit("complete")}cancel(){this.cancelled=!0,this.complete()}_reset(){var t;(t=this.activeComponent)==null||t.reset()}refreshComponent(){const t=this.activeComponent;t&&(t.type!=="box"&&t.type!=="reshape"&&t.type!=="graphic-mover"||t.refresh())}set undo(t){this._set("undo",()=>{this.canUndo()&&t()})}set redo(t){this._set("redo",()=>{this.canRedo()&&t()})}};g([S()],Pn.prototype,"activeComponent",void 0),g([S()],Pn.prototype,"cancelled",void 0),g([S()],Pn.prototype,"history",void 0),g([S()],Pn.prototype,"tool",null),g([S()],Pn.prototype,"type",void 0),g([S()],Pn.prototype,"canUndo",null),g([S()],Pn.prototype,"canRedo",null),g([S()],Pn.prototype,"onEnd",void 0),g([S()],Pn.prototype,"undo",null),g([S()],Pn.prototype,"redo",null),g([S()],Pn.prototype,"toggleTool",void 0),g([S()],Pn.prototype,"addToSelection",void 0),g([S()],Pn.prototype,"removeFromSelection",void 0),Pn=g([Q("esri.widgets.Sketch.support.OperationHandle")],Pn);let j_=class extends Pn{};g([S()],j_.prototype,"activeComponent",void 0),j_=g([Q("esri.widgets.Sketch.support.CreateOperationHandle")],j_);let Lc=class extends Pn{};g([S()],Lc.prototype,"activeComponent",void 0),Lc=g([Q("esri.widgets.Sketch.support.UpdateOperationHandle")],Lc);const QV={defaultZ:0},Kg={reshapeOptions:{edgeOperation:"split",shapeOperation:"move",vertexOperation:"move"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0},tool:"transform"};let Ii=class extends Ps.EventedAccessor{constructor(t){var i;super(t),this._numUpdating=0,this._defaultSnappingManager=null,this._internalGraphicsLayer=new B2({listMode:"hide",internal:!0,title:"SVM Internal"}),this._operationHandle=null,this._viewHandlesKey="viewHandles",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new Ta({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new Qc({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new mo({color:[130,130,130,1],width:2}),this.meshSymbol=new L2({symbolLayers:new it([new Pm])}),this.updateGraphics=new it,this.updateOnGraphicClick=!0,this.vertexSymbol=new Ta({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new bp,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._originalPopupEnabled=null,this.defaultCreateOptions=QV,this.defaultUpdateOptions=Kg,this.snappingOptions=((i=t==null?void 0:t.snappingManager)==null?void 0:i.options)??(t==null?void 0:t.snappingOptions)??new j0}initialize(){this.addHandles([Zr(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.layers},"change",t=>{t.removed.includes(this.layer)&&this.cancel()}),Zr(()=>{var t;return(t=this.layer)==null?void 0:t.graphics},"change",t=>{if(this._operationHandle!=null)for(const i of t.removed)this.updateGraphics.includes(i)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(i):this._operationHandle.cancel())}),Ze(()=>{var t;return((t=this.layer)==null?void 0:t.elevationInfo)??null},t=>{t!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=t)},Is),Ze(()=>this.view,t=>{this._defaultSnappingManager=tr(this._defaultSnappingManager),t&&(this.snappingManager||(this._defaultSnappingManager=new Fo({view:t,options:this.snappingOptions})),t.type==="2d"?te(()=>import("./editingTools-DgvTawBc.js"),__vite__mapDeps([264,265,96,266,255,267,268,269,270,271,74,250,272,273,274,66,67,68,275,276,277,278,279,47,48,49,280,281,1,282,283,284,285,286,104,287,135,288,71,289,251,290])):t.type==="3d"&&(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])),te(()=>import("./GraphicsLayerView3D-0m6hktYi.js"),__vite__mapDeps([344,345,346,347,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,137,127,308,59,287,135,136,53,54,55,309,310,311,312,251,313,126,71,72,61,63,314,99,47,48,122,73,275,348,349,319,320,101,87,20,21,22,23,141,104,68,46,326,58,64,350,351,352,142,106,107,108,105,96,93,109,100,325,341,353,248,66,67,69,276,335,354,355,356,41,42,36,37,357,358,359,360]))))},Is),Ze(()=>{var t;return(t=this.view)==null?void 0:t.spatialReference},(t,i)=>{t&&i&&!t.equals(i)&&this.cancel()})]),kxe(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=tr(this._defaultSnappingManager),this._set("snappingManager",null),this._set("view",null),this.emit("destroy")}get _defaultUpdateTool(){var t;return((t=this.view)==null?void 0:t.type)==="3d"?"move":"transform"}get updating(){return this._numUpdating>0||this.snappingManager!=null&&this.snappingManager.updating}get activeTool(){var t;return((t=this._operationHandle)==null?void 0:t.tool)??null}get activeComponent(){var t;return((t=this._operationHandle)==null?void 0:t.activeComponent)??null}get createGraphic(){return this.activeComponent==null||this.activeComponent.type!=="draw-3d"&&this.activeComponent.type!=="draw-2d"?this._get("createGraphic"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get("defaultCreateOptions")}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...QV,...t})}get defaultUpdateOptions(){return this._get("defaultUpdateOptions")}set defaultUpdateOptions(t){this._set("defaultUpdateOptions",{...Kg,...t,reshapeOptions:{...Kg.reshapeOptions,...t==null?void 0:t.reshapeOptions},highlightOptions:{...Kg.highlightOptions,...t==null?void 0:t.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(t){this.sketchOptions.labels=t}get snappingOptions(){var t;return((t=this.snappingManager)==null?void 0:t.options)??this._get("snappingOptions")}set snappingOptions(t){this._defaultSnappingManager!=null&&(this._defaultSnappingManager.options=t),this._set("snappingOptions",t)}get snappingManager(){return this._isOverridden("snappingManager")&&this._get("snappingManager"),this._defaultSnappingManager}set snappingManager(t){if(t)this._isOverridden("snappingManager")||(this._defaultSnappingManager=tr(this._defaultSnappingManager)),this._override("snappingManager",t);else{const{view:i}=this;!this._defaultSnappingManager&&i&&(this._defaultSnappingManager=new Fo({options:this.snappingOptions,view:i})),this._clearOverride("snappingManager")}}get state(){var r;const t=!(!((r=this.view)!=null&&r.ready)||!this.layer),i=this._operationHandle;return t&&i?"active":t?"ready":"disabled"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(t){this.sketchOptions.tooltips=t}get valueOptions(){return this.sketchOptions.values}set valueOptions(t){this.sketchOptions.values=t}get view(){return this._get("view")}set view(t){const i=this._get("view");if(i){const{container:s,map:c}=i;s&&(i.cursor=null),c==null||c.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const r="view-ready";this.removeHandles(r),t&&this.addHandles(_l(()=>t.ready,s=>{this.removeHandles(this._viewHandlesKey),s&&this.addHandles(this._generateViewHandles(t),this._viewHandlesKey)},Is),r),this._set("view",t)}cancel(){this._moduleLoaderAbortController=Ud(this._moduleLoaderAbortController),this._viewReadyAbortController=Ud(this._viewReadyAbortController),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:t,updateGraphics:i}=this;if(t==="active"&&i.length){const{activeTool:r,layer:s}=this,c=i.toArray();s.removeMany(c),this.cancel(),this._emitDeleteEvent({graphics:c,tool:r})}}duplicate(){if(this.state==="active"&&this.updateGraphics.length){const t=this.updateGraphics.map(i=>i.clone()).toArray();return this.layer.addMany(t),this.emit("duplicate",{graphics:t,type:"duplicate"}),t}return[]}async create(t,i){this.cancel(),await this._waitViewReady();const{view:r,layer:s}=this;if(!r||this.state==="disabled")throw s||this._logMissingLayer(),br();if(r.activeTool!=null&&(r.activeTool=null),!t)return void this._logError("sketch:missing-parameter","Missing parameter 'tool'.");YV(r,this._internalGraphicsLayer);const c=await this._setupCreateOperation(t,i);if(c==null||this.destroyed)return void r.map.remove(this._internalGraphicsLayer);const f=()=>{var m;if(c===this._operationHandle){const b=this.createGraphic,x=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set("createGraphic",null),(m=this.view)!=null&&m.map&&this.view.map.remove(this._internalGraphicsLayer),c.cancelled||b==null||s.add(b),this.emit("create",{graphic:b,state:x?"cancel":"complete",tool:t,toolEventInfo:null,type:"create"})}};c.on("complete",f),this._operationHandle=c,r.ready&&r.focus()}async place(t,i){return this.create("mesh",{mode:"click",hasZ:t.hasZ,geometryToPlace:t,...i})}async update(t,i){this.cancel(),await this._waitViewReady();const{layer:r,view:s,state:c}=this;if(!s||c==="disabled")throw r||this._logMissingLayer(),br();s.activeTool!=null&&(s.activeTool=null);const f=Array.isArray(t)?t:[t];if(t==null||!(f!=null&&f.length))return void this._logError("sketch:missing-parameter","Missing parameter 'graphics'.");if(f.some(b=>b.layer!==r?(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):b.geometry==null&&(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0)))return;const m=await this._setupUpdateOperation(f,i);this.destroyed||m==null||zr(m)||(YV(s,this._internalGraphicsLayer),this._setUpdateOperationHandle(m,i),this.emit("update",{graphics:f,state:"start",aborted:!1,tool:m.tool,toolEventInfo:null,type:"update"}))}async _updateSpatialReference(t){const i=this.view;if(i){this._beginAsyncOperation(),t=Array.isArray(t)?t:[t];for(const r of t)r.geometry==null||r.geometry.type==="mesh"||cn(r.geometry.spatialReference,i.spatialReference)||(Zc(r.geometry.spatialReference,i.spatialReference)||Um()||await dm(),r.geometry=pm(r.geometry,i.spatialReference));this._endAsyncOperation()}else this._logMissingView()}undo(){var t;this.canUndo()&&((t=this._operationHandle)==null||t.undo())}redo(){var t;this.canRedo()&&((t=this._operationHandle)==null||t.redo())}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}async _getFirstHit(t){const i=this.view;if(!i)return this._logMissingView(),null;if(i.type==="2d"){const c=[];i.map.allLayers.forEach(m=>{m.type!=="vector-tile"&&m.type!=="imagery"||c.push(m)});const f=await i.hitTest(t,{exclude:c});return aTe(f.results)}const r=[i.map.ground];i.map.allLayers.forEach(c=>{Vae(c.type)&&r.push(c)});const s=await i.hitTest(t,{exclude:r});if(s.results.length>0){const c=s.results[0];if(c!=null&&c.type==="graphic"&&c.graphic&&(!s.ground.mapPoint||i.map.ground.opacity<1||s.ground.distance-(c.distance??0)>-Math.min(3*s.ground.distance,i.viewingMode==="global"?_8(i.renderCoordsHelper.spatialReference).radius/i.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return c}return null}_generateViewHandles(t){return[t.on("immediate-click",async i=>{var f;const r=this.state==="active"&&((f=this._operationHandle)==null?void 0:f.type)==="create";if(this.state==="disabled"||r||!this.updateOnGraphicClick)return;this._beginAsyncOperation();const s=await i.async(()=>this._getFirstHit(gk(i)));let c=null;if(s!=null){const m=s.graphic;this.updateGraphics.includes(m)||m.layer===this.layer?(i.stopPropagation(),c=m):t.type!=="2d"||this._isComponentGraphic(m)||this.state!=="active"||this.cancel()}else this.state==="active"&&this.cancel();c==null||this.updateGraphics.includes(c)||await this.update([c],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}}),this._endAsyncOperation()},Xi.WIDGET)]}async _setupCreateOperation(t,i){const r=this.view;if(!r)return this._logMissingView(),null;const s={hasZ:r.type==="3d",...this.defaultCreateOptions,...i},c=await this._setupDrawGraphicTool(t,r,s);return c==null?null:(r.tools.add(c),r.activeTool=c,this._setupCreateOperationHandle(c))}async _setupDrawGraphicTool(t,i,r){if(t==="multipoint"&&i.type==="3d")return this._logError("sketch:create","Multipoint geometries are not supported in SceneView."),null;if(!i)return this._logMissingView(),null;const{cursor:s,defaultZ:c,hasZ:f,geometryToPlace:m,graphicProperties:b,mode:x,preserveAspectRatio:T}=r,C=t==="rectangle"||t==="circle"?"hybrid":"click",L=T??t!=="rectangle",N={centered:t!=="rectangle"&&!(t==="circle"&&!L),cursor:s,defaultZ:c,forceUniformSize:L,graphicProperties:b,geometryToPlace:m,geometryType:t,graphicSymbol:this._getGraphicSymbolFromTool(t),hasZ:f,mode:x??C,snappingManager:this.snappingManager,snapToScene:!1,view:i};return i.type==="2d"?this._makeDrawGraphicTool2D(N):this._makeDrawGraphicTool3D(N)}async _makeDrawGraphicTool2D(t){const i=await this._requireModule(te(()=>import("./editingTools-DgvTawBc.js"),__vite__mapDeps([264,265,96,266,255,267,268,269,270,271,74,250,272,273,274,66,67,68,275,276,277,278,279,47,48,49,280,281,1,282,283,284,285,286,104,287,135,288,71,289,251,290])));return zr(i)||this.destroyed?null:new i.module.DrawGraphicTool2D({...t,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:NTe(t.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions})}async _makeDrawGraphicTool3D(t){const i=await this._requireModule(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])));if(zr(i)||this.destroyed)return null;const{elevationInfo:r}=this.layer;return new i.module.DrawGraphicTool3D({...t,elevationInfo:r,snapToScene:!0,sketchOptions:this.sketchOptions})}_setupCreateOperationHandle(t){const i=this.view;if(!i)return this._logMissingView(),null;let r=null;const s=t.forceUniformSize,c=t.centered,f=[i.on("key-down",b=>{if(b.key===Er.pan)b.stopPropagation(),b.repeat||(t.enabled=!1);else if(b.key===Er.complete)b.stopPropagation(),t.completeCreateOperation();else if(b.key!==Er.vertexAdd||b.repeat)b.key===Er.undo?(b.stopPropagation(),m.undo()):b.key===Er.redo?(b.stopPropagation(),m.redo()):b.key!==Er.constraint||t.geometryType!=="rectangle"&&t.geometryType!=="circle"||b.repeat?b.key===Er.center&&(b.repeat||(t.centered=!c,b.stopPropagation())):(t.forceUniformSize=!s,b.stopPropagation());else{const x=t.drawOperation.geometryType;x!=="polyline"&&x!=="polygon"&&x!=="multipoint"||(b.stopPropagation(),t.drawOperation.commitStagedVertex())}},Xi.WIDGET),i.on("key-up",b=>{b.key===Er.pan?t.enabled=!0:b.key!==Er.constraint||t.geometryType!=="rectangle"&&t.geometryType!=="circle"?b.key===Er.center&&(t.centered=c,b.stopPropagation()):(t.forceUniformSize=s,b.stopPropagation())},Xi.WIDGET),t.on("vertex-add",b=>{switch(r=r==null?"start":"active",b.operation){case"apply":this.emit("create",{graphic:t.graphic,state:r,tool:this.activeTool,toolEventInfo:b,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[t.graphic],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[t.graphic],tool:t.geometryType})}}),t.on("cursor-update",b=>{t.drawOperation.numCommittedVertices>0&&this.emit("create",{graphic:t.graphic,state:"active",tool:this.activeTool,toolEventInfo:{coordinates:b.vertices[0].coordinates,type:"cursor-update"},type:"create"})}),t.on("vertex-remove",b=>{switch(b.operation){case"apply":this.emit("create",{graphic:t.graphic,state:"active",tool:this.activeTool,toolEventInfo:b,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[t.graphic],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[t.graphic],tool:t.geometryType})}}),t.on("complete",b=>{this._set("createGraphic",b.graphic),r="complete",b.aborted?m&&m.cancel():m&&m.complete()}),Ze(()=>this._getGraphicSymbolFromTool(t.geometryType),b=>{t.graphicSymbol=b})],m=new j_({activeComponent:t,tool:t.geometryType,type:"create",onEnd:()=>{var b;f.forEach(x=>x.remove()),f.length=0,(b=i.tools)==null||b.remove(t)},undo:()=>{t.canUndo&&t.undo()},redo:()=>{t.canRedo&&t.redo()},canUndo:()=>t.canUndo,canRedo:()=>t.canRedo});return m}_getGraphicSymbolFromTool(t){switch(t){case"point":case"multipoint":return this.pointSymbol;case"polyline":return this.polylineSymbol;case"circle":case"rectangle":case"polygon":return this.polygonSymbol;case"mesh":return this.meshSymbol}}async _setupUpdateOperation(t,i){var m;const{layer:r,view:s}=this;if(!s)return this._logMissingView(),null;const c={tool:this._defaultUpdateTool,...this.defaultUpdateOptions,...i,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...i==null?void 0:i.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...i==null?void 0:i.highlightOptions}};let f=c.tool;for(const b of t)r.remove(b),r.add(b);if(s.type==="3d"){if(t.length===0)return null;switch(f){case"move":return this._setupMove3DOperation(t,c,s,f);case"reshape":{if(t.length>1)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const b=c5(t[0]);return b===Ti.SUPPORTED?this._setupReshape3DOperation(t[0],c,s):(this._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${rE(b)}).`),null)}case"transform":return this._setupGraphicTransform3DOperation(t,c,s)}}switch(f){case"move":return this._setupMove2DOperation(t,c,s);case"reshape":{if(t.length>1)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const b=c5(t[0]);return b===Ti.SUPPORTED?this._setupTransformOrReshape2DOperation(t,f,c,s):(this._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${rE(b)}).`),null)}case"transform":if(t.length===1){const b=(m=t[0].geometry)==null?void 0:m.type;b!=="point"&&b!=="multipoint"||(f="reshape")}return this._setupTransformOrReshape2DOperation(t,f,c,s)}}async _setupMove3DOperation(t,i,r,s,c=!1){for(const T of t){const C=ATe(T);if(C!==Ti.SUPPORTED)return this._logError("sketch:move",`Move operation not supported for provided graphic(s) (${rE(C)}).`),null}const f=await this._requireModule(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])));if(zr(f))return f;const m=new f.module.GraphicMoveTool({view:r,enableZ:i.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});r.tools.add(m),m.graphics.addMany(t),c||this.updateGraphics.addMany(t);const b=[],x=new Lc({activeComponent:m,tool:s,type:"update",onEnd:()=>{var T;b.forEach(C=>C.remove()),b.length=0,(T=r.tools)==null||T.remove(m),m.destroyed||m.destroy()},undo:()=>{h5(x,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},redo:()=>{d5(x,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:T=>{this.updateGraphics.push(T),m.graphics.push(T),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[T],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:T=>{const C=this.updateGraphics.indexOf(T);x.history.undo.forEach(L=>L.updates.splice(C,1)),x.history.redo.forEach(L=>L.updates.splice(C,1)),this.updateGraphics.remove(T),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[T],type:"selection-change"},type:"update"}),this.updateGraphics.length!==0?m.graphics.remove(T):x.complete()},toggleTool:async()=>{if(this.updateGraphics.length!==1||i.toggleToolOnClick===!1||s!=="transform")return;const T=this.updateGraphics.at(0);if(c5(T)!==Ti.SUPPORTED)return;x.onEnd(),x.destroy();const C=await this._setupReshape3DOperation(T,i,r,!0);zr(C)||this._setUpdateOperationHandle(C,i)}});return b.push(...this._getHandlesForComponent(x,i),r.on("immediate-click",T=>this._getCommonUpdateOperationClickHandlers(x,T,i),Xi.WIDGET),r.on("key-down",T=>{this._getCommonUpdateOperationKeyDownHandlers(x,T)},Xi.WIDGET)),x}_setupGraphicTransform3DOperation(t,i,r,s=!1){if(t.length===1&&LTe(t[0])===Ti.SUPPORTED){const c=t[0],f=c.geometry;if(f!=null&&(f.type==="point"||f.type==="mesh"))return this._setupPointTransform3DOperation(c,i,r);if(f!=null&&(f.type==="polygon"||f.type==="polyline"))return this._setupPolyTransform3DOperation(c,i,r,s)}return this._setupMove3DOperation(t,i,r,"transform",s)}async _setupPointTransform3DOperation(t,i,r){const s="transform",{enableRotation:c,enableScaling:f,enableZ:m}=i,b=await this._requireModule(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])));if(zr(b))return b;const x=new b.module.GraphicTransformTool({graphic:t,view:r,enableRotation:c,enableScaling:f,enableZ:m,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});r.tools.add(x),this.updateGraphics.add(t);const T=[],C=new Lc({activeComponent:x,tool:s,type:"update",onEnd:()=>{var L;T.forEach(N=>N.remove()),T.length=0,(L=r.tools)==null||L.remove(x),x.destroyed||x.destroy()},undo:()=>{h5(C,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},redo:()=>{d5(C,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:async L=>{this.updateGraphics.add(L),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[L],removed:[],type:"selection-change"},type:"update"}),C.onEnd(),C.destroy();const N=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,r,"transform",!0);zr(N)||this._setUpdateOperationHandle(N,i)},removeFromSelection:L=>{this.updateGraphics.remove(L),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[L],type:"selection-change"},type:"update"}),C.complete()},toggleTool:()=>{}});return T.push(...this._getHandlesForComponent(C,i),r.on("immediate-click",L=>this._getCommonUpdateOperationClickHandlers(C,L,i),Xi.WIDGET),r.on("key-down",L=>{this._getCommonUpdateOperationKeyDownHandlers(C,L)},Xi.WIDGET)),C}async _setupPolyTransform3DOperation(t,i,r,s=!1){var G,q;const c="transform",{enableRotation:f,enableScaling:m,enableZ:b,preserveAspectRatio:x}=i,T=await this._requireModule(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])));if(zr(T))return T;const C=(q=(G=this.view)==null?void 0:G.inputManager)==null?void 0:q.isModifierKeyDown(Er.constraint),L=new T.module.ExtentTransformTool({graphic:t,view:r,enableRotation:f,enableScaling:m,enableZ:b,preserveAspectRatio:!!x!=!!C,sketchOptions:this.sketchOptions});r.tools.add(L),s||this.updateGraphics.add(t);const N=[],D=new Lc({activeComponent:L,tool:c,type:"update",onEnd:()=>{var J;N.forEach(ne=>ne.remove()),N.length=0,(J=r.tools)==null||J.remove(L),L.destroyed||L.destroy()},canUndo:()=>L.canUndo,undo:()=>{L.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:c})},canRedo:()=>L.canRedo,redo:()=>{L.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:c})},addToSelection:async J=>{this.updateGraphics.add(J),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[J],removed:[],type:"selection-change"},type:"update"}),D.onEnd(),D.destroy();const ne=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,r,"transform",!0);zr(ne)||this._setUpdateOperationHandle(ne,i)},removeFromSelection:J=>{this.updateGraphics.remove(J),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[J],type:"selection-change"},type:"update"}),D.complete()},toggleTool:async()=>{if(this.updateGraphics.length!==1||i.toggleToolOnClick===!1)return;const J=this.updateGraphics.at(0);if(c5(J)!==Ti.SUPPORTED)return;D.onEnd(),D.destroy();const ne=await this._setupReshape3DOperation(J,i,r,!0);zr(ne)||this._setUpdateOperationHandle(ne,i)}});return N.push(...this._getHandlesForComponent(D,i),r.on("immediate-click",J=>this._getCommonUpdateOperationClickHandlers(D,J,i),Xi.WIDGET),r.on("key-down",J=>this._getCommonUpdateOperationKeyDownHandlers(D,J),Xi.WIDGET),r.on("key-down",J=>{J.key!==Er.constraint||J.repeat||(L.preserveAspectRatio=!L.preserveAspectRatio,J.stopPropagation())},Xi.WIDGET),r.on("key-up",J=>{J.key===Er.constraint&&(L.preserveAspectRatio=!L.preserveAspectRatio,J.stopPropagation())},Xi.WIDGET)),D}async _setupMove2DOperation(t,i,r){const s="move";this.updateGraphics.addMany(t),await this._updateSpatialReference(t);const c=await this._getGraphicMover(t,i,r);if(zr(c))return c;const f=new Lc({activeComponent:c,tool:s,type:"update",onEnd:()=>{var T;this._displayDefaultCursor(),x.forEach(C=>C.remove()),b.forEach(C=>C.remove()),x=[],b=[],c.destroy(),(T=this._internalGraphicsLayer)==null||T.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const T=this.updateGraphics.toArray();h5(f,T),f.refreshComponent(),this._emitUndoEvent({graphics:T,tool:s})},redo:()=>{const T=this.updateGraphics.toArray();d5(f,T),f.refreshComponent(),this._emitRedoEvent({graphics:T,tool:s})},addToSelection:async T=>{await this._updateSpatialReference(T),this.updateGraphics.push(T),c.graphics=this.updateGraphics.toArray(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[T],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:T=>{const C=this.updateGraphics.indexOf(T);f.history.undo.forEach(N=>N.updates.splice(C,1)),f.history.redo.forEach(N=>N.updates.splice(C,1)),this.updateGraphics.remove(T);const L=this.updateGraphics.toArray();this.emit("update",{graphics:L,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[T],type:"selection-change"},type:"update"}),this.updateGraphics.length!==0?c.graphics=L:f.complete()}});let m=!1,b=[r.on("immediate-click",T=>this._getCommonUpdateOperationClickHandlers(f,T,i),Xi.WIDGET),r.on("key-down",T=>{this._getCommonUpdateOperationKeyDownHandlers(f,T),T.key!==Er.constraint||T.repeat||(m=!0,c.enableMoveAllGraphics=!c.enableMoveAllGraphics)},Xi.WIDGET),r.on("key-up",T=>{T.key===Er.constraint&&m&&(m=!1,c.enableMoveAllGraphics=!c.enableMoveAllGraphics)},Xi.WIDGET)],x=this._getHandlesForComponent(f,i);return f}async _setupReshape3DOperation(t,i,r,s=!1){const c="reshape",f=await this._requireModule(te(()=>import("./editingTools-si4qzNO8.js"),__vite__mapDeps([291,283,284,292,289,288,71,293,294,295,137,135,296,297,298,299,300,301,60,56,302,62,97,110,70,303,304,305,75,74,306,49,307,127,308,59,287,136,53,54,55,309,310,311,312,251,313,126,72,61,63,314,99,47,48,122,73,275,315,316,317,318,319,320,321,322,274,323,266,255,66,67,68,276,324,325,326,104,58,327,267,268,269,270,271,250,272,273,277,278,279,280,281,1,282,285,286,328,329,330,290,331,332,333,334,335,336,337,161,338,339,340,341,342,343])));if(zr(f))return f;const m=i.reshapeOptions,b=new f.module.GraphicReshapeTool({view:r,graphic:t,enableZVertex:i.enableZ&&(m==null?void 0:m.vertexOperation)==="move",enableZShape:i.enableZ&&(m==null?void 0:m.shapeOperation)==="move",enableMoveGraphic:(m==null?void 0:m.shapeOperation)==="move"||(m==null?void 0:m.shapeOperation)==="move-xy",enableMidpoints:(m==null?void 0:m.edgeOperation)==="split",enableEdgeOffset:(m==null?void 0:m.edgeOperation)==="offset",snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});r.tools.add(b),s||this.updateGraphics.add(t);const x=[],T=new Lc({activeComponent:b,tool:c,type:"update",onEnd:()=>{var C;x.forEach(L=>L.remove()),x.length=0,(C=r.tools)==null||C.remove(b),b.destroyed||b.destroy()},canUndo:()=>b.canUndo,undo:()=>{b.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:c})},canRedo:()=>b.canRedo,redo:()=>{b.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:c})},addToSelection:async C=>{this.updateGraphics.add(C),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[C],removed:[],type:"selection-change"},type:"update"}),T.onEnd(),T.destroy();const L=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,r,"transform",!0);zr(L)||this._setUpdateOperationHandle(L,i)},removeFromSelection:C=>{this.updateGraphics.remove(C),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[C],type:"selection-change"},type:"update"}),T.complete()},toggleTool:async()=>{if(i.toggleToolOnClick===!1)return;T.onEnd(),T.destroy();const C=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),i,r,!0);zr(C)||this._setUpdateOperationHandle(C,i)}});return x.push(...this._getHandlesForComponent(T,i),r.on("immediate-click",C=>this._getCommonUpdateOperationClickHandlers(T,C,i),Xi.WIDGET),r.on("key-down",C=>{this._getCommonUpdateOperationKeyDownHandlers(T,C)},Xi.WIDGET)),T}async _setupTransformOrReshape2DOperation(t,i,r,s){this.updateGraphics.addMany(t),await this._updateSpatialReference(t);const c=i==="transform"?await this._getBox(t,r,s):await this._getReshape(t,r,s);if(zr(c))return c;const f=new Lc({activeComponent:c,type:"update",onEnd:()=>{b.forEach(x=>x.remove()),m.forEach(x=>x.remove()),b=[],m=[],f.activeComponent&&!f.activeComponent.destroyed&&f.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{h5(f,this.updateGraphics.toArray()),f.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:f.tool})},redo:()=>{d5(f,this.updateGraphics.toArray()),f.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:f.tool})},addToSelection:async x=>{let T=f.activeComponent;if((T==null?void 0:T.type)==="reshape"){const C=[...this.updateGraphics,x];this.updateGraphics.removeAll(),f.onEnd(),f.destroy();const L=await this._setupTransformOrReshape2DOperation(C,"transform",r,s);if(zr(L))return;this._setUpdateOperationHandle(L,r)}else this.updateGraphics.add(x),T.graphics=this.updateGraphics.toArray(),T.refresh(),f.resetHistory();this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[x],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:async x=>{const T=this.updateGraphics.indexOf(x);f.history.undo.forEach(L=>L.updates.splice(T,1)),f.history.redo.forEach(L=>L.updates.splice(T,1)),this.updateGraphics.remove(x);const C=this.updateGraphics.toArray();if(C.length===0)f.complete();else{const L=C[0].geometry;C.length!==1||L==null||L.type!=="point"&&L.type!=="multipoint"?f.activeComponent.graphics=C:f.toggleTool()}this.emit("update",{graphics:C,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[x],type:"selection-change"},type:"update"})},toggleTool:async()=>{var L;if(this.updateGraphics.length>1)return;const x=this.updateGraphics.at(0),T=x.geometry;if(T!=null&&(f.tool==="reshape"&&(T.type==="point"||T.type==="multipoint")||f.tool==="transform"&&T.type==="extent"))return;let C=null;f.tool==="transform"?C=await this._getReshape([x],r,s):f.tool==="reshape"&&(C=await this._getBox([x],r,s)),zr(C)||((L=f.activeComponent)==null||L.destroy(),f.activeComponent=C,f.activeComponent&&(b.forEach(N=>N.remove()),b=this._getHandlesForComponent(f,r)))}});let m=[s.on("immediate-click",x=>this._getCommonUpdateOperationClickHandlers(f,x,r),Xi.WIDGET),s.on("key-down",x=>{if(this._getCommonUpdateOperationKeyDownHandlers(f,x),x.key===Er.constraint&&!x.repeat&&f){const T=f.activeComponent;T&&T.type==="box"&&(T.preserveAspectRatio=!T.preserveAspectRatio)}},Xi.WIDGET),s.on("key-up",x=>{if(x.key===Er.constraint&&f){const T=f.activeComponent;T&&T.type==="box"&&(T.preserveAspectRatio=!T.preserveAspectRatio)}},Xi.WIDGET)],b=this._getHandlesForComponent(f,r);return f}async _getGraphicMover(t,i,r){const{enableMoveAllGraphics:s,highlightOptions:c}=i,f=await this._requireModule(te(()=>import("./GraphicMover-LVr5zNDW.js"),__vite__mapDeps([361,277,290])));return zr(f)?f:new f.module.default({enableMoveAllGraphics:s,highlightsEnabled:!!(c!=null&&c.enabled),indicatorsEnabled:!1,graphics:t,view:r,callbacks:{onGraphicMoveStart:({dx:m,dy:b,graphic:x})=>{this._displayGrabbingCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:m,dy:b,mover:x,type:"move-start"},type:"update"})},onGraphicMove:({dx:m,dy:b,graphic:x})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:m,dy:b,mover:x,type:"move"},type:"update"}),onGraphicMoveStop:({dx:m,dy:b,graphic:x})=>{this._displayPointerCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:m,dy:b,mover:x,type:"move-stop"},type:"update"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(t,i,r){var T,C;const{enableRotation:s,enableScaling:c,highlightOptions:f,preserveAspectRatio:m}=i,b=await this._requireModule(te(()=>import("./Box-CkpfxhLn.js"),__vite__mapDeps([362,277,361,290,363,343,281,1,282,250,283,284,289,288,71,331])));if(zr(b))return b;const x=(C=(T=this.view)==null?void 0:T.inputManager)==null?void 0:C.isModifierKeyDown(Er.constraint);return new b.module.default({graphics:t,enableRotation:s,enableScaling:c,highlightsEnabled:!!(f!=null&&f.enabled),preserveAspectRatio:!!m!=!!x,layer:this._internalGraphicsLayer,view:r,sketchOptions:this.sketchOptions,callbacks:{onMoveStart:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onMove:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onMoveStop:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onScaleStart:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onScale:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onScaleStop:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onRotateStart:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onRotate:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"}),onRotateStop:L=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...L},type:"update"})}})}async _getReshape(t,i,r){var b,x,T;const s=((b=i.reshapeOptions)==null?void 0:b.edgeOperation)==="split",c=((x=i.reshapeOptions)==null?void 0:x.shapeOperation)==="move",f=!!((T=i.highlightOptions)!=null&&T.enabled),m=await this._requireModule(te(()=>import("./Reshape-BrlSnc5G.js"),__vite__mapDeps([364,265,96,266,255,277,361,290,363,272,278,281,1,282,250,283,284,331,285,286,104,287,135,288,71,289])));return zr(m)?m:new m.module.default({enableMidpoints:s,enableMovement:c,graphic:t[0],highlightsEnabled:f,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,view:r,callbacks:{onReshapeStart:C=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...C},type:"update"}),onReshape:C=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...C},type:"update"}),onReshapeStop:({mover:C,type:L})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:C,type:L},type:"update"}),onMoveStart:({dx:C,dy:L,mover:N,type:D})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:C,dy:L,mover:N,type:D},type:"update"}),onMove:({dx:C,dy:L,mover:N,type:D})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:C,dy:L,mover:N,type:D},type:"update"}),onMoveStop:({dx:C,dy:L,mover:N,type:D})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:C,dy:L,mover:N,type:D},type:"update"}),onVertexAdd:({added:C,type:L,vertices:N})=>{const D=C.map(G=>wR(G.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:D,vertices:N,type:L},type:"update"})},onVertexRemove:({removed:C,type:L,vertices:N})=>{const D=C.map(G=>wR(G.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:D,vertices:N,type:L},type:"update"})}}})}_getHandlesForComponent(t,i){const r=t.activeComponent;if(!r)return[];switch(r.type){case"graphic-mover":return[r.on("graphic-click",({graphic:s,viewEvent:c})=>{var f;(f=c.native)!=null&&f.shiftKey&&(c.stopPropagation(),t.removeFromSelection(s))}),r.on("graphic-move-start",s=>t.addToHistory(Ku(s.allGraphics)))];case"box":return[r.on("graphic-click",s=>this._onTransformOrReshape2DGraphicClick(t,i,s)),r.on("move-start",s=>t.addToHistory(Ku(s.graphics))),r.on("rotate-start",s=>t.addToHistory(Ku(s.graphics))),r.on("scale-start",s=>t.addToHistory(Ku(s.graphics)))];case"reshape":return[r.on("graphic-click",s=>this._onTransformOrReshape2DGraphicClick(t,i,s)),r.on("move-start",s=>t.addToHistory(Ku([s.mover]))),r.on("reshape-start",s=>t.addToHistory(Ku([s.graphic]))),r.on("vertex-add",s=>t.addToHistory(Ku([s.oldGraphic]))),r.on("vertex-remove",s=>t.addToHistory(Ku([s.oldGraphic])))];case"move-3d":return[r.on("graphic-move-start",s=>{t.addToHistory(Ku(s.allGraphics)),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:s.allGraphics.length>0?s.allGraphics[0]:null,type:"move-start"},type:"update"})}),r.on("graphic-move",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:s.dx,dy:s.dy,mover:s.allGraphics.length>0?s.allGraphics[0]:null,type:"move"},type:"update"})}),r.on("graphic-move-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:s.allGraphics.length>0?s.allGraphics[0]:null,type:"move-stop"},type:"update"})}),r.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.graphic],t,i):t.toggleTool()})];case"transform-3d":return[r.on("record-undo",({record:s})=>{t.addToHistory({updates:[s]})}),r.on("graphic-translate-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move-start"},type:"update"})}),r.on("graphic-translate-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move-stop"},type:"update"})}),r.on("graphic-rotate-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,angle:s.angle,type:"rotate-start"},type:"update"})}),r.on("graphic-rotate-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,angle:s.angle,type:"rotate-stop"},type:"update"})}),r.on("graphic-scale-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale-start"},type:"update"})}),r.on("graphic-scale-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale-stop"},type:"update"})}),r.on("graphic-translate",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move"},type:"update"})}),r.on("graphic-rotate",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,angle:s.angle,type:"rotate"},type:"update"})}),r.on("graphic-scale",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale"},type:"update"})}),r.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.graphic],t,i):t.toggleTool()})];case"reshape-3d":return[r.on("reshape",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),r.on("move",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),r.on("vertex-add",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),r.on("vertex-remove",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),r.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.graphic],t,i):t.toggleTool()})]}}_onTransformOrReshape2DGraphicClick(t,i,r){var f;const{graphic:s,viewEvent:c}=r;return(f=c.native)!=null&&f.shiftKey&&s.layer===this.layer?(c.stopPropagation(),t.removeFromSelection(s)):i.toggleToolOnClick?(c.stopPropagation(),t.toggleTool()):void 0}_setUpdateOperationHandle(t,i){var c;this._operationHandle=t;const r=(c=this.view)==null?void 0:c.map;this._disablePopup(i);const s=()=>{if(t===this._operationHandle){const f=this.updateGraphics.toArray(),m=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),r&&r.remove(this._internalGraphicsLayer),this._restorePopup(i),this.emit("update",{graphics:f,state:"complete",aborted:t.cancelled,tool:m,toolEventInfo:null,type:"update"})}};t.on("complete",s)}async _getCommonUpdateOperationClickHandlers(t,i,r){const s=gk(i),c=await i.async(()=>this._getFirstHit(s));if(c==null)return void t.complete();if(i.native.shiftKey&&this._toggleSelection([c.graphic],t,r))return void i.stopPropagation();this.updateGraphics.includes(c.graphic)?i.stopPropagation():t.complete()}_toggleSelection(t,i,r){const s=!!r.multipleSelectionEnabled;return t.some(c=>c!=null&&!(!s||c.layer!==this.layer)&&(this.updateGraphics.includes(c)?i.removeFromSelection(c):i.addToSelection(c),!0))}_getCommonUpdateOperationKeyDownHandlers(t,i){if(!t)return;const r=i.key;r===Er.undo&&t.canUndo()?(i.stopPropagation(),t.undo()):r===Er.redo&&t.canRedo()?(i.stopPropagation(),t.redo()):r===Er.cancel?(i.stopPropagation(),t.cancel()):this.allowDeleteKey&&Er.delete.includes(r)&&this._onDeleteKey(i)}_onDeleteKey(t){var s;if(!this._operationHandle||this._operationHandle.type!=="update")return;const i=this.activeComponent,r=this.updateGraphics.toArray();i!=null&&i.type!=="reshape-3d"&&(i.type!=="reshape"||r.length===1&&((s=r[0].geometry)==null?void 0:s.type)==="point")&&(t.stopPropagation(),this.delete())}_removeDefaultLayer(){var t,i;this._internalGraphicsLayer&&((i=(t=this.view)==null?void 0:t.map)==null||i.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=tr(this._internalGraphicsLayer))}_isComponentGraphic(t){var r;const{activeComponent:i}=this;return!(!t||i==null)&&(((r=t.attributes)==null?void 0:r.esriSketchTool)||i.type==="draw-2d"&&i.graphic===t||(i.type==="box"||i.type==="reshape")&&i.isUIGraphic(t))}_displayPointerCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!=="pointer"&&(this.view.cursor="pointer")}_displayGrabbingCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!=="grabbing"&&(this.view.cursor="grabbing")}_displayDefaultCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!==null&&(this.view.cursor=null)}_logError(t,i,r){ke.getLogger(this).error(new me(t,i,r))}async _requireModule(t){const i=new AbortController;this._moduleLoaderAbortController=i;const r=await t;return this._moduleLoaderAbortController!==i||i.signal.aborted?{requireError:"aborted"}:{module:r}}_emitUndoEvent(t){this.emit("undo",{...t,type:"undo"})}_emitRedoEvent(t){this.emit("redo",{...t,type:"redo"})}_emitDeleteEvent(t){this.emit("delete",{...t,type:"delete"})}get test(){return{operationHandle:this._operationHandle,snappingManager:this.snappingManager,defaultUpdateOptions:Kg}}wait(){return Fn(()=>!this.updating)}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange("updating")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange("updating")}_disablePopupEnabled(t){var i;return((i=this.view)==null?void 0:i.type)!=="3d"||this.updateOnGraphicClick||((t==null?void 0:t.toggleToolOnClick)??!1)}_disablePopup(t){this._disablePopupEnabled(t)&&this.view&&this._originalPopupEnabled==null&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(t){this._disablePopupEnabled(t)&&this.view&&this._originalPopupEnabled!=null&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const t=this.view;t?(Ud(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await Jy(Fn(()=>t==null?void 0:t.ready),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError("sketch:missing-property",XV("view"))}_logMissingLayer(){this._logError(RTe,XV("layer"))}};g([S()],Ii.prototype,"_defaultSnappingManager",void 0),g([S()],Ii.prototype,"updating",null),g([S()],Ii.prototype,"_operationHandle",void 0),g([S({readOnly:!0})],Ii.prototype,"activeTool",null),g([S()],Ii.prototype,"activeFillSymbol",void 0),g([S()],Ii.prototype,"activeLineSymbol",void 0),g([S()],Ii.prototype,"activeVertexSymbol",void 0),g([S()],Ii.prototype,"allowDeleteKey",void 0),g([S({readOnly:!0})],Ii.prototype,"createGraphic",null),g([S()],Ii.prototype,"defaultCreateOptions",null),g([S()],Ii.prototype,"defaultUpdateOptions",null),g([S({type:PA,nonNullable:!0})],Ii.prototype,"labelOptions",null),g([S()],Ii.prototype,"layer",void 0),g([S({types:ml})],Ii.prototype,"pointSymbol",void 0),g([S({types:ml})],Ii.prototype,"polygonSymbol",void 0),g([S({types:ml})],Ii.prototype,"polylineSymbol",void 0),g([S()],Ii.prototype,"meshSymbol",void 0),g([S({type:j0,nonNullable:!0})],Ii.prototype,"snappingOptions",null),g([S()],Ii.prototype,"snappingManager",null),g([S({readOnly:!0})],Ii.prototype,"state",null),g([S({type:FA,nonNullable:!0})],Ii.prototype,"tooltipOptions",null),g([S({readOnly:!0})],Ii.prototype,"updateGraphics",void 0),g([S()],Ii.prototype,"updateOnGraphicClick",void 0),g([S({type:v9,nonNullable:!0})],Ii.prototype,"valueOptions",null),g([S({types:ml})],Ii.prototype,"vertexSymbol",void 0),g([S({value:null})],Ii.prototype,"view",null),g([S({constructOnly:!0,type:bp})],Ii.prototype,"sketchOptions",void 0),Ii=g([Q("esri.widgets.Sketch.SketchViewModel")],Ii);const RTe="sketch:missing-property",XV=e=>`Property '${e}' is missing on SketchViewModel.`;function NTe(e){return e==="polygon"||e==="rectangle"||e==="circle"}function h5(e,t){HX("undo",e.history.undo,e.history.redo,t)}function d5(e,t){HX("redo",e.history.redo,e.history.undo,t)}function HX(e,t,i,r){const s=t.pop();if(!s)return;const c=s.updates,f=[];r.forEach((m,b)=>{const x=c[b];x!=null&&("geometry"in x&&x.geometry!=null&&(f.push({geometry:m.geometry}),m.geometry=x.geometry),"symbol"in x&&x.symbol!=null&&(f.push({symbol:m.symbol}),m.symbol=x.symbol),"undo"in x&&(f.push(x),x[e](m)))}),i.push({updates:f})}function Ku(e){return{updates:e.map(t=>({geometry:t.geometry}))}}function zr(e){return"requireError"in e&&e.requireError==="aborted"}const hO=Ii;var D_;const nE=Symbol(),w1=Symbol(),p5=Symbol();let is=D_=class extends cO{constructor(e){super(e),this.type="create-features",this.createFeatureState="create-new",this.isNested=!1,this._getDrawMeshHelpMessage=void 0,this._featureFormHandle=null,this._visualVariableAttributes={rotation:null,size:null},this._featureFormViewModel=new TA,this._sketchViewModel=null,this._attachmentFileInfos=new Map,this._highlightHandles=new Map,this._preventDefaultActionOnCancel=!1,this._lastActiveGraphics=[],this._isActive=!0,this._updateGraphicDebounced=ba((t,i,r)=>Gc(t,i,r))}initialize(){this.isNested&&(this._isActive=!1),this._initializeSketchViewModel()}destroy(){this._sketchViewModel.destroy()}get featureFormViewModel(){return this._featureFormViewModel}get hasPendingEdits(){var c,f;if(this.numPendingFeatures>0)return!0;const{creationInfo:e,upload:t}=this.data,i=this._sketchViewModel,{activeComponent:r}=i,s=(f=(c=i.createGraphic)==null?void 0:c.geometry)==null?void 0:f.type;return!(s!=="polyline"&&s!=="polygon"&&s!=="multipoint"||(r==null?void 0:r.type)!=="draw-2d"&&(r==null?void 0:r.type)!=="draw-3d")&&r.drawOperation.committedVertices.length>0||!(!t||t.state!=="pending"&&t.state!=="success")||!!(e!=null&&e.geometryToPlace)}get helpMessage(){var s;const{creationInfo:e,viewModel:t}=this.data;if(this.stepId!=="creating-features"||!e)return;const i=e.layer.geometryType,r=this._sketchViewModel.createGraphic;if(i==="mesh"){this._getDrawMeshHelpMessage||te(()=>import("./helpMessageUtils3d-CfgT3Ia0.js"),[]).then(f=>{this._getDrawMeshHelpMessage=f.getDrawMeshHelpMessage});const{view:c}=t;return(c==null?void 0:c.type)==="3d"?(s=this._getDrawMeshHelpMessage)==null?void 0:s.call(this,r,c):void 0}return QEe(i,r==null?void 0:r.geometry)}get layer(){var e;return(e=this.data.creationInfo)==null?void 0:e.layer}get numPendingFeatures(){return this.pendingFeatures.length}get parent(){return this.data.parent}get parentLayer(){var e;return(e=this.parent)==null?void 0:e.data.editorItem.layer}get pendingFeatures(){return this.data.pendingFeatures}get keyboardCancellationEnabled(){return this.numPendingFeatures===0}get reliesOnOwnerAdminPrivileges(){var e;return((e=this.data.editorItem)==null?void 0:e.capabilities.create.reliesOnOwnerAdminPrivileges)??!1}get shouldShowAttachments(){var e;return((e=this.data.editorItem)==null?void 0:e.capabilities.create.attachments.enabled)??!1}get shouldAllowAttachmentEditing(){return this.shouldShowAttachments}get sketchViewModel(){return this._sketchViewModel}get test(){return{addAttachment:(e,t)=>{this._attachmentFileInfos.set(e,t)},sketchViewModel:this._sketchViewModel}}async enter(){this._isActive=!0,this.stepId!=="awaiting-feature-creation-info"&&this._setUpCreatingFeaturesStep()}exit(){this._isActive=!1,this.removeHandles([p5])}async updatePendingFeature(e,t){return this._preventDefaultActionOnCancel=!0,this._sketchViewModel.cancel(),hE(this._lastActiveGraphics,e),this._startUpdating(e,t)}async start(){var e;return await super.start(),e0((e=this.data.creationInfo)==null?void 0:e.layer)?null:{enter:async()=>{},exit:async()=>{},viewModel:this._sketchViewModel}}static create(e){const{addAttachmentsCallback:t,applyEditsCallback:i,isNested:r,creationInfo:s,parent:c,snappingManager:f,startAt:m,viewModel:b}=e,x=e.sketchOptions??new bp,T=s==null?void 0:s.layer,C=T?b.findEditorItemForLayer(T):void 0,L=new D_({data:new tu({creationInfo:s,editorItem:C,parent:c,sketchOptions:x,snappingManager:f,viewModel:b}),isNested:r,onCommit:async N=>{var ae;const{creationInfo:D}=N;if(!D)return;const G=N.pendingFeatures.toArray(),{layer:q}=D,J=((ae=q.capabilities)==null?void 0:ae.editing.supportsGlobalId)&&"globalIdField"in q,ne=L._attachmentFileInfos;if(J){const pe=VTe(G,q,ne);return void await i(q,pe,{globalIdUsed:!0})}const ue=await i(q,{addFeatures:G});if(ne.size>0){const pe=(ue==null?void 0:ue.addFeatureResults)??[];await t(q,DTe(G,pe,q,ne))}}});return L._set("steps",this._createWorkflowSteps(L,m)),L}_fadeExistingFeatures(e){if("effect"in e){const i=e.effect;return e.effect="saturate(0.6) opacity(0.8)",xt(()=>e.effect=i)}const t=e.opacity;return e.opacity=.7,xt(()=>e.opacity=t)}_highlight(e){const t=this.data.viewModel.view;(t==null?void 0:t.type)==="3d"&&this._highlightHandles.set(e,t.highlight(e))}_removeHighlight(e){ks(this._highlightHandles.get(e)),this._highlightHandles.delete(e)}async _startCreating(e){this.removeHandles(w1);const{creationInfo:t}=this.data;if(!t)return;this.createFeatureState="create-new";const i=await fTe(this._sketchViewModel,t,e);this.addHandles(i,w1)}async _startUpdating(e,t){var D;const{pendingFeatures:i}=this;i.includes(e)||i.add(e);const{_featureFormViewModel:r,_sketchViewModel:s}=this,{creationInfo:c,viewModel:f}=this.data,{attachmentsViewModel:m,layerInfos:b,view:x}=f;if(!x||!c)return;const T=c.layer,C=yTe(b,T),L=C==null?void 0:C.formTemplate,N=x.spatialReference;if(r.set({arcadeEditType:"INSERT",feature:e,formTemplate:L,spatialReference:N,map:x.map}),m.mode!=="add"&&m.mode!=="edit"||((D=f.activeWorkflow)==null||D.previous()),m.graphic=e,m.fileInfos.removeAll(),m.mode="view",(this._attachmentFileInfos.get(e)||[]).forEach(({file:G,form:q})=>m.addFile(G,q)),this._removeHighlight(e),await Gc(e,t,x.type==="2d"?x.scale:null),this.removeHandles(w1),ks(this._featureFormHandle),x.type==="2d"){const G=Ze(()=>x.scale,q=>this._updateGraphicDebounced(e,t,q));this.addHandles(G,w1)}return this._featureFormHandle=Do([r.on("value-change",async()=>{e.attributes=r.getValues(),await Gc(e,t,x.type==="2d"?x.scale:null)}),s.on(["update","undo","redo"],G=>{(G.type==="undo"||G.type==="redo"||G.type==="update"&&G.toolEventInfo!=null&&qX(G.toolEventInfo.type))&&r.notifyFeatureGeometryChanged()})]),this.createFeatureState="update-pending",this._visualVariableAttributes=uO(e),e0(T)?void 0:pk({graphic:e,sketchViewModel:s,sourceLayer:T,visualVariables:this._visualVariableAttributes,webStyleCache:t})}static _createWorkflowSteps(e,t="awaiting-feature-creation-info"){const{data:i}=e,r=WX(["awaiting-feature-creation-info","creating-features","adding-attachment","editing-attachment"],t,{"awaiting-feature-creation-info":()=>({id:"awaiting-feature-creation-info",async setUp(){const{creationInfo:s,viewModel:c}=i,{view:f}=c;f&&(Lb(s)?e.addHandles(await CTe({view:f,data:i,next:()=>e.next(),cancel:()=>c.cancelWorkflow({warnIfNoWorkflow:!1})}),this.id):(i.parent&&s&&(e.addHandles(c.lockFeatureTemplatesViewModel(),this.id),c.featureTemplatesViewModel.layers=[s.layer]),e.addHandles(c.featureTemplatesViewModel.on("select",({item:m})=>{m&&(i.creationInfo={...i.creationInfo,layer:m.layer,template:m.template},e.next())}),this.id)))},async tearDown(){e.removeHandles([this.id,w1])}}),"creating-features":()=>({id:"creating-features",async setUp(){e._isActive&&await e._setUpCreatingFeaturesStep()},async tearDown(s){const{viewModel:c}=i;s.canceled&&(e.removeHandles([p5,nE,w1]),c.attachmentsViewModel.fileInfos.removeAll(),e._attachmentFileInfos.clear())}}),"adding-attachment":()=>({id:"adding-attachment",parent:"creating-features",async setUp(){},async tearDown(){const{attachmentsViewModel:s}=i.viewModel,{graphic:c,fileInfos:f}=s;e._attachmentFileInfos.set(c,f.toArray()),s.mode="view"}}),"editing-attachment":()=>({id:"editing-attachment",parent:"creating-features",async setUp(){},async tearDown(){const{attachmentsViewModel:s}=i.viewModel,{graphic:c,fileInfos:f}=s;e._attachmentFileInfos.set(c,f.toArray()),s.mode="view"}})});return TTe(i,r)}static _configureSketchViewModel(e,t){const{data:i}=e,{creationInfo:r,viewModel:s}=i,{view:c}=s,f=e._sketchViewModel;let m=null;const b=[];if(!c)return xt();c.type==="2d"&&r&&b.push(e._fadeExistingFeatures(r.layer)),b.push(f.on("create",async T=>{if(T.state==="cancel"){if(e._preventDefaultActionOnCancel)return void(e._preventDefaultActionOnCancel=!1);if(e._lastActiveGraphics.length<1)return e._startCreating(t);const C=e._lastActiveGraphics.pop();return e._startUpdating(C,t)}if(T.state==="complete"&&T.graphic)return e._startUpdating(T.graphic,t)}),f.on("update",async T=>{var ne;const{attachmentsViewModel:C}=s,{_featureFormViewModel:L}=e,N=T.graphics[0];if(T.state==="complete"){if(N!==m&&(e._lastActiveGraphics.push(N),e._highlight(N)),m=null,e.numPendingFeatures===(r==null?void 0:r.maxFeatures)){const ue=e._lastActiveGraphics.pop();return e._startUpdating(ue,t)}if(!L.submittable){L.submit();const ue=e._lastActiveGraphics.pop();return e._startUpdating(ue,t)}if(C.mode!=="add"&&C.mode!=="edit"||((ne=s.activeWorkflow)==null||ne.previous()),T.aborted&&e._preventDefaultActionOnCancel)return void(e._preventDefaultActionOnCancel=!1);e.addHandles([yk(c),c.on("click",ue=>ue.preventDefault())],nE),await Fn(()=>!L.updating),e.removeHandles(nE),e._startCreating(t)}T.state==="start"&&e._removeHighlight(N);const D=e._visualVariableAttributes;await GX(c,N,T,D,t);const G=N.attributes,{rotation:q,size:J}=D;if(q!=null){const{field:ue}=q;L.setValue(ue,G[ue])}if(J!=null){const{field:ue}=J;L.setValue(ue,G[ue])}}),f.on("delete",async T=>{const C=T.graphics[0];e.pendingFeatures.remove(C),hE(e._lastActiveGraphics,C),m=C}),c.on("immediate-click",async T=>{if(Lb(r))return;const{results:C}=await c.hitTest(T,{include:f.layer}),L=C.find(D=>D.type==="graphic"&&D.graphic.sourceLayer===(r==null?void 0:r.layer));if(!L)return;const N=L.graphic;if(f.activeTool==="transform"||f.activeTool==="reshape"){if(f.updateGraphics.at(0)===N||!e._featureFormViewModel.submittable)return;await e.updatePendingFeature(N,t)}},Xi.TOOL),xt(()=>{e._preventDefaultActionOnCancel=!0,f.cancel()}),jTe(f,i));const x=Do(b);return f.addHandles(x),x}_initializeSketchViewModel(){var s;const{data:e}=this,{view:t}=e.viewModel,i=new B2({elevationInfo:(s=e.creationInfo)==null?void 0:s.layer.elevationInfo,internal:!0,listMode:"hide"}),r=new hO({layer:i,sketchOptions:e.sketchOptions,snappingManager:e.snappingManager,updateOnGraphicClick:!1,view:t});this._sketchViewModel=r,t==null||t.map.add(i),this.addHandles(xt(()=>{t!=null&&t.destroyed||(t==null||t.map.remove(i)),i.destroy()}))}async _setUpCreatingFeaturesStep(){var D;if(this.hasHandles(p5))return;const{creationInfo:e,viewModel:t}=this.data,{attachmentsViewModel:i,view:r}=t;if(!r||!(e!=null&&e.layer))throw new me("missing-parameters","CreateFeaturesWorkflow requires a view and creationInfo.");const{initialFeature:s,layer:c}=e,f=this._sketchViewModel,m=new Map,b=[];this._lastActiveGraphics=[],this._featureFormHandle=ks(this._featureFormHandle),this._visualVariableAttributes={rotation:null,size:null},this.data.editorItem=t.findEditorItemForLayer(e.layer),MTe(i),b.push(Ze(()=>i.mode,G=>{switch(G){case"add":this.go("adding-attachment");break;case"edit":this.go("editing-attachment")}}));const x=yk(r);b.push(x);const T=e0(e.layer);try{if(T){const G=s??new Dn({attributes:{...(D=e.template)==null?void 0:D.prototype.attributes,...e.attributeOverrides},sourceLayer:c});await this._startUpdating(G,m)}else b.push(D_._configureSketchViewModel(this,m)),s?(f.layer.add(s),await this._startUpdating(s,m)):await this._startCreating(m)}finally{x.remove()}const C=xt(()=>this.pendingFeatures.drain(G=>f.layer.remove(G))),L=Ze(()=>r==null?void 0:r.timeZone,G=>this._featureFormViewModel.timeZone=G,Ri),N=xt(()=>{Lb(e)&&t.cancelWorkflow({warnIfNoWorkflow:!1})});this._featureFormHandle&&b.push(this._featureFormHandle),this.addHandles(b,this._handleKeys.beforeCommit),this.addHandles([xt(()=>i.fileInfos.removeAll()),Do(b),N,C,L],p5)}};function jTe(e,t){let i=null;const r=()=>e.snappingOptions.featureSources,s=()=>(i=new j9({layer:e.layer}),r().add(i),i),c=()=>{i!=null&&(r().remove(i),i=tr(i))};return Do([Ze(()=>{var b;const f=(b=t.creationInfo)==null?void 0:b.layer,m=r().find(x=>x.layer===f);return{hasFeatureLayerSource:!!m,enabled:(m==null?void 0:m.enabled)??!1}},({hasFeatureLayerSource:f,enabled:m})=>{if(!f)return c();i??(i=s()),i.enabled=m},Is),xt(c)])}function DTe(e,t,i,r){const s=[];return t.forEach((c,f)=>{if(!c.error){const m=e[f],b=r.get(m)||[];m.attributes[i.objectIdField]=c.objectId,b.forEach(({form:x})=>s.push({feature:m,attachment:x}))}}),s}function VTe(e,t,i){const r=[],s=t.globalIdField;return e.forEach((c,f)=>{var m;(m=e[f].attributes)[s]??(m[s]=gj()),((i==null?void 0:i.get(c))||[]).forEach(({file:b})=>r.push({feature:c,attachment:{globalId:gj(),data:b}}))}),r.length?{addFeatures:e,addAttachments:r}:{addFeatures:e}}g([S({constructOnly:!0})],is.prototype,"isNested",void 0),g([S()],is.prototype,"featureFormViewModel",null),g([S()],is.prototype,"hasPendingEdits",null),g([S()],is.prototype,"_getDrawMeshHelpMessage",void 0),g([S()],is.prototype,"helpMessage",null),g([S()],is.prototype,"layer",null),g([S()],is.prototype,"parent",null),g([S()],is.prototype,"parentLayer",null),g([S()],is.prototype,"keyboardCancellationEnabled",null),g([S()],is.prototype,"reliesOnOwnerAdminPrivileges",null),g([S()],is.prototype,"shouldShowAttachments",null),g([S()],is.prototype,"shouldAllowAttachmentEditing",null),g([S()],is.prototype,"sketchViewModel",null),is=D_=g([Q("esri.widgets.Editor.CreateFeaturesWorkflow")],is);const JX=is;let V_=class extends ht{constructor(t){super(t),this.view=null}add(t){const i=!t||Array.isArray(t)?t:[t];i!=null&&i.length&&i.forEach(r=>this._highlight(r))}remove(t){const i=!t||Array.isArray(t)?t:[t];i!=null&&i.length&&i.forEach(r=>this._removeHighlight(r))}removeAll(){this.removeAllHandles()}_highlight(t){const i=PTe(this.view,t.layer);EX(i)&&this.addHandles(i.highlight(t),VD(t))}_removeHighlight(t){t&&this.removeHandles(VD(t))}};g([S()],V_.prototype,"view",void 0),V_=g([Q("esri.views.draw.support.HighlightHelper")],V_);const ZX=V_;function ez(e){return e==null?null:JSON.stringify(e)}let Sc=class extends ht{constructor(t){super(t),this._stagedForDelete=!1,this.feature=null,this.initialFeature=null}get attributesModified(){return this._stringifyAttributes(this.feature)!==this._stringifyAttributes(this.initialFeature)}get geometryModified(){return this._stringifyGeometry(this.feature)!==this._stringifyGeometry(this.initialFeature)}get stagedForDelete(){return this._stagedForDelete}get modified(){return this.attributesModified||this.geometryModified||this._stagedForDelete}stageDelete(){this._stagedForDelete=!0}unstageDelete(){this._stagedForDelete=!1}trackChanges(){var t;this.initialFeature=(t=this.feature)==null?void 0:t.clone()}updateAttributes(t){const{feature:i}=this;i&&(i.attributes=t,this.notifyChange("attributesModified"))}updateGeometry(t){const{feature:i}=this;i&&(i.geometry=t,this.notifyChange("geometryModified"))}_stringifyAttributes(t){return ez(t==null?void 0:t.attributes)}_stringifyGeometry(t){const i=t==null?void 0:t.geometry;return ez((i==null?void 0:i.type)==="mesh"?{transform:i.transform,vertexSpace:i.vertexSpace}:i)}};g([S()],Sc.prototype,"_stagedForDelete",void 0),g([S()],Sc.prototype,"attributesModified",null),g([S()],Sc.prototype,"feature",void 0),g([S()],Sc.prototype,"geometryModified",null),g([S()],Sc.prototype,"initialFeature",void 0),g([S()],Sc.prototype,"modified",null),Sc=g([Q("esri.widgets.Editor.Edits")],Sc);var z_;let iu=z_=class extends ht{constructor(e){super(e),this.editorItem=null,this.edits=null,this.parent=null,this.relatedRecordCallbacks=null,this.viewModel=null}get attachmentsCapabilities(){const e=this.editorItem.capabilities.update.attachments.enabled;return{editing:!0,operations:{add:e,update:e,delete:e}}}get formTemplate(){return this.editorItem.formTemplate}static async create(e){const t=z_._makeConstructorProps(e);return new z_(t)}static _makeConstructorProps(e){const{feature:t,parent:i,relatedRecordCallbacks:r,viewModel:s}=e,c=s.editorItems.find(f=>f.layer===t.layer);if(!c)throw new me("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return{editorItem:c,edits:new Sc({feature:t}),parent:i,relatedRecordCallbacks:r,viewModel:s}}};g([S()],iu.prototype,"attachmentsCapabilities",null),g([S({constructOnly:!0})],iu.prototype,"editorItem",void 0),g([S()],iu.prototype,"edits",void 0),g([S()],iu.prototype,"formTemplate",null),g([S()],iu.prototype,"parent",void 0),g([S()],iu.prototype,"relatedRecordCallbacks",void 0),g([S()],iu.prototype,"viewModel",void 0),iu=z_=g([Q("esri.widgets.Editor.UpdateRecordWorkflowData")],iu);const KX=iu;var U_;let yy=U_=class extends KX{constructor(e){super(e),this.sketchOptions=null,this.snappingManager=null}static async create(e){const{feature:t,snappingManager:i,viewModel:r}=e,s=e.sketchOptions??new bp,{view:c}=r;if(!c)throw new me("editor:cannot-create-workflow-data","The provided EditorViewModel does not have an associated view");const f=await _m(c,t.layer);return new U_({...U_._makeConstructorProps(e),layerView:f,sketchOptions:s,snappingManager:i})}};g([S()],yy.prototype,"layerView",void 0),g([S({constructOnly:!0})],yy.prototype,"sketchOptions",void 0),g([S()],yy.prototype,"snappingManager",void 0),yy=U_=g([Q("esri.widgets.Editor.UpdateFeatureWorkflowData")],yy);const zTe=yy;var vk;const bk={exit:Symbol()},UTe="esri.widgets.Editor.UpdateRecordWorkflow";let xs=vk=class extends cO{constructor(e){super(e),this._highlightHelper=null,this.fullFeature=null,this.type="update-table-record"}initialize(){const{data:e}=this,{edits:t}=e,{view:i}=e.viewModel,r=t.feature,s=new AbortController;this.addHandles(wre(s)),this._updatingHandles.addPromise(bTe(r,e.viewModel.view.spatialReference,s.signal).then(c=>{Tl(s)||(this._onFullFeatureLoaded(c),this._initializeFeatureFormViewModel())},c=>this.cancel({force:!0,error:new me("editor:failed-to-fetch-full-feature","Failed to retrieve all information for this feature. The update cannot proceed.",{detail:{error:c}})}))),i&&(this._highlightHelper=new ZX({view:i}),this.addHandles(xt(()=>{var c;return(c=this._highlightHelper)==null?void 0:c.removeAll()})))}get editorItem(){return this.data.editorItem}get featureFormViewModel(){return this._featureFormViewModel}get hasPendingEdits(){return this.data.edits.modified}get layer(){return this.data.editorItem.layer}get parent(){return this.data.parent}get parentLayer(){var e;return(e=this.parent)==null?void 0:e.data.editorItem.layer}get shouldShowAttachments(){return this.editorItem.capabilities.attachments.enabled}get shouldAllowAttachmentEditing(){return this.editorItem.capabilities.update.attachments.enabled}get reliesOnOwnerAdminPrivileges(){const e=this.editorItem.capabilities;return e.update.reliesOnOwnerAdminPrivileges||e.delete.reliesOnOwnerAdminPrivileges}async deleteAndCommit(){return this.data.edits.stageDelete(),this.commit()}async enter(){this._configureAttachmentsViewModel()}exit(e){this.removeHandles(bk.exit)}async start(){return await super.start(),null}_configureAttachmentsViewModel(){const{data:e,fullFeature:t}=this,{attachmentsCapabilities:i,viewModel:r}=e,{attachmentsViewModel:s}=r;s.set({capabilities:i,graphic:t,filesEnabled:!1,mode:"view"}),this.addHandles([xt(()=>s.fileInfos.removeAll()),Ze(()=>s.mode,c=>{switch(c){case"add":this.go("adding-attachment");break;case"edit":this.go("editing-attachment")}})],bk.exit)}_initializeFeatureFormViewModel(){const{edits:e,formTemplate:t,viewModel:{view:i}}=this.data,r=this._featureFormViewModel=new TA({arcadeEditType:"UPDATE",feature:this.fullFeature,formTemplate:t,highlightHelper:this._highlightHelper,map:i==null?void 0:i.map,spatialReference:i.spatialReference,timeZone:i==null?void 0:i.timeZone});r.relatedRecordCallbacks={...this.data.relatedRecordCallbacks,showAllRelatedRecords:c=>r.relationshipId=c.relationshipId};const{initialFeature:s}=e;s&&r.overrideInitialFeature(s),this.addHandles([r.on("value-change",()=>{e.updateAttributes(r.getValues()),this.fullFeature.attributes=e.feature.attributes}),Ze(()=>i==null?void 0:i.timeZone,c=>r.timeZone=c)])}_onFullFeatureLoaded(e){this.fullFeature=e;const{edits:t}=this.data;t.updateAttributes(e.attributes),t.trackChanges()}static async create(e){const t=new vk({data:await KX.create(e),onCommit:this._onCommitFactory(e.applyEdits)});return t._set("steps",this._createWorkflowSteps(t)),t}static _createWorkflowSteps(e){const{attachmentsViewModel:t}=e.data.viewModel;return[{id:"editing-attributes",async setUp(){},async tearDown(){}},{id:"adding-attachment",async setUp(){},async tearDown(){t.mode="view"}},{id:"editing-attachment",async setUp(){},async tearDown(){t.mode="view"}}]}};xs._onCommitFactory=e=>async t=>{var m;const{edits:i}=t,{feature:r}=i;if(!r)return;const s=r.sourceLayer,c=r.clone();if(!i.attributesModified||i.stagedForDelete){const b=s.objectIdField;if(c.attributes={[b]:r.getAttribute(b)},NJ()&&RJ()&&s.type==="scene"&&s.infoFor3D!=null){const x=(m=s.associatedLayer)==null?void 0:m.globalIdField;x!=null&&c.setAttribute(x,r.getAttribute(x))}}i.geometryModified&&!i.stagedForDelete||(c.geometry=null);const f=i.stagedForDelete?"deleteFeatures":"updateFeatures";await e(s,{[f]:[c]})},g([S()],xs.prototype,"editorItem",null),g([S()],xs.prototype,"featureFormViewModel",null),g([S()],xs.prototype,"fullFeature",void 0),g([S()],xs.prototype,"hasPendingEdits",null),g([S()],xs.prototype,"layer",null),g([S()],xs.prototype,"parent",null),g([S()],xs.prototype,"parentLayer",null),g([S()],xs.prototype,"shouldShowAttachments",null),g([S()],xs.prototype,"shouldAllowAttachmentEditing",null),g([S()],xs.prototype,"reliesOnOwnerAdminPrivileges",null),xs=vk=g([Q(UTe)],xs);var wk;const Va={...bk,highlights:Symbol(),sketchGraphics:Symbol(),sketchViewModel:Symbol()};let my=wk=class extends xs{constructor(e){super(e),this.type="update-feature",this._layerViewEditSession=null,this._sketchGraphicClone=null,this._sketchViewModel=null,this._webStyleCache=new Map}destroy(){var e;(e=this._layerViewEditSession)==null||e.rollback()}async commit(){this.removeHandles(Va.sketchGraphics);try{const e=this.data.edits.stagedForDelete;await super.commit();const t=this._layerViewEditSession;e?t==null||t.rollback():t==null||t.commit()}catch(e){throw await this._configureSketchViewModel(),new me("editor-workflow:failed-to-commit","An error occurred when sending the updates to the service",{error:e})}}async start(){return await super.start(),await this._initializeSketchViewModel()}_initializeFeatureFormViewModel(){super._initializeFeatureFormViewModel(),this.addHandles(this._featureFormViewModel.on("value-change",e=>{var t;(t=this._layerViewEditSession)==null||t.setAttribute(e.fieldName,e.value)}))}_configureHighlight(){const{edits:e,layerView:t}=this.data;EX(t)&&this.addHandles(t.highlight(e.feature),Va.highlights)}async _configureSketchViewModel(){const e=this._sketchViewModel;if(!e)return;const{data:t,_featureFormViewModel:i,_sketchGraphicClone:r}=this,{edits:s,viewModel:c}=t,f=s.feature,{view:m}=c,b=uO(f),x=await STe({feature:f,featureClone:r,visualVariableAttributes:b,sketchViewModel:e,view:m,onUpdate:({geometry:T,attributes:C},L)=>{if(s.updateAttributes(C),s.updateGeometry(T),i.feature.geometry=T,b.rotation!=null){const{field:N}=b.rotation;i.setValue(N,C[N])}if(b.size!=null){const{field:N}=b.size;i.setValue(N,C[N])}(L.type==="undo"||L.type==="redo"||L.type==="update"&&L.toolEventInfo!=null&&qX(L.toolEventInfo.type))&&i.notifyFeatureGeometryChanged()},webStyleCache:this._webStyleCache});this.addHandles(x,Va.sketchGraphics),e.addHandles(x)}async _initializeSketchViewModel(){const{data:e,_sketchGraphicClone:t}=this,i=e.edits.feature,{capabilities:r,layer:s}=e.editorItem,{view:c}=e.viewModel;if(this.removeHandles([Va.highlights,Va.sketchGraphics,Va.sketchViewModel]),!r.update.geometry)return{enter:async()=>{this.hasHandles(Va.highlights)||this._configureHighlight()},exit:()=>this.removeHandles([Va.highlights])};const f=new B2({elevationInfo:s.elevationInfo,internal:!0,listMode:"hide"}),m=new hO({allowDeleteKey:!1,layer:f,sketchOptions:e.sketchOptions,snappingManager:e.snappingManager,updateOnGraphicClick:!1,view:c});return this._sketchViewModel=m,c==null||c.map.add(f),this.addHandles(xt(()=>{c!=null&&c.destroyed||(c==null||c.map.remove(f)),f.destroy(),this._sketchViewModel=tr(m)}),Va.sketchViewModel),await Gc(t,this._webStyleCache,(c==null?void 0:c.type)==="2d"?c.scale:null),this.addHandles([await $Te(m,i,t)]),{enter:async()=>{this.hasHandles(Va.sketchGraphics)||await this._configureSketchViewModel()},exit:()=>this.removeHandles([Va.sketchGraphics]),viewModel:m}}_onFullFeatureLoaded(e){super._onFullFeatureLoaded(e);const t=this._sketchGraphicClone=fk(e),{edits:i,layerView:r}=this.data;i.updateGeometry(e.geometry),i.trackChanges(),kTe(r)&&(this._layerViewEditSession=r.createInteractiveEditSession(t))}static async create(e){const t=new wk({data:await zTe.create(e),onCommit:this._onCommitFactory(e.applyEdits)});return t._set("steps",this._createWorkflowSteps(t)),t}get test(){return{graphicClone:this._sketchGraphicClone,sketchViewModel:this._sketchViewModel}}};g([S()],my.prototype,"_layerViewEditSession",void 0),g([S()],my.prototype,"_sketchGraphicClone",void 0),g([S()],my.prototype,"_sketchViewModel",void 0),my=wk=g([Q("esri.widgets.Editor.UpdateFeatureWorkflow")],my);let ru=class extends ht{constructor(t){super(t),this.addAttachmentsCallback=null,this.applyEditsCallback=null,this.candidates=null,this.rootFeature=null,this.sketchOptions=null,this.snappingManager=null,this.viewModel=null}};g([S()],ru.prototype,"addAttachmentsCallback",void 0),g([S()],ru.prototype,"applyEditsCallback",void 0),g([S()],ru.prototype,"candidates",void 0),g([S()],ru.prototype,"rootFeature",void 0),g([S({constructOnly:!0})],ru.prototype,"sketchOptions",void 0),g([S()],ru.prototype,"snappingManager",void 0),g([S()],ru.prototype,"viewModel",void 0),ru=g([Q("esri.widgets.Editor.UpdateWorkflowData")],ru);const GTe=ru;var _k;const YX="esri.widgets.Editor.UpdateWorkflow",WTe=()=>ke.getLogger(YX);let $s=_k=class extends cO{constructor(e){super(e),this._workflowStack=new e2(MF),this._sketchStack=new e2(MF),this.type="update"}get activeEditorItem(){var e;return((e=this.activeWorkflow)==null?void 0:e.data.editorItem)??void 0}get activeFeatureFormViewModel(){var e;return(e=this.activeWorkflow)==null?void 0:e.featureFormViewModel}get activeSketchViewModel(){var e;return(e=this._sketchStack.peek())==null?void 0:e.viewModel}get activeWorkflow(){return this._workflowStack.last()}get hasUpdatableCandidates(){const{candidates:e,viewModel:t}=this.data;return e.some(({layer:i})=>{var r;return(r=t.findEditorItemForLayer(i))==null?void 0:r.supportsUpdateWorkflow})}get nestedWorkflowCount(){return this._workflowStack.length}get shouldShowAttachments(){var e;return!!((e=this.activeEditorItem)!=null&&e.capabilities.attachments.enabled)}get shouldAllowAttachmentEditing(){var e;return!!((e=this.activeEditorItem)!=null&&e.capabilities.update.attachments.enabled)}get hasPendingEdits(){return Array.from(this._workflowStack).some(e=>e.hasPendingEdits)}get helpMessage(){var e;return(e=this.activeWorkflow)!=null&&e.helpMessage?this.activeWorkflow.helpMessage:this.stepId==="awaiting-feature-to-update"?"select":void 0}get reliesOnOwnerAdminPrivileges(){var e;return((e=this.activeWorkflow)==null?void 0:e.reliesOnOwnerAdminPrivileges)??!1}get hasInvalidFormTemplate(){var e;return!!((e=this.activeEditorItem)!=null&&e.hasInvalidFormTemplate)}async back(e=()=>Promise.resolve(!0)){const{activeWorkflow:t}=this;if((t==null?void 0:t.featureFormViewModel.relationshipId)==null)if(t){if(t.hasPendingEdits&&!await e())return;t.hasPreviousStep?await t.previous({cancelCurrentStep:!0}):await this.cancelActiveWorkflow({force:!0})}else this.hasPreviousStep?await this.previous({cancelCurrentStep:!0}):await this.cancel({force:!0});else t.featureFormViewModel.relationshipId=null}async cancelActiveWorkflow(e){var t;await((t=this.activeWorkflow)==null?void 0:t.cancel(e)),await this._popWorkflow()}async commit(){await this._drainWorkflowStack(e=>e.commit()),await super.commit()}static create(e){const{viewModel:t,snappingManager:i,startAt:r,addAttachmentsCallback:s,applyEditsCallback:c}=e,f=e.sketchOptions??new bp,m=new _k({data:new GTe({addAttachmentsCallback:s,applyEditsCallback:c,sketchOptions:f,snappingManager:i,viewModel:t}),onCommit:async()=>{}});return m._set("steps",this._createWorkflowSteps(m,r)),m}async save(){var e;this.nestedWorkflowCount>1?(await((e=this.activeWorkflow)==null?void 0:e.commit()),await this._popWorkflow()):await this.commit()}async startCreatingRelatedRecord(e){try{const t=await this._createNestedCreateFeaturesWorkflow(e);await this._pushWorkflow(t)}catch(t){throw new me("editor:unable-to-start-creating","Could not begin updating the provided feature or table record.",{error:t})}}async startUpdating(e){try{const t=await this._createNestedUpdateWorkflow(e);await this._pushWorkflow(t)}catch(t){throw new me("editor:unable-to-start-updating","Could not begin updating the provided feature or table record.",{error:t})}}async deleteActiveFeature(){const{activeWorkflow:e}=this;if(!e)throw new me("editor:nothing-to-delete","There is no feature to delete");qTe(e)?await e.deleteAndCommit():await e.cancel(),this.nestedWorkflowCount===1?await this.reset():await this._popWorkflow()}async cancelAll(){await this._drainWorkflowStack(e=>e.cancel({force:!0}))}async _createNestedCreateFeaturesWorkflow(e){var T;const{relatedLayer:t}=e,{addAttachmentsCallback:i,applyEditsCallback:r,sketchOptions:s,snappingManager:c,viewModel:f}=this.data;if(!qb(t))throw new me("editor:unsupported-layer","Editing is not supported on the provided layer");const m=this._getCreationInfoForNestedCreateFeaturesWorkflow(e),b=m.template||m.initialFeature?"creating-features":"awaiting-feature-creation-info",x=((T=this.activeWorkflow)==null?void 0:T.type)!=="create-features"?this.activeWorkflow:void 0;return JX.create({addAttachmentsCallback:i,applyEditsCallback:r,creationInfo:m,isNested:!0,parent:x,sketchOptions:s,snappingManager:c,startAt:b,viewModel:f})}_getCreationInfoForNestedCreateFeaturesWorkflow(e){const{relatedLayer:t}=e;if(!qb(t)||sv(t))throw new me("editor:unsupported-layer","Editing is not supported on the provided layer");const i={layer:t,maxFeatures:1},r=this._makeRelatedRecordAttributes(e),s=tS(t);return(s==null?void 0:s.length)>0?(i.attributeOverrides=r,s.length===1&&(i.template=s[0])):i.initialFeature=new Dn({sourceLayer:t,attributes:r}),i}async _createNestedUpdateWorkflow(e){var b;const t=e0(e.sourceLayer)?xs:my,{applyEditsCallback:i,sketchOptions:r,snappingManager:s,viewModel:c}=this.data,f=((b=this.activeWorkflow)==null?void 0:b.type)!=="create-features"?this.activeWorkflow:void 0,m=await t.create({feature:e,parent:f,sketchOptions:r,snappingManager:s,viewModel:c,applyEdits:i,relatedRecordCallbacks:{addRelatedRecord:async x=>await this.startCreatingRelatedRecord(x),editRelatedRecord:async({relatedFeature:x})=>await this.startUpdating(x)}});return await Fn(()=>!m.updating),m}async _drainWorkflowStack(e){const t=this._workflowStack,i=[];for(;t.length>0;){const r=t.pop();this._sketchStack.pop();const s=e(r).then(()=>r.destroy());this._updatingHandles.addPromise(s),i.push(s)}await Promise.all(i)}_makeRelatedRecordAttributes(e){var b,x;const{parentFeature:t,relatedLayer:i,relationshipId:r}=e;if(!C4e(t))return;const s=(b=i.relationships)==null?void 0:b.find(T=>T.id===r);if(!s)return void Yg("relationship-not-found","Could not begin creating a related record because the relationship specified could not be found on the destination layer.");if(s.role==="origin")return void Yg("unsupported-role","Creating new related records in the 'origin' table of a relationship is not yet supported");const c=t.sourceLayer;s.relatedTableId!==c.layerId&&Yg("invalid-argument-combination","The given parent feature does not belong to the relationship designated by the given relationship ID.");const f=(x=c.relationships)==null?void 0:x.find(T=>T.id===r);if(!f)return void Yg("relationship-not-found","Could not begin creating a related record because the relationship specified could not be found on the origin layer.");const m=t.getAttribute(f.keyField);return m||Yg("no-key-on-origin-feature","The given parent feature does not have a value for the relationship's origin primary key field."),{[s.keyField]:m}}async _popWorkflow(){var t;(t=this._workflowStack.pop())==null||t.destroy(),this._sketchStack.pop();const e=await this._reconcileWorkflowStack();if(e.failureCount>0)throw new me("editor:next-workflow-failed","Popped the top workflow, but the next workflow in the stack failed to activate",e)}async _pushWorkflow(e){var f;const t=this._workflowRequiresSketchViewModel(e);(f=this.activeWorkflow)==null||f.exit({removeSketchHandles:t});const i=this._sketchStack,r=await(e==null?void 0:e.start()),s=i.peek();r?(s==null||s.exit(),i.push(r)):i.push(this._cloneSketchController(s)),this._workflowStack.push(e);const c=await this._reconcileWorkflowStack();if(c.failureCount>0)throw new me("editor:failed-to-start-updating-feature","Failed to enter the provided workflow.",c)}async _reconcileWorkflowStack(){var i;const e=this._workflowStack,t=this._sketchStack;try{const r=e.peek();return await(r==null?void 0:r.enter()),await((i=t.peek())==null?void 0:i.enter()),{activeWorkflow:r,failureCount:0}}catch{e.pop().destroy(),t.pop();const{activeWorkflow:s,failureCount:c}=await this._reconcileWorkflowStack();return{activeWorkflow:s,failureCount:c+1}}}_cloneSketchController(e){return{enter:(e==null?void 0:e.enter)??(async()=>{}),exit:(e==null?void 0:e.exit)??(async()=>{}),viewModel:e==null?void 0:e.viewModel}}_workflowRequiresSketchViewModel(e){var i;const{type:t}=e;return t==="update-feature"||t==="create-features"&&!e0((i=e.data.creationInfo)==null?void 0:i.layer)}static _createWorkflowSteps(e,t="awaiting-feature-to-update"){const{data:i}=e;return WX(["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature","adding-attachment","editing-attachment"],t,{"awaiting-feature-to-update":()=>({id:"awaiting-feature-to-update",async setUp(){const{spinnerViewModel:r}=i.viewModel,s=i.viewModel.view;let c=null;e.addHandles(xt(()=>{c=Ud(c)}),this.id),i.rootFeature=null,i.candidates=[];const f=s.on("immediate-click",async m=>{r.location=m.mapPoint,r.visible=!0,c==null||c.abort();const{editorItems:b}=i.viewModel;c=new AbortController;const x=await m.async(()=>new Promise((T,C)=>{Bc(c==null?void 0:c.signal,()=>C(br())),T(mTe(b,s,m,c==null?void 0:c.signal))}));dr(c),i.candidates=x.filter(T=>T.status==="fulfilled").flatMap(T=>T.value),r.visible=i.candidates.length===1,i.candidates.length!==0&&(m.stopPropagation(),i.candidates.length===1?(i.rootFeature=i.candidates[0],e.go("editing-existing-feature").catch(()=>{}).then(()=>r.visible=!1)):e.next())},Xi.TOOL);s.focus(),e.addHandles(f,this.id)},async tearDown(){i.candidates.length===0&&(i.viewModel.spinnerViewModel.visible=!1),e.removeHandles(this.id)}}),"awaiting-update-feature-candidate":()=>({id:"awaiting-update-feature-candidate",async setUp(){i.rootFeature=null;const{view:r}=i.viewModel;if(!r)return;const s=new ZX({view:r});e.addHandles([Ze(()=>i.rootFeature,(c,f)=>{s.remove(f),s.add(c)},Mu),xt(()=>s.removeAll())],this.id)},async tearDown(){e.removeHandles(this.id)}}),"editing-existing-feature":()=>({id:"editing-existing-feature",async setUp(){const{rootFeature:r,viewModel:s}=e.data;if(!r)throw new me("editor:no-feature-specified","Cannot setup the 'updating-existing-feature' step until the root feature is defined");await e.startUpdating(r),s.spinnerViewModel.visible=!1;const c=ba(async()=>{await Fn(()=>!e.updating),e.previous()});e.addHandles([Ze(()=>e.nestedWorkflowCount,(f,m)=>{f===0&&m!==0&&c()},Mu)],this.id)},async tearDown(){await e.cancelAll(),e.removeHandles(this.id)}}),"adding-attachment":()=>({id:"adding-attachment",parent:"editing-existing-feature",async setUp(){},async tearDown(){i.viewModel.attachmentsViewModel.mode="view"}}),"editing-attachment":()=>({id:"editing-attachment",parent:"editing-existing-feature",async setUp(){},async tearDown(){i.viewModel.attachmentsViewModel.mode="view"}})})}};g([S()],$s.prototype,"activeEditorItem",null),g([S()],$s.prototype,"activeFeatureFormViewModel",null),g([S()],$s.prototype,"activeSketchViewModel",null),g([S()],$s.prototype,"activeWorkflow",null),g([S()],$s.prototype,"hasUpdatableCandidates",null),g([S()],$s.prototype,"nestedWorkflowCount",null),g([S()],$s.prototype,"shouldShowAttachments",null),g([S()],$s.prototype,"shouldAllowAttachmentEditing",null),g([S()],$s.prototype,"hasPendingEdits",null),g([S()],$s.prototype,"helpMessage",null),g([S()],$s.prototype,"reliesOnOwnerAdminPrivileges",null),g([S()],$s.prototype,"hasInvalidFormTemplate",null),$s=_k=g([Q(YX)],$s);const Yg=(e,t)=>WTe().warn(`editor:${e}`,t,"The create operation will be allowed to proceed, but the resulting feature may not be related to the given parent feature."),qTe=e=>!!e&&/update-/.test(e.type),BTe=$s;let Xs=class extends ht{constructor(t){super(t),this.layer=null}get attachments(){var t;return{enabled:this._effectiveEnabled&&!!((t=this._effectiveCapabilities)!=null&&t.data.supportsAttachment)}}get create(){var m;const{_effectiveCapabilities:t,layer:i}=this,r=this._createEnabled,s=r,c=(m=i.capabilities)==null?void 0:m.operations.supportsAdd,f=!!(t!=null&&t.operations.supportsAdd);return{attachments:{enabled:r&&this.attachments.enabled},attributes:r,enabled:r,geometry:s,reliesOnOwnerAdminPrivileges:!c&&f}}get delete(){var c;const{_effectiveCapabilities:t,layer:i}=this,r=(c=i.capabilities)==null?void 0:c.operations.supportsDelete,s=!!(t!=null&&t.operations.supportsDelete);return{enabled:this._effectiveEnabled&&!!(t!=null&&t.operations.supportsDelete),reliesOnOwnerAdminPrivileges:!r&&s}}get reliesOnOwnerAdminPrivileges(){return this._effectiveEnabled&&!this.layer.editingEnabled||this.create.reliesOnOwnerAdminPrivileges||this.update.reliesOnOwnerAdminPrivileges||this.delete.reliesOnOwnerAdminPrivileges}get update(){var x;const{_effectiveCapabilities:t,layer:i}=this,r=this._updateEnabled,s=!(!r||!(t!=null&&t.editing.supportsGeometryUpdate)),c=(x=i.capabilities)==null?void 0:x.operations.supportsUpdate,f=!!(t!=null&&t.operations.supportsUpdate),m=this.attachments.enabled,b=m&&this._canCreateOrUpdate;return{attachments:{enabled:m,create:b,update:b},attributes:r,enabled:r,geometry:s,reliesOnOwnerAdminPrivileges:!c&&f}}get _createEnabled(){var t;return this._effectiveEnabled&&!!((t=this._effectiveCapabilities)!=null&&t.operations.supportsAdd)}get _updateEnabled(){var t;return this._effectiveEnabled&&!!((t=this._effectiveCapabilities)!=null&&t.operations.supportsUpdate)}get _canCreateOrUpdate(){return!(!this._createEnabled&&!this._updateEnabled)}get _effectiveEnabled(){return KG(this.layer)}get _effectiveCapabilities(){return g0(this.layer)}};g([S()],Xs.prototype,"attachments",null),g([S()],Xs.prototype,"create",null),g([S()],Xs.prototype,"delete",null),g([S()],Xs.prototype,"layer",void 0),g([S()],Xs.prototype,"reliesOnOwnerAdminPrivileges",null),g([S()],Xs.prototype,"update",null),g([S()],Xs.prototype,"_createEnabled",null),g([S()],Xs.prototype,"_updateEnabled",null),g([S()],Xs.prototype,"_canCreateOrUpdate",null),g([S()],Xs.prototype,"_effectiveEnabled",null),g([S()],Xs.prototype,"_effectiveCapabilities",null),Xs=g([Q("esri.layers.support.EditingCapabilities")],Xs);const tz=Xs,HTe=[["binary","application/octet-stream","bin",""]];function hVe(e,t){return eee(t.name,(e==null?void 0:e.supportedFormats)??[])!=null}function dVe(e,t){if(!e)return!1;const i=JTe(t,e.supportedFormats??[]);return i!=null&&e.editFormats.includes(i)}function pVe(e){return D9((e==null?void 0:e.supportedFormats)??[]).flatMap(iee).map(t=>`.${t}`)}function QX(e,t){return dO(KTe(e,t))}function XX(e,t){return dO(eee(e,t))}function fVe(e,t){return tee(ZTe(e,t))}function JTe(e,t){return XX(e.name,t)??QX(e.type,t)}function D9(e){return[...HTe,...e]}function ZTe(e,t){return D9(t).find(i=>dO(i)===e)}function KTe(e,t){const i=e.toLowerCase();return D9(t).find(r=>tee(r)===i)}function eee(e,t){const i=e.toLowerCase();return D9(t).find(r=>iee(r).some(s=>i.endsWith(s)))}function dO(e){return e==null?void 0:e[0]}function tee(e){return e==null?void 0:e[1].toLowerCase()}function iee(e){return(e==null?void 0:e[2].split(",").map(t=>t.toLowerCase()))??[]}function yVe(e){var t;return(t=e.tables)==null?void 0:t.find(i=>i.role==="assetMaps")}var Sm;function mVe(e){return e==="global"?Sm.Global:Sm.Local}function gVe(e){return e===Sm.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Sm||(Sm={}));const _1="esri.views.layers.support.editableLayerViews";function YTe(e,t){const{associatedLayer:i}=e,r=i==null?void 0:i.infoFor3D;if(!r)return!1;const{supportedFormats:s,queryFormats:c}=r,f=QX("model/gltf-binary",s)??XX("glb",s);if(!(f!=null&&c.includes(f)))return ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits because it does not support GLB queries.`),!1;const m=e.spatialReference,b=i.spatialReference;if(!cn(m,b))return ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits because its spatial reference (wkid:${m.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${b.wkid}).`),!1;const x=i.sourceJSON.sourceSpatialReference;if(!(x==null||cn(x,b)))return ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits because the spatial reference of its associated FeatureLayer's service (wkid:${b.wkid}) is different from its source spatial reference (wkid:${x.wkid}).`),!1;const{view:{spatialReference:T,state:{viewingMode:C}}}=t,L=v2(m),N=C===Sm.Global;return L&&!N?(ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits in local viewing mode because its spatial reference (wkid:${m.wkid}) is geographic. Please consider changing the viewing mode to global.`),!1):!L&&N?(ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits in global viewing mode because its spatial reference (wkid:${m.wkid}) is projected. Please consider changing the viewing mode to local.`),!1):!!(cn(m,T)||N&&Tu(T)&&Xy(m))||(ke.getLogger(_1).warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) does not support geometry edits because its spatial reference (wkid:${m.wkid}) does not match the view spatial reference (wkid:${T.wkid}).`),!1)}let ca=class extends tz{constructor(t){super(t),this.layerInfo=null,this.layerView=null}get attachments(){const t=this.defaults.attachments.enabled,i=this.layerInfo;return{enabled:t&&(i==null?void 0:i.allowAttachments)!==!1&&(i==null?void 0:i.enabled)!==!1}}get create(){const{attachments:t,defaults:i,layerInfo:r,layer:s,layerView:c}=this,f=i.create,m=(r==null?void 0:r.enabled)!==!1&&(r==null?void 0:r.addEnabled)!==!1,b=f.enabled&&m;return{attributes:b&&f.attributes,enabled:b,geometry:b&&f.geometry&&iz(s,c),attachments:{enabled:t.enabled&&b&&(r==null?void 0:r.attachmentsOnCreateEnabled)!==!1},reliesOnOwnerAdminPrivileges:f.reliesOnOwnerAdminPrivileges}}get defaults(){return new tz({layer:this.layer})}get delete(){const{defaults:t,layerInfo:i}=this,r=t.delete,s=(i==null?void 0:i.enabled)!==!1&&(i==null?void 0:i.deleteEnabled)!==!1;return{enabled:r.enabled&&s,reliesOnOwnerAdminPrivileges:r.reliesOnOwnerAdminPrivileges}}get formTemplate(){const{layer:t,layerInfo:i}=this;return i!=null&&i.formTemplate?i.formTemplate:t&&"formTemplate"in t?t.formTemplate:null}get relationship(){var s,c,f;const{layer:t}=this,i=!(!q2(t)||!((s=t.relationships)!=null&&s.length)),r=!!((f=(c=this.formTemplate)==null?void 0:c.elements)!=null&&f.some(m=>m.type==="relationship"));return{enabled:i&&r}}get update(){const{attachments:t,defaults:i,layerInfo:r,layer:s,layerView:c}=this,f=i.update,m=(r==null?void 0:r.enabled)!==!1&&(r==null?void 0:r.updateEnabled)!==!1,b=f.enabled&&m,x=b&&f.attributes&&(r==null?void 0:r.attributeUpdatesEnabled)!==!1,T=b&&f.geometry&&(r==null?void 0:r.geometryUpdatesEnabled)!==!1&&iz(s,c),C=t.enabled&&(r==null?void 0:r.attachmentsOnUpdateEnabled)!==!1;return{attributes:x,enabled:b,geometry:T,attachments:{enabled:C,create:C&&f.attachments.create,update:C&&f.attachments.update},reliesOnOwnerAdminPrivileges:f.reliesOnOwnerAdminPrivileges}}};function iz(e,t){return e.type!=="scene"||t!=null&&"type"in t&&t.type==="scene-layer-3d"&&YTe(e,t)}g([S()],ca.prototype,"attachments",null),g([S()],ca.prototype,"create",null),g([S()],ca.prototype,"defaults",null),g([S()],ca.prototype,"delete",null),g([S()],ca.prototype,"formTemplate",null),g([S()],ca.prototype,"layerInfo",void 0),g([S()],ca.prototype,"layerView",void 0),g([S()],ca.prototype,"relationship",null),g([S()],ca.prototype,"update",null),ca=g([Q("esri.widgets.Editor.support.EditorEditingCapabilities")],ca);const QTe=ca;let rs=class extends ht{constructor(t){super(t),this.disabled=!1,this.layer=null,this.layerInfo=null,this.layerView=null}get _suspended(){var t;return!!((t=this.layerView)!=null&&t.suspended)}get capabilities(){return new QTe({layer:this.layer,layerInfo:this.layerInfo,layerView:this.layerView})}get editable(){const{create:t,relationship:i,update:r,delete:{enabled:s}}=this.capabilities,c=t.attachments.enabled||r.attachments.enabled;return!this.disabled&&(t.enabled||r.enabled||c||s||i.enabled)}get formTemplate(){return this.capabilities.formTemplate}get hasInvalidFormTemplate(){return X4e(this.layer,this.formTemplate)}get isTable(){return e0(this.layer)}get supportsCreateFeaturesWorkflow(){if(this.disabled)return!1;const{enabled:t,geometry:i}=this.capabilities.create;return this.isTable?t:t&&i}get supportsUpdateWorkflow(){const{capabilities:t}=this;return!this.disabled&&(t.update.enabled||t.update.attachments.enabled||t.delete.enabled)}get visible(){const{layer:t}=this,i=t.parent;return!this._suspended&&t.visible&&(!i||!("visible"in i)||i.visible)}};g([S()],rs.prototype,"_suspended",null),g([S()],rs.prototype,"capabilities",null),g([S()],rs.prototype,"disabled",void 0),g([S()],rs.prototype,"editable",null),g([S()],rs.prototype,"formTemplate",null),g([S()],rs.prototype,"hasInvalidFormTemplate",null),g([S()],rs.prototype,"isTable",null),g([S()],rs.prototype,"layer",void 0),g([S()],rs.prototype,"layerInfo",void 0),g([S()],rs.prototype,"layerView",void 0),g([S()],rs.prototype,"supportsCreateFeaturesWorkflow",null),g([S()],rs.prototype,"supportsUpdateWorkflow",null),g([S()],rs.prototype,"visible",null),rs=g([Q("esri.widgets.editor.support.EditorItem")],rs);const XTe=rs,ree="esri.widgets.Editor.EditorViewModel",nee=()=>ke.getLogger(ree),see=["create-features","update"];function S1(e,t,i){nee().error(new me(e,t,i))}function eIe(e,t){return e==null?void 0:e.find(i=>i.layer===t)}let Bt=class extends Ps.EventedAccessor{constructor(e){super(e),this._sketchEventListenerHandle=null,this._sketchGraphicsLayer=new B2({listMode:"hide",internal:!0}),this._snappingManager=null,this._updateItemsTask=null,this._updatingHandles=new zc,this._featureTemplatesViewModelLocked=!1,this.activeWorkflow=null,this._activityQueue=new it,this.editorItems=new it,this.failures=[],this.hideTemplatesForInactiveLayers=!1,this.attachmentsViewModel=new xA({capabilities:{editing:!0}}),this.featureTemplatesViewModel=new ok({disabledItemFunction:({layer:t})=>this._itemIsSuspended(t)}),this.ownSketchViewModel=new hO({layer:this._sketchGraphicsLayer}),this.sketchOptions=new bp,this.snappingOptions=new j0,this.spinnerViewModel=new LA,this.pageStack=[],this.showDiscardEditsPrompt=()=>Promise.resolve(!0),this._candidateCommitted=!1,this.back=async()=>{var t;this.canGoBack&&((t=this.activeWorkflow)!=null&&t.hasPreviousStep?await this.activeWorkflow.back(this.showDiscardEditsPrompt):await this._cancelWorkflow({force:!this.hasPendingEdits}))},this.saveWorkflow=async()=>{var i;const{featureFormViewModel:t}=this;if(t){if(t.submit(),!t.submittable)return;const r=t.getValues();if(t.validateContingencyConstraints(r,{includeIncompleteViolations:!0}).length>0)return}await((i=this.activeWorkflow)==null?void 0:i.save())},this.selectFeature=(t,i=!1)=>{const r=this.activeWorkflow;this._candidateCommitted||(r==null?void 0:r.type)!=="update"||(r.data.rootFeature=t,i&&(r.next(),this._candidateCommitted=!0))}}initialize(){this.addHandles([Ze(()=>{var s;const e=this.view,t=(s=e==null?void 0:e.map)==null?void 0:s.editableLayers,i=e==null?void 0:e.allLayerViews,r=i==null?void 0:i.filter(c=>!!(t!=null&&t.includes(c.layer)));return[t,r,this.layerInfos,this.allowedWorkflows]},()=>this._updateEditorItems(),Is),Ze(()=>this.hideTemplatesForInactiveLayers,()=>this.syncFeatureTemplates()),Zr(()=>this.activeWorkflow,"cancel",()=>this.emit("workflow-cancel")),Zr(()=>this.activeWorkflow,"commit",()=>this.emit("workflow-commit")),Zr(()=>this.activeWorkflow,"complete",()=>{this.emit("workflow-commit"),this._set("activeWorkflow",null)}),_l(()=>{var e;return(e=this.view)==null?void 0:e.map},e=>e.add(this._sketchGraphicsLayer),Ri),Zr(()=>this.editorItems,"change",()=>this._afterEditorItemsChange()),Ze(()=>[this.canCreate,this.canUpdateVisible],()=>this._afterEditorItemsChange()),Ze(()=>this.page,(e,t)=>{const i=[...this.pageStack];if(i.indexOf(e)===-1)i.push(e);else for(;i.length&&i.at(-1)!==e;)i.pop();this.pageStack=i},Is),_l(()=>this.state==="awaiting-update-feature-candidate",()=>this._candidateCommitted=!1),Zr(()=>this.featureTemplatesViewModel,"select",async({item:e,oldItem:t})=>{var s;const{activeWorkflow:i}=this;if(i){if(i.type==="update"&&((s=i.activeWorkflow)==null?void 0:s.stepId)==="awaiting-feature-creation-info")return;try{await this.cancelWorkflow({force:!this.hasPendingEdits})}catch{return void this.featureTemplatesViewModel.select(t,{emit:!1})}}if(!e)return;const r={layer:e.layer,template:e.template};if(e.supportsUpload)return this.featureTemplatesViewModel.select(t,{emit:!1}),this.startCreateFeaturesWorkflow(r);this.startCreateFeaturesWorkflowAtFeatureCreation(r)}),Zr(()=>this.view,"key-down",e=>{var t;e.key==="Escape"&&((t=this.activeWorkflow)!=null&&t.keyboardCancellationEnabled)&&(e.stopPropagation(),this.back())}),Zr(()=>this.sketchViewModel,["create","delete","update"],e=>{var f,m;const{activeWorkflow:t}=this,i=(t==null?void 0:t.type)==="update",r=i?(f=t.activeWorkflow)==null?void 0:f.layer:t==null?void 0:t.layer,s=i?(m=t==null?void 0:t.activeWorkflow)==null?void 0:m.parentLayer:void 0,c=`sketch-${e.type}`;this.emit(c,{type:c,detail:e,layer:r,parentLayer:s})},Mu),Ze(()=>this.view,e=>{if(this._snappingManager=tr(this._snappingManager),!e)return;const t=this.snappingOptions;this._snappingManager=new Fo({view:e,options:t})},Is),Ze(()=>this.snappingOptions,e=>{this._snappingManager&&(this._snappingManager.options=e)},Is)])}destroy(){this._cancelWorkflow({warnIfNoWorkflow:!1}).then(()=>{var e,t;(t=(e=this.view)==null?void 0:e.map)==null||t.remove(this._sketchGraphicsLayer),this.view=null}),this._updateItemsTask=Ud(this._updateItemsTask),this._updatingHandles.destroy(),this._sketchEventListenerHandle=ks(this._sketchEventListenerHandle)}get allowedWorkflows(){return this._get("allowedWorkflows")}set allowedWorkflows(e){Su(ke.getLogger(this),"allowedWorkflows",{replacement:"Editor.visibleElements",version:"4.29",warnOnce:!0}),e&&e.length!==0||(e=[...see]),this._set("allowedWorkflows",e)}get canCreate(){return this.editorItems.some(e=>e.supportsCreateFeaturesWorkflow)}get canCreateVisible(){return!!this.featureTemplatesLayers.length}get canUpdate(){return this.editorItems.some(e=>e.supportsUpdateWorkflow)}get canUpdateVisible(){return this.editorItems.some(e=>e.supportsUpdateWorkflow&&e.visible)}get featureTemplatesLayers(){const e=new it;for(const t of this.editorItems){const i=t.supportsCreateFeaturesWorkflow&&!t.isTable,r=this.hideTemplatesForInactiveLayers&&!t.visible;i&&!r&&e.push(t.layer)}return e}get editableItems(){return Su(ke.getLogger(this),"editableItems",{replacement:"editorItems",version:"4.29",warnOnce:!0}),this.editorItems.map(e=>{const{capabilities:t,disabled:i,hasInvalidFormTemplate:r,layer:s}=e,c=[],f=t.create,m=t.update,b=t.delete;return f.enabled&&c.push("create"),m.enabled&&c.push("update"),b.enabled&&c.push("delete"),{layer:s,supports:c,suspended:i,attributeUpdatesEnabled:m.attributes,geometryUpdatesEnabled:m.geometry,attachmentsOnCreateEnabled:f.attachments.enabled,attachmentsOnUpdateEnabled:m.attachments.enabled,hasInvalidFormTemplate:r,hasAttachments:t.attachments.enabled}})}get featureFormViewModel(){const{activeWorkflow:e}=this;return(e==null?void 0:e.type)==="update"?e.activeFeatureFormViewModel:(e==null?void 0:e.type)==="create-features"?e.featureFormViewModel:null}get labelOptions(){return this.sketchOptions.labels}set labelOptions(e){this.sketchOptions.labels=e}set layerInfos(e){(e==null?void 0:e.some(i=>"allowAttachments"in i))&&Rb(nee(),"Property: layerInfo.allowAttachments",{replacement:"layerInfo.attachmentsOnCreateEnabled or layerInfo.attachmentsOnUpdateEnabled",version:"4.26"}),this._set("layerInfos",e)}get sketchViewModel(){const{activeWorkflow:e}=this;return(e==null?void 0:e.type)==="update"?e.activeSketchViewModel:(e==null?void 0:e.type)==="create-features"?e.sketchViewModel:this.ownSketchViewModel}get state(){var i,r;if(!((i=this.view)!=null&&i.ready))return"disabled";const e=this.attachmentsViewModel.mode;if(e==="add")return"adding-attachment";if(e==="edit")return"editing-attachment";const{activeWorkflow:t}=this;return t!=null&&t.stepId?t.type==="update"&&((r=t.activeWorkflow)!=null&&r.stepId)?t.activeWorkflow.stepId:t.stepId:"ready"}get syncing(){return this._activityQueue.length>0}get updating(){var e;return this._updatingHandles.updating||((e=this.activeWorkflow)==null?void 0:e.updating)===!0}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(e){this.sketchOptions.tooltips=e}get valueOptions(){return this.sketchOptions.values}set valueOptions(e){this.sketchOptions.values=e}set view(e){this.ownSketchViewModel.view=e,this.spinnerViewModel.view=e,this._set("view",e)}get page(){const{activeWorkflow:e,state:t}=this;if((e==null?void 0:e.type)==="update"&&e.stepId==="awaiting-feature-to-update")return"ready";if((e==null?void 0:e.type)==="create-features"&&e.numPendingFeatures===0){const i=e.data.upload;if(i)return i.state==="default"?"ready":"creating-features-upload-details"}return t??"disabled"}get featureFormDisabled(){var t;const{activeWorkflow:e}=this;return(e==null?void 0:e.type)==="update"&&((t=e.activeEditorItem)==null?void 0:t.capabilities.update.attributes)===!1}get canGoBack(){return this.activeWorkflow!=null&&!this.syncing}get shouldShowDeleteButton(){var t;const{activeWorkflow:e}=this;return!!e&&e.type==="update"&&!!((t=e.activeEditorItem)!=null&&t.capabilities.delete.enabled)}get hasPendingEdits(){var e;return((e=this.activeWorkflow)==null?void 0:e.hasPendingEdits)??!1}async startCreateFeaturesWorkflowAtFeatureTypeSelection(){return this.startCreateFeaturesWorkflow()}async startCreateFeaturesWorkflowAtFeatureCreation(e){return this.startCreateFeaturesWorkflow(e,"creating-features")}async startCreateFeaturesWorkflow(e,t="awaiting-feature-creation-info"){if(await Fn(()=>!this.updating),!this.canCreate)throw new me("editing:unsupported-workflow","Creating features is unsupported or disabled.");const i=this._createUpdatingResolver();await this._cancelWorkflow();const r=this._createCreateFeaturesWorkflow(e,t);this._set("activeWorkflow",r),await r.start(),i.resolve()}async startCreateFeaturesWorkflowAtFeatureEdit(e){await Fn(()=>!this.updating);const t=this._createUpdatingResolver(),{initialFeature:i}=e,r=i.sourceLayer=i.layer,s=r?this.findEditorItemForLayer(r):void 0;if(!(s!=null&&s.supportsCreateFeaturesWorkflow))throw new me("editing:unsupported-workflow","Creating features is unsupported or disabled for this layer.");await this._cancelWorkflow();const c=this._createCreateFeaturesWorkflow({initialFeature:i,layer:s.layer,maxFeatures:1},"creating-features");this._set("activeWorkflow",c),await c.start(),t.resolve()}async startUpdateWorkflowAtFeatureSelection(){if(await Fn(()=>!this.updating),!this.canUpdate)return void S1("editing:unsupported-workflow","Update workflow is unsupported or disabled.");const e=this._createUpdatingResolver();await this._cancelWorkflow();const t=this._createUpdateWorkflow();this._set("activeWorkflow",t),await t.start(),e.resolve()}async startUpdateWorkflowAtMultipleFeatureSelection(e){if(await Fn(()=>!this.updating),!this.canUpdate)return void S1("editing:unsupported-workflow","Update workflow is unsupported or disabled.");const t=this._createUpdatingResolver();await this._cancelWorkflow();const i=this._createUpdateWorkflow("awaiting-update-feature-candidate");i.data.candidates=e,this._set("activeWorkflow",i),await i.start(),t.resolve()}async startUpdateWorkflowAtFeatureEdit(e){if(await Fn(()=>!this.updating),!this.canUpdate)return void S1("editing:unsupported-workflow","Update workflow is unsupported or disabled.");const t=this._createUpdatingResolver();await this._cancelWorkflow();const i=this._createUpdateWorkflow("editing-existing-feature");i.data.rootFeature=e,this._set("activeWorkflow",i),await i.start(),t.resolve()}async deleteFeatureFromWorkflow(){const{activeWorkflow:e}=this;e&&e.type==="update"?await e.deleteActiveFeature():S1("editing:unsupported-workflow","Deleting requires an active update workflow.")}async cancelWorkflow(e){return this._cancelWorkflow({warnIfNoWorkflow:!0,...e})}findEditorItemForLayer(e){return this.editorItems.find(t=>t.layer===e)}itemHasInvalidFormTemplate(e){var t;return e!=null&&((t=this.findEditorItemForLayer(e.layer))==null?void 0:t.hasInvalidFormTemplate)===!0}syncFeatureTemplates(){this._featureTemplatesViewModelLocked||(this.featureTemplatesViewModel.layers=this.featureTemplatesLayers.toArray())}async toggleUpdateWorkflow(){this.canUpdate&&(this.hasPendingEdits&&!await this.showDiscardEditsPrompt()||(this.activeWorkflow&&this.state==="awaiting-feature-to-update"?await this.cancelWorkflow({force:!0}):await this.startUpdateWorkflowAtFeatureSelection()))}lockFeatureTemplatesViewModel(){return this._featureTemplatesViewModelLocked=!0,xt(()=>{this._featureTemplatesViewModelLocked=!1,this.syncFeatureTemplates()})}async _getEditorItemCandidates(e){const{view:t}=this;if(!(t!=null&&t.map))return[];const{map:i}=t,r=i.editableLayers.toArray()??[],s=i.allTables.toArray().filter(lb)??[];return await Promise.allSettled([...r.map(c=>c.type==="subtype-group"?c.loadAll():Promise.resolve()),...s.map(c=>c.load())]),dr(e),[...r.reverse(),...s.reverse()].filter(c=>qb(c)&&(c.geometryType!=="mesh"||t.type==="3d")).flatMap(c=>c.type==="subtype-group"?c.sublayers.toArray():c)}_drainEditorItems(){this.editorItems.drain(e=>e.destroy())}async _updateEditorItems(){Ud(this._updateItemsTask);const{view:e}=this,t=y8(async i=>{if(!(e!=null&&e.map)||!(e!=null&&e.allLayerViews))return;const r=await this._getEditorItemCandidates(i);if(!r.length)return void this._drainEditorItems();const s=[],c=[],f=[],{layerInfos:m}=this;for(const x of r){const T=eIe(m,x),C=await _m(e,x).catch(()=>null);(T?s:C?c:f).push(new XTe({layer:x,layerInfo:T,layerView:C}))}m!=null&&m.length&&s.sort((x,T)=>m.findIndex(({layer:C})=>C===x.layer)-m.findIndex(({layer:C})=>C===T.layer));const b=[...s,...c,...f];i.aborted||(this._drainEditorItems(),this.editorItems.addMany(b))});this._updatingHandles.addPromise(t.promise),this._updateItemsTask=t}_afterEditorItemsChange(){const{activeWorkflow:e}=this;if(this.syncFeatureTemplates(),!e)return;const{stepId:t}=e;e.type!=="create-features"?e.type==="update"&&(t==="awaiting-feature-to-update"&&!this.canUpdateVisible||t==="awaiting-update-feature-candidate"&&!e.hasUpdatableCandidates)&&this._cancelWorkflow():t!=="awaiting-feature-creation-info"||this.canCreate||this._cancelWorkflow()}async _cancelWorkflow(e){const t=this.activeWorkflow;if(!t)return void((e==null?void 0:e.warnIfNoWorkflow)&&S1("editing:no-active-workflow","There is no active workflow to cancel."));if(!e||e.force!==!1)return this.emit("workflow-cancel"),this._set("activeWorkflow",null),void await t.cancel(e);await t.cancel(e),this._set("activeWorkflow",null)}_createCreateFeaturesWorkflow(e,t){return JX.create({viewModel:this,creationInfo:e,sketchOptions:this.sketchOptions,snappingManager:this._snappingManager,startAt:t,applyEditsCallback:(i,r,s)=>this._applyEdits(i,r,s),addAttachmentsCallback:(i,r)=>this._addAttachments(i,r)})}_createUpdateWorkflow(e){return BTe.create({viewModel:this,sketchOptions:this.sketchOptions,snappingManager:this._snappingManager,startAt:e,applyEditsCallback:(t,i,r)=>this._applyEdits(t,i,r),addAttachmentsCallback:(t,i)=>this._addAttachments(t,i)})}_addAttachments(e,t){const i=t.map(r=>this._addAttachment(e,r.feature,r.attachment))??[];return Promise.all(i)}async _addAttachment(e,t,i){var s;let r=null;if(!("addAttachment"in e)||((s=e.capabilities)==null?void 0:s.attachment)==null)throw new me("editor:attachments-not-supported","Adding attachments is not supported for this layer type");return await this._queueOperation(async()=>{var c;return r=await((c=e.addAttachment)==null?void 0:c.call(e,t,i).catch(f=>{throw(f==null?void 0:f.error)||f}))??null,r}),r}async _applyEdits(e,t,i){let r=null;const s=e.url?await O8(e.url):null,c={returnServiceEditsOption:(!s||!AE(s))&&!RegExp("/hosted/","i").test(e.url)?"original-and-current-features":void 0,...i};return await this._queueOperation(async()=>{const{view:f}=this;if(!f)return null;const m=await _m(f,e).catch(()=>null);return r=await e.applyEdits(t,c),m&&await Fn(()=>!m.updating),r}),r}_queueOperation(e){this._activityQueue.push(e);const t=(i,r)=>{const s=r.indexOf(i);s>-1&&r.splice(s,1)};return e().then(i=>{if(i!=null&&"error"in i&&i.error!=null)throw i.error;if(i!=null&&"addFeatureResults"in i){const{addFeatureResults:r,deleteFeatureResults:s,updateFeatureResults:c}=i,f=r.find(m=>!!m.error)||c.find(m=>!!m.error)||s.find(m=>!!m.error);if(f)throw f.error}return i}).catch(i=>{S1("editing:operation-error","An error occurred.",{error:i});const r={error:i,retry:()=>(t(r,this.failures),this._queueOperation(e)),cancel:()=>{t(r,this.failures)}};this._set("failures",[...this.failures,r])}).then(()=>{t(e,this._activityQueue)})}_createUpdatingResolver(){const e=Sa();return this._updatingHandles.addPromise(e.promise),e}_itemIsSuspended(e){const t=this.findEditorItemForLayer(e);return t!=null&&(!t.visible||t.disabled)}};g([S({readOnly:!0})],Bt.prototype,"activeWorkflow",void 0),g([S({readOnly:!0})],Bt.prototype,"_activityQueue",void 0),g([S({value:[...see]})],Bt.prototype,"allowedWorkflows",null),g([S({readOnly:!0})],Bt.prototype,"canCreate",null),g([S()],Bt.prototype,"canCreateVisible",null),g([S({readOnly:!0})],Bt.prototype,"canUpdate",null),g([S()],Bt.prototype,"canUpdateVisible",null),g([S()],Bt.prototype,"featureTemplatesLayers",null),g([S()],Bt.prototype,"editableItems",null),g([S()],Bt.prototype,"editorItems",void 0),g([S({readOnly:!0})],Bt.prototype,"failures",void 0),g([S()],Bt.prototype,"hideTemplatesForInactiveLayers",void 0),g([S()],Bt.prototype,"attachmentsViewModel",void 0),g([S()],Bt.prototype,"featureFormViewModel",null),g([S()],Bt.prototype,"featureTemplatesViewModel",void 0),g([S()],Bt.prototype,"labelOptions",null),g([S()],Bt.prototype,"layerInfos",null),g([S()],Bt.prototype,"ownSketchViewModel",void 0),g([S()],Bt.prototype,"sketchOptions",void 0),g([S()],Bt.prototype,"sketchViewModel",null),g([S({type:j0,nonNullable:!0})],Bt.prototype,"snappingOptions",void 0),g([S()],Bt.prototype,"spinnerViewModel",void 0),g([S()],Bt.prototype,"state",null),g([S({readOnly:!0})],Bt.prototype,"syncing",null),g([S()],Bt.prototype,"updating",null),g([S()],Bt.prototype,"tooltipOptions",null),g([S()],Bt.prototype,"valueOptions",null),g([S()],Bt.prototype,"view",null),g([S()],Bt.prototype,"pageStack",void 0),g([S()],Bt.prototype,"showDiscardEditsPrompt",void 0),g([S()],Bt.prototype,"_candidateCommitted",void 0),g([S()],Bt.prototype,"page",null),g([S()],Bt.prototype,"featureFormDisabled",null),g([S()],Bt.prototype,"canGoBack",null),g([S()],Bt.prototype,"shouldShowDeleteButton",null),g([S()],Bt.prototype,"hasPendingEdits",null),Bt=g([Q(ree)],Bt);const tIe=Bt,pO="exclamation-mark-triangle";let $c=class extends ht{constructor(t){super(t),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.header=!1,this.layerList=!0,this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};g([S({type:Boolean,nonNullable:!0})],$c.prototype,"enabledToggle",void 0),g([S({type:Boolean,nonNullable:!0})],$c.prototype,"featureEnabledToggle",void 0),g([S({type:Boolean,nonNullable:!0})],$c.prototype,"header",void 0),g([S({type:Boolean,nonNullable:!0})],$c.prototype,"layerList",void 0),g([S({type:Boolean,nonNullable:!0})],$c.prototype,"layerListToggleLayersButton",void 0),g([S({type:Boolean,nonNullable:!0})],$c.prototype,"selfEnabledToggle",void 0),$c=g([Q("esri.widgets.support.SnappingControls.VisibleElements")],$c);const K2=$c;let ol=class extends ht{constructor(t){super(t),this.createFeaturesSection=!0,this.directionModePicker=!1,this.editFeaturesSection=!0,this.labelsToggle=!0,this.snappingControls=!0,this.snappingControlsElements=new K2,this.tooltipsToggle=!0,this.undoRedoButtons=!1}};g([S({type:Boolean,nonNullable:!0})],ol.prototype,"createFeaturesSection",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"directionModePicker",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"editFeaturesSection",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"labelsToggle",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"snappingControls",void 0),g([S({type:K2,nonNullable:!0})],ol.prototype,"snappingControlsElements",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"tooltipsToggle",void 0),g([S({type:Boolean,nonNullable:!0})],ol.prototype,"undoRedoButtons",void 0),ol=g([Q("esri.widgets.Editor.VisibleElements")],ol);const oee=ol,Qg="esri-editor__panel-content",c2={base:Qg,message:`${Qg}__message`,section:`${Qg}__section`,sectionGroup:`${Qg}__section__group`,scrimContainer:`${Qg}__scrim-container`},Y2=()=>Fs({scrim:()=>te(()=>import("./calcite-scrim-BAUb--gN.js"),__vite__mapDeps([365,202,185,180,186,181,187,195]))});function zd(e,...t){return ee("div",{class:x0(c2.base,e!=null&&e.showScrimOverlay?c2.scrimContainer:void 0),key:(e==null?void 0:e.key)??"panel-content"},...t,e!=null&&e.showScrimOverlay?ee("calcite-scrim",null):void 0)}function fO(e,...t){return ee("div",{class:c2.message,"data-testid":"panel-content-message",key:(e==null?void 0:e.key)??"panel-content-message"},...t)}function By(e,...t){return ee("div",{class:c2.section,key:(e==null?void 0:e.key)??"panel-content-section"},...t)}function iIe(e,...t){return ee("div",{class:c2.sectionGroup,key:(e==null?void 0:e.key)??"panel-content-section-group"},...t)}const rIe=()=>Y2();function nIe({helpMessage:e}){return ee(zd,{key:"creating-features-panel-content"},ee(fO,{key:"content-message"},e))}const sIe=()=>Y2();function oIe({editorItems:e,filterText:t,id:i,messagesTemplates:r,onFilterTextChange:s,onSelectFeature:c,workflow:f}){const m=new Map,b=f.data.candidates;let x=0;b.map(L=>({label:aIe(L),id:L.attributes[L.layer.objectIdField],data:L})).filter(({label:L,data:N})=>{const D=t.toLowerCase(),{title:G}=N.layer,q=e.find(J=>J.layer===N.sourceLayer);return q?q.supportsUpdateWorkflow&&(!D||(L==null?void 0:L.toLowerCase().includes(D))||(G==null?void 0:G.toLowerCase().includes(D))):null}).filter(Yr).forEach(L=>{var D;x++;const N=L.data.layer;m.has(N)?(D=m.get(N))==null||D.items.push(L):m.set(N,{id:`${N.id}`,label:N.title??"",items:[L]})});const T=e.toArray().map(({layer:L})=>m.get(L)).filter(Yr),C=x>10||t.length>0;return ee(zd,{key:"feature-list"},ee(By,null,NQ({enableListScroll:!1,filterEnabled:C,filterText:t,id:i,items:T,messages:{filterPlaceholder:r.filterPlaceholder,noItems:r.noItems,noMatches:r.noMatches},onFilterChange:L=>s(L),onItemMouseEnter:L=>c(L.data),onItemMouseLeave:()=>c(null),onItemSelect:L=>c(L.data,!0)})))}function aIe(e){const t=e.layer;if(!t)return null;const i=t.fieldsIndex.get(t.objectIdField),r=i.alias||i.name,{attributes:s}=e,c=rC(t);return c&&s[c]&&`${s[c]}`||`${r}: ${s[i.name]}`}const lIe={base:"esri-editor__actions"},yO=()=>Fs({button:()=>te(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([203,204,205,180,184,206,194,189,185,186,181,187,179,195]))});function aS({buttons:e,key:t}){return ee("div",{class:lIe.base,key:t??"footer-actions",slot:"footer"},e.filter(Yr).map(({disabled:i,onClick:r,label:s,...c},f)=>ee("calcite-button",{disabled:i??!1,key:`action-${f}`,onclick:()=>{i||r()},slot:"footer-actions",width:"full",...c},s)))}const uIe={notice:"esri-editor__notice"},aee=()=>Fs({notice:()=>te(()=>import("./calcite-notice-le1pOBrg.js"),__vite__mapDeps([237,183,181,180,189,185,186,187,190,194,179]))});function cIe({workflow:e,messages:t}){return ee($9,null,e!=null&&e.reliesOnOwnerAdminPrivileges?ee(Sk,{message:t.ownerAdminNotice}):void 0,e!=null&&e.hasInvalidFormTemplate?ee(Sk,{icon:pO,message:t.formFieldUpdateError}):void 0)}function Sk({message:e,...t}){return ee("calcite-notice",{class:uIe.notice,open:!0,scale:"s",...t},ee("div",{slot:"message"},e))}const hIe={absolute:"absolute-direction",relative:"relative-direction"},lee=()=>Promise.all([Fs({icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),label:()=>te(()=>import("./calcite-label-D93hjYEn.js"),__vite__mapDeps([231,206,180,194])),switch:()=>te(()=>import("./calcite-switch-Qj7GNGrH.js"),__vite__mapDeps([240,241,180,205,184,186,206,194,189])),tooltip:()=>te(()=>import("./calcite-tooltip-CK5PUfe2.js"),__vite__mapDeps([366,180,191,192,190,200]))})]),f5="esri-labeled-switch",y5={label:`${f5}__label`,labelContent:`${f5}__label-content`,icon:`${f5}__icon`,tooltip:`${f5}__tooltip`};function Pb({checked:e,disabled:t,hint:i,key:r,label:s,onChange:c}){return ee("calcite-label",{class:y5.label,disabled:t,key:r,layout:"inline-space-between",scale:"s"},ee("div",{class:y5.labelContent,key:"label-content"},i?ee($9,null,ee("div",null,s),ee("calcite-icon",{class:y5.icon,icon:"information",id:r,scale:"s"}),ee("calcite-tooltip",{class:y5.tooltip,referenceElement:r},i)):s),ee("calcite-switch",{checked:e,disabled:t,scale:"s",onCalciteSwitchChange:f=>c(f.target.checked)}))}let Of=class extends ht{constructor(t){super(t),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};g([S({type:Boolean,nonNullable:!0})],Of.prototype,"directionModePicker",void 0),g([S({type:Boolean,nonNullable:!0})],Of.prototype,"header",void 0),g([S({type:Boolean,nonNullable:!0})],Of.prototype,"labelsToggle",void 0),g([S({type:Boolean,nonNullable:!0})],Of.prototype,"tooltipsToggle",void 0),Of=g([Q("esri.widgets.support.SketchTooltipControls.VisibleElements")],Of);const uee=Of,Xg="esri-sketch-tooltip-controls",m5={base:Xg,block:`${Xg}__block`,blockContent:`${Xg}__block-content`,hintIcon:`${Xg}__hint-icon`,radioButtonLabelWrapper:`${Xg}__radio-button-label-wrapper`};let yd=class extends rh{constructor(t,i){super(t,i),this.viewModel=null,this.visibleElements=new uee,this.sketchOptions=new bp,this.viewType=void 0,this._onTooltipsEnabledChange=r=>{this.sketchOptions.tooltips.enabled=r},this._onLabelsEnabledChange=r=>{this.sketchOptions.labels.enabled=r},this._onDirectionModeChange=r=>{this.sketchOptions.values.directionMode=r.target.selectedItem.value}}loadDependencies(){return Promise.all([Fs({block:()=>te(()=>import("./calcite-block-DxySUjck.js"),__vite__mapDeps([182,183,181,180,184,185,186,187,188,189,190,191,192,193,194,179,195,196,197,198,199,200,201,202])),label:()=>te(()=>import("./calcite-label-D93hjYEn.js"),__vite__mapDeps([231,206,180,194])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),"radio-button":()=>te(()=>import("./calcite-radio-button-r-YlYtsD.js"),__vite__mapDeps([238,197,180,205,184,206,194,189])),"radio-button-group":()=>te(()=>import("./calcite-radio-button-group-DXqMDzWN.js"),__vite__mapDeps([239,181,180,189,211,179,215]))}),lee()])}render(){const{label:t,visibleElements:i}=this,r=this._renderContent();return ee("div",{"aria-label":t,class:this.classes(m5.base,Ht.widget)},r?ee("calcite-block",{class:m5.block,heading:i.header?this.label:"",key:"content-block",open:!0},ee("div",{class:m5.blockContent,key:"content"},r)):void 0)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}_renderContent(){const{visibleElements:t,viewType:i}=this,r=[t.tooltipsToggle?this._renderTooltipsToggle():null,t.labelsToggle&&i!=="2d"?this._renderLabelsToggle():null,t.directionModePicker?this._renderDirectionModePicker():null].filter(Yr);return r.length===0?null:r}_renderTooltipsToggle(){const{messages:t,sketchOptions:i}=this;return ee(Pb,{checked:i.tooltips.effectiveEnabled,hint:t.tooltipsToggleHint,key:`${this.id}__tooltips`,label:t.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:t,sketchOptions:i}=this;return ee(Pb,{checked:i.labels.enabled,hint:t.labelsToggleHint,key:`${this.id}__labels`,label:t.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:t,sketchOptions:i}=this,{directionMode:r}=i.values;return ee("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},t.directionModePicker,ee("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:r,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",r,t.directionModeRelative),this._renderDirectionModeOption("absolute",r,t.directionModeAbsolute)))}_renderDirectionModeOption(t,i,r){return ee("calcite-label",{key:t,layout:"inline",scale:"s"},ee("calcite-radio-button",{checked:t===i,scale:"s",value:t}),ee("div",{class:m5.radioButtonLabelWrapper,key:"label-wrapper"},ee("calcite-icon",{icon:hIe[t],scale:"s"}),r))}};g([S()],yd.prototype,"label",null),g([S({type:uee,nonNullable:!0})],yd.prototype,"visibleElements",void 0),g([S(),ao("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],yd.prototype,"messages",void 0),g([S({nonNullable:!0,type:bp})],yd.prototype,"sketchOptions",void 0),g([S({type:String})],yd.prototype,"viewType",void 0),yd=g([Q("esri.widgets.support.SketchTooltipControls")],yd);const dIe=yd,cee={hide:"hide",hideChildren:"hide-children"},xVe="root",EVe=10,TVe=2;function IVe({exclusive:e,visible:t,visibilityAppearance:i}){const r=i==="checkbox";return t?e?"circle-f":r?"check-square-f":"view-visible":e?"circle":r?"square":"view-hide"}function MVe({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function pIe(e){return!!e&&e.listMode===cee.hideChildren}function lS(e){if(e)return e.listMode!=null?e.listMode:void 0}function fIe(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function yIe(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function mIe(e){if(!e)return"inherited";const t=wIe(vO(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function mO(e){if(!(!e||"type"in e&&e.type==="wmts"||pIe(e)))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function kVe(e){const t=(e!=null&&e.layer&&vO(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&(_Ie(t)??!0)}function gO(e){return lS(e)!==cee.hide}function gIe(e,t){if(!e||t==null||isNaN(t))return!1;const i=fIe(e),r=yIe(e),s=i!=null&&!isNaN(i)&&i>0&&t>i,c=r!=null&&!isNaN(r)&&r>0&&t<r;return s||c}function vIe(e,t){e==null||e.sort((i,r)=>{const s="uid"in i?t.indexOf(i.uid):-1,c="uid"in r?t.indexOf(r.uid):-1;return s>c?-1:s<c?1:0})}function CVe(e,t){const i=e==null?void 0:e.layer;if(!i)return;const r=mO(i);if(!r)return;let s;r==="layers"&&"layers"in i?s=i.layers:r==="sublayers"&&"sublayers"in i&&(s=i.sublayers),vIe(s,t)}function rz(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function bIe(e){const t=vO(e)?e:null,i=e==null?void 0:e.parent,r=i!=null&&"type"in i&&i.type==="map-image"?t==null?void 0:t.source:null,s="";return r&&i?{layer:i,title:s,sublayerIds:[r.mapLayerId]}:{layer:e,title:s}}function vO(e){return e!=null&&"layer"in e&&e.layer!=null}function wIe(e){const t=hee(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function _Ie(e){const t=hee(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function hee(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function AVe(e){return e==null?void 0:e["data-item"]}function OVe(e){return e==null?void 0:e.getAttribute("data-layer-type")}function LVe({children:e,error:t,incompatible:i}){return!!(e!=null&&e.filter(r=>!r.hidden).length)&&!t&&!i}var $k;let md=$k=class extends T2{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new $k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};g([S()],md.prototype,"displayValueEnabled",void 0),g([S()],md.prototype,"max",void 0),g([S()],md.prototype,"min",void 0),g([S()],md.prototype,"step",void 0),g([S()],md.prototype,"value",void 0),md=$k=g([Q("esri.support.Action.ActionSlider")],md);const SIe=md;function nz(e){return e&&typeof e.render=="function"}function PVe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const $Ie="legends";let Ao=class extends dp(rh){constructor(t,i){super(t,i),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles(Ze(()=>this.content,t=>this._createLegend(t),Ri))}destroy(){this._legend=tr(this._legend)}get className(){const{image:t}=this,i=this._getFirstWidget();return this._get("className")||(!t&&i?i.iconClass??"":"")}set className(t){this._override("className",t)}get disabled(){var s;const{listItem:t,_legend:i,content:r}=this;return!t||!(Array.isArray(r)&&r.length>1)&&!!i&&(!((s=i.activeLayerInfos)!=null&&s.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return ee("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:i,disabled:r}=this;return!t||r?null:t==="legend"&&i?ee("div",{key:"legend-widget"},i.render()):typeof t=="string"?ee("div",{innerHTML:t,key:t}):nz(t)?ee("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?ee("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null}_renderContents(){const{content:t}=this;return Array.isArray(t)?t.map(i=>this._renderContent(i)):this._renderContent(t)}_getLegendOptions(){const{listItem:t}=this;if(!t)return{};const{layer:i,view:r}=t;return i&&r&&i.type!=="subtype-sublayer"?{view:r,layerInfos:[bIe(i)]}:{}}async _createLegend(t){if(!this._hasLegend(t)||this._legend)return;const{default:i}=await te(()=>import("./Legend-CYIu8arl.js"),__vite__mapDeps([367,368,369,370,371,372,130,356,373,1,374,375])),{listItem:r}=this,s=new i(this._getLegendOptions());this._legend=s,this.notifyChange("className"),this.notifyChange("title");const c=Ze(()=>{var f,m;return[r==null?void 0:r.view,r==null?void 0:r.layer,(f=r==null?void 0:r.layer)==null?void 0:f.source,(m=r==null?void 0:r.layer)==null?void 0:m.parent]},()=>this._updateLegend(s),Ri);this.addHandles(c,$Ie),this.scheduleRender()}_hasLegend(t){const i="legend";return t===i||t!=null&&!!Array.isArray(t)&&t.includes(i)}_attachToNode(t){t.appendChild(this)}_updateLegend(t){t.set(this._getLegendOptions()),this.scheduleRender()}_getWidget(t){return t==="legend"?this._legend:nz(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(t)}};g([S()],Ao.prototype,"_legend",void 0),g([S()],Ao.prototype,"className",null),g([S()],Ao.prototype,"content",void 0),g([S()],Ao.prototype,"disabled",null),g([S()],Ao.prototype,"flowEnabled",void 0),g([S()],Ao.prototype,"image",void 0),g([S()],Ao.prototype,"listItem",void 0),g([S()],Ao.prototype,"open",void 0),g([S()],Ao.prototype,"title",null),g([S()],Ao.prototype,"visible",void 0),Ao=g([Q("esri.widgets.LayerList.ListItemPanel")],Ao);const dee=Ao;var Qv;const xIe=it.ofType({key:"type",defaultKeyValue:"button",base:T2,typeMap:{button:ZB,toggle:KB,slider:SIe}}),pee=it.ofType(xIe),sE="layer",oE="child-list-mode",EIe="hide",TIe="esri.widgets.LayerList.ListItem";let Vi=Qv=class extends dp(ht){constructor(e){super(e),this.actionsSections=new pee,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(it.ofType(Qv)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.layerView=null,this.listItemCreatedFunction=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null}initialize(){if(this.addHandles([Ze(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode]},()=>this._watchLayerProperties(this.layer),Ri),Ze(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Ri),Ze(()=>this.view,e=>this._updateChildrenView(e),Ri),Ze(()=>this.panel,e=>this._setListItemOnPanel(e),Ri),Ze(()=>[this.layer,this.view],()=>this._getLayerView(),Ri)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new dee(e):null}get title(){const e=ma(this,"layer.layer");return(!e||e&&ma(this,"layer.layer.loaded"))&&ma(this,"layer.title")||ma(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var i;const{layer:e,checkPublishStatusEnabled:t}=this;return t&&e&&"publishingInfo"in e&&((i=e.publishingInfo)==null?void 0:i.status)==="publishing"}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:r}=this;return!r&&!t&&(e?e.updating:(i==null?void 0:i.loadStatus)==="loading"||!1)}get visible(){var e;return(e=this.layer)==null?void 0:e.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e;return!gIe(this.layer,(e=this.view)==null?void 0:e.scale)}get visibilityMode(){return mIe(this.layer)}clone(){return new Qv({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){const t=this.children;t&&t.forEach(i=>i.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(i=>i.view=e)}_addChildren(e){if(this.removeHandles(oE),this.children.removeAll(),!e)return;e.forEach(i=>{this.addHandles(Ze(()=>i.listMode,()=>this._addChildren(e)),oE)});const t=e.filter(i=>lS(i)!==EIe);this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>{this._addChildren(e)}),sE)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map(t=>gO(t)?new Qv({layer:t,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,parent:this,view:this.view}):null).filter(Yr).reverse()}_watchLayerProperties(e){if(this.removeHandles(sE),this.removeHandles(oE),!e)return;if(lS(e)==="hide-children")return void this.children.removeAll();const t=mO(e);t&&this.addHandles(Ze(()=>e[t],i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)},Ri),sE)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=e.type==="subtype-sublayer"?e.parent:e,r=i&&await t.whenLayerView(i);if((r==null?void 0:r.layer)!==i)return;this._set("layerView",r)}catch{}}};g([S({type:pee})],Vi.prototype,"actionsSections",void 0),g([S()],Vi.prototype,"actionsOpen",void 0),g([S()],Vi.prototype,"checkPublishStatusEnabled",void 0),g([S({type:it})],Vi.prototype,"children",void 0),g([S()],Vi.prototype,"childrenSortable",void 0),g([S({readOnly:!0})],Vi.prototype,"connectionStatus",null),g([S({readOnly:!0})],Vi.prototype,"error",null),g([S()],Vi.prototype,"hidden",void 0),g([S({readOnly:!0})],Vi.prototype,"incompatible",null),g([S()],Vi.prototype,"layer",void 0),g([S({readOnly:!0})],Vi.prototype,"layerView",void 0),g([S()],Vi.prototype,"listItemCreatedFunction",void 0),g([S()],Vi.prototype,"open",void 0),g([S({type:dee})],Vi.prototype,"panel",void 0),g([bi("panel")],Vi.prototype,"castPanel",null),g([S()],Vi.prototype,"parent",void 0),g([S()],Vi.prototype,"sortable",void 0),g([S()],Vi.prototype,"title",null),g([S({readOnly:!0})],Vi.prototype,"publishing",null),g([S({readOnly:!0})],Vi.prototype,"updating",null),g([S()],Vi.prototype,"view",void 0),g([S()],Vi.prototype,"visible",null),g([S({readOnly:!0})],Vi.prototype,"visibleAtCurrentScale",null),g([S({readOnly:!0})],Vi.prototype,"visibilityMode",null),Vi=Qv=g([Q(TIe)],Vi);const bO=Vi,za={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},IIe="hide",fee=it.ofType(bO);let xc=class extends Ps.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.operationalItems=new fee,this.view=null}initialize(){this.addHandles([Ze(()=>{var t;return((t=this.view)==null?void 0:t.ready)===!0},()=>this._viewHandles(),Ri),Ze(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled],()=>this._recompileList())],za.view)}destroy(){this.view=null,this.operationalItems.removeAll()}get state(){const{view:t}=this;return t!=null&&t.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,i){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:i})}moveListItem(t,i,r,s){var N,D;const c=t==null?void 0:t.layer;if(!c||c.type==="subtype-sublayer")return;const f=(D=(N=this.view)==null?void 0:N.map)==null?void 0:D.layers,m=i?rz(i):f,b=r?rz(r):f;if(!m||!b)return;const{operationalItems:x}=this,T=(i==null?void 0:i.children)||x,C=(r==null?void 0:r.children)||x,L=b.length-s;t.parent=r||null,T.remove(t),m.remove(c),C.includes(t)||C.add(t,L),b.includes(c)||b.add(c,L),this._compileList()}_createLayerViewHandles(t){this.removeHandles(za.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),za.layerViews)}_createMapLayerHandles(t){this.removeHandles(za.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),za.mapLayers)}_createListItem(t){const{view:i,listItemCreatedFunction:r,checkPublishStatusEnabled:s}=this;return new bO({checkPublishStatusEnabled:s,layer:t,listItemCreatedFunction:r,view:i})}_removeAllItems(){this.operationalItems.removeAll()}_getViewableLayers(t){if(t)return t.filter(i=>lS(i)!==IIe)}_watchLayersListMode(t){this.removeHandles(za.layerListMode),t&&t.forEach(i=>{"listMode"in i&&this.addHandles(Ze(()=>i.listMode,()=>this._compileList()),za.layerListMode)})}_compileList(){var r,s;const t=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.layers;this._watchLayersListMode(t);const i=this._getViewableLayers(t);i!=null&&i.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createNewItems(t){const{operationalItems:i}=this;t.forEach(r=>{i.some(s=>s.layer===r)||i.add(this._createListItem(r))})}_removeItems(t){const{operationalItems:i}=this,r=[];i.forEach(s=>{s&&t&&t.includes(s.layer)||r.push(s)}),i.removeMany(r)}_sortItems(t){const{operationalItems:i}=this;i.sort((r,s)=>{const c=t.indexOf(r.layer),f=t.indexOf(s.layer);return c>f?-1:c<f?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([za.mapLayers,za.layerViews,za.viewLayers]),t!=null&&t.ready?this.addHandles([Ze(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.allLayers},i=>this._createMapLayerHandles(i),Ri),Ze(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},i=>this._createLayerViewHandles(i),Ri)],za.viewLayers):this._removeAllItems()}};g([S()],xc.prototype,"checkPublishStatusEnabled",void 0),g([S()],xc.prototype,"listItemCreatedFunction",void 0),g([S({type:fee})],xc.prototype,"operationalItems",void 0),g([S({readOnly:!0})],xc.prototype,"state",null),g([S()],xc.prototype,"totalItems",null),g([S()],xc.prototype,"view",void 0),xc=g([Q("esri.widgets.LayerList.LayerListViewModel")],xc);const MIe=xc,wO=e=>kIe(e)||CIe(e),kIe=e=>{if(!("type"in e))return!1;switch(e.type){case"feature":case"geojson":case"csv":case"graphics":case"wfs":case"map-notes":case"oriented-imagery":case"scene":case"building-scene":case"subtype-sublayer":return!0;default:return!1}},CIe=e=>{const t=mO(e);if(t!=null&&e.hasOwnProperty(t)&&e[t]!=null){for(const i of e[t])if(wO(i))return!0}return!1};var xk;let al=xk=class extends bO{constructor(e){super(e),this.children=new it,this.parent=null}get allChildrenEnabled(){return this.children.every(e=>e.enabled)??!1}get childLayerIds(){return this.children.map(e=>e.layer.id).toArray()}get enabled(){return this.featureSource!=null&&this.featureSource.enabled}get featureSource(){const{layer:e,getFeatureSnappingSources:t}=this;return t().find(i=>i.layer===e)}get hasChildrenEnabled(){return this.children.some(e=>e.enabled)}_initializeChildLayers(e){if(!e)return;const t=e.filter(wO);super._initializeChildLayers(t)}_makeChildren(e){return e.map(t=>gO(t)?new xk({layer:t,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null).filter(Yr).reverse()}};g([S()],al.prototype,"allChildrenEnabled",null),g([S()],al.prototype,"children",void 0),g([S()],al.prototype,"childLayerIds",null),g([S()],al.prototype,"enabled",null),g([S()],al.prototype,"featureSource",null),g([S({constructOnly:!0})],al.prototype,"getFeatureSnappingSources",void 0),g([S()],al.prototype,"hasChildrenEnabled",null),g([S()],al.prototype,"parent",void 0),al=xk=g([Q("esri.widgets.support.SnappingControls.SnappingListItem")],al);let Lf=class extends MIe{constructor(){super(...arguments),this.featureSnappingSources=new it}get operationalItemsFlat(){return this.operationalItems.flatten(t=>t.children)}get selectableItems(){return this.operationalItemsFlat.filter(t=>{var i;return!((i=t.children)!=null&&i.length)})}_compileList(){var s,c;const t=(c=(s=this.view)==null?void 0:s.map)==null?void 0:c.layers;if(!t)return;const i=t.filter(wO);this._watchLayersListMode(i);const r=this._getViewableLayers(i);r!=null&&r.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(t){return new al({layer:t,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};g([S()],Lf.prototype,"featureSnappingSources",void 0),g([S()],Lf.prototype,"operationalItems",void 0),g([S()],Lf.prototype,"operationalItemsFlat",null),g([S()],Lf.prototype,"selectableItems",null),Lf=g([Q("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],Lf);const AIe="esri.widgets.support.SnappingControls.SnappingControlsViewModel";let nu=class extends ht{constructor(t){super(t),this.layerListViewModel=new Lf,this.snappingOptions=new j0,this.view=null}initialize(){this.addHandles([Ze(()=>({viewModel:this.layerListViewModel,view:this.view}),({viewModel:t,view:i})=>{t.view=i},Ri),Ze(()=>{var t;return{viewModel:this.layerListViewModel,sources:(t=this.snappingOptions)==null?void 0:t.featureSources}},({viewModel:t,sources:i})=>{t.featureSnappingSources=i},Ri)])}get allLayersEnabled(){var t;return(((t=this.layerListViewModel)==null?void 0:t.selectableItems)??[]).every(i=>i.enabled)}get allLayersDisabled(){var t;return(((t=this.layerListViewModel)==null?void 0:t.selectableItems)??[]).every(i=>!i.enabled)}get layersEnabledCount(){var t,i;return((i=(t=this.layerListViewModel)==null?void 0:t.selectableItems)==null?void 0:i.filter(r=>r.enabled).length)??0}get state(){return this.snappingOptions?"ready":"disabled"}toggleSnappingForLayers(t,i){t==null||t.forEach(r=>i?this.enableSnappingForLayer(r):this.disableSnappingForLayer(r))}toggleSnappingForAllLayers(t){this.layerListViewModel.selectableItems.forEach(({layer:{id:i}})=>{t?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i)})}enableSnappingForLayer(t){(this._findSnappingSourceForLayer(t)??this._makeSnappingSourceForLayer(t)).enabled=!0}disableSnappingForLayer(t){const i=this._findSnappingSourceForLayer(t);i&&(i.enabled=!1)}updateEnabledFeatureSources(t){for(const i of this.snappingOptions.featureSources)gO(i.layer)&&(i.enabled=t.includes(i.layer.id))}_findSnappingSourceForLayer(t){return this.snappingOptions.featureSources.find(i=>i.layer.id===t)}_makeSnappingSourceForLayer(t){var s;const i=(s=this.layerListViewModel.operationalItemsFlat.find(c=>c.layer.id===t))==null?void 0:s.layer;if(!i)throw new me("snapping-controls:layer-not-found",`cannot enable snapping for layer with id ${t} because no such layer was found in the view`);const r=new j9({layer:i});return this.snappingOptions.featureSources.add(r),r}};g([S()],nu.prototype,"allLayersEnabled",null),g([S()],nu.prototype,"allLayersDisabled",null),g([S({constructOnly:!0})],nu.prototype,"layerListViewModel",void 0),g([S()],nu.prototype,"layersEnabledCount",null),g([S({type:j0,nonNullable:!0})],nu.prototype,"snappingOptions",void 0),g([S()],nu.prototype,"state",null),g([S()],nu.prototype,"view",void 0),nu=g([Q(AIe)],nu);const OIe=nu,Ua="esri-snapping-controls",ta={base:Ua,widgetIcon:Td.vertexGps,container:`${Ua}__container`,item:`${Ua}__item`,toggleBlock:`${Ua}__toggle-block`,layerListBlock:`${Ua}__layer-list-block`,layerList:`${Ua}__layer-list`,layerListFilter:`${Ua}__layer-list__filter`,layerListButton:`${Ua}__layer-list__button`,layerListItem:`${Ua}__layer-list__item`,layerListGroup:`${Ua}__layer-list__group`,nestedContainer:`${Ua}__nested-container`},ev={checked:"check-square-f",unchecked:"square",indeterminate:"minus-square"};let ns=class extends rh{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this.iconClass=ta.widgetIcon,this.icon=null,this.layerListOpen=!0,this.messages=null,this.visibleElements=new K2,this._enableSnappingSwitchChange=c=>{this.snappingOptions.enabled=c},this._featureEnabledSwitchChange=c=>{this.snappingOptions.featureEnabled=c},this._selfEnabledSwitchChange=c=>{this.snappingOptions.selfEnabled=c},this._onToggleLayersButtonClick=c=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),requestAnimationFrame(()=>c.target.setFocus())};const{snappingOptions:i,view:r,viewModel:s}=e;this.viewModel=s??(this._defaultViewModel=new OIe({snappingOptions:i,view:r}))}normalizeCtorArgs(e){const{snappingOptions:t,view:i,viewModel:r,...s}=e;return s}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=tr(this._defaultViewModel))}loadDependencies(){return Promise.all([Fs({accordion:()=>te(()=>import("./calcite-accordion-DB_OD1X3.js"),__vite__mapDeps([376,181])),"accordion-item":()=>te(()=>import("./calcite-accordion-item-DZwXu520.js"),__vite__mapDeps([377,183,181,180,194,189,179])),action:()=>te(()=>import("./calcite-action-CIAswhu7.js"),__vite__mapDeps([378,193,180,184,189,185,186,181,194,187,179,195])),block:()=>te(()=>import("./calcite-block-DxySUjck.js"),__vite__mapDeps([182,183,181,180,184,185,186,187,188,189,190,191,192,193,194,179,195,196,197,198,199,200,201,202])),button:()=>te(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([203,204,205,180,184,206,194,189,185,186,181,187,179,195])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),input:()=>te(()=>import("./calcite-input-DnrPXp_3.js"),__vite__mapDeps([219,220,180,205,184,186,206,194,189,185,181,187,211,221,179,215,222])),list:()=>te(()=>import("./calcite-list-D463cNQk.js"),__vite__mapDeps([232,180,184,181,233,234,189,187,185,186,210,192,179,220,205,206,194,211,221,215,222,195,202])),"list-item":()=>te(()=>import("./calcite-list-item-48qnNiBd.js"),__vite__mapDeps([235,180,184,185,186,181,187,189,234,233,193,194,179,195,201]))}),lee()])}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get("viewModel")&&(this._defaultViewModel!=null&&this._defaultViewModel===e||(this._defaultViewModel=tr(this._defaultViewModel)),this._set("viewModel",e))}render(){const{label:e}=this;return ee("div",{"aria-label":e,class:this.classes(ta.base,Ht.widget)},ee("div",{class:ta.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList()]}_renderToggles(){const{visibleElements:e}=this,t=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null].filter(Yr),i=[e.enabledToggle?this._renderEnabledToggle():null,t.length>0?ee("div",{class:ta.nestedContainer},t):null].filter(Yr);return i.length===0?null:ee("calcite-block",{class:ta.toggleBlock,heading:e.header?this.label:"",key:"toggle-block",open:!0},i)}_renderEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:i}=t;return ee(Pb,{checked:i.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:e.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:i}=t,r=i.enabled&&i.selfEnabled;return ee(Pb,{checked:r,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:e.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:i}=t,r=i.enabled&&i.featureEnabled;return ee(Pb,{checked:r,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:e.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,i=({target:{value:f}})=>{this._layerListFilter=f===""?null:new RegExp(f,"i")},r=t.layerListViewModel.operationalItems.length>9?ee("calcite-input",{class:ta.layerListFilter,clearable:!0,placeholder:e==null?void 0:e.searchLayers,onCalciteInputInput:i}):null,s=this._secondaryElementsDisabled,c=this.layerListOpen&&!s;return ee("calcite-block",{class:ta.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,heading:e.snappingLayers,key:"list-block",open:c,onCalciteBlockToggle:f=>this.layerListOpen=f.target.open},r,this._renderToggleLayersButton(),ee("calcite-list",{class:ta.layerList},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems,this._layerListFilter)))}_renderLayerListItemCollection(e,t){return e.map(i=>{if(!t||this._itemTitleMatchesFilter(i,t))return i.children.length>0?this._renderLayerListItemGroup(i):this._renderLayerListItem(i);const r=i.children.filter(s=>this._itemTitleMatchesFilter(s,t));return r.length>0?this._renderLayerListItemGroup(i,r):null}).toArray().filter(Yr)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,i=e?t.disableAllLayers:t.enableAllLayers;return ee("calcite-button",{appearance:"transparent",class:ta.layerListButton,label:i,name:"layer-toggle",onclick:this._onToggleLayersButtonClick,scale:"m"},i)}_renderLayerListItem(e){const{messages:{untitledLayer:t}}=this,i=e.title||t,r=e.enabled,s=()=>{this._handleLayerListItemChange({checked:!r,value:e.layer.id})};return ee("calcite-list-item",{class:ta.layerListItem,key:`${this.id}-list-item-${e.uid}`,label:i,onCalciteListItemSelect:s},ee("calcite-icon",{icon:r?ev.checked:ev.unchecked,scale:"s",slot:"content-start"}))}_renderLayerListItemGroup(e,t){const{allChildrenEnabled:i,children:r,hasChildrenEnabled:s,title:c}=e,f=this.messages,m=c||f.untitledLayer,b=c&&c!==""?c:Cy(),x=!!t,T=t??r,C=i?ev.checked:s?ev.indeterminate:ev.unchecked,L=i?f.disableAllLayers:f.enableAllLayers,N=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,!i)};return ee("calcite-list-item",{class:ta.layerListItem,key:b},ee("calcite-accordion",{appearance:"transparent",class:ta.layerListGroup},ee("calcite-accordion-item",{expanded:x,heading:m,key:e.uid},ee("calcite-action",{onclick:N,scale:"m",slot:"actions-start",text:L,textEnabled:!1},ee("calcite-icon",{icon:C,scale:"s"})),ee("calcite-list",null,this._renderLayerListItemCollection(T)))))}_itemTitleMatchesFilter(e,t){return t!=null&&t.test(e.title)}async _handleLayerListItemChange(e){e.checked?this.viewModel.enableSnappingForLayer(e.value):this.viewModel.disableSnappingForLayer(e.value)}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};g([S()],ns.prototype,"_defaultViewModel",void 0),g([S()],ns.prototype,"_layerListFilter",void 0),g([S()],ns.prototype,"iconClass",void 0),g([S()],ns.prototype,"icon",void 0),g([S()],ns.prototype,"label",null),g([S({type:Boolean,nonNullable:!0})],ns.prototype,"layerListOpen",void 0),g([S(),ao("esri/widgets/support/SnappingControls/t9n/SnappingControls")],ns.prototype,"messages",void 0),g([S()],ns.prototype,"snappingOptions",null),g([S()],ns.prototype,"view",null),g([S()],ns.prototype,"viewModel",null),g([S({type:K2,nonNullable:!0})],ns.prototype,"visibleElements",void 0),g([S()],ns.prototype,"_enabledToggleDisabled",null),g([S()],ns.prototype,"_secondaryElementsDisabled",null),ns=g([Q("esri.widgets.support.SnappingControls")],ns);const LIe=ns,PIe={settingsContainer:"esri-editor__settings"},FIe=()=>Fs({accordion:()=>te(()=>import("./calcite-accordion-DB_OD1X3.js"),__vite__mapDeps([376,181])),"accordion-item":()=>te(()=>import("./calcite-accordion-item-DZwXu520.js"),__vite__mapDeps([377,183,181,180,194,189,179]))});function RIe({editorViewModel:e,messagesCommon:t,visibleElements:i}){const{snappingOptions:r,sketchOptions:s,view:c}=e,f=[],m={directionModePicker:i.directionModePicker,labelsToggle:i.labelsToggle,tooltipsToggle:i.tooltipsToggle};return T5e(m)&&f.push(ee(dIe,{sketchOptions:s,viewType:c==null?void 0:c.type,visibleElements:m})),i.snappingControls&&f.push(ee(LIe,{afterCreate:b=>b.layerListOpen=!1,snappingOptions:r,view:c,visibleElements:i.snappingControlsElements??new K2})),f.length===0?null:ee("calcite-accordion",{appearance:"transparent",class:PIe.settingsContainer,key:"settings"},ee("calcite-accordion-item",{"data-testid":"settings",heading:t.settings,iconStart:"gear"},f))}const NIe={base:"esri-editor__panel-toolbar"},jIe=()=>Promise.all([Fs({button:()=>te(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([203,204,205,180,184,206,194,189,185,186,181,187,179,195]))}),FIe()]);function DIe({editorViewModel:e,messagesCommon:t,visibleElements:i}){const{sketchViewModel:r}=e;return ee("div",{class:NIe.base,key:"panel-toolbar"},ee(RIe,{editorViewModel:e,messagesCommon:t,visibleElements:i}),i.undoRedoButtons?[ee("calcite-button",{alignment:"center",appearance:"transparent",disabled:!(r!=null&&r.canUndo()),iconStart:"undo",key:"undo-button",kind:"neutral",label:t.undo,onclick:()=>r==null?void 0:r.undo(),scale:"l"},t.undo),ee("calcite-button",{alignment:"center",appearance:"transparent",disabled:!(r!=null&&r.canRedo()),iconStart:"redo",key:"redo-button",kind:"neutral",label:t.redo,onclick:()=>r==null?void 0:r.redo(),scale:"l"},t.redo)]:null)}const $1="esri-editor__prompt",x1={base:$1,header:`${$1}__header`,heading:`${$1}__header__heading`,message:`${$1}__message`,divider:`${$1}__divider`,actions:`${$1}__actions`},VIe=()=>Fs({button:()=>te(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([203,204,205,180,184,206,194,189,185,186,181,187,179,195])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),scrim:()=>te(()=>import("./calcite-scrim-BAUb--gN.js"),__vite__mapDeps([365,202,185,180,186,181,187,195]))});function zIe({actions:e,context:t,headingLevel:i,message:r,title:s}){const c=e.secondary;let f;switch(t){case"danger":f="danger";break;case"info":f="brand";break;default:f="neutral"}const m=ee("calcite-button",{afterCreate:UIe,appearance:"solid","data-testid":"primary-prompt-button",key:"prompt-primary-button",kind:f,onclick:e.primary.action,scale:"m",width:c?"half":"full"},e.primary.label),b=c&&ee("calcite-button",{appearance:"outline","data-testid":"secondary-prompt-button",key:"prompt-secondary-button",kind:f,onclick:c.action,scale:"m",width:"half"},c.label);return ee("calcite-scrim",{"data-testid":"prompt",key:"prompt"},ee("div",{class:`${x1.base}--${t}`},ee("div",{class:x1.header},ee("calcite-icon",{icon:pO}),ee(mm,{class:x1.heading,level:i},s)),ee("div",{class:x1.message},r),ee("div",{class:x1.divider}),ee("div",{class:x1.actions},b,m)))}function UIe(e){requestAnimationFrame(()=>e.setFocus())}const GIe=()=>Promise.all([yO(),aee(),Y2()]);function sz({editorViewModel:e,headingLevel:t,messages:i,messagesCommon:r,onDelete:s,onSave:c,renderAttachments:f,renderFeatureForm:m}){const{activeWorkflow:b,featureFormViewModel:x,syncing:T}=e;if(!b||!x)return null;const C=b.type,L="activeWorkflow"in b?b.activeWorkflow:void 0,N=L==null?void 0:L.type,D=L&&!L.hasPendingEdits||C==="update"&&!b.hasPendingEdits||T||x.updating,G=C==="update"&&N!=="create-features"?r.update:r.create,q=C==="create-features"&&b.createFeatureState==="create-new",J=C==="create-features"?b.numPendingFeatures:0,ne=J>1?jc(i.createFeaturesTemplate,{numFeatures:J}):G,ue=b.shouldShowAttachments&&!x.activeRelationshipInput,ae=x.inputs.every(pe=>!pe.visible)&&!ue?ee(fO,{key:"panel-content-message"},jc(i.clickToFinishTemplate,{button:G})):ee(By,{key:"panel-content-section"},ee(cIe,{messages:i,workflow:b}),ee(iIe,null,m(),ue?ee("div",{key:"attachments"},ee(mm,{level:Mb(t)},i.attachments),f()):null));return ee($9,null,ee(zd,{key:"attribute-panel-content",showScrimOverlay:q},ae),ee(aS,{buttons:[{onClick:c,disabled:D,label:ne},e.shouldShowDeleteButton?{appearance:"outline",onClick:s,disabled:T,kind:"danger",label:r.delete}:void 0]}))}const nh="upload-assets",wp=()=>new Error;let DVe=class extends me{constructor(){super(`${nh}:unsupported`,"Layer does not support asset uploads.",wp())}},zVe=class extends me{constructor(){super(`${nh}:no-glb-support`,"Layer does not support glb.",wp())}},GVe=class extends me{constructor(){super(`${nh}:no-supported-source`,"No supported external source found",wp())}},qVe=class extends me{constructor(){super(`${nh}:not-base-64`,"Expected gltf data in base64 format after conversion.",wp())}},HVe=class extends me{constructor(){super(`${nh}:unable-to-prepare-options`,"Unable to prepare uploadAsset request options.",wp())}};class ZVe extends me{constructor(t,i){super(`${nh}:bad-response`,`Bad response. Uploaded ${t} items and received ${i} results.`,wp())}}let KVe=class extends me{constructor(t,i){super(`${nh}-layer:upload-failed`,`Failed to upload mesh file ${t}. Error code: ${(i==null?void 0:i.code)??"-1"}. Error message: ${(i==null?void 0:i.messages)??"unknown"}`,wp())}};class QVe extends me{constructor(t){super(`${nh}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${t}, but it does not list it in its supported formats.`,wp())}}let WIe=class extends me{constructor(){super(`${nh}:convert3D-failed`,"convert3D failed.")}};class qIe extends me{constructor(){super("invalid-input:no-model","No supported model found")}}let BIe=class extends me{constructor(){super("invalid-input:multiple-models","Multiple supported models found")}};const qs="esri-editor__upload-details",ya={base:qs,status:`${qs}__status`,titleWrapper:`${qs}__title-wrapper`,title:`${qs}__title`,description:`${qs}__description`,loader:`${qs}__loader`,iconSuccess:`${qs}__icon ${qs}__icon--success`,iconError:`${qs}__icon ${qs}__icon--error`,fileList:`${qs}__file-list`,file:`${qs}__file`,fileIcon:`${qs}__file-icon`,fileName:`${qs}__file-name`},HIe=()=>Promise.all([Fs({icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),loader:()=>te(()=>import("./calcite-loader-Dt8Lxnnv.js"),__vite__mapDeps([236,195,180,185,186,181]))}),yO(),Y2()]);function JIe(e){const{messages:t,key:i,upload:r}=e;return ee($9,null,ee(zd,{key:i??"upload-details"},ee(By,null,ZIe(e))),r.state==="error"?ee(aS,{buttons:[{onClick:()=>r.retry(),label:t.modelUploads.error.uploadNew,iconStart:"upload-to"}],key:"upload-details-footer-actions"}):null)}function ZIe(e){const t=KIe(e);return t?ee("div",{class:ya.base,"data-testid":"upload-details",key:"upload-details-content"},ee("div",{class:ya.status,key:"status"},t.iconContent,ee("div",{class:ya.titleWrapper,key:"text"},ee("div",{class:ya.title,key:"title"},t.title),ee("div",{class:ya.description,key:"description"},t.description))),QIe(e.upload)):null}function KIe({helpMessage:e,messages:t,upload:i}){switch(i.state){case"pending":{const{title:r,description:s}=t.modelUploads.pending;return{title:r,description:s,iconContent:ee("calcite-loader",{"aria-hidden":"true",class:ya.loader,label:"",scale:"s",type:"determinate",value:Math.min(Math.round(100*i.progress),i.progress===1?100:99)})}}case"success":{const{title:r}=t.modelUploads.success;return{title:r,description:e||t.helpMessages3d.mesh,iconContent:ee("calcite-icon",{class:x0(ya.iconSuccess),icon:"check",scale:"l"})}}case"error":{const{title:r}=t.modelUploads.error;return{title:r,description:YIe(i.error,t),iconContent:ee("calcite-icon",{class:x0(ya.iconError),icon:"exclamation-mark-circle",scale:"l"})}}default:return null}}function YIe(e,t){if(!e)return null;const i=t.modelUploads.error.messages;switch(e.constructor){case qIe:return i.noModel;case BIe:return i.multipleModels;case WIe:return i.conversionFailed;default:return i.default}}function QIe(e){return ee("div",{class:ya.fileList,key:"file-list"},e.files.map(t=>ee("div",{class:ya.file,key:`file-${t.name}`},ee("calcite-icon",{class:ya.fileIcon,icon:e7e(t),scale:"s"}),ee("span",{class:ya.fileName},XIe(t.name)))))}function XIe(e){var t;return((t=e.split("/").pop())==null?void 0:t.split("\\").pop())??""}function e7e(e){var i;const t=(i=e.name.split(".").pop())==null?void 0:i.toLowerCase();return(t?i7e[t]:null)??t7e}const t7e="file",oz="file-shape",g5="file-image",i7e={glb:oz,gltf:oz,jpeg:g5,jpg:g5,png:g5,svg:g5,zip:"file-zip"};let Mi=class extends rh{constructor(e,t){super(e,t),this._featureForm=new aQ,this._attachments=new BY({visibleElements:{addSubmitButton:!1,cancelAddButton:!1,cancelUpdateButton:!1,deleteButton:!1,errorMessage:!1,progressBar:!1,updateButton:!1}}),this._featureTemplates=new DQ({enableListScroll:!1,renderItemContentEnd:i=>i.supportsUpload?ee("calcite-icon",{class:zp.templateItemContentEnd,icon:"upload-to",key:"upload-icon"}):null,renderItemLabel:i=>i.label,renderCustomGroupContent:i=>this._renderCustomTemplateGroupContent(i)}),this._filterText="",this._prompt=null,this._spinner=new I$e,this.headingLevel=4,this.iconClass=zp.widgetIcon,this.messages=null,this.messagesCommon=null,this.messagesTemplates=null,this.supportingWidgetDefaults=null,this.viewModel=new tIe,this.visibleElements=new oee,this._renderSelectIcon=()=>ee("calcite-icon",{icon:"cursor",slot:"content-start"}),this.EditorPanel=({heading:i,key:r},...s)=>{var c;return ee("calcite-flow-item",{closable:!1,heading:i,headingLevel:this.headingLevel,key:r,loading:this._loading,onCalciteFlowItemBack:this._onBack,onCalciteFlowItemScroll:(c=this._featureForm)==null?void 0:c.onScroll},ee(DIe,{editorViewModel:this.viewModel,messagesCommon:this.messagesCommon,visibleElements:this.visibleElements}),...s)},this._showDiscardEditsPrompt=()=>{var s;const{messages:i,activeWorkflow:r}=this;return(r==null?void 0:r.type)==="create-features"&&Lb(r.data.creationInfo)?this._showPrompt(((s=r.data.upload)==null?void 0:s.state)==="success"?i.modelUploads.cancelPlacementPrompt:i.modelUploads.cancelUploadPrompt):this._showPrompt({title:i.cancelEditTitle,message:i.cancelEditWarningMessage,yesLabel:i.discardEdits,noLabel:i.continueEditing})},this._showGenericCancelPrompt=()=>{const{messages:i,messagesCommon:r}=this;return this._showPrompt({title:i.cancelRequestTitle,message:i.cancelRequestWarningMessage,yesLabel:r.form.yes,noLabel:r.form.no})},this._onSave=()=>{this.viewModel.saveWorkflow()},this._onDelete=()=>{const{messages:i,messagesCommon:r}=this;this._prompt={title:i.deleteWarningTitle,message:i.deleteWarningMessage,context:"danger",actions:{primary:{label:r.delete,action:()=>{this.deleteFeatureFromWorkflow(),this._clearPrompt()}},secondary:{label:i.keepFeature,action:this._clearPrompt}}}},this._onToggleUpdateWorkflow=()=>this.viewModel.toggleUpdateWorkflow(),this._onBack=i=>(i==null||i.stopPropagation(),this.viewModel.back()),this._onAttachmentAdd=()=>{var r;const{activeWorkflow:i}=this.viewModel;i&&(i.type==="create-features"||i.type==="update"&&((r=i.activeWorkflow)==null?void 0:r.type)==="create-features"?(this._attachments.addFile(),i.back()):this._attachments.addAttachment().then(()=>i.back()))},this._onAttachmentUpdate=()=>{const{activeWorkflow:i}=this.viewModel;i&&(i.type==="create-features"?(this._attachments.updateFile(),i.back()):this._attachments.updateAttachment().then(()=>i.back()))},this._onAttachmentDelete=()=>{const{messages:i,messagesCommon:r}=this;this._prompt={title:i.deleteAttachmentWarningTitle,message:i.deleteAttachmentWarningMessage,context:"danger",actions:{primary:{label:r.delete,action:this._onAttachmentDeleteConfirm},secondary:{label:i.keepAttachment,action:this._clearPrompt}}}},this._onAttachmentDeleteConfirm=async()=>{const i=this._attachments,{activeWorkflow:r}=this.viewModel;r&&(r.type==="create-features"?i.deleteFile():(await i.deleteAttachment(i.viewModel.activeAttachmentInfo),this._clearPrompt()),await r.back(),this._clearPrompt())},this._onAttachmentsError=i=>{this._prompt={title:this.messages.errorWarningTitle,message:i.message,context:"warning",actions:{primary:{label:this.messagesCommon.form.ok,action:this._clearPrompt}}}},this._clearPrompt=()=>{this._prompt=null}}initialize(){this.addHandles([Ze(()=>Mb(this.headingLevel),e=>{this._featureForm.headingLevel=e,this._featureTemplates.headingLevel=e},Ri),Zr(()=>this.viewModel.activeWorkflow,"cancel-request",({controller:e})=>{(this.viewModel.hasPendingEdits?this._showDiscardEditsPrompt():this._showGenericCancelPrompt()).then(t=>t?e.allow():e.deny())}),_l(()=>this.viewModel.featureFormViewModel,e=>{this._featureForm.viewModel=e},Ri),Ze(()=>this.viewModel,e=>{this._attachments.viewModel=(e==null?void 0:e.attachmentsViewModel)??null,this._featureTemplates.viewModel=(e==null?void 0:e.featureTemplatesViewModel)??null,this._spinner.viewModel=(e==null?void 0:e.spinnerViewModel)??null,e.showDiscardEditsPrompt=this._showDiscardEditsPrompt},Ri),Ze(()=>this.view,(e,t)=>{const i=`editor-${this.id}-spinner`;t==null||t.ui.remove(this._spinner,i),e==null||e.ui.add(this._spinner,{key:i,position:"manual"})},Ri),Ze(()=>[this.supportingWidgetDefaults,this.viewModel.sketchViewModel],([e])=>{var t;e&&(this._featureForm.set(e.featureForm),this._attachments.set(e.attachments),this._featureTemplates.set(e.featureTemplates),(t=this.viewModel.sketchViewModel)==null||t.set(e.sketch))},Ri),_l(()=>{var e;return(e=this._attachments)==null?void 0:e.error},e=>this._onAttachmentsError(e)),_l(()=>{var e;return(e=this.viewModel)==null?void 0:e.failures},e=>{const{messages:t}=this,[{error:i,retry:r,cancel:s}]=e;this._prompt={title:t.errorWarningTitle,message:jc(t.errorWarningMessageTemplate,{errorMessage:i.message}),context:"warning",actions:{primary:{label:t.retry,action:()=>{r(),this._clearPrompt()}},secondary:{label:t.ignore,action:()=>{s(),this._clearPrompt()}}}}}),Ze(()=>{var e;return(e=this.viewModel)==null?void 0:e.state},e=>{switch(e){case"awaiting-feature-to-update":case"ready":case"disabled":this._filterText="",this._featureTemplates.filterText=""}}),Ze(()=>this.viewModel.featureFormDisabled,e=>this._featureForm.disabled=e)])}destroy(){this._attachments.destroy(),this._featureForm.destroy(),this._featureTemplates.destroy()}loadDependencies(){return Promise.all([Fs({"flow-item":()=>te(()=>import("./calcite-flow-item-Cc_bU4ZN.js"),__vite__mapDeps([379,180,184,189,185,186,181,187,380,196,197,193,194,179,195,198,191,192,199,190,188,200,202])),flow:()=>te(()=>import("./calcite-flow-B0deF7E1.js"),__vite__mapDeps([381,181,189])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),list:()=>te(()=>import("./calcite-list-D463cNQk.js"),__vite__mapDeps([232,180,184,181,233,234,189,187,185,186,210,192,179,220,205,206,194,211,221,215,222,195,202]))}),rIe(),sIe(),yO(),aee(),Y2(),jIe(),VIe(),GIe(),HIe()])}get _deleteButtonCommonInfo(){return{appearance:"outline",kind:"danger"}}get _loading(){const{viewModel:e}=this;return e.syncing||e.updating||this._attachments.submitting}get activeWorkflow(){return this.viewModel.activeWorkflow}get allowedWorkflows(){return this.viewModel.allowedWorkflows}set allowedWorkflows(e){Su(ke.getLogger(this),"allowedWorkflows",{replacement:"visibleElements",version:"4.29",warnOnce:!0}),this.viewModel.allowedWorkflows=e}get hideTemplatesForInactiveLayers(){return this.viewModel.hideTemplatesForInactiveLayers}set hideTemplatesForInactiveLayers(e){this.viewModel.hideTemplatesForInactiveLayers=e}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(e){this.viewModel.valueOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}startCreateFeaturesWorkflowAtFeatureTypeSelection(){return this.viewModel.startCreateFeaturesWorkflowAtFeatureTypeSelection()}startCreateFeaturesWorkflowAtFeatureCreation(e){return this.viewModel.startCreateFeaturesWorkflowAtFeatureCreation(e)}startCreateFeaturesWorkflowAtFeatureEdit(e){return this.viewModel.startCreateFeaturesWorkflowAtFeatureEdit(e)}startUpdateWorkflowAtFeatureSelection(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()}startUpdateWorkflowAtMultipleFeatureSelection(e){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(e)}startUpdateWorkflowAtFeatureEdit(e){return this.viewModel.startUpdateWorkflowAtFeatureEdit(e)}deleteFeatureFromWorkflow(){return this.viewModel.deleteFeatureFromWorkflow()}cancelWorkflow(e){return this.viewModel.cancelWorkflow(e)}render(){const{viewModel:e}=this,t=this.classes(zp.base,Ht.widget,Ht.panel);return e?ee("div",{class:t,key:"base"},ee("calcite-flow",{key:"flow"},e.pageStack.map(i=>this._renderPage(i))),this._prompt?ee(zIe,{...this._prompt,headingLevel:this.headingLevel}):void 0):ee("div",{class:t,key:"empty"})}_renderPage(e){switch(e){case"disabled":break;case"ready":return this._renderReady();case"awaiting-feature-creation-info":return this._renderAwaitingFeatureCreationInfo();case"creating-features-upload-details":return this._renderUploadDetails();case"creating-features":return this._renderCreatingFeatures();case"editing-existing-feature":case"editing-attributes":return this._renderUpdateFeature();case"awaiting-update-feature-candidate":return this._renderFeatureList();case"adding-attachment":return this._renderAttachmentAdding();case"editing-attachment":return this._renderAttachmentEditing()}return ee("div",{key:"empty-page"})}_renderAwaitingFeatureCreationInfo(){const{EditorPanel:e,messages:t}=this;return ee(e,{heading:t.selectTemplate,key:"templates-panel"},ee(zd,{key:"feature-templates"},ee(By,null,this._featureTemplates.render())))}_renderUploadDetails(){const{EditorPanel:e,activeWorkflow:t,messages:i}=this;if((t==null?void 0:t.type)!=="create-features")return null;const r=t.data.upload;return r?ee(e,{heading:i.createFeatures,key:"upload-details-panel"},ee(JIe,{helpMessage:this._helpMessage,messages:i,upload:r})):null}_renderCreatingFeatures(){var m,b;const{EditorPanel:e,activeWorkflow:t,messages:i,messagesCommon:r,headingLevel:s,viewModel:c}=this;if(!t)return null;const f=t.type==="create-features"&&t.numPendingFeatures>0||t.type==="update"&&((m=t==null?void 0:t.activeWorkflow)==null?void 0:m.type)==="create-features"&&((b=t.activeWorkflow)==null?void 0:b.numPendingFeatures)>0;return ee(e,{heading:i.createFeatures,key:"create-features-panel"},f?ee(sz,{editorViewModel:c,headingLevel:s,messages:i,messagesCommon:r,renderAttachments:()=>this._attachments.render(),renderFeatureForm:()=>this._featureForm.render(),onDelete:this._onDelete,onSave:this._onSave}):ee(nIe,{helpMessage:this._helpMessage}))}_renderUpdateFeature(){const{EditorPanel:e,messages:t,messagesCommon:i,headingLevel:r,viewModel:s}=this;return ee(e,{heading:t.editFeature,key:"update-feature-panel"},ee(sz,{editorViewModel:s,headingLevel:r,messages:t,messagesCommon:i,renderAttachments:()=>this._attachments.render(),renderFeatureForm:()=>this._featureForm.render(),onDelete:this._onDelete,onSave:this._onSave}))}_renderCustomTemplateGroupContent(e){const{messages:t,viewModel:i}=this,r=Gk(e.group.items,s=>i.itemHasInvalidFormTemplate(s)?t.formFieldCreateError:void 0);return r?ee(Sk,{icon:pO,message:r}):null}_renderAttachmentAdding(){const{EditorPanel:e,_attachments:t,messages:i,messagesCommon:r}=this;return ee(e,{heading:i.addAttachment,key:"attachment-adding-panel"},ee(zd,{key:"attachments"},t.render()),ee(aS,{buttons:[{label:t.submitting?r.cancel:r.add,disabled:t.submitting||!t.selectedFile,onClick:this._onAttachmentAdd}]}))}_renderAttachmentEditing(){const{EditorPanel:e,_attachments:t,activeWorkflow:i,messages:r,messagesCommon:s}=this;return i?ee(e,{heading:r.editAttachment,key:"attachment-editing-panel"},ee(zd,{key:"attachments"},t.render()),i.shouldAllowAttachmentEditing?ee(aS,{buttons:[{label:s.update,disabled:t.submitting||!t.selectedFile,onClick:this._onAttachmentUpdate},{...this._deleteButtonCommonInfo,onClick:this._onAttachmentDelete,disabled:t.submitting,label:s.delete}]}):void 0):null}_renderReady(){const{EditorPanel:e,messages:t,viewModel:i,visibleElements:r}=this,s=this._helpMessage;return ee(e,{heading:t.widgetLabel,key:"landing-panel"},ee(zd,{key:"landing-content"},i.editorItems.length?[r.editFeaturesSection?ee(By,{key:"edit-actions"},this._renderUpdateActions()):null,r.createFeaturesSection&&i.canCreateVisible?ee(By,{key:"create-actions"},this._renderCreateActions()):null]:ee(fO,{key:"no-content"},t.noEditableLayers)),s?ee("div",{class:zp.helpMessage,key:"footer-actions",slot:"footer"},s):void 0)}get _helpMessage(){var s;const{activeWorkflow:e,messages:t,view:i}=this,r=e==null?void 0:e.helpMessage;return r?(s=t[(i==null?void 0:i.type)==="3d"?"helpMessages3d":"helpMessages2d"])==null?void 0:s[r]:void 0}_renderUpdateActions(){var s;const{messages:e,messagesCommon:t,viewModel:i}=this,r={id:"select",label:t.select};return ee("div",{class:zp.updateActions,key:"update-actions"},ee(mm,{level:Mb(this.headingLevel)},e.editFeatures),ee("calcite-list",{class:zp.updateActionsList,selectionAppearance:"border",selectionMode:"single"},OA({disabled:!i.canUpdateVisible,grouped:!1,item:r,selectedItem:((s=i.activeWorkflow)==null?void 0:s.stepId)==="awaiting-feature-to-update"?r:void 0,renderIcon:this._renderSelectIcon,onItemSelect:this._onToggleUpdateWorkflow})))}_renderCreateActions(){return ee("div",{key:"create-actions"},ee(mm,{level:Mb(this.headingLevel)},this.messages.createFeatures),ee("div",{class:zp.featureTemplatesContainer,key:"templates"},this._featureTemplates.render()))}_renderFeatureList(){const{EditorPanel:e,viewModel:t}=this,{activeWorkflow:i}=t;if((i==null?void 0:i.type)!=="update")return null;const r=i.data.candidates,s=jc(this.messages.multipleFeaturesTemplate,{total:r.length});return ee(e,{heading:s,key:"feature-list"},ee(oIe,{editorItems:t.editorItems,filterText:this._filterText,id:this.id,messagesTemplates:this.messagesTemplates,workflow:i,onFilterTextChange:c=>this._filterText=c,onSelectFeature:(c,f)=>t.selectFeature(c,f)}))}_showPrompt({title:e,message:t,yesLabel:i,noLabel:r}){const s=Sa(),{view:c}=this,f=c==null?void 0:c.focused;return this._prompt={title:e,message:t,context:"danger",actions:{primary:{label:i,action:()=>s.resolve(!0)},secondary:{label:r,action:()=>s.resolve(!1)}}},s.promise.finally(()=>{this._clearPrompt(),f&&(c==null||c.focus())})}};g([S()],Mi.prototype,"_featureForm",void 0),g([S()],Mi.prototype,"_attachments",void 0),g([S()],Mi.prototype,"_featureTemplates",void 0),g([S()],Mi.prototype,"_filterText",void 0),g([S()],Mi.prototype,"_prompt",void 0),g([S()],Mi.prototype,"_spinner",void 0),g([S()],Mi.prototype,"_deleteButtonCommonInfo",null),g([S()],Mi.prototype,"_loading",null),g([S({readOnly:!0})],Mi.prototype,"activeWorkflow",null),g([S()],Mi.prototype,"allowedWorkflows",null),g([S()],Mi.prototype,"headingLevel",void 0),g([S()],Mi.prototype,"hideTemplatesForInactiveLayers",null),g([S()],Mi.prototype,"iconClass",void 0),g([S()],Mi.prototype,"label",null),g([S()],Mi.prototype,"labelOptions",null),g([S()],Mi.prototype,"layerInfos",null),g([S(),ao("esri/widgets/Editor/t9n/Editor")],Mi.prototype,"messages",void 0),g([S(),ao("esri/t9n/common")],Mi.prototype,"messagesCommon",void 0),g([S(),ao("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],Mi.prototype,"messagesTemplates",void 0),g([S()],Mi.prototype,"snappingOptions",null),g([S()],Mi.prototype,"tooltipOptions",null),g([S()],Mi.prototype,"supportingWidgetDefaults",void 0),g([S({type:v9,nonNullable:!0})],Mi.prototype,"valueOptions",null),g([S()],Mi.prototype,"view",null),g([S(),IA(["sketch-create","sketch-delete","sketch-update","workflow-cancel","workflow-commit"])],Mi.prototype,"viewModel",void 0),g([S({type:oee,nonNullable:!0})],Mi.prototype,"visibleElements",void 0),g([S()],Mi.prototype,"_helpMessage",null),Mi=g([Q("esri.widgets.Editor")],Mi);const yee=Mi,tze=Object.freeze(Object.defineProperty({__proto__:null,default:yee},Symbol.toStringTag,{value:"Module"}));async function r7e(e,t,i){var f;if(!(Et==null?void 0:Et.findCredential(e.restUrl)))return null;if(e.loadStatus==="loaded"&&t===""&&((f=e.user)!=null&&f.sourceJSON)&&i===!1)return e.user.sourceJSON;const s={responseType:"json",query:{f:"json"}};if(i&&(s.query.returnUserLicenseTypeExtensions=!0),t===""){const m=await Ut(e.restUrl+"/community/self",s);if(m.data){const b=m.data;if(b!=null&&b.username)return b}return null}const c=await Ut(e.restUrl+"/community/users/"+t,s);if(c.data){const m=c.data;return m.error?null:m}return null}async function n7e(e,t,i){var s;const r=await r7e(e,t,!0);return((s=r==null?void 0:r.userLicenseTypeExtensions)==null?void 0:s.includes(i))??!1}const aE={noDirtyAreasInExtent:-2147208940,noUtilityNetworkExtension:-2147208474,cannotAcquireVersionLock_v10:-2147217146,cannotAcquireVersionLock_v11:-2147220947};let Oo=class extends ht{constructor(e){super(e),this._activeOperationDidSucceed=!1,this._initialValidationsFinished=!1,this._dirtyAreasLayer=null,this._serverVersion=null,this._updatingHandles=new zc,this._validConstructProperties=!1,this.executionError="",this.extentToValidate="current",this.loadErrors=new it}initialize(){const e=async()=>{this.messages||(this.messages=await A8("esri/widgets/UtilityNetworkValidateTopology/t9n/UtilityNetworkValidateTopology"))};e().then(()=>{this.view||(this.view=null),this.utilityNetwork||(this.utilityNetwork=null),this.addHandles([Ze(()=>[this.view,this.utilityNetwork],async()=>{var s,c;const{loadErrors:t,messages:{info:{noUtilityNetwork:i,noView:r}}}=this;this._initialValidationsFinished=!1,t.removeAll(),this._validConstructProperties=!0,this._dirtyAreasLayer=null,this._serverVersion=null,((s=this.utilityNetwork)==null?void 0:s.type)!=="utility"&&(this.loadErrors.push(i),ke.getLogger(this).error(new me("utilityNetworkValidateTopology:missing-property",i)),this._validConstructProperties=!1),((c=this.view)==null?void 0:c.type)!=="2d"&&(this.loadErrors.push(r),ke.getLogger(this).error(new me("utilityNetworkValidateTopology:missing-property",r)),this._validConstructProperties=!1),this._validConstructProperties&&(this.utilityNetwork.loaded||await this.utilityNetwork.load().catch(f=>{ke.getLogger(this).error(f),this._validConstructProperties=!1}),await this._setDirtyAreasLayer()),this._validConstructProperties&&await this._validateNetworkExtension()},Ri),Zr(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.layers},"change",async()=>{const{loadErrors:t,messages:{info:{noUtilityNetwork:i}}}=this,r=t.find(s=>s===i);this._initialValidationsFinished=!1,r||(t.removeAll(),await this._validateNetworkExtension(),await this._setDirtyAreasLayer()),this._initialValidationsFinished=!0}),WG(e)])})}destroy(){this._updatingHandles.destroy()}get state(){return this.loadErrors.length||!this._validConstructProperties?"disabled":this.executionError?"failed":this._updatingHandles.updating?"executing":this._activeOperationDidSucceed?"success":this._initialValidationsFinished?"ready":"loading"}set utilityNetwork(e){this._get("utilityNetwork")!==e&&this._set("utilityNetwork",e)}set view(e){this._get("view")!==e&&this._set("view",e)}async validateTopology(){const{messages:{info:{cannotAcquireVersionLock:e,noDirtyAreasInExtent:t}},utilityNetwork:i,view:r}=this;this.loadErrors.length||(this._activeOperationDidSucceed=!1,this._set("executionError",""),this._updatingHandles.addPromise(i==null?void 0:i.validateTopology({validateArea:this.extentToValidate==="current"?r.extent.clone():i.fullExtent.clone()}).then(()=>{this._activeOperationDidSucceed=!0},s=>{var f;let c="Error: "+s;if(s instanceof me&&((f=s.details)!=null&&f.raw))switch(s.details.raw.extendedCode){case aE.noDirtyAreasInExtent:c=t;break;case aE.cannotAcquireVersionLock_v10:case aE.cannotAcquireVersionLock_v11:c=e;break;default:c=s.details.message}this._set("executionError",c)})))}async _setDirtyAreasLayer(){var i;const{messages:{info:{noDirtyAreasLayer:e}}}=this,t=(i=this.view)==null?void 0:i.map.allLayers.items.filter(r=>lb(r)).find(r=>{var s,c;return((s=r.parsedUrl)==null?void 0:s.path)===((c=this.utilityNetwork)==null?void 0:c.networkSystemLayers.dirtyAreasLayerUrl)});t?(this._dirtyAreasLayer=t,await this._dirtyAreasLayer.load(),this._serverVersion=this._dirtyAreasLayer.version??0,this._validConstructProperties=!0):(this.loadErrors.push(e),ke.getLogger(this).error(new me("utilityNetworkValidateTopology:missing-layer",e)),this._validConstructProperties=!1)}async _validateNetworkExtension(){var c;const{messages:{info:{noAdvancedEditingUserTypeExtension:e,noUtilityNetworkServiceUserTypeExtension:t}}}=this,i=await new Xr({url:new URL(this.utilityNetwork.layerUrl).origin+"/portal"}).load(),r=(c=i==null?void 0:i.user)==null?void 0:c.username;if(!r){const f="No portal user found.";return this.loadErrors.push(f),ke.getLogger(this).error(new me("utilityNetworkValidateTopology:no-user",f)),this._validConstructProperties=!1,void(this._initialValidationsFinished=!0)}const s=Number(this._serverVersion)<=11.1?"utilityNetwork":"advediting";n7e(i,r,s).then(f=>{if(!f){const m=Number(this._serverVersion)<=11.1?t:e;this.loadErrors.push(m),ke.getLogger(this).error(new me("utilityNetworkValidateTopology:no-user-type-extension",m)),this._validConstructProperties=!1}}).catch(f=>{this.loadErrors.push(Number(this._serverVersion)<=11.1?t:e),ke.getLogger(this).error(f),this._validConstructProperties=!1}).finally(()=>{this._initialValidationsFinished=!0})}};g([S()],Oo.prototype,"_initialValidationsFinished",void 0),g([S()],Oo.prototype,"_dirtyAreasLayer",void 0),g([S()],Oo.prototype,"_validConstructProperties",void 0),g([S({readOnly:!0})],Oo.prototype,"executionError",void 0),g([S()],Oo.prototype,"extentToValidate",void 0),g([S()],Oo.prototype,"loadErrors",void 0),g([S()],Oo.prototype,"messages",void 0),g([S({readOnly:!0})],Oo.prototype,"state",null),g([S()],Oo.prototype,"utilityNetwork",null),g([S()],Oo.prototype,"view",null),Oo=g([Q("esri.widgets.UtilityNetworkValidateTopology.UtilityNetworkValidateTopologyViewModel")],Oo);const mee=Oo,E1="esri-un-validate-topology",$o={container:`${E1}__container`,content:`${E1}__content`,controlsContainer:`${E1}__controls-container`,statusIconError:`${E1}__status-icon-error`,statusIconSuccess:`${E1}__status-icon-success`,statusIconContainer:`${E1}__status-icon-container`};let Ec=class extends rh{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new mee}loadDependencies(){return Fs({action:()=>te(()=>import("./calcite-action-CIAswhu7.js"),__vite__mapDeps([378,193,180,184,189,185,186,181,194,187,179,195])),block:()=>te(()=>import("./calcite-block-DxySUjck.js"),__vite__mapDeps([182,183,181,180,184,185,186,187,188,189,190,191,192,193,194,179,195,196,197,198,199,200,201,202])),icon:()=>te(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([178,179,180,181])),notice:()=>te(()=>import("./calcite-notice-le1pOBrg.js"),__vite__mapDeps([237,183,181,180,189,185,186,187,190,194,179])),option:()=>te(()=>import("./calcite-option-DRecTMIe.js"),__vite__mapDeps([382,181])),select:()=>te(()=>import("./calcite-select-DIYH3iOC.js"),__vite__mapDeps([383,180,205,184,206,194,189,181,211,179,215])),tooltip:()=>te(()=>import("./calcite-tooltip-CK5PUfe2.js"),__vite__mapDeps([366,180,191,192,190,200]))})}get extentToValidate(){return this.viewModel.extentToValidate}set extentToValidate(e){this.viewModel.extentToValidate=e}get label(){var e;return((e=this.messages)==null?void 0:e.label)??""}set label(e){this._overrideIfSome("label",e)}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(e){this.viewModel.utilityNetwork=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{viewModel:e}=this;return e.state==="disabled"?ee("div",{class:$o.container},ee("calcite-block",{class:$o.content,collapsible:!1,heading:this.label,open:!0},this._renderLoadErrorStatusIcon(),this._renderLoadErrorsNotices())):ee("div",{class:$o.container},ee("calcite-block",{class:$o.content,collapsible:!0,heading:this.label,open:!1},this._renderStatusIcon(),this._renderValidateTopologyAction(),this._renderControls()))}_extentOptionSelectChange(e){this.extentToValidate=e.target.value}_getLoadErrorMessagesAsNotices(e,t){return ee("calcite-notice",{closable:!1,key:"error-notice-"+t,kind:"warning",open:!0,scale:"s"},ee("div",{slot:"message"},e))}_handleValidateTopologyAction(){this.viewModel.validateTopology().catch(()=>{})}_renderControls(){const{viewModel:e}=this;return e.state==="failed"?ee("div",{class:$o.controlsContainer},this._renderExtentOptionSelect(),this._renderStatusNotice()):this._renderExtentOptionSelect()}_renderExtentOptionSelect(){const{messages:e,viewModel:t}=this;return ee("div",{key:"selectExtentDiv"},ee("calcite-select",{bind:this,disabled:t.state==="loading"||t.state==="executing",label:e.input.extentToValidate,onCalciteSelectChange:this._extentOptionSelectChange},ee("calcite-option",{value:"current"},e.input.currentExtent),ee("calcite-option",{value:"entire"},e.input.entireExtent)))}_renderLoadErrorsNotices(){const{viewModel:e}=this;return ee("div",{class:$o.controlsContainer,key:"loadErrorsDiv"},e.loadErrors.items.map(this._getLoadErrorMessagesAsNotices))}_renderLoadErrorStatusIcon(){return ee("div",{class:$o.statusIconContainer,key:"statusDiv",slot:"control"},ee("calcite-icon",{class:$o.statusIconError,icon:"exclamation-mark-triangle",scale:"s"}))}_renderStatusIcon(){const{messages:e,viewModel:t}=this,i=`${this.id}-validation-status-action`,r=`${this.id}-error-status-icon`,s=`${this.id}-success-status-icon`,c=f=>{setTimeout(()=>{f.innerHTML=""},3500)};return t.state==="executing"?ee("div",{key:"statusDivExecuting",slot:"control"},ee("calcite-action",{id:i,loading:!0,text:e.status.executing,textEnabled:!1}),ee("calcite-tooltip",{referenceElement:i},ee("span",null,e.status.executing))):t.state==="success"?ee("div",{afterCreate:c,class:$o.statusIconContainer,key:"statusDivSuccess",slot:"control"},ee("calcite-icon",{class:$o.statusIconSuccess,icon:"check-circle",id:s,scale:"s"}),ee("calcite-tooltip",{referenceElement:s},ee("span",null,e.status.success))):t.state==="failed"?ee("div",{class:$o.statusIconContainer,key:"statusDivFailed",slot:"control"},ee("calcite-icon",{class:$o.statusIconError,icon:"exclamation-mark-triangle",id:r,scale:"s"}),ee("calcite-tooltip",{referenceElement:r},ee("span",null,t.executionError))):ee("div",{class:$o.statusIconContainer,key:"statusDiv",slot:"control"})}_renderStatusNotice(){const{viewModel:e}=this;return ee("div",{key:"executionErrorDiv"},ee("calcite-notice",{closable:!0,kind:"warning",open:!0,scale:"s"},ee("div",{slot:"message"},e.executionError)))}_renderValidateTopologyAction(){const{messages:e,viewModel:t}=this,i=`${this.id}-validation-action`;return ee("div",{key:"actionDiv",slot:"control"},ee("calcite-action",{bind:this,disabled:t.state==="executing",icon:"play-f",id:i,loading:t.state==="loading",onclick:this._handleValidateTopologyAction,text:e.input.validateTopology,textEnabled:!1}),ee("calcite-tooltip",{referenceElement:i},ee("span",null,t.state==="loading"?e.status.loading:e.input.validateTopology)))}};g([S()],Ec.prototype,"extentToValidate",null),g([S()],Ec.prototype,"label",null),g([S(),ao("esri/widgets/UtilityNetworkValidateTopology/t9n/UtilityNetworkValidateTopology")],Ec.prototype,"messages",void 0),g([S()],Ec.prototype,"utilityNetwork",null),g([S()],Ec.prototype,"view",null),g([S({type:mee})],Ec.prototype,"viewModel",void 0),Ec=g([Q("esri.widgets.UtilityNetworkValidateTopology")],Ec);const gee=Ec,ize=Object.freeze(Object.defineProperty({__proto__:null,default:gee},Symbol.toStringTag,{value:"Module"}));class s7e{constructor(t){this.moments=[],this.forwardMoments=[],this.moments.push(t)}push(t){return this.forwardMoments.length,this.moments.push(t)}pop(){if(!(this.forwardMoments.length>0))return this.moments.pop()}undo(){if(!this.canUndo())return;const t=this.moments.pop();return this.forwardMoments.push(t),t}peek(){return this.moments.at(-1)}canUndo(){return this.moments.length>1}canRedo(){return this.hasForwardEdits()}redo(){if(!this.canRedo())return;const t=this.forwardMoments.pop();return this.moments.push(t),t}size(){return this.moments.length+this.forwardMoments.length}hasForwardEdits(){return this.forwardMoments.length>0}clearForwardEdits(){this.forwardMoments=[]}}let su=class extends ap(Ma){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.name=null,this.defaultVersionIdentifier=null,this.capabilities=null,this._applyEditsHandler=t=>{const{serviceUrl:i,gdbVersion:r,result:s}=t;i===this._featureServiceUrl&&s.then(c=>{const f=c.historicMoment;f&&this._addMomentToVersionItem(r,f)})}}initialize(){this.url=l8(this.url),this._featureServiceUrl=this.url.replace(/\/VersionManagementServer/i,"/FeatureServer"),Ar.has(this.url)||Ar.set(this.url,new Map);const e=(C3.get(this.url)??0)+1;C3.set(this.url,e),this.when().then(()=>this.addHandles(GC(this._applyEditsHandler)),()=>{})}destroy(){const e=(C3.get(this.url)??1)-1;C3.set(this.url,e),e===0&&Ar.delete(this.url),P4.delete(this._featureServiceUrl)}read(e,t){this.sourceJSON=e,super.read(e,t)}readDefaultVersionIdentifier(e,t){return{name:t.defaultVersionName,guid:t.defaultVersionGuid}}writeDefaultVersionIdentifier(e,t){t.defaultVersionName=e.name,t.defaultVersionGuid=e.guid}load(e){return this.addResolvingPromise(this._fetchService(this.url,e)),Promise.resolve(this)}async createVersion(e){const[{createVersion:t},{default:i}]=await Promise.all([te(()=>import("./createVersion-6jeTl-Ep.js"),[]),te(()=>import("./CreateVersionParameters-Bz3TKB1G.js"),[])]),r=i.from(e);return t(this.url,r)}async deleteVersion(e){var c;const[{deleteVersion:t},{default:i}]=await Promise.all([te(()=>import("./deleteVersion-By1qQuxw.js"),__vite__mapDeps([384,385])),te(()=>import("./DeleteVersionParameters-zh2z7Cq8.js"),[])]);let r;e.guid&&((c=Ar.get(this.url))!=null&&c.has(e.guid))&&(r=ul??void 0);const s=new i({versionName:e.name,sessionId:r});return t(this.url,s)}async getVersionInfoExtended(e){const{getVersion:t}=await te(()=>import("./getVersion-KSd5-INt.js"),[]);return t(this.url,e.guid)}async getVersionInfos(e={}){const[{getVersionInfos:t},{default:i}]=await Promise.all([te(()=>import("./getVersionInfos-B4Wkme4V.js"),[]),te(()=>import("./GetVersionInfosParameters-_zuTUiXk.js"),[])]),r=i.from(e);return t(this.url,r)}async reconcile(e,t={}){const[{reconcile:i},{default:r}]=await Promise.all([te(()=>import("./reconcile-CLAPwrei.js"),__vite__mapDeps([386,385])),te(()=>import("./ReconcileParameters-YGOAN-Le.js"),[])]),s=r.from(t);return s.sessionId=ul,i(this.url,e.guid,s)}async post(e){const[{post:t},{default:i}]=await Promise.all([te(()=>import("./post-BFQ8dIps.js"),__vite__mapDeps([387,385])),te(()=>import("./PostParameters-CngaoFws.js"),[])]),r=i.from({sessionId:ul});return t(this.url,e.guid,r)}async alterVersion(e,t){const[{alterVersion:i},{default:r}]=await Promise.all([te(()=>import("./alterVersion-CBj7I1NE.js"),__vite__mapDeps([388,385])),te(()=>import("./AlterVersionParameters-DLhFYC9c.js"),[])]),s=r.from(t);return i(this.url,e.guid,s)}async startReading(e){const{startReading:t}=await te(()=>import("./startReading-CCZlcUwy.js"),[]),i=await t(this.url,e.guid,ul);if(i){const r=await this.getVersionInfoExtended(e),s=new Date(r.modifiedDate),c={name:r.versionIdentifier.name,moment:s,lockType:"read"};this._addOrUpdateItem(e.guid,c),d1(this._featureServiceUrl,null,e.name,s)}return i}async stopReading(e){var r;const{stopReading:t}=await te(()=>import("./stopReading-71rgAAlp.js"),[]),i=await t(this.url,e.guid,ul);return i&&((r=Ar.get(this.url))==null||r.delete(e.guid),d1(this._featureServiceUrl,null,e.name,null)),i}async startEditing(e){const{startEditing:t}=await te(()=>import("./startEditing-DFNfYkjF.js"),[]),i=await t(this.url,e.guid,ul);if(i){const r=await this.getVersionInfoExtended(e),s=new Date(r.modifiedDate),c=new s7e(s),f={name:e.name,moment:s,lockType:"edit",stack:c};this._addOrUpdateItem(e.guid,f),d1(this._featureServiceUrl,null,e.name,s)}return i}async stopEditing(e,t){var s,c;if(t){const f=(s=Ar.get(this.url))==null?void 0:s.get(e.guid);if((c=f==null?void 0:f.stack)!=null&&c.canRedo()){const[{deleteForwardEdits:m},{default:b}]=await Promise.all([te(()=>import("./deleteForwardEdits-D3ptK-o6.js"),[]),te(()=>import("./DeleteForwardEditsParameters-Bh9SH8-o.js"),[])]);if(!await m(this.url,e.guid,new b({sessionId:ul,moment:f.moment})))return!1}}const{stopEditing:i}=await te(()=>import("./stopEditing-BzjH-zwR.js"),[]),r=await i(this.url,e.guid,ul,t);if(r){const f=await this.getVersionInfoExtended(e),m=new Date(f.modifiedDate);this._addOrUpdateItem(e.guid,{name:e.name,moment:m,lockType:"read",editMomentStack:void 0}),d1(this._featureServiceUrl,null,e.name,m)}return r}getLockType(e){var i,r;return((r=(i=Ar.get(this.url))==null?void 0:i.get(e.guid))==null?void 0:r.lockType)??"none"}changeVersionInternal(e,t,i){let r=null,s=null,c=null,f=null;const m=T=>!T||T===this.defaultVersionIdentifier.name,b=T=>{var L;const C=(L=Ar==null?void 0:Ar.get(this.url))==null?void 0:L.get(T.guid);c=T.name,f=(C==null?void 0:C.moment)??null},x=(T,C)=>!T&&!C||!(!T||!C)&&T.toISOString()===C.toISOString();if("name"in t){if(this.getLockType(t)!=="none")return!1;r=t.name,s=null,"name"in i?b(i):(c=this.defaultVersionIdentifier.name,f=i)}else r=this.defaultVersionIdentifier.name,s=t,"name"in i?b(i):(c=this.defaultVersionIdentifier.name,f=i);return(m(r)&&m(e.gdbVersion)&&x(e.historicMoment,s)||r===e.gdbVersion&&x(e.historicMoment,s))&&(e.gdbVersion=c,e.historicMoment=f),!0}async changeVersion(e,t,i){if("name"in i&&!await this.getVersionInfoExtended(i))throw new me("version-management-service:invalid-version","version does not exist");if("networkServiceUrl"in e){if(this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase())return this.changeVersionInternal(e,t,i)}else{let r;"layers"in e?(r=e.allTables.concat(e.allLayers),e.utilityNetworks&&e.utilityNetworks.forEach(s=>{this._featureServiceUrl.toLowerCase()===s.featureServiceUrl.toLowerCase()&&this.changeVersionInternal(s,t,i)})):r=e;for(const s of r)if(s.type==="feature"||s.type==="subtype-group"){const c=/^(.*\/FeatureServer)\/\d+$/,f=s.url.replace(c,"$1");if(this._featureServiceUrl.toLowerCase()===f.toLowerCase()&&!this.changeVersionInternal(s,t,i))return!1}else if(s.type==="group"){const c=s.allTables.concat(s.allLayers);for(const f of c)if(f.type==="feature"||f.type==="subtype-group"){const m=/^(.*\/FeatureServer)\/\d+$/,b=f.url.replace(m,"$1");if(this._featureServiceUrl.toLowerCase()===b.toLowerCase()&&!this.changeVersionInternal(f,t,i))return!1}}}return!0}async getVersionIdentifierFromName(e){var t;try{return((t=(await this.getVersionInfos({includeHidden:!0})).find(r=>r.versionIdentifier.name===e))==null?void 0:t.versionIdentifier)||null}catch{return null}}async getVersionIdentifierFromGuid(e){const{getVersion:t}=await te(()=>import("./getVersion-KSd5-INt.js"),[]);try{return(await t(this.url,e)).versionIdentifier}catch{return null}}canUndo(e){var i,r;const t=(i=Ar.get(this.url))==null?void 0:i.get(e.guid);return!!((r=t==null?void 0:t.stack)!=null&&r.canUndo())}canRedo(e){var i,r;const t=(i=Ar.get(this.url))==null?void 0:i.get(e.guid);return!!((r=t==null?void 0:t.stack)!=null&&r.canRedo())}undo(e){var r,s,c;const t=(r=Ar.get(this.url))==null?void 0:r.get(e.guid),i=((s=t==null?void 0:t.stack)==null?void 0:s.undo())||void 0;if(t&&i){const f=t.stack.peek();d1(this._featureServiceUrl,null,e.name,f),(c=Ar.get(this.url))==null||c.set(e.guid,{...t,moment:f})}}redo(e){var r,s,c;const t=(r=Ar.get(this.url))==null?void 0:r.get(e.guid),i=((s=t==null?void 0:t.stack)==null?void 0:s.redo())||void 0;t&&i&&(d1(this._featureServiceUrl,null,e.name,i),(c=Ar.get(this.url))==null||c.set(e.guid,{...t,moment:i}))}_addMomentToVersionItem(e,t){const i=Ar.get(this.url);if(i)for(const[r,s]of i)s.name===e&&this._addToStack(r,t)}_canAddToStack(e,t){return e?e.getTime()<t.getTime():!0}_addToStack(e,t){const i=Ar.get(this.url),r=i==null?void 0:i.get(e);return!!(r!=null&&r.stack)&&(this._canAddToStack(r.stack.peek(),t)&&r.stack.push(t),i.set(e,{...r,moment:t}),!0)}_addOrUpdateItem(e,t){const i=Ar.get(this.url),r=i==null?void 0:i.get(e);return r?(i.set(e,{...r,...t}),!0):!(!t.name||!t.lockType)&&(i==null||i.set(e,{...t,lockType:t.lockType}),!0)}async _fetchService(e,t){if(this.sourceJSON){this.read(this.sourceJSON,{origin:"service",url:yK(e)});const r=new Nc(this.url).host;return void P4.set(r,this.defaultVersionIdentifier.name)}const i=await Ut(e,{responseType:"json",query:{f:"json"},...t});this.read(i.data)}};g([S()],su.prototype,"url",void 0),g([S()],su.prototype,"sourceJSON",void 0),g([S({type:String,json:{write:!0}})],su.prototype,"name",void 0),g([S({json:{write:{target:{defaultVersionName:{type:String},defaultVersionGuid:{type:String}}},read:{source:["defaultVersionName","defaultVersionGuid"]}}})],su.prototype,"defaultVersionIdentifier",void 0),g([Pe("defaultVersionIdentifier",["defaultVersionName","defaultVersionGuid"])],su.prototype,"readDefaultVersionIdentifier",null),g([De("defaultVersionIdentifier",{defaultVersionName:{type:String},defaultVersionGuid:{type:String}})],su.prototype,"writeDefaultVersionIdentifier",null),g([S({json:{write:!0}})],su.prototype,"capabilities",void 0),su=g([Q("esri.versionManagement.VersionManagementService")],su);const o7e=su,a7e="calcite",_O={allRenderFn:!0,appendChildSlotFix:!1,asyncLoading:!0,asyncQueue:!1,attachStyles:!0,cloneNodeFix:!1,cmpDidLoad:!0,cmpDidRender:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpShouldUpdate:!0,cmpWillLoad:!0,cmpWillRender:!0,cmpWillUpdate:!1,connectedCallback:!0,constructableCSS:!0,cssAnnotations:!0,devTools:!1,disconnectedCallback:!0,element:!1,event:!0,experimentalScopedSlotChanges:!1,experimentalSlotFixes:!1,formAssociated:!1,hasRenderFn:!0,hostListener:!0,hostListenerTarget:!0,hostListenerTargetBody:!0,hostListenerTargetDocument:!0,hostListenerTargetParent:!1,hostListenerTargetWindow:!0,hotModuleReplacement:!1,hydrateClientSide:!0,hydrateServerSide:!1,hydratedAttribute:!0,hydratedClass:!1,hydratedSelectorName:"calcite-hydrated",initializeNextTick:!1,invisiblePrehydration:!0,isDebug:!1,isDev:!1,isTesting:!1,lazyLoad:!0,lifecycle:!0,lifecycleDOMEvents:!1,member:!0,method:!0,mode:!1,observeAttribute:!0,profile:!1,prop:!0,propBoolean:!0,propMutable:!0,propNumber:!0,propString:!0,reflect:!0,scoped:!1,scopedSlotTextContentFix:!1,scriptDataOpts:!0,shadowDelegatesFocus:!0,shadowDom:!0,slot:!0,slotChildNodesFix:!1,slotRelocation:!1,state:!0,style:!0,svg:!0,taskQueue:!0,transformTagName:!1,updatable:!0,vdomAttribute:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomPropOrAttr:!0,vdomRef:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,vdomXlink:!1,watchCallback:!0};var l7e=Object.defineProperty,u7e=(e,t)=>{for(var i in t)l7e(e,i,{get:t[i],enumerable:!0})},SO=new WeakMap,Fu=e=>SO.get(e),rze=(e,t)=>SO.set(t.$lazyInstance$=e,t),c7e=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return i.$onInstancePromise$=new Promise(r=>i.$onInstanceResolve$=r),i.$onReadyPromise$=new Promise(r=>i.$onReadyResolve$=r),e["s-p"]=[],e["s-rc"]=[],SO.set(e,i)},az=(e,t)=>t in e,Ke=(e,t)=>(0,console.error)(e,t),lE=new Map,h7e=(e,t,i)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$;if(!s)return;const c=lE.get(s);if(c)return c[r];{const f=m=>(lE.set(s,m),m[r]);switch(s){case"calcite-action":return te(()=>import("./calcite-action.entry-BV857Lt1.js"),__vite__mapDeps([389,390,391,392,393,394,395,396,397,398])).then(f,Ke);case"calcite-action-bar":return te(()=>import("./calcite-action-bar.entry-C6GFXrVE.js"),__vite__mapDeps([399,400,396,390,391,393,394,395,398,401,402,403,404])).then(f,Ke);case"calcite-action-menu":return te(()=>import("./calcite-action-menu.entry-C-IOTaCz.js"),__vite__mapDeps([405,406,390,391,395,393,403])).then(f,Ke);case"calcite-action-pad":return te(()=>import("./calcite-action-pad.entry-B7darS5l.js"),__vite__mapDeps([407,400,396,390,391,393,394,395,398,401,402,403])).then(f,Ke);case"calcite-alert":return te(()=>import("./calcite-alert.entry-ClGIR1FQ.js"),__vite__mapDeps([408,390,391,397,393,394,395,396,409,398,410])).then(f,Ke);case"calcite-avatar":return te(()=>import("./calcite-avatar.entry-w0fqsqi3.js"),__vite__mapDeps([411,390,391,412])).then(f,Ke);case"calcite-button":return te(()=>import("./calcite-button.entry-gwq3j40V.js"),__vite__mapDeps([413,414,390,391,392,415,397,393,394,395,396,398])).then(f,Ke);case"calcite-card":return te(()=>import("./calcite-card.entry-VSZ64P_-.js"),__vite__mapDeps([416,390,391,394,395,396,398,393,392])).then(f,Ke);case"calcite-card-group":return te(()=>import("./calcite-card-group.entry-Docu0DrF.js"),__vite__mapDeps([417,390,391,392,393])).then(f,Ke);case"calcite-checkbox":return te(()=>import("./calcite-checkbox.entry-CmkGCPuH.js"),__vite__mapDeps([418,390,391,414,392,395,415,397,393])).then(f,Ke);case"calcite-chip":return te(()=>import("./calcite-chip.entry-C3Ft36rV.js"),__vite__mapDeps([419,390,391,393,398,394,395,396,392,397])).then(f,Ke);case"calcite-chip-group":return te(()=>import("./calcite-chip-group.entry-BT6MzjEA.js"),__vite__mapDeps([420,390,391,392,393])).then(f,Ke);case"calcite-dialog":return te(()=>import("./calcite-dialog.entry-Da9TqHJU.js"),__vite__mapDeps([421,390,391,422,393,396,409,394,395,398,397,423])).then(f,Ke);case"calcite-fab":return te(()=>import("./calcite-fab.entry-CujYeB1s.js"),__vite__mapDeps([424,390,391,392,393])).then(f,Ke);case"calcite-flow":return te(()=>import("./calcite-flow.entry-DV_2tikO.js"),__vite__mapDeps([425,396,393])).then(f,Ke);case"calcite-icon":return te(()=>import("./calcite-icon.entry-ZanVB0ST.js"),__vite__mapDeps([426,390,391,396])).then(f,Ke);case"calcite-inline-editable":return te(()=>import("./calcite-inline-editable.entry-C8volqP9.js"),__vite__mapDeps([427,390,391,392,415,397,393,394,395,396,398])).then(f,Ke);case"calcite-input":return te(()=>import("./calcite-input.entry-DwvrMqlf.js"),__vite__mapDeps([428,390,391,414,392,395,415,397,393,394,396,398,429,430])).then(f,Ke);case"calcite-input-date-picker":return te(()=>import("./calcite-input-date-picker.entry-CNVmd7T2.js"),__vite__mapDeps([431,432,394,390,391,395,396,433,404,414,392,415,397,393,409,398,422,429,430])).then(f,Ke);case"calcite-input-message":return te(()=>import("./calcite-input-message.entry-BEk05Eh3.js"),__vite__mapDeps([434,390,391])).then(f,Ke);case"calcite-input-number":return te(()=>import("./calcite-input-number.entry-Cynpb2K1.js"),__vite__mapDeps([435,390,391,414,392,395,415,397,393,394,396,398,429,430])).then(f,Ke);case"calcite-input-time-zone":return te(()=>import("./calcite-input-time-zone.entry-RsLyiedH.js"),__vite__mapDeps([436,415,390,391,397,392,394,395,396,398,393,414])).then(f,Ke);case"calcite-label":return te(()=>import("./calcite-label.entry-NIQPv_QF.js"),__vite__mapDeps([437,415,390,391,397])).then(f,Ke);case"calcite-link":return te(()=>import("./calcite-link.entry-Ca-pTxJc.js"),__vite__mapDeps([438,390,391,392,393])).then(f,Ke);case"calcite-loader":return te(()=>import("./calcite-loader.entry-y3ItXPJK.js"),__vite__mapDeps([439,391,394,390,395,396])).then(f,Ke);case"calcite-meter":return te(()=>import("./calcite-meter.entry-CEFWvV3R.js"),__vite__mapDeps([440,393,414,390,391,394,395,396])).then(f,Ke);case"calcite-modal":return te(()=>import("./calcite-modal.entry-Dve96iar.js"),__vite__mapDeps([441,400,396,390,391,422,393,409,394,395,398,397,442])).then(f,Ke);case"calcite-notice":return te(()=>import("./calcite-notice.entry-DbHbihX4.js"),__vite__mapDeps([443,400,396,390,391,393,394,395,398,410,409,397])).then(f,Ke);case"calcite-pagination":return te(()=>import("./calcite-pagination.entry-HD2_tjfH.js"),__vite__mapDeps([444,393,394,390,391,395,396,398,445,397])).then(f,Ke);case"calcite-panel":return te(()=>import("./calcite-panel.entry-SVDXI18y.js"),__vite__mapDeps([446,390,391,392,393,396,403,447,394,395,398,433,404,423])).then(f,Ke);case"calcite-popover":return te(()=>import("./calcite-popover.entry-LLpVm1bB.js"),__vite__mapDeps([448,433,390,391,404,422,409,447,394,395,396,398,393,449,397])).then(f,Ke);case"calcite-progress":return te(()=>import("./calcite-progress.entry-dOamZjhn.js"),__vite__mapDeps([450,390,391])).then(f,Ke);case"calcite-radio-button":return te(()=>import("./calcite-radio-button.entry-DSpNdkxP.js"),__vite__mapDeps([451,406,390,391,414,392,415,397,393])).then(f,Ke);case"calcite-radio-button-group":return te(()=>import("./calcite-radio-button-group.entry-Dn2Jms_V.js"),__vite__mapDeps([452,396,390,391,393,429])).then(f,Ke);case"calcite-rating":return te(()=>import("./calcite-rating.entry-Fk8obyt9.js"),__vite__mapDeps([453,414,390,391,392,415,397,393,394,395,396,398])).then(f,Ke);case"calcite-scrim":return te(()=>import("./calcite-scrim.entry-yf4RPHF3.js"),__vite__mapDeps([454,394,390,391,395,396,398])).then(f,Ke);case"calcite-sheet":return te(()=>import("./calcite-sheet.entry-CSJbEjf4.js"),__vite__mapDeps([455,390,391,422,393,396,409])).then(f,Ke);case"calcite-sortable-list":return te(()=>import("./calcite-sortable-list.entry-09Hjz9VB.js"),__vite__mapDeps([456,392,396,457,390,391])).then(f,Ke);case"calcite-split-button":return te(()=>import("./calcite-split-button.entry-Uw49DerZ.js"),__vite__mapDeps([458,392,393])).then(f,Ke);case"calcite-stack":return te(()=>import("./calcite-stack.entry-x4aANbOY.js"),__vite__mapDeps([459,390,391,460])).then(f,Ke);case"calcite-switch":return te(()=>import("./calcite-switch.entry-D6i-q6I5.js"),__vite__mapDeps([461,390,391,414,392,395,415,397,393])).then(f,Ke);case"calcite-text-area":return te(()=>import("./calcite-text-area.entry-DuvkZ1vM.js"),__vite__mapDeps([462,414,390,391,415,397,394,395,396,393,398,392,429,430,463,404])).then(f,Ke);case"calcite-tile":return te(()=>import("./calcite-tile.entry-BJa3TnR5.js"),__vite__mapDeps([464,392,390,391,393])).then(f,Ke);case"calcite-tile-group":return te(()=>import("./calcite-tile-group.entry-BvQ_iNsj.js"),__vite__mapDeps([465,392,396,390,391])).then(f,Ke);case"calcite-tooltip":return te(()=>import("./calcite-tooltip.entry-DcMb-sEs.js"),__vite__mapDeps([466,390,391,433,404,409,449])).then(f,Ke);case"calcite-accordion_2":return te(()=>import("./calcite-accordion_2.entry-AeZawDYG.js"),__vite__mapDeps([467,396,400,390,391,397,393])).then(f,Ke);case"calcite-block_2":return te(()=>import("./calcite-block_2.entry-IjHLBn2m.js"),__vite__mapDeps([468,400,396,390,391,392,394,395,398,447,393,409,433,404])).then(f,Ke);case"calcite-carousel_2":return te(()=>import("./calcite-carousel_2.entry-B_RK-8R9.js"),__vite__mapDeps([469,390,391,394,395,396,392,393,398,445,406])).then(f,Ke);case"calcite-menu_2":return te(()=>import("./calcite-menu_2.entry-P6ym6v4e.js"),__vite__mapDeps([470,390,391,393,394,395,396,398])).then(f,Ke);case"calcite-segmented-control_2":return te(()=>import("./calcite-segmented-control_2.entry-Ctm8GFxw.js"),__vite__mapDeps([471,390,391,414,392,415,397,393,429])).then(f,Ke);case"calcite-graph_2":return te(()=>import("./calcite-graph_2.entry-C1kipy0x.js"),__vite__mapDeps([472,391,396,390,414,392,395,415,397,393,394,473])).then(f,Ke);case"calcite-stepper_2":return te(()=>import("./calcite-stepper_2.entry-CHUjbjUk.js"),__vite__mapDeps([474,390,391,396,394,395,398,392,393])).then(f,Ke);case"calcite-tile-select_2":return te(()=>import("./calcite-tile-select_2.entry-CGHGjgsD.js"),__vite__mapDeps([475,391,392,393,442])).then(f,Ke);case"calcite-tree_2":return te(()=>import("./calcite-tree_2.entry-Bd1UsU3L.js"),__vite__mapDeps([476,390,391,400,396,392,397])).then(f,Ke);case"calcite-value-list_2":return te(()=>import("./calcite-value-list_2.entry-Vhwa8SAt.js"),__vite__mapDeps([477,392,393,394,390,391,395,396,398,478,406,404,457,442,400])).then(f,Ke);case"calcite-color-picker_3":return te(()=>import("./calcite-color-picker_3.entry-B0uN1Vfp.js"),__vite__mapDeps([479,412,390,391,392,395,393,394,396,473,398,463,404])).then(f,Ke);case"calcite-combobox_3":return te(()=>import("./calcite-combobox_3.entry-D3EYdZV9.js"),__vite__mapDeps([480,481,482,404,390,391,433,414,392,415,397,393,394,395,396,409,398,429,400])).then(f,Ke);case"calcite-dropdown_3":return te(()=>import("./calcite-dropdown_3.entry-CVLWeaGJ.js"),__vite__mapDeps([483,390,391,433,404,392,395,393,396,409,397])).then(f,Ke);case"calcite-list_3":return te(()=>import("./calcite-list_3.entry-Cu9cUVGn.js"),__vite__mapDeps([484,390,391,392,396,457,460,393,398,394,395,404])).then(f,Ke);case"calcite-navigation_3":return te(()=>import("./calcite-navigation_3.entry-CtOlkCMT.js"),__vite__mapDeps([485,390,391,393,447])).then(f,Ke);case"calcite-pick-list_3":return te(()=>import("./calcite-pick-list_3.entry-b4W7UKY1.js"),__vite__mapDeps([486,392,393,396,442,390,391,478,406,404,400,447,394,395,398])).then(f,Ke);case"calcite-option_3":return te(()=>import("./calcite-option_3.entry-BCvX1IHi.js"),__vite__mapDeps([487,396,390,391,414,392,415,397,393,429])).then(f,Ke);case"calcite-shell_3":return te(()=>import("./calcite-shell_3.entry-Dc6_-JZN.js"),__vite__mapDeps([488,400,396,390,391,442,394,395,473,398])).then(f,Ke);case"calcite-tip_3":return te(()=>import("./calcite-tip_3.entry-CjAVZy9U.js"),__vite__mapDeps([489,400,396,390,391,394,395,398,447,442])).then(f,Ke);case"calcite-date-picker_4":return te(()=>import("./calcite-date-picker_4.entry-DfCxvrIw.js"),__vite__mapDeps([490,432,394,390,391,395,396,393,398,392,447,397])).then(f,Ke);case"calcite-tab_4":return te(()=>import("./calcite-tab_4.entry-DoHZy853.js"),__vite__mapDeps([491,390,391,481,396,394,395,398,392,397])).then(f,Ke);case"calcite-flow-item":return te(()=>import("./calcite-flow-item.entry-BYBienZW.js"),__vite__mapDeps([492,390,391,392,393,394,395,396,398,423])).then(f,Ke);case"calcite-table":return te(()=>import("./calcite-table.entry-BIAxsfF1.js"),__vite__mapDeps([493,393,398,394,390,391,395,396])).then(f,Ke);case"calcite-table-row":return te(()=>import("./calcite-table-row.entry-CTxdbCbA.js"),__vite__mapDeps([494,390,391,395,392,397])).then(f,Ke);case"calcite-table-cell_2":return te(()=>import("./calcite-table-cell_2.entry-d88ejBRR.js"),__vite__mapDeps([495,393,398,394,390,391,395,396,392,397])).then(f,Ke);case"calcite-action-group":return te(()=>import("./calcite-action-group.entry-nKN6-pgg.js"),__vite__mapDeps([496,400,396,393,394,390,391,395,398,403,402])).then(f,Ke);case"calcite-handle":return te(()=>import("./calcite-handle.entry-_yccJWVh.js"),__vite__mapDeps([497,390,391,393,394,395,396,398,392])).then(f,Ke);case"calcite-filter":return te(()=>import("./calcite-filter.entry-ZbYQAjuv.js"),__vite__mapDeps([498,482,404,392,393,394,390,391,395,396,398])).then(f,Ke);case"calcite-input-text":return te(()=>import("./calcite-input-text.entry-ENDPDGBH.js"),__vite__mapDeps([499,390,391,414,392,415,397,393,394,395,396,398,429,430])).then(f,Ke);case"calcite-input-time-picker_2":return te(()=>import("./calcite-input-time-picker_2.entry-DsTp0C7M.js").then(m=>m.c),__vite__mapDeps([500,414,390,391,392,395,415,397,393,394,396,422,473,398,429,430])).then(f,Ke)}}return te(()=>import(`./${s}.entry.js`),[]).then(f=>(lE.set(s,f),f[r]),Ke)},uS=new Map,d7e="r",p7e="o",f7e="s",y7e="t",Ek="s-id",m7e="sty-id",lz="c-id",g7e="{visibility:hidden}[calcite-hydrated]{visibility:inherit}",vee="slot-fb{display:contents}slot-fb[hidden]{display:none}",Zm=typeof window<"u"?window:{},Ms=Zm.document||{head:{}},hr={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},v7e=_O.shadowDom,b7e=(()=>{let e=!1;try{Ms.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),w7e=e=>Promise.resolve(e),_7e=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Tk=!1,Ik=[],bee=[],wee=(e,t)=>i=>{e.push(i),Tk||(Tk=!0,t&&hr.$flags$&4?$O(Mk):hr.raf(Mk))},uz=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){Ke(i)}e.length=0},Mk=()=>{uz(Ik),uz(bee),(Tk=Ik.length>0)&&hr.raf(Mk)},$O=e=>w7e().then(e),nze=wee(Ik,!1),S7e=wee(bee,!0),sze=e=>{const t=new URL(e,hr.$resourcesUrl$);return t.origin!==Zm.location.origin?t.href:t.pathname},cz={},$7e="http://www.w3.org/2000/svg",x7e="http://www.w3.org/1999/xhtml",xO=e=>(e=typeof e,e==="object"||e==="function");function _ee(e){var t,i,r;return(r=(i=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:i.getAttribute("content"))!=null?r:void 0}var E7e={};u7e(E7e,{err:()=>See,map:()=>T7e,ok:()=>kk,unwrap:()=>I7e,unwrapErr:()=>M7e});var kk=e=>({isOk:!0,isErr:!1,value:e}),See=e=>({isOk:!1,isErr:!0,value:e});function T7e(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then(r=>kk(r)):kk(i)}if(e.isErr){const i=e.value;return See(i)}throw"should never get here"}var I7e=e=>{if(e.isOk)return e.value;throw e.value},M7e=e=>{if(e.isErr)return e.value;throw e.value},Ru=(e,t="")=>()=>{},k7e=(e,t)=>()=>{},$ee=(e,t,...i)=>{let r=null,s=null,c=!1,f=!1;const m=[],b=T=>{for(let C=0;C<T.length;C++)r=T[C],Array.isArray(r)?b(r):r!=null&&typeof r!="boolean"&&((c=typeof e!="function"&&!xO(r))&&(r=String(r)),c&&f?m[m.length-1].$text$+=r:m.push(c?$m(null,r):r),f=c)};if(b(i),t){t.key&&(s=t.key);{const T=t.className||t.class;T&&(t.class=typeof T!="object"?T:Object.keys(T).filter(C=>T[C]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,m,O7e);const x=$m(e,null);return x.$attrs$=t,m.length>0&&(x.$children$=m),x.$key$=s,x},$m=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i},C7e={},A7e=e=>e&&e.$tag$===C7e,O7e={forEach:(e,t)=>e.map(hz).forEach(t),map:(e,t)=>e.map(hz).map(t).map(L7e)},hz=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),L7e=e=>{if(typeof e.vtag=="function"){const i={...e.vattrs};return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),$ee(e.vtag,i,...e.vchildren||[])}const t=$m(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},P7e=(e,t,i,r)=>{const s=Ru("hydrateClient",t),c=e.shadowRoot,f=[],m=[],b=c?[]:null,x=r.$vnode$=$m(t,null);hr.$orgLocNodes$||Ak(Ms.body,hr.$orgLocNodes$=new Map),e[Ek]=i,e.removeAttribute(Ek),Ck(x,f,m,b,e,e,i),f.map(T=>{const C=T.$hostId$+"."+T.$nodeId$,L=hr.$orgLocNodes$.get(C),N=T.$elm$;L&&v7e&&L["s-en"]===""&&L.parentNode.insertBefore(N,L.nextSibling),c||(N["s-hn"]=t,L&&(N["s-ol"]=L,N["s-ol"]["s-nr"]=N)),hr.$orgLocNodes$.delete(C)}),c&&b.map(T=>{T&&c.appendChild(T)}),s()},Ck=(e,t,i,r,s,c,f)=>{let m,b,x,T;if(c.nodeType===1){if(m=c.getAttribute(lz),m&&(b=m.split("."),(b[0]===f||b[0]==="0")&&(x={$flags$:0,$hostId$:b[0],$nodeId$:b[1],$depth$:b[2],$index$:b[3],$tag$:c.tagName.toLowerCase(),$elm$:c,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(x),c.removeAttribute(lz),e.$children$||(e.$children$=[]),e.$children$[x.$index$]=x,e=x,r&&x.$depth$==="0"&&(r[x.$index$]=x.$elm$))),c.shadowRoot)for(T=c.shadowRoot.childNodes.length-1;T>=0;T--)Ck(e,t,i,r,s,c.shadowRoot.childNodes[T],f);for(T=c.childNodes.length-1;T>=0;T--)Ck(e,t,i,r,s,c.childNodes[T],f)}else if(c.nodeType===8)b=c.nodeValue.split("."),(b[1]===f||b[1]==="0")&&(m=b[0],x={$flags$:0,$hostId$:b[1],$nodeId$:b[2],$depth$:b[3],$index$:b[4],$elm$:c,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},m===y7e?(x.$elm$=c.nextSibling,x.$elm$&&x.$elm$.nodeType===3&&(x.$text$=x.$elm$.textContent,t.push(x),c.remove(),e.$children$||(e.$children$=[]),e.$children$[x.$index$]=x,r&&x.$depth$==="0"&&(r[x.$index$]=x.$elm$))):x.$hostId$===f&&(m===f7e?(x.$tag$="slot",b[5]?c["s-sn"]=x.$name$=b[5]:c["s-sn"]="",c["s-sr"]=!0,r&&(x.$elm$=Ms.createElement(x.$tag$),x.$name$&&x.$elm$.setAttribute("name",x.$name$),c.parentNode.insertBefore(x.$elm$,c),c.remove(),x.$depth$==="0"&&(r[x.$index$]=x.$elm$)),i.push(x),e.$children$||(e.$children$=[]),e.$children$[x.$index$]=x):m===d7e&&r&&c.remove()));else if(e&&e.$tag$==="style"){const C=$m(null,c.textContent);C.$elm$=c,C.$index$="0",e.$children$=[C]}},Ak=(e,t)=>{if(e.nodeType===1){let i=0;if(e.shadowRoot)for(;i<e.shadowRoot.childNodes.length;i++)Ak(e.shadowRoot.childNodes[i],t);for(i=0;i<e.childNodes.length;i++)Ak(e.childNodes[i],t)}else if(e.nodeType===8){const i=e.nodeValue.split(".");i[0]===p7e&&(t.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},F7e=(e,t)=>e!=null&&!xO(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,R7e=e=>Fu(e).$hostElement$,oze=(e,t,i)=>{const r=R7e(e);return{emit:s=>xee(r,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:s})}},xee=(e,t,i)=>{const r=hr.ce(t,i);return e.dispatchEvent(r),r},dz=new WeakMap,N7e=(e,t,i)=>{let r=uS.get(e);_7e&&i?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,uS.set(e,r)},Eee=(e,t,i)=>{var r;const s=Tee(t),c=uS.get(s);if(e=e.nodeType===11?e:Ms,c)if(typeof c=="string"){e=e.head||e;let f=dz.get(e),m;if(f||dz.set(e,f=new Set),!f.has(s)){if(e.host&&(m=e.querySelector(`[${m7e}="${s}"]`)))m.innerHTML=c;else{m=Ms.createElement("style"),m.innerHTML=c;const b=(r=hr.$nonce$)!=null?r:_ee(Ms);b!=null&&m.setAttribute("nonce",b),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(m,e.querySelector("link"))}t.$flags$&4&&(m.innerHTML+=vee),f&&f.add(s)}}else e.adoptedStyleSheets.includes(c)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,c]);return s},j7e=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,r=t.$flags$,s=Ru("attachStyles",t.$tagName$),c=Eee(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);r&10&&r&2&&(i["s-sc"]=c,i.classList.add(c+"-h")),s()},Tee=(e,t)=>"sc-"+e.$tagName$,pz=(e,t,i,r,s,c)=>{if(i!==r){let f=az(e,t),m=t.toLowerCase();if(t==="class"){const b=e.classList,x=fz(i),T=fz(r);b.remove(...x.filter(C=>C&&!T.includes(C))),b.add(...T.filter(C=>C&&!x.includes(C)))}else if(t==="style"){for(const b in i)(!r||r[b]==null)&&(b.includes("-")?e.style.removeProperty(b):e.style[b]="");for(const b in r)(!i||r[b]!==i[b])&&(b.includes("-")?e.style.setProperty(b,r[b]):e.style[b]=r[b])}else if(t!=="key")if(t==="ref")r&&r(e);else if(!f&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):az(Zm,m)?t=m.slice(2):t=m[2]+t.slice(3),i||r){const b=t.endsWith(Iee);t=t.replace(V7e,""),i&&hr.rel(e,t,i,b),r&&hr.ael(e,t,r,b)}}else{const b=xO(r);if((f||b&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{const x=r??"";t==="list"?f=!1:(i==null||e[t]!=x)&&(e[t]=x)}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!f||c&4||s)&&!b&&(r=r===!0?"":r,e.setAttribute(t,r))}}},D7e=/\s/,fz=e=>e?e.split(D7e):[],Iee="Capture",V7e=new RegExp(Iee+"$"),Mee=(e,t,i)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||cz,c=t.$attrs$||cz;for(const f of yz(Object.keys(s)))f in c||pz(r,f,s[f],void 0,i,t.$flags$);for(const f of yz(Object.keys(c)))pz(r,f,s[f],c[f],i,t.$flags$)};function yz(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var EO,kee=!1,No=!1,cS=(e,t,i,r)=>{const s=t.$children$[i];let c=0,f,m;if(s.$text$!==null)f=s.$elm$=Ms.createTextNode(s.$text$);else{if(No||(No=s.$tag$==="svg"),f=s.$elm$=Ms.createElementNS(No?$7e:x7e,s.$tag$),No&&s.$tag$==="foreignObject"&&(No=!1),Mee(null,s,No),f.getRootNode().querySelector("body"),s.$children$)for(c=0;c<s.$children$.length;++c)m=cS(e,s,c),m&&f.appendChild(m);s.$tag$==="svg"?No=!1:f.tagName==="foreignObject"&&(No=!0)}return f["s-hn"]=EO,f},Cee=(e,t,i,r,s,c)=>{let f=e,m;for(f.shadowRoot&&f.tagName===EO&&(f=f.shadowRoot);s<=c;++s)r[s]&&(m=cS(null,i,s),m&&(r[s].$elm$=m,G_(f,m,t)))},Aee=(e,t,i)=>{for(let r=t;r<=i;++r){const s=e[r];if(s){const c=s.$elm$;Oee(s),c&&c.remove()}}},z7e=(e,t,i,r,s=!1)=>{let c=0,f=0,m=0,b=0,x=t.length-1,T=t[0],C=t[x],L=r.length-1,N=r[0],D=r[L],G,q;for(;c<=x&&f<=L;)if(T==null)T=t[++c];else if(C==null)C=t[--x];else if(N==null)N=r[++f];else if(D==null)D=r[--L];else if(v5(T,N,s))gy(T,N,s),T=t[++c],N=r[++f];else if(v5(C,D,s))gy(C,D,s),C=t[--x],D=r[--L];else if(v5(T,D,s))gy(T,D,s),G_(e,T.$elm$,C.$elm$.nextSibling),T=t[++c],D=r[--L];else if(v5(C,N,s))gy(C,N,s),G_(e,C.$elm$,T.$elm$),C=t[--x],N=r[++f];else{for(m=-1,b=c;b<=x;++b)if(t[b]&&t[b].$key$!==null&&t[b].$key$===N.$key$){m=b;break}m>=0?(q=t[m],q.$tag$!==N.$tag$?G=cS(t&&t[f],i,m):(gy(q,N,s),t[m]=void 0,G=q.$elm$),N=r[++f]):(G=cS(t&&t[f],i,f),N=r[++f]),G&&G_(T.$elm$.parentNode,G,T.$elm$)}c>x?Cee(e,r[L+1]==null?null:r[L+1].$elm$,i,r,f,L):f>L&&Aee(t,c,x)},v5=(e,t,i=!1)=>e.$tag$===t.$tag$?i?!0:e.$key$===t.$key$:!1,gy=(e,t,i=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,c=t.$children$,f=t.$tag$,m=t.$text$;m===null?(No=f==="svg"?!0:f==="foreignObject"?!1:No,f==="slot"&&!kee||Mee(e,t,No),s!==null&&c!==null?z7e(r,s,t,c,i):c!==null?(e.$text$!==null&&(r.textContent=""),Cee(r,null,t,c,0,c.length-1)):!i&&_O.updatable&&s!==null&&Aee(s,0,s.length-1),No&&f==="svg"&&(No=!1)):e.$text$!==m&&(r.data=m)},Oee=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Oee)},G_=(e,t,i)=>e==null?void 0:e.insertBefore(t,i),U7e=(e,t,i=!1)=>{const r=e.$hostElement$,s=e.$cmpMeta$,c=e.$vnode$||$m(null,null),f=A7e(t)?t:$ee(null,null,t);if(EO=r.tagName,s.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},s.$attrsToReflect$.map(([m,b])=>f.$attrs$[b]=r[m])),i&&f.$attrs$)for(const m of Object.keys(f.$attrs$))r.hasAttribute(m)&&!["key","ref","style","class"].includes(m)&&(f.$attrs$[m]=r[m]);f.$tag$=null,f.$flags$|=4,e.$vnode$=f,f.$elm$=c.$elm$=r.shadowRoot||r,r["s-sc"],kee=(s.$flags$&1)!==0,gy(c,f,i)},Lee=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(i=>e.$onRenderResolve$=i))},V9=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return Lee(e,e.$ancestorComponent$),S7e(()=>G7e(e,t))},G7e=(e,t)=>{const i=e.$hostElement$,r=Ru("scheduleUpdate",e.$cmpMeta$.$tagName$),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let c;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([f,m])=>Yd(s,f,m)),e.$queuedListeners$=void 0),c=Yd(s,"componentWillLoad")),c=mz(c,()=>Yd(s,"componentWillRender")),r(),mz(c,()=>q7e(e,s,t))},mz=(e,t)=>W7e(e)?e.then(t).catch(i=>{console.error(i),t()}):t(),W7e=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",q7e=async(e,t,i)=>{var r;const s=e.$hostElement$,c=Ru("update",e.$cmpMeta$.$tagName$),f=s["s-rc"];i&&j7e(e);const m=Ru("render",e.$cmpMeta$.$tagName$);B7e(e,t,s,i),f&&(f.map(b=>b()),s["s-rc"]=void 0),m(),c();{const b=(r=s["s-p"])!=null?r:[],x=()=>H7e(e);b.length===0?x():(Promise.all(b).then(x),e.$flags$|=4,b.length=0)}},B7e=(e,t,i,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,U7e(e,t,r)}catch(s){Ke(s,e.$hostElement$)}return null},H7e=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,r=Ru("postUpdate",t),s=e.$lazyInstance$,c=e.$ancestorComponent$;Yd(s,"componentDidRender"),e.$flags$&64?(Yd(s,"componentDidUpdate"),r()):(e.$flags$|=64,Fee(i),Yd(s,"componentDidLoad"),r(),e.$onReadyResolve$(i),c||Pee()),e.$onInstanceResolve$(i),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&$O(()=>V9(e,!1)),e.$flags$&=-517},aze=e=>{{const t=Fu(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&V9(t,!1),i}},Pee=e=>{Fee(Ms.documentElement),$O(()=>xee(Zm,"appload",{detail:{namespace:a7e}}))},Yd=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(r){Ke(r)}},Fee=e=>{var t;return e.setAttribute((t=_O.hydratedSelectorName)!=null?t:"hydrated","")},J7e=(e,t)=>Fu(e).$instanceValues$.get(t),Z7e=(e,t,i,r)=>{const s=Fu(e);if(!s)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const c=s.$hostElement$,f=s.$instanceValues$.get(t),m=s.$flags$,b=s.$lazyInstance$;i=F7e(i,r.$members$[t][0]);const x=Number.isNaN(f)&&Number.isNaN(i),T=i!==f&&!x;if((!(m&8)||f===void 0)&&T&&(s.$instanceValues$.set(t,i),b)){if(r.$watchers$&&m&128){const C=r.$watchers$[t];C&&C.map(L=>{try{b[L](i,f,t)}catch(N){Ke(N,c)}})}if((m&18)===2){if(b.componentShouldUpdate&&b.componentShouldUpdate(i,f,t)===!1)return;V9(s,!1)}}},Ree=(e,t,i)=>{var r,s;const c=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const f=Object.entries((r=t.$members$)!=null?r:{});if(f.map(([m,[b]])=>{b&31||i&2&&b&32?Object.defineProperty(c,m,{get(){return J7e(this,m)},set(x){Z7e(this,m,x,t)},configurable:!0,enumerable:!0}):i&1&&b&64&&Object.defineProperty(c,m,{value(...x){var T;const C=Fu(this);return(T=C==null?void 0:C.$onInstancePromise$)==null?void 0:T.then(()=>{var L;return(L=C.$lazyInstance$)==null?void 0:L[m](...x)})}})}),i&1){const m=new Map;c.attributeChangedCallback=function(b,x,T){hr.jmp(()=>{var C;const L=m.get(b);if(this.hasOwnProperty(L))T=this[L],delete this[L];else{if(c.hasOwnProperty(L)&&typeof this[L]=="number"&&this[L]==T)return;if(L==null){const N=Fu(this),D=N==null?void 0:N.$flags$;if(D&&!(D&8)&&D&128&&T!==x){const G=N.$lazyInstance$,q=(C=t.$watchers$)==null?void 0:C[b];q==null||q.forEach(J=>{G[J]!=null&&G[J].call(G,T,x,b)})}return}}this[L]=T===null&&typeof this[L]=="boolean"?!1:T})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...f.filter(([b,x])=>x[0]&15).map(([b,x])=>{var T;const C=x[1]||b;return m.set(C,b),x[0]&512&&((T=t.$attrsToReflect$)==null||T.push([b,C])),C})]))}}return e},K7e=async(e,t,i,r)=>{let s;if(!(t.$flags$&32)){if(t.$flags$|=32,i.$lazyBundleId$){const b=h7e(i);if(b&&"then"in b){const T=k7e();s=await b,T()}else s=b;if(!s)throw new Error(`Constructor for "${i.$tagName$}#${t.$modeName$}" was not found`);s.isProxied||(i.$watchers$=s.watchers,Ree(s,i,2),s.isProxied=!0);const x=Ru("createInstance",i.$tagName$);t.$flags$|=8;try{new s(t)}catch(T){Ke(T)}t.$flags$&=-9,t.$flags$|=128,x(),Ok(t.$lazyInstance$)}else{s=e.constructor;const b=e.localName;customElements.whenDefined(b).then(()=>t.$flags$|=128)}if(s&&s.style){let b;typeof s.style=="string"&&(b=s.style);const x=Tee(i);if(!uS.has(x)){const T=Ru("registerStyles",i.$tagName$);N7e(x,b,!!(i.$flags$&1)),T()}}}const c=t.$ancestorComponent$,f=()=>V9(t,!0);c&&c["s-rc"]?c["s-rc"].push(f):f()},Ok=e=>{Yd(e,"connectedCallback")},Y7e=e=>{if(!(hr.$flags$&1)){const t=Fu(e),i=t.$cmpMeta$,r=Ru("connectedCallback",i.$tagName$);if(t.$flags$&1)Nee(e,t,i.$listeners$),t!=null&&t.$lazyInstance$?Ok(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>Ok(t.$lazyInstance$));else{t.$flags$|=1;let s;if(s=e.getAttribute(Ek),s){if(i.$flags$&1){const c=Eee(e.shadowRoot,i);e.classList.remove(c+"-h",c+"-s")}P7e(e,i.$tagName$,s,t)}{let c=e;for(;c=c.parentNode||c.host;)if(c.nodeType===1&&c.hasAttribute("s-id")&&c["s-p"]||c["s-p"]){Lee(t,t.$ancestorComponent$=c);break}}i.$members$&&Object.entries(i.$members$).map(([c,[f]])=>{if(f&31&&e.hasOwnProperty(c)){const m=e[c];delete e[c],e[c]=m}}),K7e(e,t,i)}r()}},gz=e=>{Yd(e,"disconnectedCallback")},Q7e=async e=>{if(!(hr.$flags$&1)){const t=Fu(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0),t!=null&&t.$lazyInstance$?gz(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>gz(t.$lazyInstance$))}},X7e=(e,t={})=>{var i;const r=Ru(),s=[],c=t.exclude||[],f=Zm.customElements,m=Ms.head,b=m.querySelector("meta[charset]"),x=Ms.createElement("style"),T=[];let C,L=!0;Object.assign(hr,t),hr.$resourcesUrl$=new URL(t.resourcesUrl||"./",Ms.baseURI).href,hr.$flags$|=2;let N=!1;if(e.map(D=>{D[1].map(G=>{var q;const J={$flags$:G[0],$tagName$:G[1],$members$:G[2],$listeners$:G[3]};J.$flags$&4&&(N=!0),J.$members$=G[2],J.$listeners$=G[3],J.$attrsToReflect$=[],J.$watchers$=(q=G[4])!=null?q:{};const ne=J.$tagName$,ue=class extends HTMLElement{constructor(ae){if(super(ae),this.hasRegisteredEventListeners=!1,ae=this,c7e(ae,J),J.$flags$&1){if(!ae.shadowRoot)ae.attachShadow({mode:"open",delegatesFocus:!!(J.$flags$&16)});else if(ae.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${J.$tagName$}! Mode is set to ${ae.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){const ae=Fu(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Nee(this,ae,J.$listeners$)),C&&(clearTimeout(C),C=null),L?T.push(this):hr.jmp(()=>Y7e(this))}disconnectedCallback(){hr.jmp(()=>Q7e(this))}componentOnReady(){return Fu(this).$onReadyPromise$}};J.$lazyBundleId$=D[0],!c.includes(ne)&&!f.get(ne)&&(s.push(ne),f.define(ne,Ree(ue,J,1)))})}),s.length>0&&(N&&(x.textContent+=vee),x.textContent+=s.sort()+g7e,x.innerHTML.length)){x.setAttribute("data-styles","");const D=(i=hr.$nonce$)!=null?i:_ee(Ms);D!=null&&x.setAttribute("nonce",D),m.insertBefore(x,b?b.nextSibling:m.firstChild)}L=!1,T.length?T.map(D=>D.connectedCallback()):hr.jmp(()=>C=setTimeout(Pee,30)),r()},lze=(e,t)=>t,Nee=(e,t,i,r)=>{i&&i.map(([s,c,f])=>{const m=tMe(e,s),b=eMe(t,f),x=iMe(s);hr.ael(m,c,b,x),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>hr.rel(m,c,b,x))})},eMe=(e,t)=>i=>{var r;try{e.$flags$&256?(r=e.$lazyInstance$)==null||r[t](i):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,i])}catch(s){Ke(s)}},tMe=(e,t)=>t&4?Ms:t&8?Zm:t&16?Ms.body:e,iMe=e=>b7e?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const jee="calcite-mode-auto",Dee="calcite-mode-dark",rMe="calcite-mode-light",uze={autoMode:jee,darkMode:Dee,lightMode:rMe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},cze={filter:250,nextTick:0,resize:150,reposition:100};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Wc=globalThis.calciteConfig,hze=(Wc==null?void 0:Wc.focusTrapStack)||[],dze=(Wc==null?void 0:Wc.logLevel)||"info",vz="2.13.2",nMe="2024-10-24",sMe="e38e2977d";function oMe(){if(Wc&&Wc.version)return;console.info(`Using Calcite Components ${vz} [Date: ${nMe}, Revision: ${sMe}]`);const e=Wc||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:vz,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Vee=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function aMe(){return navigator.userAgentData}function pze(){if(!Vee())return"";const e=aMe();return e!=null&&e.brands?e.brands.map(({brand:t,version:i})=>`${t}/${i}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function bz(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(Dee)||e.contains(jee)&&t?"dark":"light",r=f=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:f}})),s=f=>{c!==f&&r(f),c=f};let c=i();r(c),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f=>s(f.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function lMe(){Vee()&&(document.readyState==="interactive"?bz():document.addEventListener("DOMContentLoaded",()=>bz(),{once:!0})),oMe()}const uMe=lMe;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const cMe=async(e,t)=>{if(!(typeof window>"u"))return await uMe(),X7e(JSON.parse('[["calcite-icon",[[1,"calcite-icon",{"icon":[513],"flipRtl":[516,"flip-rtl"],"scale":[513],"textLabel":[1,"text-label"],"pathData":[32],"visible":[32]},null,{"icon":["loadIconPathData"],"scale":["loadIconPathData"]}]]],["calcite-list_3",[[1,"calcite-list",{"disabled":[516],"canPull":[16],"canPut":[16],"dragEnabled":[516,"drag-enabled"],"group":[513],"filterEnabled":[516,"filter-enabled"],"filteredItems":[1040],"filteredData":[1040],"filterPlaceholder":[513,"filter-placeholder"],"filterText":[1537,"filter-text"],"label":[1],"loading":[516],"filterProps":[16],"messageOverrides":[1040],"messages":[1040],"numberingSystem":[1,"numbering-system"],"openable":[4],"selectedItems":[1040],"selectionMode":[513,"selection-mode"],"selectionAppearance":[513,"selection-appearance"],"effectiveLocale":[32],"defaultMessages":[32],"assistiveText":[32],"dataForFilter":[32],"hasFilterActionsEnd":[32],"hasFilterActionsStart":[32],"hasFilterNoResults":[32],"setFocus":[64]},[[0,"calciteInternalListItemToggle","handleCalciteListItemToggle"],[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalAssistiveTextChange","handleCalciteInternalAssistiveTextChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemSelectMultiple","handleCalciteInternalListItemSelectMultiple"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]],{"filterText":["handleFilterTextChange"],"filterProps":["handleFilterPropsChange"],"messageOverrides":["onMessagesChange"],"filterEnabled":["handleListItemChange"],"group":["handleListItemChange"],"dragEnabled":["handleListItemChange"],"selectionMode":["handleListItemChange"],"selectionAppearance":["handleListItemChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-list-item",{"active":[4],"bordered":[4],"closable":[516],"closed":[1540],"description":[1],"disabled":[516],"dragDisabled":[516,"drag-disabled"],"dragHandle":[4,"drag-handle"],"dragSelected":[1540,"drag-selected"],"filterHidden":[516,"filter-hidden"],"label":[1],"metadata":[16],"open":[1540],"setSize":[2,"set-size"],"setPosition":[2,"set-position"],"selected":[1540],"unavailable":[516],"value":[8],"selectionMode":[1025,"selection-mode"],"selectionAppearance":[1025,"selection-appearance"],"messageOverrides":[1040],"messages":[1040],"effectiveLocale":[32],"defaultMessages":[32],"level":[32],"parentListEl":[32],"openable":[32],"hasActionsStart":[32],"hasActionsEnd":[32],"hasCustomContent":[32],"hasContentStart":[32],"hasContentEnd":[32],"hasContentBottom":[32],"setFocus":[64]},[[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListDefaultSlotChanges"],[0,"calciteInternalListDefaultSlotChange","handleCalciteInternalListDefaultSlotChanges"]],{"active":["activeHandler"],"closed":["handleClosedChange"],"disabled":["handleDisabledChange"],"open":["handleOpenChange"],"selected":["handleSelectedChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-list-item-group",{"disabled":[516],"filterHidden":[516,"filter-hidden"],"heading":[513]}]]],["calcite-value-list_2",[[1,"calcite-value-list",{"disabled":[516],"canPull":[16],"canPut":[16],"dragEnabled":[516,"drag-enabled"],"filteredItems":[1040],"filteredData":[1040],"filterEnabled":[516,"filter-enabled"],"filterPlaceholder":[513,"filter-placeholder"],"filterText":[1537,"filter-text"],"group":[513],"loading":[516],"multiple":[516],"selectionFollowsFocus":[516,"selection-follows-focus"],"messageOverrides":[1040],"messages":[1040],"dataForFilter":[32],"defaultMessages":[32],"effectiveLocale":[32],"selectedValues":[32],"getSelectedItems":[64],"setFocus":[64]},[[0,"focusout","calciteListFocusOutHandler"],[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteInternalListItemPropsChange","calciteInternalListItemPropsChangeHandler"],[0,"calciteInternalListItemValueChange","calciteInternalListItemValueChangeHandler"],[0,"calciteValueListItemDragHandleBlur","handleValueListItemBlur"]],{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-value-list-item",{"description":[513],"disabled":[516],"deselectDisabled":[4,"deselect-disabled"],"nonInteractive":[516,"non-interactive"],"handleActivated":[1028,"handle-activated"],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"label":[513],"metadata":[16],"removable":[516],"selected":[1540],"value":[8],"toggleSelected":[64],"setFocus":[64]},[[0,"calciteListItemChange","calciteListItemChangeHandler"]]]]],["calcite-block_2",[[1,"calcite-block",{"collapsible":[516],"disabled":[516],"dragHandle":[516,"drag-handle"],"heading":[1],"headingLevel":[514,"heading-level"],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"loading":[516],"menuFlipPlacements":[16],"menuPlacement":[513,"menu-placement"],"open":[1540],"status":[513],"description":[1],"messages":[1040],"messageOverrides":[1040],"overlayPositioning":[513,"overlay-positioning"],"defaultMessages":[32],"effectiveLocale":[32],"hasContentStart":[32],"hasEndActions":[32],"setFocus":[64]},null,{"open":["openHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-block-section",{"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"open":[1540],"status":[513],"text":[1],"toggleDisplay":[513,"toggle-display"],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-input-date-picker",[[17,"calcite-input-date-picker",{"disabled":[516],"focusTrapDisabled":[516,"focus-trap-disabled"],"form":[513],"readOnly":[516,"read-only"],"value":[1025],"flipPlacements":[16],"headingLevel":[514,"heading-level"],"valueAsDate":[1040],"messageOverrides":[1040],"messages":[1040],"minAsDate":[1040],"maxAsDate":[1040],"min":[513],"max":[513],"open":[1540],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"numberingSystem":[513,"numbering-system"],"scale":[513],"status":[513],"placement":[513],"range":[516],"required":[516],"overlayPositioning":[513,"overlay-positioning"],"proximitySelectionDisabled":[4,"proximity-selection-disabled"],"layout":[513],"datePickerActiveDate":[32],"defaultMessages":[32],"effectiveLocale":[32],"focusedInput":[32],"localeData":[32],"setFocus":[64],"reposition":[64]},[[0,"calciteDaySelect","calciteDaySelectHandler"]],{"focusTrapDisabled":["handleFocusTrapDisabled"],"disabled":["handleDisabledAndReadOnlyChange"],"readOnly":["handleDisabledAndReadOnlyChange"],"value":["valueWatcher"],"valueAsDate":["valueAsDateWatcher"],"flipPlacements":["flipPlacementsHandler"],"messageOverrides":["onMessagesChange"],"min":["onMinChanged"],"max":["onMaxChanged"],"open":["openHandler"],"overlayPositioning":["overlayPositioningHandler"],"effectiveLocale":["effectiveLocaleChange","handleDateTimeFormatChange"],"numberingSystem":["handleDateTimeFormatChange"],"layout":["setReferenceEl"],"focusedInput":["setReferenceEl"]}]]],["calcite-action",[[1,"calcite-action",{"active":[516],"alignment":[513],"appearance":[513],"compact":[516],"disabled":[516],"icon":[1],"iconFlipRtl":[516,"icon-flip-rtl"],"indicator":[516],"label":[1],"loading":[516],"scale":[513],"text":[1],"textEnabled":[516,"text-enabled"],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-action-menu",[[1,"calcite-action-menu",{"appearance":[513],"expanded":[516],"flipPlacements":[16],"label":[1],"open":[1540],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"scale":[513],"menuButtonEl":[32],"activeMenuItemIndex":[32],"setFocus":[64]},null,{"expanded":["expandedHandler"],"open":["openHandler"],"activeMenuItemIndex":["activeMenuItemIndexHandler"]}]]],["calcite-dialog",[[1,"calcite-dialog",{"beforeClose":[16],"description":[1],"dragEnabled":[516,"drag-enabled"],"closeDisabled":[516,"close-disabled"],"embedded":[1028],"escapeDisabled":[516,"escape-disabled"],"heading":[1],"headingLevel":[514,"heading-level"],"kind":[513],"loading":[516],"menuOpen":[516,"menu-open"],"messages":[1040],"messageOverrides":[1040],"modal":[516],"open":[1540],"outsideCloseDisabled":[516,"outside-close-disabled"],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"resizable":[516],"scale":[513],"widthScale":[513,"width-scale"],"opened":[32],"hasFooter":[32],"hasContentTop":[32],"hasContentBottom":[32],"effectiveLocale":[32],"defaultMessages":[32],"assistiveText":[32],"setFocus":[64],"updateFocusTrapElements":[64],"scrollContentTo":[64]},[[8,"keydown","handleEscape"]],{"messageOverrides":["onMessagesChange"],"modal":["onModalChange"],"effectiveLocale":["effectiveLocaleChange"],"open":["handleInteractionChange","toggleDialog"],"placement":["handleInteractionChange"],"resizable":["handleInteractionChange","updateAssistiveText"],"dragEnabled":["handleInteractionChange","updateAssistiveText"],"messages":["updateAssistiveText"],"opened":["handleOpenedChange"]}]]],["calcite-flow-item",[[1,"calcite-flow-item",{"closable":[516],"closed":[516],"collapsed":[516],"collapseDirection":[1,"collapse-direction"],"collapsible":[516],"beforeBack":[16],"beforeClose":[16],"description":[1],"disabled":[516],"heading":[1],"headingLevel":[514,"heading-level"],"loading":[516],"menuOpen":[516,"menu-open"],"messageOverrides":[1040],"messages":[1040],"overlayPositioning":[513,"overlay-positioning"],"scale":[513],"showBackButton":[4,"show-back-button"],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64],"scrollContentTo":[64]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-navigation_3",[[1,"calcite-navigation",{"label":[1],"navigationAction":[516,"navigation-action"],"logoSlotHasElements":[32],"navigationActionSlotHasElements":[32],"primaryContentCenterSlotHasElements":[32],"primaryContentEndSlotHasElements":[32],"primaryContentStartSlotHasElements":[32],"progressSlotHasElement":[32],"secondarySlotHasElements":[32],"tertiarySlotHasElements":[32],"userSlotHasElements":[32],"setFocus":[64]}],[17,"calcite-navigation-user",{"active":[516],"fullName":[1,"full-name"],"label":[1],"textDisabled":[516,"text-disabled"],"thumbnail":[1],"userId":[1,"user-id"],"username":[1],"setFocus":[64]}],[17,"calcite-navigation-logo",{"active":[516],"href":[513],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"label":[1],"rel":[513],"description":[1],"target":[513],"heading":[1],"thumbnail":[1],"headingLevel":[514,"heading-level"],"setFocus":[64]}]]],["calcite-tip_3",[[1,"calcite-tip",{"closed":[1540],"closeDisabled":[516,"close-disabled"],"heading":[1],"headingLevel":[514,"heading-level"],"selected":[516],"messages":[1040],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-tip-manager",{"closed":[1540],"headingLevel":[514,"heading-level"],"messages":[1040],"messageOverrides":[1040],"selectedIndex":[32],"tips":[32],"total":[32],"direction":[32],"groupTitle":[32],"defaultMessages":[32],"effectiveLocale":[32],"nextTip":[64],"previousTip":[64]},null,{"closed":["closedChangeHandler"],"messageOverrides":["onMessagesChange"],"selectedIndex":["selectedChangeHandler"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-tip-group",{"groupTitle":[1,"group-title"]}]]],["calcite-action-bar",[[1,"calcite-action-bar",{"actionsEndGroupLabel":[1,"actions-end-group-label"],"expandDisabled":[516,"expand-disabled"],"expanded":[1540],"layout":[513],"overflowActionsDisabled":[516,"overflow-actions-disabled"],"overlayPositioning":[513,"overlay-positioning"],"position":[513],"scale":[513],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"hasActionsEnd":[32],"hasBottomActions":[32],"expandTooltip":[32],"defaultMessages":[32],"overflowActions":[64],"setFocus":[64]},null,{"expandDisabled":["expandHandler"],"expanded":["expandedHandler"],"layout":["layoutHandler"],"overflowActionsDisabled":["overflowDisabledHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-action-pad",[[17,"calcite-action-pad",{"actionsEndGroupLabel":[1,"actions-end-group-label"],"expandDisabled":[516,"expand-disabled"],"expanded":[1540],"layout":[513],"position":[513],"scale":[513],"messages":[1040],"messageOverrides":[1040],"overlayPositioning":[513,"overlay-positioning"],"expandTooltip":[32],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64]},null,{"expanded":["expandedHandler"],"layout":["layoutHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-input-time-zone",[[17,"calcite-input-time-zone",{"clearable":[516],"disabled":[516],"form":[513],"maxItems":[514,"max-items"],"messages":[1040],"messageOverrides":[1040],"mode":[513],"offsetStyle":[513,"offset-style"],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"open":[1540],"overlayPositioning":[513,"overlay-positioning"],"referenceDate":[1,"reference-date"],"required":[516],"scale":[513],"status":[513],"value":[1025],"readOnly":[516,"read-only"],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64]},null,{"messageOverrides":["onMessagesChange"],"messages":["handleTimeZoneItemPropsChange"],"mode":["handleTimeZoneItemPropsChange"],"referenceDate":["handleTimeZoneItemPropsChange"],"open":["openChanged"],"value":["handleValueChange"],"effectiveLocale":["effectiveLocaleWatcher"]}]]],["calcite-table",[[1,"calcite-table",{"bordered":[516],"caption":[1],"groupSeparator":[516,"group-separator"],"interactionMode":[513,"interaction-mode"],"layout":[513],"numbered":[516],"numberingSystem":[513,"numbering-system"],"pageSize":[514,"page-size"],"scale":[513],"selectionMode":[513,"selection-mode"],"selectionDisplay":[513,"selection-display"],"zebra":[516],"striped":[516],"selectedItems":[1040],"messages":[1040],"messageOverrides":[1040],"colCount":[32],"pageStartRow":[32],"selectedCount":[32],"readCellContentsToAT":[32],"defaultMessages":[32],"effectiveLocale":[32]},[[0,"calciteTableRowSelect","calciteChipSelectListener"],[0,"calciteInternalTableRowFocusRequest","calciteInternalTableRowFocusEvent"]],{"groupSeparator":["handleNumberedChange"],"interactionMode":["handleNumberedChange"],"numbered":["handleNumberedChange"],"numberingSystem":["handleNumberedChange"],"pageSize":["handleNumberedChange"],"scale":["handleNumberedChange"],"selectionMode":["handleNumberedChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-stepper_2",[[1,"calcite-stepper",{"icon":[516],"layout":[513],"numbered":[516],"scale":[513],"messages":[1040],"numberingSystem":[513,"numbering-system"],"selectedItem":[1040],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32],"currentActivePosition":[32],"nextStep":[64],"prevStep":[64],"goToStep":[64],"startStep":[64],"endStep":[64]},[[0,"calciteInternalStepperItemKeyEvent","calciteInternalStepperItemKeyEvent"],[0,"calciteInternalStepperItemRegister","registerItem"],[0,"calciteInternalStepperItemSelect","updateItem"],[0,"calciteStepperItemSelect","handleItemSelect"]],{"icon":["handleItemPropChange"],"layout":["handleItemPropChange"],"numbered":["handleItemPropChange"],"scale":["handleItemPropChange"],"numberingSystem":["numberingSystemChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"],"currentActivePosition":["handlePositionChange"]}],[1,"calcite-stepper-item",{"selected":[1540],"complete":[516],"error":[516],"disabled":[516],"heading":[1],"description":[1],"iconFlipRtl":[516,"icon-flip-rtl"],"numberingSystem":[1,"numbering-system"],"icon":[4],"layout":[513],"messages":[1040],"numbered":[4],"scale":[513],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64]},[[16,"calciteInternalStepperItemChange","updateActiveItemOnChange"]],{"selected":["selectedHandler"],"disabled":["disabledWatcher"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleWatcher"]}]]],["calcite-split-button",[[17,"calcite-split-button",{"appearance":[513],"kind":[513],"disabled":[516],"active":[1540],"dropdownIconType":[513,"dropdown-icon-type"],"dropdownLabel":[513,"dropdown-label"],"flipPlacements":[16],"loading":[516],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"primaryIconEnd":[513,"primary-icon-end"],"primaryIconFlipRtl":[513,"primary-icon-flip-rtl"],"primaryIconStart":[513,"primary-icon-start"],"primaryLabel":[513,"primary-label"],"primaryText":[513,"primary-text"],"scale":[513],"width":[513],"setFocus":[64]},null,{"disabled":["handleDisabledChange"],"active":["activeHandler"]}]]],["calcite-segmented-control_2",[[1,"calcite-segmented-control",{"appearance":[513],"disabled":[516],"form":[513],"required":[516],"name":[513],"layout":[513],"scale":[513],"value":[1025],"selectedItem":[1040],"status":[513],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"width":[513],"setFocus":[64]},[[0,"calciteInternalSegmentedControlItemChange","handleSelected"],[0,"keydown","handleKeyDown"]],{"appearance":["handlePropsChange"],"layout":["handlePropsChange"],"scale":["handlePropsChange"],"value":["valueHandler"],"selectedItem":["handleSelectedItemChange"]}],[1,"calcite-segmented-control-item",{"checked":[1540],"iconFlipRtl":[516,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"iconEnd":[513,"icon-end"],"value":[1032],"appearance":[1],"layout":[1],"scale":[1],"hasSlottedContent":[32]},null,{"checked":["handleCheckedChange"]}]]],["calcite-tile-select_2",[[1,"calcite-tile-select",{"checked":[1540],"description":[513],"disabled":[516],"heading":[513],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"name":[520],"inputEnabled":[516,"input-enabled"],"inputAlignment":[513,"input-alignment"],"type":[513],"value":[8],"width":[513],"focused":[32],"setFocus":[64]},[[0,"calciteCheckboxChange","checkboxChangeHandler"],[0,"calciteInternalCheckboxFocus","checkboxFocusBlurHandler"],[0,"calciteInternalCheckboxBlur","checkboxFocusBlurHandler"],[0,"calciteRadioButtonChange","radioButtonChangeHandler"],[0,"calciteInternalRadioButtonCheckedChange","radioButtonCheckedChangeHandler"],[0,"calciteInternalRadioButtonFocus","radioButtonFocusBlurHandler"],[0,"calciteInternalRadioButtonBlur","radioButtonFocusBlurHandler"],[0,"click","clickHandler"],[1,"pointerenter","pointerEnterHandler"],[1,"pointerleave","pointerLeaveHandler"]],{"checked":["checkedChanged"],"name":["nameChanged"]}],[1,"calcite-tile-select-group",{"disabled":[516],"layout":[513]}]]],["calcite-table-row",[[1,"calcite-table-row",{"alignment":[513],"disabled":[516],"selected":[516],"cellCount":[1026,"cell-count"],"interactionMode":[1,"interaction-mode"],"lastVisibleRow":[4,"last-visible-row"],"rowType":[1,"row-type"],"numbered":[4],"positionSection":[2,"position-section"],"positionSectionLocalized":[1,"position-section-localized"],"positionAll":[2,"position-all"],"readCellContentsToAT":[4,"read-cell-contents-to-a-t"],"scale":[1],"selectionMode":[1,"selection-mode"],"selectedRowCount":[2,"selected-row-count"],"selectedRowCountLocalized":[1,"selected-row-count-localized"],"bodyRowCount":[2,"body-row-count"],"effectiveLocale":[32]},[[4,"calciteInternalTableRowFocusChange","calciteInternalTableRowFocusChangeHandler"]],{"bodyRowCount":["handleCellChanges"],"scale":["handleCellChanges"],"selected":["handleCellChanges"],"selectedRowCount":["handleCellChanges"],"interactionMode":["handleCellChanges"],"numbered":["handleDelayedCellChanges"],"selectionMode":["handleDelayedCellChanges"]}]]],["calcite-option_3",[[1,"calcite-select",{"disabled":[516],"form":[513],"label":[1],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"required":[516],"scale":[513],"status":[513],"value":[1025],"selectedOption":[1040],"width":[513],"setFocus":[64]},[[0,"calciteInternalOptionChange","handleOptionOrGroupChange"],[0,"calciteInternalOptionGroupChange","handleOptionOrGroupChange"]],{"value":["valueHandler"],"selectedOption":["selectedOptionHandler"]}],[1,"calcite-option",{"disabled":[516],"label":[1025],"selected":[516],"value":[1032]},null,{"disabled":["handlePropChange"],"label":["handlePropChange"],"selected":["handlePropChange"],"value":["handlePropChange"]}],[1,"calcite-option-group",{"disabled":[516],"label":[1]},null,{"disabled":["handlePropChange"],"label":["handlePropChange"]}]]],["calcite-carousel_2",[[1,"calcite-carousel",{"autoplay":[520],"arrowType":[513,"arrow-type"],"autoplayDuration":[514,"autoplay-duration"],"controlOverlay":[516,"control-overlay"],"disabled":[516],"label":[1],"messages":[1040],"messageOverrides":[1040],"paused":[1028],"selectedItem":[1040],"selectedIndex":[32],"items":[32],"direction":[32],"defaultMessages":[32],"playing":[32],"suspendedDueToFocus":[32],"suspendedDueToHover":[32],"userPreventsSuspend":[32],"effectiveLocale":[32],"suspendedSlideDurationRemaining":[32],"slideDurationRemaining":[32],"maxItems":[32],"setFocus":[64],"play":[64],"stop":[64]},null,{"autoplay":["autoplayWatcher"],"messageOverrides":["onMessagesChange"],"direction":["directionWatcher"],"playing":["playingWatcher"],"suspendedDueToFocus":["suspendWatcher"],"suspendedDueToHover":["suspendWatcher"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-carousel-item",{"label":[1],"selected":[516]}]]],["calcite-radio-button-group",[[1,"calcite-radio-button-group",{"disabled":[516],"layout":[513],"name":[513],"required":[516],"selectedItem":[1040],"scale":[513],"status":[513],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"radioButtons":[32],"setFocus":[64]},[[0,"calciteRadioButtonChange","radioButtonChangeHandler"]],{"hidden":["handleHiddenChange"],"disabled":["onDisabledChange"],"layout":["onLayoutChange"],"scale":["onScaleChange"]}]]],["calcite-sheet",[[1,"calcite-sheet",{"beforeClose":[16],"displayMode":[513,"display-mode"],"embedded":[4],"escapeDisabled":[516,"escape-disabled"],"heightScale":[513,"height-scale"],"focusTrapDisabled":[516,"focus-trap-disabled"],"label":[1],"open":[1540],"opened":[1540],"outsideCloseDisabled":[516,"outside-close-disabled"],"position":[513],"widthScale":[513,"width-scale"],"setFocus":[64],"updateFocusTrapElements":[64]},[[8,"keydown","handleEscape"]],{"focusTrapDisabled":["handleFocusTrapDisabled"],"open":["toggleSheet"],"opened":["handleOpenedChange"]}]]],["calcite-text-area",[[1,"calcite-text-area",{"columns":[514],"disabled":[516],"form":[513],"groupSeparator":[516,"group-separator"],"label":[1],"minLength":[514,"min-length"],"maxLength":[514,"max-length"],"messages":[1040],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"numberingSystem":[1,"numbering-system"],"placeholder":[1],"readOnly":[516,"read-only"],"required":[516],"resize":[513],"rows":[514],"scale":[513],"status":[513],"value":[1025],"wrap":[513],"messageOverrides":[1040],"defaultMessages":[32],"endSlotHasElements":[32],"startSlotHasElements":[32],"effectiveLocale":[32],"setFocus":[64],"selectText":[64]},null,{"autofocus":["handleGlobalAttributesChanged"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-tile",[[1,"calcite-tile",{"active":[516],"alignment":[513],"description":[513],"disabled":[516],"embed":[516],"heading":[513],"href":[513],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"interactive":[4],"label":[1],"layout":[513],"scale":[513],"selected":[516],"selectionAppearance":[513,"selection-appearance"],"selectionMode":[513,"selection-mode"],"hasContentBottom":[32],"hasContentEnd":[32],"hasContentStart":[32],"hasContentTop":[32],"setFocus":[64]},[[0,"keydown","keyDownHandler"]]]]],["calcite-accordion_2",[[1,"calcite-accordion-item",{"expanded":[1540],"heading":[1],"description":[1],"iconStart":[513,"icon-start"],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconPosition":[1,"icon-position"],"iconType":[1,"icon-type"],"accordionParent":[16],"scale":[1],"setFocus":[64]},[[0,"keydown","keyDownHandler"],[16,"calciteInternalAccordionChange","updateActiveItemOnChange"],[4,"calciteInternalAccordionItemsSync","accordionItemSyncHandler"]]],[1,"calcite-accordion",{"appearance":[513],"iconPosition":[513,"icon-position"],"iconType":[513,"icon-type"],"scale":[513],"selectionMode":[513,"selection-mode"]},[[0,"calciteInternalAccordionItemSelect","updateActiveItemOnChange"]],{"iconPosition":["handlePropsChange"],"iconType":["handlePropsChange"],"scale":["handlePropsChange"],"selectionMode":["handlePropsChange"]}]]],["calcite-tree_2",[[1,"calcite-tree-item",{"disabled":[516],"label":[1],"expanded":[1540],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"selected":[1540],"parentExpanded":[4,"parent-expanded"],"depth":[1538],"hasChildren":[1540,"has-children"],"lines":[1540],"scale":[1537],"indeterminate":[1540],"selectionMode":[1537,"selection-mode"],"hasEndActions":[32],"updateAfterInitialRender":[32]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"]],{"expanded":["expandedHandler"],"selected":["handleSelectedChange"],"selectionMode":["getSelectionMode"]}],[1,"calcite-tree",{"lines":[1540],"child":[1540],"scale":[1537],"selectionMode":[1537,"selection-mode"],"selectedItems":[1040]},[[0,"focus","onFocus"],[0,"focusin","onFocusIn"],[0,"focusout","onFocusOut"],[0,"calciteInternalTreeItemSelect","onInternalTreeItemSelect"]]]]],["calcite-shell_3",[[1,"calcite-shell",{"contentBehind":[516,"content-behind"],"hasHeader":[32],"hasFooter":[32],"hasAlerts":[32],"hasModals":[32],"hasDialogs":[32],"hasSheets":[32],"hasPanelTop":[32],"hasPanelBottom":[32],"hasOnlyPanelBottom":[32],"panelIsResizing":[32]},[[0,"calciteInternalShellPanelResizeStart","handleCalciteInternalShellPanelResizeStart"],[0,"calciteInternalShellPanelResizeEnd","handleCalciteInternalShellPanelResizeEnd"]],{"hasPanelTop":["updateHasOnlyPanelBottom"],"hasPanelBottom":["updateHasOnlyPanelBottom"]}],[1,"calcite-shell-center-row",{"detached":[516],"heightScale":[513,"height-scale"],"position":[513]}],[1,"calcite-shell-panel",{"collapsed":[516],"detached":[516],"displayMode":[513,"display-mode"],"detachedHeightScale":[513,"detached-height-scale"],"heightScale":[513,"height-scale"],"widthScale":[513,"width-scale"],"layout":[513],"position":[513],"resizable":[516],"messages":[1040],"messageOverrides":[1040],"contentWidth":[32],"contentHeight":[32],"defaultMessages":[32],"effectiveLocale":[32],"hasHeader":[32]},null,{"detached":["handleDetached"],"displayMode":["handleDisplayMode"],"detachedHeightScale":["handleDetachedHeightScale"],"heightScale":["handleHeightScale"],"layout":["layoutHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-tile-group",[[1,"calcite-tile-group",{"alignment":[513],"disabled":[516],"label":[1],"layout":[513],"scale":[513],"selectedItems":[1040],"selectionAppearance":[513,"selection-appearance"],"selectionMode":[513,"selection-mode"]},[[0,"calciteInternalTileKeyEvent","calciteInternalTileKeyEventListener"],[0,"calciteTileSelect","calciteTileSelectHandler"]],{"scale":["scaleWatcher"],"selectionMode":["handleSelectionModeOrAppearanceChange"],"selectionAppearance":["handleSelectionModeOrAppearanceChange"]}]]],["calcite-tooltip",[[1,"calcite-tooltip",{"closeOnClick":[516,"close-on-click"],"label":[1],"offsetDistance":[514,"offset-distance"],"offsetSkidding":[514,"offset-skidding"],"open":[516],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"referenceElement":[1,"reference-element"],"effectiveReferenceElement":[32],"floatingLayout":[32],"reposition":[64]},null,{"offsetDistance":["offsetDistanceOffsetHandler"],"offsetSkidding":["offsetSkiddingHandler"],"open":["openHandler"],"overlayPositioning":["overlayPositioningHandler"],"placement":["placementHandler"],"referenceElement":["referenceElementHandler"]}]]],["calcite-pick-list_3",[[1,"calcite-pick-list",{"disabled":[516],"filteredItems":[1040],"filteredData":[1040],"filterEnabled":[516,"filter-enabled"],"filterPlaceholder":[513,"filter-placeholder"],"filterText":[1537,"filter-text"],"headingLevel":[514,"heading-level"],"loading":[516],"multiple":[516],"selectionFollowsFocus":[516,"selection-follows-focus"],"selectedValues":[32],"dataForFilter":[32],"getSelectedItems":[64],"setFocus":[64]},[[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteInternalListItemPropsChange","calciteInternalListItemPropsChangeHandler"],[0,"calciteInternalListItemValueChange","calciteInternalListItemValueChangeHandler"],[0,"focusout","calciteListFocusOutHandler"]]],[1,"calcite-pick-list-group",{"groupTitle":[513,"group-title"],"headingLevel":[514,"heading-level"]}],[1,"calcite-pick-list-item",{"description":[513],"disabled":[516],"deselectDisabled":[516,"deselect-disabled"],"nonInteractive":[516,"non-interactive"],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"label":[513],"messageOverrides":[1040],"messages":[1040],"metadata":[16],"removable":[516],"selected":[1540],"value":[8],"defaultMessages":[32],"effectiveLocale":[32],"toggleSelected":[64],"setFocus":[64]},null,{"description":["descriptionWatchHandler"],"label":["labelWatchHandler"],"defaultMessages":["onMessagesChange"],"messageOverrides":["onMessagesChange"],"metadata":["metadataWatchHandler"],"selected":["selectedWatchHandler"],"value":["valueWatchHandler"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-input-time-picker_2",[[17,"calcite-input-time-picker",{"open":[1540],"disabled":[516],"focusTrapDisabled":[516,"focus-trap-disabled"],"form":[513],"readOnly":[516,"read-only"],"max":[513],"min":[513],"messageOverrides":[1040],"messages":[1040],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[1],"numberingSystem":[1,"numbering-system"],"required":[516],"scale":[513],"status":[513],"overlayPositioning":[1,"overlay-positioning"],"placement":[513],"step":[2],"value":[1025],"calciteInputEl":[32],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64],"reposition":[64]},null,{"open":["openHandler"],"focusTrapDisabled":["handleFocusTrapDisabled"],"disabled":["handleDisabledAndReadOnlyChange"],"readOnly":["handleDisabledAndReadOnlyChange"],"messageOverrides":["onMessagesChange"],"numberingSystem":["numberingSystemWatcher"],"step":["stepWatcher"],"value":["valueWatcher"],"effectiveLocale":["effectiveLocaleWatcher"]}],[17,"calcite-time-picker",{"scale":[513],"step":[514],"numberingSystem":[1,"numbering-system"],"value":[1025],"messages":[1040],"messageOverrides":[1040],"activeEl":[32],"effectiveLocale":[32],"fractionalSecond":[32],"hour":[32],"hourCycle":[32],"localizedDecimalSeparator":[32],"localizedHour":[32],"localizedHourSuffix":[32],"localizedMeridiem":[32],"localizedFractionalSecond":[32],"localizedMinute":[32],"localizedMinuteSuffix":[32],"localizedSecond":[32],"localizedSecondSuffix":[32],"meridiem":[32],"minute":[32],"second":[32],"showFractionalSecond":[32],"showSecond":[32],"defaultMessages":[32],"setFocus":[64]},[[0,"blur","blurHandler"],[0,"keydown","keyDownHandler"],[1,"pointerdown","pointerDownHandler"]],{"step":["stepChange"],"value":["valueWatcher"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleWatcher"]}]]],["calcite-menu_2",[[1,"calcite-menu-item",{"active":[516],"breadcrumb":[516],"href":[1],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"isTopLevelItem":[4,"is-top-level-item"],"label":[1],"layout":[513],"messageOverrides":[1040],"messages":[1040],"open":[1540],"rel":[513],"target":[513],"text":[1],"topLevelMenuLayout":[1,"top-level-menu-layout"],"defaultMessages":[32],"effectiveLocale":[32],"hasSubmenu":[32],"submenuItems":[32],"setFocus":[64]},[[8,"click","handleClickOut"],[0,"focusout","handleFocusOut"]],{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[17,"calcite-menu",{"label":[1],"layout":[513],"messageOverrides":[1040],"messages":[1040],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64]},[[0,"calciteInternalMenuItemKeyEvent","calciteInternalNavMenuItemKeyEvent"]],{"role":["handleGlobalAttributesChanged"],"layout":["handleLayoutChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-dropdown_3",[[1,"calcite-dropdown-item",{"disabled":[516],"href":[513],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"iconEnd":[513,"icon-end"],"label":[1],"rel":[513],"selected":[1540],"target":[513],"selectionMode":[1,"selection-mode"],"scale":[513],"setFocus":[64]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"],[16,"calciteInternalDropdownItemChange","updateActiveItemOnChange"]]],[17,"calcite-dropdown-group",{"groupTitle":[513,"group-title"],"scale":[513],"selectionMode":[513,"selection-mode"]},[[0,"calciteInternalDropdownItemSelect","updateActiveItemOnChange"]],{"selectionMode":["handlePropsChange"]}],[17,"calcite-dropdown",{"open":[1540],"closeOnSelectDisabled":[516,"close-on-select-disabled"],"disabled":[516],"flipPlacements":[16],"maxItems":[514,"max-items"],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"selectedItems":[1040],"type":[513],"widthScale":[513,"width-scale"],"scale":[513],"setFocus":[64],"reposition":[64]},[[8,"click","closeCalciteDropdownOnClick"],[0,"calciteInternalDropdownCloseRequest","closeCalciteDropdownOnEvent"],[8,"calciteDropdownOpen","closeCalciteDropdownOnOpenEvent"],[1,"pointerenter","pointerEnterHandler"],[1,"pointerleave","pointerLeaveHandler"],[0,"calciteInternalDropdownItemKeyEvent","calciteInternalDropdownItemKeyEvent"],[0,"calciteInternalDropdownItemSelect","handleItemSelect"]],{"open":["openHandler"],"disabled":["handleDisabledChange"],"flipPlacements":["flipPlacementsHandler"],"maxItems":["maxItemsHandler"],"overlayPositioning":["overlayPositioningHandler"],"placement":["placementHandler"],"scale":["handlePropsChange"]}]]],["calcite-graph_2",[[17,"calcite-slider",{"disabled":[516],"fillPlacement":[513,"fill-placement"],"form":[513],"groupSeparator":[516,"group-separator"],"hasHistogram":[1540,"has-histogram"],"histogram":[16],"histogramStops":[16],"labelHandles":[516,"label-handles"],"labelFormatter":[16],"labelTicks":[516,"label-ticks"],"max":[514],"maxLabel":[1,"max-label"],"maxValue":[1026,"max-value"],"min":[514],"minLabel":[1,"min-label"],"minValue":[1026,"min-value"],"mirrored":[516],"name":[513],"numberingSystem":[1,"numbering-system"],"pageStep":[514,"page-step"],"precise":[516],"required":[516],"snap":[516],"step":[514],"ticks":[514],"value":[1538],"scale":[513],"effectiveLocale":[32],"minMaxValueRange":[32],"minValueDragRange":[32],"maxValueDragRange":[32],"tickValues":[32],"setFocus":[64]},[[1,"pointerdown","pointerDownHandler"]],{"histogram":["histogramWatcher"],"ticks":["ticksWatcher"],"value":["valueHandler"],"minValue":["minMaxValueHandler"],"maxValue":["minMaxValueHandler"]}],[1,"calcite-graph",{"data":[16],"colorStops":[16],"highlightMin":[2,"highlight-min"],"highlightMax":[2,"highlight-max"],"min":[514],"max":[514]}]]],["calcite-stack",[[1,"calcite-stack",{"disabled":[516],"hasActionsStart":[32],"hasActionsEnd":[32],"hasContentStart":[32],"hasContentEnd":[32]}]]],["calcite-switch",[[1,"calcite-switch",{"disabled":[516],"form":[513],"label":[1],"name":[513],"scale":[513],"checked":[1540],"value":[8],"setFocus":[64]}]]],["calcite-action-group",[[17,"calcite-action-group",{"expanded":[516],"label":[1],"layout":[513],"columns":[514],"menuOpen":[1540,"menu-open"],"overlayPositioning":[513,"overlay-positioning"],"scale":[513],"menuFlipPlacements":[16],"menuPlacement":[513,"menu-placement"],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"hasMenuActions":[32],"setFocus":[64]},null,{"expanded":["expandedHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-table-cell_2",[[1,"calcite-table-header",{"alignment":[513],"colSpan":[514,"col-span"],"description":[513],"heading":[513],"rowSpan":[514,"row-span"],"interactionMode":[1,"interaction-mode"],"lastCell":[4,"last-cell"],"numberCell":[4,"number-cell"],"parentRowAlignment":[1,"parent-row-alignment"],"parentRowIsSelected":[4,"parent-row-is-selected"],"parentRowType":[1,"parent-row-type"],"positionInRow":[2,"position-in-row"],"scale":[1],"selectedRowCount":[2,"selected-row-count"],"selectedRowCountLocalized":[1,"selected-row-count-localized"],"selectionCell":[4,"selection-cell"],"selectionMode":[1,"selection-mode"],"bodyRowCount":[2,"body-row-count"],"messages":[1040],"messageOverrides":[1040],"defaultMessages":[32],"focused":[32],"screenReaderText":[32],"effectiveLocale":[32],"setFocus":[64]},null,{"selectedRowCount":["onSelectedChange"],"selectedRowCountLocalized":["onSelectedChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-table-cell",{"alignment":[513],"colSpan":[514,"col-span"],"rowSpan":[514,"row-span"],"disabled":[4],"interactionMode":[1,"interaction-mode"],"lastCell":[4,"last-cell"],"numberCell":[4,"number-cell"],"parentRowIsSelected":[4,"parent-row-is-selected"],"parentRowAlignment":[1,"parent-row-alignment"],"parentRowPositionLocalized":[1,"parent-row-position-localized"],"parentRowType":[1,"parent-row-type"],"positionInRow":[2,"position-in-row"],"readCellContentsToAT":[4,"read-cell-contents-to-a-t"],"scale":[1],"selectionCell":[4,"selection-cell"],"messages":[1040],"messageOverrides":[1040],"contentsText":[32],"defaultMessages":[32],"focused":[32],"selectionText":[32],"effectiveLocale":[32],"setFocus":[64]},null,{"parentRowIsSelected":["onSelectedChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-handle",[[1,"calcite-handle",{"selected":[1540],"disabled":[516],"dragHandle":[513,"drag-handle"],"messages":[1040],"setPosition":[2,"set-position"],"setSize":[2,"set-size"],"label":[1],"blurUnselectDisabled":[4,"blur-unselect-disabled"],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64]},null,{"messages":["handleAriaTextChange"],"label":["handleAriaTextChange"],"selected":["handleAriaTextChange"],"setPosition":["handleAriaTextChange"],"setSize":["handleAriaTextChange"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-checkbox",[[1,"calcite-checkbox",{"checked":[1540],"disabled":[516],"form":[513],"guid":[1537],"hovered":[516],"indeterminate":[1540],"label":[1],"name":[513],"required":[516],"scale":[513],"status":[513],"validity":[1040],"value":[8],"setFocus":[64]}]]],["calcite-card",[[1,"calcite-card",{"loading":[516],"thumbnailPosition":[513,"thumbnail-position"],"disabled":[516],"label":[1],"selectable":[516],"selected":[1540],"messages":[1040],"selectionMode":[1,"selection-mode"],"messageOverrides":[1040],"effectiveLocale":[32],"hasThumbnail":[32],"hasHeading":[32],"hasDescription":[32],"hasSubtitle":[32],"hasTitle":[32],"hasFooterStart":[32],"hasFooterEnd":[32],"defaultMessages":[32],"hasContent":[32],"setFocus":[64]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-fab",[[1,"calcite-fab",{"appearance":[513],"kind":[513],"disabled":[516],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"label":[1],"loading":[516],"scale":[513],"text":[1],"textEnabled":[516,"text-enabled"],"setFocus":[64]}]]],["calcite-inline-editable",[[17,"calcite-inline-editable",{"disabled":[516],"editingEnabled":[1540,"editing-enabled"],"loading":[1540],"controls":[516],"scale":[1537],"afterConfirm":[16],"messages":[1040],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32],"setFocus":[64]},[[0,"calciteInternalInputBlur","blurHandler"]],{"disabled":["disabledWatcher"],"editingEnabled":["editingEnabledWatcher"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-modal",[[1,"calcite-modal",{"open":[1540],"opened":[1540],"beforeClose":[16],"closeButtonDisabled":[516,"close-button-disabled"],"focusTrapDisabled":[516,"focus-trap-disabled"],"outsideCloseDisabled":[516,"outside-close-disabled"],"docked":[516],"embedded":[1028],"escapeDisabled":[516,"escape-disabled"],"scale":[513],"widthScale":[513,"width-scale"],"fullscreen":[516],"kind":[513],"messages":[1040],"messageOverrides":[1040],"cssWidth":[32],"cssHeight":[32],"hasFooter":[32],"hasContentTop":[32],"hasContentBottom":[32],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64],"updateFocusTrapElements":[64],"scrollContent":[64]},[[8,"keydown","handleEscape"]],{"focusTrapDisabled":["handleFocusTrapDisabled"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"],"open":["toggleModal"],"opened":["handleOpenedChange"]}]]],["calcite-alert",[[1,"calcite-alert",{"active":[4],"openAlertCount":[2,"open-alert-count"],"open":[1540],"autoClose":[516,"auto-close"],"autoCloseDuration":[513,"auto-close-duration"],"embedded":[1028],"kind":[513],"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"label":[1],"numberingSystem":[513,"numbering-system"],"placement":[513],"scale":[513],"messages":[1040],"messageOverrides":[1040],"queue":[513],"defaultMessages":[32],"effectiveLocale":[32],"numberStringFormatter":[32],"hasEndActions":[32],"isFocused":[32],"setFocus":[64]},null,{"active":["handleActiveChange"],"open":["openHandler"],"autoCloseDuration":["updateDuration"],"messageOverrides":["onMessagesChange"],"queue":["handleQueueChange"],"effectiveLocale":["effectiveLocaleChange"],"numberingSystem":["numberingSystemChange"]}]]],["calcite-rating",[[1,"calcite-rating",{"average":[514],"count":[514],"disabled":[516],"form":[513],"messages":[1040],"messageOverrides":[1040],"name":[513],"readOnly":[516,"read-only"],"required":[516],"scale":[513],"showChip":[516,"show-chip"],"value":[1538],"effectiveLocale":[32],"defaultMessages":[32],"hoverValue":[32],"setFocus":[64]},null,{"messageOverrides":["onMessagesChange"],"value":["handleValueUpdate"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-notice",[[1,"calcite-notice",{"open":[1540],"kind":[513],"closable":[516],"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"scale":[513],"width":[513],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"setFocus":[64]},null,{"open":["openHandler"],"messageOverrides":["onMessagesChange"],"icon":["updateRequestedIcon"],"kind":["updateRequestedIcon"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-card-group",[[1,"calcite-card-group",{"disabled":[516],"label":[1],"selectionMode":[513,"selection-mode"],"selectedItems":[1040],"setFocus":[64]},[[0,"calciteInternalCardKeyEvent","calciteInternalCardKeyEventListener"],[0,"calciteCardSelect","calciteCardSelectListener"]],{"selectionMode":["onSelectionModeChange"]}]]],["calcite-chip-group",[[1,"calcite-chip-group",{"disabled":[516],"label":[1],"scale":[513],"selectionMode":[513,"selection-mode"],"selectedItems":[1040],"setFocus":[64]},[[0,"calciteInternalChipKeyEvent","calciteInternalChipKeyEventListener"],[0,"calciteChipClose","calciteChipCloseListener"],[0,"calciteChipSelect","calciteChipSelectListener"],[0,"calciteInternalChipSelect","calciteInternalChipSelectListener"],[0,"calciteInternalSyncSelectedChips","calciteInternalSyncSelectedChips"]],{"selectionMode":["onSelectionModeChange"]}]]],["calcite-flow",[[1,"calcite-flow",{"customItemSelectors":[1,"custom-item-selectors"],"flowDirection":[32],"itemCount":[32],"items":[32],"back":[64],"setFocus":[64]},[[0,"calciteFlowItemBack","handleItemBackClick"]]]]],["calcite-meter",[[1,"calcite-meter",{"appearance":[513],"disabled":[516],"fillType":[513,"fill-type"],"form":[513],"groupSeparator":[516,"group-separator"],"high":[1538],"label":[1],"low":[1538],"max":[514],"min":[514],"name":[513],"numberingSystem":[1,"numbering-system"],"rangeLabels":[516,"range-labels"],"rangeLabelType":[513,"range-label-type"],"scale":[513],"unitLabel":[1,"unit-label"],"value":[1026],"valueLabel":[516,"value-label"],"valueLabelType":[513,"value-label-type"],"currentPercent":[32],"effectiveLocale":[32],"highActive":[32],"highPercent":[32],"lowActive":[32],"lowPercent":[32]},null,{"min":["handleRangeChange"],"max":["handleRangeChange"],"low":["handleRangeChange"],"high":["handleRangeChange"],"value":["handleRangeChange"],"rangeLabels":["handleLabelChange"],"rangeLabelType":["handleLabelChange"],"unitLabel":["handleLabelChange"],"valueLabel":["handleLabelChange"],"valueLabelType":["handleLabelChange"]}]]],["calcite-sortable-list",[[1,"calcite-sortable-list",{"canPull":[16],"canPut":[16],"dragSelector":[513,"drag-selector"],"group":[513],"handleSelector":[513,"handle-selector"],"layout":[513],"disabled":[516],"loading":[516]},[[0,"calciteHandleNudge","calciteHandleNudgeNextHandler"]]]]],["calcite-avatar",[[1,"calcite-avatar",{"scale":[513],"thumbnail":[513],"fullName":[513,"full-name"],"username":[513],"userId":[513,"user-id"],"label":[1],"thumbnailFailedToLoad":[32]}]]],["calcite-link",[[1,"calcite-link",{"disabled":[516],"download":[520],"href":[513],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"rel":[1],"target":[1],"setFocus":[64]},[[0,"click","clickHandler"]]]]],["calcite-pagination",[[17,"calcite-pagination",{"groupSeparator":[516,"group-separator"],"messages":[1040],"messageOverrides":[1040],"numberingSystem":[1,"numbering-system"],"pageSize":[1538,"page-size"],"scale":[513],"startItem":[1538,"start-item"],"totalItems":[514,"total-items"],"defaultMessages":[32],"effectiveLocale":[32],"maxItems":[32],"totalPages":[32],"lastStartItem":[32],"isXXSmall":[32],"setFocus":[64],"nextPage":[64],"previousPage":[64],"goTo":[64]},null,{"messageOverrides":["onMessagesChange"],"totalItems":["handleTotalPages","handleLastStartItemChange"],"pageSize":["handleTotalPages","handleLastStartItemChange"],"effectiveLocale":["effectiveLocaleChange"],"totalPages":["handleLastStartItemChange"],"maxItems":["handleIsXXSmall"]}]]],["calcite-label",[[1,"calcite-label",{"alignment":[513],"for":[513],"scale":[513],"layout":[513]},null,{"for":["handleForChange"]}]]],["calcite-radio-button",[[1,"calcite-radio-button",{"checked":[1540],"disabled":[516],"focused":[1540],"form":[513],"guid":[1537],"hovered":[1540],"label":[1],"name":[513],"required":[516],"scale":[513],"value":[1032],"setFocus":[64],"emitCheckedChange":[64]},[[1,"pointerenter","pointerEnterHandler"],[1,"pointerleave","pointerLeaveHandler"]],{"hidden":["handleHiddenChange"],"checked":["checkedChanged"],"disabled":["disabledChanged"],"name":["nameChanged"]}]]],["calcite-popover",[[1,"calcite-popover",{"autoClose":[516,"auto-close"],"closable":[516],"flipDisabled":[516,"flip-disabled"],"focusTrapDisabled":[516,"focus-trap-disabled"],"pointerDisabled":[516,"pointer-disabled"],"flipPlacements":[16],"heading":[1],"headingLevel":[514,"heading-level"],"label":[1],"messageOverrides":[1040],"messages":[1040],"offsetDistance":[514,"offset-distance"],"offsetSkidding":[514,"offset-skidding"],"open":[1540],"overlayPositioning":[513,"overlay-positioning"],"placement":[513],"referenceElement":[1,"reference-element"],"scale":[513],"triggerDisabled":[516,"trigger-disabled"],"effectiveLocale":[32],"floatingLayout":[32],"effectiveReferenceElement":[32],"defaultMessages":[32],"reposition":[64],"setFocus":[64],"updateFocusTrapElements":[64]},null,{"focusTrapDisabled":["handleFocusTrapDisabled"],"flipPlacements":["flipPlacementsHandler"],"messageOverrides":["onMessagesChange"],"offsetDistance":["offsetDistanceOffsetHandler"],"offsetSkidding":["offsetSkiddingHandler"],"open":["openHandler"],"overlayPositioning":["overlayPositioningHandler"],"placement":["placementHandler"],"referenceElement":["referenceElementHandler"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-panel",[[1,"calcite-panel",{"beforeClose":[16],"closed":[1540],"disabled":[516],"closable":[516],"collapsed":[516],"collapseDirection":[1,"collapse-direction"],"collapsible":[516],"headingLevel":[514,"heading-level"],"loading":[516],"heading":[1],"description":[1],"menuFlipPlacements":[16],"menuOpen":[516,"menu-open"],"menuPlacement":[513,"menu-placement"],"messageOverrides":[1040],"messages":[1040],"overlayPositioning":[513,"overlay-positioning"],"scale":[513],"isClosed":[32],"hasStartActions":[32],"hasEndActions":[32],"hasMenuItems":[32],"hasHeaderContent":[32],"hasActionBar":[32],"hasContentBottom":[32],"hasContentTop":[32],"hasFab":[32],"hasFooterActions":[32],"hasFooterContent":[32],"hasFooterEndContent":[32],"hasFooterStartContent":[32],"defaultMessages":[32],"effectiveLocale":[32],"showHeaderContent":[32],"setFocus":[64],"scrollContentTo":[64]},null,{"closed":["toggleDialog"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-input-number",[[1,"calcite-input-number",{"alignment":[513],"autofocus":[4],"clearable":[516],"disabled":[516],"enterKeyHint":[1,"enter-key-hint"],"form":[513],"groupSeparator":[516,"group-separator"],"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"inputMode":[1,"input-mode"],"integer":[4],"label":[1],"loading":[516],"numberingSystem":[513,"numbering-system"],"localeFormat":[4,"locale-format"],"max":[514],"min":[514],"maxLength":[514,"max-length"],"minLength":[514,"min-length"],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"numberButtonType":[513,"number-button-type"],"placeholder":[1],"prefixText":[1,"prefix-text"],"readOnly":[516,"read-only"],"required":[516],"scale":[513],"status":[513],"step":[520],"autocomplete":[1],"suffixText":[1,"suffix-text"],"editingEnabled":[1540,"editing-enabled"],"value":[1025],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"displayedValue":[32],"slottedActionElDisabledInternally":[32],"setFocus":[64],"selectText":[64]},null,{"autofocus":["handleGlobalAttributesChanged"],"enterkeyhint":["handleGlobalAttributesChanged"],"inputmode":["handleGlobalAttributesChanged"],"disabled":["disabledWatcher"],"max":["maxWatcher"],"min":["minWatcher"],"messageOverrides":["onMessagesChange"],"value":["valueWatcher"],"icon":["updateRequestedIcon"],"effectiveLocale":["effectiveLocaleWatcher"]}]]],["calcite-input",[[1,"calcite-input",{"alignment":[513],"autofocus":[4],"clearable":[516],"disabled":[516],"enterKeyHint":[1,"enter-key-hint"],"form":[513],"groupSeparator":[516,"group-separator"],"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"inputMode":[1,"input-mode"],"label":[1],"loading":[516],"numberingSystem":[513,"numbering-system"],"localeFormat":[4,"locale-format"],"max":[514],"min":[514],"maxLength":[514,"max-length"],"minLength":[514,"min-length"],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"numberButtonType":[513,"number-button-type"],"placeholder":[1],"prefixText":[1,"prefix-text"],"readOnly":[516,"read-only"],"required":[516],"scale":[513],"status":[513],"step":[520],"autocomplete":[1],"pattern":[1],"accept":[1],"multiple":[4],"suffixText":[1,"suffix-text"],"editingEnabled":[1540,"editing-enabled"],"type":[513],"value":[1025],"files":[16],"messages":[1040],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32],"displayedValue":[32],"slottedActionElDisabledInternally":[32],"setFocus":[64],"selectText":[64]},null,{"autofocus":["handleGlobalAttributesChanged"],"enterkeyhint":["handleGlobalAttributesChanged"],"inputmode":["handleGlobalAttributesChanged"],"disabled":["disabledWatcher"],"max":["maxWatcher"],"min":["minWatcher"],"messageOverrides":["onMessagesChange"],"value":["valueWatcher"],"icon":["updateRequestedIcon"],"type":["updateRequestedIcon"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-filter",[[17,"calcite-filter",{"items":[16],"disabled":[516],"filteredItems":[1040],"filterProps":[16],"placeholder":[1],"scale":[513],"value":[1025],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"filter":[64],"setFocus":[64]},null,{"items":["watchItemsHandler"],"filterProps":["filterPropsHandler"],"messageOverrides":["onMessagesChange"],"value":["valueHandler"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-tab_4",[[1,"calcite-tab-nav",{"storageId":[513,"storage-id"],"syncId":[513,"sync-id"],"selectedTitle":[1040],"scale":[1],"layout":[1537],"position":[1],"bordered":[1540],"messages":[1040],"messageOverrides":[1040],"defaultMessages":[32],"effectiveLocale":[32],"hasOverflowingStartTabTitle":[32],"hasOverflowingEndTabTitle":[32],"selectedTabId":[32]},[[0,"calciteInternalTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteInternalTabsFocusNext","focusNextTabHandler"],[0,"calciteInternalTabsFocusFirst","focusFirstTabHandler"],[0,"calciteInternalTabsFocusLast","focusLastTabHandler"],[0,"calciteInternalTabsActivate","internalActivateTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteInternalTabsClose","internalCloseTabHandler"],[0,"calciteInternalTabTitleRegister","updateTabTitles"],[16,"calciteInternalTabChange","globalInternalTabChangeHandler"]],{"selectedTitle":["selectedTitleChanged"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"],"selectedTabId":["selectedTabIdChanged"]}],[1,"calcite-tab-title",{"selected":[1540],"closable":[516],"closed":[1540],"disabled":[516],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"layout":[1537],"position":[1],"scale":[1],"bordered":[1540],"tab":[513],"messages":[1040],"messageOverrides":[1040],"controls":[32],"defaultMessages":[32],"effectiveLocale":[32],"hasText":[32],"getTabIndex":[64],"getTabIdentifier":[64],"updateAriaInfo":[64],"activateTab":[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]],{"selected":["selectedHandler"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-tab",{"tab":[513],"selected":[1540],"scale":[1],"labeledBy":[32],"getTabIndex":[64],"updateAriaInfo":[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"]]],[1,"calcite-tabs",{"layout":[513],"position":[513],"scale":[513],"bordered":[4],"titles":[32],"tabs":[32]},[[0,"calciteInternalTabNavSlotChange","calciteInternalTabNavSlotChangeHandler"]],{"position":["handleInheritableProps"],"scale":["handleInheritableProps"],"titles":["titlesWatcher"],"tabs":["tabsWatcher"]}]]],["calcite-color-picker_3",[[1,"calcite-color-picker",{"allowEmpty":[516,"allow-empty"],"alphaChannel":[4,"alpha-channel"],"channelsDisabled":[4,"channels-disabled"],"clearable":[516],"color":[1040],"disabled":[516],"format":[513],"hideChannels":[516,"hide-channels"],"hexDisabled":[4,"hex-disabled"],"hideHex":[516,"hide-hex"],"hideSaved":[516,"hide-saved"],"savedDisabled":[516,"saved-disabled"],"scale":[513],"storageId":[513,"storage-id"],"messageOverrides":[1040],"numberingSystem":[513,"numbering-system"],"value":[1025],"messages":[1040],"channelMode":[32],"channels":[32],"defaultMessages":[32],"dimensions":[32],"effectiveLocale":[32],"savedColors":[32],"colorFieldScopeTop":[32],"colorFieldScopeLeft":[32],"hueScopeLeft":[32],"opacityScopeLeft":[32],"scopeOrientation":[32],"setFocus":[64]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]],{"allowEmpty":["handleAllowEmptyOrClearableChange"],"clearable":["handleAllowEmptyOrClearableChange"],"alphaChannel":["handleAlphaChannelChange","handleAlphaChannelDimensionsChange","handleFormatOrAlphaChannelChange"],"dimensions":["handleAlphaChannelDimensionsChange"],"color":["handleColorChange"],"format":["handleFormatOrAlphaChannelChange"],"scale":["handleScaleChange"],"messageOverrides":["onMessagesChange"],"value":["handleValueChange"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-color-picker-hex-input",{"allowEmpty":[4,"allow-empty"],"alphaChannel":[4,"alpha-channel"],"hexLabel":[1,"hex-label"],"messages":[16],"numberingSystem":[1,"numbering-system"],"scale":[513],"value":[1537],"internalColor":[32],"setFocus":[64]},null,{"value":["handleValueChange"]}],[1,"calcite-color-picker-swatch",{"active":[516],"color":[1],"scale":[513]},null,{"color":["handleColorChange"]}]]],["calcite-combobox_3",[[1,"calcite-combobox",{"clearDisabled":[516,"clear-disabled"],"filterText":[1537,"filter-text"],"selectionDisplay":[513,"selection-display"],"open":[1540],"disabled":[516],"form":[513],"label":[1],"placeholder":[1],"placeholderIcon":[513,"placeholder-icon"],"placeholderIconFlipRtl":[516,"placeholder-icon-flip-rtl"],"maxItems":[514,"max-items"],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"allowCustomValues":[516,"allow-custom-values"],"overlayPositioning":[513,"overlay-positioning"],"required":[516],"selectionMode":[513,"selection-mode"],"scale":[513],"status":[513],"value":[1025],"flipPlacements":[16],"messages":[1040],"messageOverrides":[1040],"selectedItems":[1040],"filteredItems":[1040],"readOnly":[516,"read-only"],"items":[32],"groupItems":[32],"needsIcon":[32],"activeItemIndex":[32],"activeChipIndex":[32],"activeDescendant":[32],"compactSelectionDisplay":[32],"selectedHiddenChipsCount":[32],"selectedVisibleChipsCount":[32],"effectiveLocale":[32],"defaultMessages":[32],"reposition":[64],"setFocus":[64]},[[4,"click","documentClickHandler"],[0,"calciteComboboxItemChange","calciteComboboxItemChangeHandler"],[0,"calciteInternalComboboxItemChange","calciteInternalComboboxItemChangeHandler"]],{"filterText":["filterTextChange"],"open":["openHandler"],"disabled":["handleDisabledChange"],"maxItems":["maxItemsHandler"],"overlayPositioning":["overlayPositioningHandler"],"selectionMode":["handlePropsChange"],"scale":["handlePropsChange"],"value":["valueHandler"],"messageOverrides":["onMessagesChange"],"flipPlacements":["flipPlacementsHandler"],"selectedItems":["selectedItemsHandler"],"effectiveLocale":["effectiveLocaleChange"]}],[1,"calcite-combobox-item-group",{"afterEmptyGroup":[516,"after-empty-group"],"ancestors":[1040],"label":[1],"scale":[1]}],[1,"calcite-combobox-item",{"active":[516],"ancestors":[1040],"description":[1],"disabled":[516],"filterDisabled":[516,"filter-disabled"],"filterTextMatchPattern":[16],"guid":[513],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"metadata":[16],"scale":[1],"selected":[1540],"selectionMode":[513,"selection-mode"],"shortHeading":[1,"short-heading"],"heading":[1],"textLabel":[513,"text-label"],"value":[8],"label":[8]},null,{"disabled":["handleComboboxItemPropsChange"],"textLabel":["handleComboboxItemPropsChange"],"selected":["selectedWatchHandler"]}]]],["calcite-input-text",[[1,"calcite-input-text",{"alignment":[513],"autofocus":[4],"clearable":[516],"disabled":[516],"enterKeyHint":[1,"enter-key-hint"],"form":[513],"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"inputMode":[1,"input-mode"],"label":[1],"loading":[516],"maxLength":[514,"max-length"],"minLength":[514,"min-length"],"validationMessage":[1,"validation-message"],"validationIcon":[520,"validation-icon"],"validity":[1040],"name":[513],"placeholder":[1],"prefixText":[1,"prefix-text"],"readOnly":[516,"read-only"],"required":[516],"scale":[513],"status":[513],"autocomplete":[1],"pattern":[1],"suffixText":[1,"suffix-text"],"editingEnabled":[1540,"editing-enabled"],"value":[1025],"messages":[1040],"messageOverrides":[1040],"effectiveLocale":[32],"defaultMessages":[32],"slottedActionElDisabledInternally":[32],"setFocus":[64],"selectText":[64]},null,{"autofocus":["handleGlobalAttributesChanged"],"enterkeyhint":["handleGlobalAttributesChanged"],"inputmode":["handleGlobalAttributesChanged"],"disabled":["disabledWatcher"],"messageOverrides":["onMessagesChange"],"value":["valueWatcher"],"icon":["updateRequestedIcon"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-chip",[[1,"calcite-chip",{"disabled":[516],"appearance":[513],"kind":[513],"closable":[516],"icon":[513],"iconFlipRtl":[516,"icon-flip-rtl"],"scale":[513],"label":[1],"value":[8],"closed":[1540],"selectionMode":[1,"selection-mode"],"selected":[1540],"messageOverrides":[1040],"messages":[1040],"interactive":[4],"parentChipGroup":[16],"defaultMessages":[32],"effectiveLocale":[32],"hasText":[32],"hasImage":[32],"setFocus":[64]},[[0,"keydown","keyDownHandler"],[0,"click","clickHandler"]],{"selected":["watchSelected"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-button",[[1,"calcite-button",{"alignment":[513],"appearance":[513],"label":[1],"kind":[513],"disabled":[516],"form":[513],"download":[520],"href":[513],"iconEnd":[513,"icon-end"],"iconFlipRtl":[513,"icon-flip-rtl"],"iconStart":[513,"icon-start"],"loading":[516],"name":[513],"rel":[513],"round":[516],"scale":[513],"splitChild":[520,"split-child"],"target":[513],"type":[513],"width":[513],"messages":[1040],"messageOverrides":[1040],"hasContent":[32],"effectiveLocale":[32],"defaultMessages":[32],"tooltipText":[32],"setFocus":[64]},null,{"aria-expanded":["handleGlobalAttributesChanged"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-date-picker_4",[[17,"calcite-date-picker",{"activeDate":[1040],"activeRange":[513,"active-range"],"value":[1025],"headingLevel":[514,"heading-level"],"valueAsDate":[1040],"minAsDate":[1040],"maxAsDate":[1040],"min":[513],"max":[513],"numberingSystem":[513,"numbering-system"],"scale":[513],"range":[516],"proximitySelectionDisabled":[516,"proximity-selection-disabled"],"messageOverrides":[1040],"messages":[1040],"activeEndDate":[32],"activeStartDate":[32],"dateTimeFormat":[32],"defaultMessages":[32],"effectiveLocale":[32],"endAsDate":[32],"hoverRange":[32],"localeData":[32],"mostRecentRangeValue":[32],"startAsDate":[32],"setFocus":[64],"reset":[64]},null,{"activeDate":["activeDateWatcher"],"valueAsDate":["valueAsDateWatcher"],"min":["onMinChanged"],"max":["onMaxChanged"],"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange","loadLocaleData"],"value":["valueHandler"]}],[1,"calcite-date-picker-month",{"dateTimeFormat":[16],"selectedDate":[16],"activeDate":[16],"startDate":[16],"endDate":[16],"min":[16],"max":[16],"scale":[513],"localeData":[16],"hoverRange":[16]},[[1,"pointerout","pointerOutHandler"]]],[1,"calcite-date-picker-month-header",{"selectedDate":[16],"activeDate":[16],"headingLevel":[2,"heading-level"],"min":[16],"max":[16],"scale":[513],"localeData":[16],"messages":[1040],"nextMonthDate":[32],"prevMonthDate":[32]},null,{"min":["setNextPrevMonthDates"],"max":["setNextPrevMonthDates"],"activeDate":["setNextPrevMonthDates"]}],[1,"calcite-date-picker-day",{"day":[2],"dateTimeFormat":[16],"disabled":[516],"currentMonth":[516,"current-month"],"selected":[516],"highlighted":[516],"range":[516],"rangeEdge":[513,"range-edge"],"startOfRange":[516,"start-of-range"],"endOfRange":[516,"end-of-range"],"rangeHover":[516,"range-hover"],"active":[516],"scale":[513],"value":[16],"setFocus":[64]},[[1,"pointerover","pointerOverHandler"]]]]],["calcite-scrim",[[1,"calcite-scrim",{"loading":[516],"messages":[1040],"messageOverrides":[1040],"loaderScale":[32],"defaultMessages":[32],"effectiveLocale":[32],"hasContent":[32]},null,{"messageOverrides":["onMessagesChange"],"effectiveLocale":["effectiveLocaleChange"]}]]],["calcite-progress",[[1,"calcite-progress",{"type":[513],"value":[2],"label":[1],"text":[1],"reversed":[516]}]]],["calcite-input-message",[[1,"calcite-input-message",{"icon":[520],"iconFlipRtl":[516,"icon-flip-rtl"],"scale":[513],"status":[513]},null,{"status":["handleIconEl"],"icon":["handleIconEl"]}]]],["calcite-loader",[[1,"calcite-loader",{"complete":[1540],"inline":[516],"label":[1],"scale":[513],"type":[513],"value":[2],"text":[1],"effectiveLocale":[32]},null,{"value":["valueChangeHandler"],"effectiveLocale":["formatterPropsChange"],"type":["formatterPropsChange"]}]]]]'),t)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();const hMe="arcgis-map-components",dMe={allRenderFn:!0,appendChildSlotFix:!1,asyncLoading:!0,asyncQueue:!1,attachStyles:!0,cloneNodeFix:!1,cmpDidLoad:!0,cmpDidRender:!0,cmpDidUnload:!1,cmpDidUpdate:!1,cmpShouldUpdate:!1,cmpWillLoad:!0,cmpWillRender:!1,cmpWillUpdate:!1,connectedCallback:!1,constructableCSS:!0,cssAnnotations:!0,devTools:!1,disconnectedCallback:!0,element:!1,event:!0,experimentalSlotFixes:!1,formAssociated:!1,hasRenderFn:!0,hostListener:!1,hostListenerTarget:!1,hostListenerTargetBody:!1,hostListenerTargetDocument:!1,hostListenerTargetParent:!1,hostListenerTargetWindow:!1,hotModuleReplacement:!1,hydrateClientSide:!1,hydrateServerSide:!1,hydratedAttribute:!0,hydratedClass:!1,initializeNextTick:!1,invisiblePrehydration:!0,isDebug:!1,isDev:!1,isTesting:!1,lazyLoad:!0,lifecycle:!0,lifecycleDOMEvents:!1,member:!0,method:!0,mode:!1,observeAttribute:!0,profile:!1,prop:!0,propBoolean:!0,propMutable:!0,propNumber:!0,propString:!0,reflect:!0,scoped:!1,scopedSlotTextContentFix:!1,scriptDataOpts:!1,shadowDelegatesFocus:!1,shadowDom:!0,slot:!0,slotChildNodesFix:!1,slotRelocation:!0,state:!0,style:!0,svg:!1,taskQueue:!0,transformTagName:!1,updatable:!0,vdomAttribute:!0,vdomClass:!0,vdomFunctional:!1,vdomKey:!1,vdomListener:!0,vdomPropOrAttr:!0,vdomRef:!0,vdomRender:!0,vdomStyle:!1,vdomText:!0,vdomXlink:!1,watchCallback:!0};let vy,zee,z9,Uee=!1,hS=!1,TO=!1,Gee=!1,Lk=!1;const fze=e=>{const t=new URL(e,Lr.$resourcesUrl$);return t.origin!==Q2.location.origin?t.href:t.pathname},Yc=(e,t="")=>()=>{},pMe=(e,t)=>()=>{},fMe="{visibility:hidden}[hydrated]{visibility:inherit}",Wee="slot-fb{display:contents}slot-fb[hidden]{display:none}",wz={},yMe=e=>e!=null,IO=e=>(e=typeof e,e==="object"||e==="function");function qee(e){var t,i,r;return(r=(i=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||i===void 0?void 0:i.getAttribute("content"))!==null&&r!==void 0?r:void 0}const mMe=(e,t,...i)=>{let r=null,s=null,c=!1,f=!1;const m=[],b=T=>{for(let C=0;C<T.length;C++)r=T[C],Array.isArray(r)?b(r):r!=null&&typeof r!="boolean"&&((c=typeof e!="function"&&!IO(r))&&(r=String(r)),c&&f?m[m.length-1].$text$+=r:m.push(c?Pk(null,r):r),f=c)};if(b(i),t){t.name&&(s=t.name);{const T=t.className||t.class;T&&(t.class=typeof T!="object"?T:Object.keys(T).filter(C=>T[C]).join(" "))}}const x=Pk(e,null);return x.$attrs$=t,m.length>0&&(x.$children$=m),x.$name$=s,x},Pk=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i.$name$=null,i},gMe={},vMe=e=>e&&e.$tag$===gMe,bMe=(e,t)=>e!=null&&!IO(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,wMe=e=>op(e).$hostElement$,yze=(e,t,i)=>{const r=wMe(e);return{emit:s=>Bee(r,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:s})}},Bee=(e,t,i)=>{const r=Lr.ce(t,i);return e.dispatchEvent(r),r},_z=new WeakMap,_Me=(e,t,i)=>{let r=pS.get(e);qMe&&i?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,pS.set(e,r)},SMe=(e,t,i)=>{var r;const s=Hee(t),c=pS.get(s);if(e=e.nodeType===11?e:jo,c)if(typeof c=="string"){e=e.head||e;let f=_z.get(e),m;if(f||_z.set(e,f=new Set),!f.has(s)){{m=jo.createElement("style"),m.innerHTML=c;const b=(r=Lr.$nonce$)!==null&&r!==void 0?r:qee(jo);b!=null&&m.setAttribute("nonce",b),e.insertBefore(m,e.querySelector("link"))}t.$flags$&4&&(m.innerHTML+=Wee),f&&f.add(s)}}else e.adoptedStyleSheets.includes(c)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,c]);return s},$Me=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,r=t.$flags$,s=Yc("attachStyles",t.$tagName$),c=SMe(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);r&10&&(i["s-sc"]=c,i.classList.add(c+"-h")),s()},Hee=(e,t)=>"sc-"+e.$tagName$,Sz=(e,t,i,r,s,c)=>{if(i!==r){let f=Tz(e,t),m=t.toLowerCase();if(t==="class"){const b=e.classList,x=$z(i),T=$z(r);b.remove(...x.filter(C=>C&&!T.includes(C))),b.add(...T.filter(C=>C&&!x.includes(C)))}else if(t==="ref")r&&r(e);else if(!f&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):Tz(Q2,m)?t=m.slice(2):t=m[2]+t.slice(3),i||r){const b=t.endsWith(Jee);t=t.replace(EMe,""),i&&Lr.rel(e,t,i,b),r&&Lr.ael(e,t,r,b)}}else{const b=IO(r);if((f||b&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{const x=r??"";t==="list"?f=!1:(i==null||e[t]!=x)&&(e[t]=x)}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!f||c&4||s)&&!b&&(r=r===!0?"":r,e.setAttribute(t,r))}}},xMe=/\s/,$z=e=>e?e.split(xMe):[],Jee="Capture",EMe=new RegExp(Jee+"$"),Zee=(e,t,i,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,c=e&&e.$attrs$||wz,f=t.$attrs$||wz;for(r in c)r in f||Sz(s,r,c[r],void 0,i,t.$flags$);for(r in f)Sz(s,r,c[r],f[r],i,t.$flags$)},MO=(e,t,i,r)=>{var s;const c=t.$children$[i];let f=0,m,b,x;if(Uee||(TO=!0,c.$tag$==="slot"&&(vy&&r.classList.add(vy+"-s"),c.$flags$|=c.$children$?2:1)),c.$text$!==null)m=c.$elm$=jo.createTextNode(c.$text$);else if(c.$flags$&1)m=c.$elm$=jo.createTextNode("");else if(m=c.$elm$=jo.createElement(c.$flags$&2?"slot-fb":c.$tag$),Zee(null,c,Gee),yMe(vy)&&m["s-si"]!==vy&&m.classList.add(m["s-si"]=vy),c.$children$)for(f=0;f<c.$children$.length;++f)b=MO(e,c,f,m),b&&m.appendChild(b);return m["s-hn"]=z9,c.$flags$&3&&(m["s-sr"]=!0,m["s-fs"]=(s=c.$attrs$)===null||s===void 0?void 0:s.slot,m["s-cr"]=zee,m["s-sn"]=c.$name$||"",x=e&&e.$children$&&e.$children$[i],x&&x.$tag$===c.$tag$&&e.$elm$&&h2(e.$elm$,!1)),m},h2=(e,t)=>{var i;Lr.$flags$|=1;const r=e.childNodes;for(let s=r.length-1;s>=0;s--){const c=r[s];c["s-hn"]!==z9&&c["s-ol"]&&(Qee(c).insertBefore(c,kO(c)),c["s-ol"].remove(),c["s-ol"]=void 0,c["s-sh"]=void 0,c.nodeType===1&&c.setAttribute("slot",(i=c["s-sn"])!==null&&i!==void 0?i:""),TO=!0),t&&h2(c,t)}Lr.$flags$&=-2},Kee=(e,t,i,r,s,c)=>{let f=e["s-cr"]&&e["s-cr"].parentNode||e,m;for(f.shadowRoot&&f.tagName===z9&&(f=f.shadowRoot);s<=c;++s)r[s]&&(m=MO(null,i,s,e),m&&(r[s].$elm$=m,f.insertBefore(m,kO(t))))},Yee=(e,t,i)=>{for(let r=t;r<=i;++r){const s=e[r];if(s){const c=s.$elm$;tte(s),c&&(hS=!0,c["s-ol"]?c["s-ol"].remove():h2(c,!0),c.remove())}}},TMe=(e,t,i,r,s=!1)=>{let c=0,f=0,m=t.length-1,b=t[0],x=t[m],T=r.length-1,C=r[0],L=r[T],N;for(;c<=m&&f<=T;)b==null?b=t[++c]:x==null?x=t[--m]:C==null?C=r[++f]:L==null?L=r[--T]:b5(b,C,s)?(Xv(b,C,s),b=t[++c],C=r[++f]):b5(x,L,s)?(Xv(x,L,s),x=t[--m],L=r[--T]):b5(b,L,s)?((b.$tag$==="slot"||L.$tag$==="slot")&&h2(b.$elm$.parentNode,!1),Xv(b,L,s),e.insertBefore(b.$elm$,x.$elm$.nextSibling),b=t[++c],L=r[--T]):b5(x,C,s)?((b.$tag$==="slot"||L.$tag$==="slot")&&h2(x.$elm$.parentNode,!1),Xv(x,C,s),e.insertBefore(x.$elm$,b.$elm$),x=t[--m],C=r[++f]):(N=MO(t&&t[f],i,f,e),C=r[++f],N&&Qee(b.$elm$).insertBefore(N,kO(b.$elm$)));c>m?Kee(e,r[T+1]==null?null:r[T+1].$elm$,i,r,f,T):f>T&&Yee(t,c,m)},b5=(e,t,i=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:!0:!1,kO=e=>e&&e["s-ol"]||e,Qee=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Xv=(e,t,i=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,c=t.$children$,f=t.$tag$,m=t.$text$;let b;m===null?(f==="slot"||Zee(e,t,Gee),s!==null&&c!==null?TMe(r,s,t,c,i):c!==null?(e.$text$!==null&&(r.textContent=""),Kee(r,null,t,c,0,c.length-1)):s!==null&&Yee(s,0,s.length-1)):(b=r["s-cr"])?b.parentNode.textContent=m:e.$text$!==m&&(r.data=m)},Xee=e=>{const t=e.childNodes;for(const i of t)if(i.nodeType===1){if(i["s-sr"]){const r=i["s-sn"];i.hidden=!1;for(const s of t)if(s!==i){if(s["s-hn"]!==i["s-hn"]||r!==""){if(s.nodeType===1&&(r===s.getAttribute("slot")||r===s["s-sn"])){i.hidden=!0;break}}else if(s.nodeType===1||s.nodeType===3&&s.textContent.trim()!==""){i.hidden=!0;break}}}Xee(i)}},Pc=[],ete=e=>{let t,i,r;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const c=s["s-sn"];for(r=i.length-1;r>=0;r--)if(t=i[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"]&&!dMe.experimentalSlotFixes)if(xz(t,c)){let f=Pc.find(m=>m.$nodeToRelocate$===t);hS=!0,t["s-sn"]=t["s-sn"]||c,f?(f.$nodeToRelocate$["s-sh"]=s["s-hn"],f.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Pc.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Pc.map(m=>{xz(m.$nodeToRelocate$,t["s-sn"])&&(f=Pc.find(b=>b.$nodeToRelocate$===t),f&&!m.$slotRefNode$&&(m.$slotRefNode$=f.$slotRefNode$))})}else Pc.some(f=>f.$nodeToRelocate$===t)||Pc.push({$nodeToRelocate$:t})}s.nodeType===1&&ete(s)}},xz=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",tte=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(tte)},IMe=(e,t,i=!1)=>{var r,s,c,f;const m=e.$hostElement$,b=e.$cmpMeta$,x=e.$vnode$||Pk(null,null),T=vMe(t)?t:mMe(null,null,t);if(z9=m.tagName,b.$attrsToReflect$&&(T.$attrs$=T.$attrs$||{},b.$attrsToReflect$.map(([C,L])=>T.$attrs$[L]=m[C])),i&&T.$attrs$)for(const C of Object.keys(T.$attrs$))m.hasAttribute(C)&&!["key","ref","style","class"].includes(C)&&(T.$attrs$[C]=m[C]);T.$tag$=null,T.$flags$|=4,e.$vnode$=T,T.$elm$=x.$elm$=m.shadowRoot||m,vy=m["s-sc"],zee=m["s-cr"],Uee=(b.$flags$&1)!==0,hS=!1,Xv(x,T,i);{if(Lr.$flags$|=1,TO){ete(T.$elm$);for(const C of Pc){const L=C.$nodeToRelocate$;if(!L["s-ol"]){const N=jo.createTextNode("");N["s-nr"]=L,L.parentNode.insertBefore(L["s-ol"]=N,L)}}for(const C of Pc){const L=C.$nodeToRelocate$,N=C.$slotRefNode$;if(N){const D=N.parentNode;let G=N.nextSibling;{let q=(r=L["s-ol"])===null||r===void 0?void 0:r.previousSibling;for(;q;){let J=(s=q["s-nr"])!==null&&s!==void 0?s:null;if(J&&J["s-sn"]===L["s-sn"]&&D===J.parentNode&&(J=J.nextSibling,!J||!J["s-nr"])){G=J;break}q=q.previousSibling}}(!G&&D!==L.parentNode||L.nextSibling!==G)&&L!==G&&(!L["s-hn"]&&L["s-ol"]&&(L["s-hn"]=L["s-ol"].parentNode.nodeName),D.insertBefore(L,G),L.nodeType===1&&(L.hidden=(c=L["s-ih"])!==null&&c!==void 0?c:!1))}else L.nodeType===1&&(i&&(L["s-ih"]=(f=L.hidden)!==null&&f!==void 0?f:!1),L.hidden=!0)}}hS&&Xee(T.$elm$),Lr.$flags$&=-2,Pc.length=0}},ite=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(i=>e.$onRenderResolve$=i))},CO=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return ite(e,e.$ancestorComponent$),HMe(()=>MMe(e,t))},MMe=(e,t)=>{const i=Yc("scheduleUpdate",e.$cmpMeta$.$tagName$),r=e.$lazyInstance$;let s;return t&&(s=dS(r,"componentWillLoad")),i(),kMe(s,()=>AMe(e,r,t))},kMe=(e,t)=>CMe(e)?e.then(t):t(),CMe=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",AMe=async(e,t,i)=>{var r;const s=e.$hostElement$,c=Yc("update",e.$cmpMeta$.$tagName$),f=s["s-rc"];i&&$Me(e);const m=Yc("render",e.$cmpMeta$.$tagName$);OMe(e,t,s,i),f&&(f.map(b=>b()),s["s-rc"]=void 0),m(),c();{const b=(r=s["s-p"])!==null&&r!==void 0?r:[],x=()=>LMe(e);b.length===0?x():(Promise.all(b).then(x),e.$flags$|=4,b.length=0)}},OMe=(e,t,i,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,IMe(e,t,r)}catch(s){pt(s,e.$hostElement$)}return null},LMe=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,r=Yc("postUpdate",t),s=e.$lazyInstance$,c=e.$ancestorComponent$;dS(s,"componentDidRender"),e.$flags$&64?r():(e.$flags$|=64,nte(i),dS(s,"componentDidLoad"),r(),e.$onReadyResolve$(i),c||rte()),e.$onInstanceResolve$(i),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&OO(()=>CO(e,!1)),e.$flags$&=-517},rte=e=>{nte(jo.documentElement),OO(()=>Bee(Q2,"appload",{detail:{namespace:hMe}}))},dS=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(r){pt(r)}},nte=e=>e.setAttribute("hydrated",""),PMe=(e,t)=>op(e).$instanceValues$.get(t),FMe=(e,t,i,r)=>{const s=op(e),c=s.$hostElement$,f=s.$instanceValues$.get(t),m=s.$flags$,b=s.$lazyInstance$;i=bMe(i,r.$members$[t][0]);const x=Number.isNaN(f)&&Number.isNaN(i),T=i!==f&&!x;if((!(m&8)||f===void 0)&&T&&(s.$instanceValues$.set(t,i),b)){if(r.$watchers$&&m&128){const C=r.$watchers$[t];C&&C.map(L=>{try{b[L](i,f,t)}catch(N){pt(N,c)}})}(m&18)===2&&CO(s,!1)}},ste=(e,t,i)=>{var r;const s=e.prototype;if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const c=Object.entries(t.$members$);if(c.map(([f,[m]])=>{m&31||i&2&&m&32?Object.defineProperty(s,f,{get(){return PMe(this,f)},set(b){FMe(this,f,b,t)},configurable:!0,enumerable:!0}):i&1&&m&64&&Object.defineProperty(s,f,{value(...b){var x;const T=op(this);return(x=T==null?void 0:T.$onInstancePromise$)===null||x===void 0?void 0:x.then(()=>{var C;return(C=T.$lazyInstance$)===null||C===void 0?void 0:C[f](...b)})}})}),i&1){const f=new Map;s.attributeChangedCallback=function(m,b,x){Lr.jmp(()=>{var T;const C=f.get(m);if(this.hasOwnProperty(C))x=this[C],delete this[C];else{if(s.hasOwnProperty(C)&&typeof this[C]=="number"&&this[C]==x)return;if(C==null){const L=op(this),N=L==null?void 0:L.$flags$;if(N&&!(N&8)&&N&128&&x!==b){const D=L.$lazyInstance$,G=(T=t.$watchers$)===null||T===void 0?void 0:T[m];G==null||G.forEach(q=>{D[q]!=null&&D[q].call(D,x,b,m)})}return}}this[C]=x===null&&typeof this[C]=="boolean"?!1:x})},e.observedAttributes=Array.from(new Set([...Object.keys((r=t.$watchers$)!==null&&r!==void 0?r:{}),...c.filter(([m,b])=>b[0]&15).map(([m,b])=>{var x;const T=b[1]||m;return f.set(T,m),b[0]&512&&((x=t.$attrsToReflect$)===null||x===void 0||x.push([m,T])),T})]))}}return e},RMe=async(e,t,i,r)=>{let s;if(!(t.$flags$&32)){t.$flags$|=32;{if(s=GMe(i),s.then){const b=pMe();s=await s,b()}s.isProxied||(i.$watchers$=s.watchers,ste(s,i,2),s.isProxied=!0);const m=Yc("createInstance",i.$tagName$);t.$flags$|=8;try{new s(t)}catch(b){pt(b)}t.$flags$&=-9,t.$flags$|=128,m()}if(s.style){let m=s.style;const b=Hee(i);if(!pS.has(b)){const x=Yc("registerStyles",i.$tagName$);_Me(b,m,!!(i.$flags$&1)),x()}}}const c=t.$ancestorComponent$,f=()=>CO(t,!0);c&&c["s-rc"]?c["s-rc"].push(f):f()},NMe=e=>{},jMe=e=>{if(!(Lr.$flags$&1)){const t=op(e),i=t.$cmpMeta$,r=Yc("connectedCallback",i.$tagName$);if(t.$flags$&1)t!=null&&t.$lazyInstance$||t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>NMe());else{t.$flags$|=1,i.$flags$&12&&DMe(e);{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){ite(t,t.$ancestorComponent$=s);break}}i.$members$&&Object.entries(i.$members$).map(([s,[c]])=>{if(c&31&&e.hasOwnProperty(s)){const f=e[s];delete e[s],e[s]=f}}),RMe(e,t,i)}r()}},DMe=e=>{const t=e["s-cr"]=jo.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Ez=e=>{dS(e,"disconnectedCallback")},VMe=async e=>{if(!(Lr.$flags$&1)){const t=op(e);t!=null&&t.$lazyInstance$?Ez(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>Ez(t.$lazyInstance$))}},zMe=(e,t={})=>{var i;const r=Yc(),s=[],c=t.exclude||[],f=Q2.customElements,m=jo.head,b=m.querySelector("meta[charset]"),x=jo.createElement("style"),T=[];let C,L=!0;Object.assign(Lr,t),Lr.$resourcesUrl$=new URL(t.resourcesUrl||"./",jo.baseURI).href;let N=!1;if(e.map(D=>{D[1].map(G=>{var q;const J={$flags$:G[0],$tagName$:G[1],$members$:G[2],$listeners$:G[3]};J.$flags$&4&&(N=!0),J.$members$=G[2],J.$attrsToReflect$=[],J.$watchers$=(q=G[4])!==null&&q!==void 0?q:{};const ne=J.$tagName$,ue=class extends HTMLElement{constructor(ae){super(ae),ae=this,UMe(ae,J),J.$flags$&1&&ae.attachShadow({mode:"open"})}connectedCallback(){C&&(clearTimeout(C),C=null),L?T.push(this):Lr.jmp(()=>jMe(this))}disconnectedCallback(){Lr.jmp(()=>VMe(this))}componentOnReady(){return op(this).$onReadyPromise$}};J.$lazyBundleId$=D[0],!c.includes(ne)&&!f.get(ne)&&(s.push(ne),f.define(ne,ste(ue,J,1)))})}),N&&(x.innerHTML+=Wee),x.innerHTML+=s+fMe,x.innerHTML.length){x.setAttribute("data-styles","");const D=(i=Lr.$nonce$)!==null&&i!==void 0?i:qee(jo);D!=null&&x.setAttribute("nonce",D),m.insertBefore(x,b?b.nextSibling:m.firstChild)}L=!1,T.length?T.map(D=>D.connectedCallback()):Lr.jmp(()=>C=setTimeout(rte,30)),r()},AO=new WeakMap,op=e=>AO.get(e),mze=(e,t)=>AO.set(t.$lazyInstance$=e,t),UMe=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return i.$onInstancePromise$=new Promise(r=>i.$onInstanceResolve$=r),i.$onReadyPromise$=new Promise(r=>i.$onReadyResolve$=r),e["s-p"]=[],e["s-rc"]=[],AO.set(e,i)},Tz=(e,t)=>t in e,pt=(e,t)=>(0,console.error)(e,t),uE=new Map,GMe=(e,t,i)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,c=uE.get(s);if(c)return c[r];{const f=m=>(uE.set(s,m),m[r]);switch(s){case"arcgis-basemap-gallery_2":return te(()=>import("./arcgis-basemap-gallery_2.entry-DbOyPVWf.js"),__vite__mapDeps([501,502,503,504])).then(f,pt);case"arcgis-area-measurement-2d":return te(()=>import("./arcgis-area-measurement-2d.entry-ByJ1otwd.js"),__vite__mapDeps([505,502,503,504])).then(f,pt);case"arcgis-area-measurement-3d":return te(()=>import("./arcgis-area-measurement-3d.entry-DZipszDN.js"),__vite__mapDeps([506,502,503,504])).then(f,pt);case"arcgis-attachments":return te(()=>import("./arcgis-attachments.entry-BgRx_rHJ.js"),__vite__mapDeps([507,502,503,504])).then(f,pt);case"arcgis-basemap-layer-list":return te(()=>import("./arcgis-basemap-layer-list.entry-B4Zqbp2M.js"),__vite__mapDeps([508,502,503,504])).then(f,pt);case"arcgis-basemap-toggle":return te(()=>import("./arcgis-basemap-toggle.entry-Bf-0fGYp.js"),__vite__mapDeps([509,502,503,504])).then(f,pt);case"arcgis-bookmarks":return te(()=>import("./arcgis-bookmarks.entry-B3M_HS4h.js"),__vite__mapDeps([510,502,503,504])).then(f,pt);case"arcgis-building-explorer":return te(()=>import("./arcgis-building-explorer.entry-BOVhD3PN.js"),__vite__mapDeps([511,502,503,504])).then(f,pt);case"arcgis-compass":return te(()=>import("./arcgis-compass.entry-Cg__POo1.js"),__vite__mapDeps([512,502,503,504])).then(f,pt);case"arcgis-coordinate-conversion":return te(()=>import("./arcgis-coordinate-conversion.entry-sIYgjMvM.js"),__vite__mapDeps([513,502,503,504])).then(f,pt);case"arcgis-daylight":return te(()=>import("./arcgis-daylight.entry-dk-2MBE8.js"),__vite__mapDeps([514,502,503,504])).then(f,pt);case"arcgis-directional-pad":return te(()=>import("./arcgis-directional-pad.entry-CGLWSu8T.js"),__vite__mapDeps([515,502,503,504])).then(f,pt);case"arcgis-directions":return te(()=>import("./arcgis-directions.entry-BmstSM5w.js"),__vite__mapDeps([516,502,503,504])).then(f,pt);case"arcgis-directline-measurement-3d":return te(()=>import("./arcgis-directline-measurement-3d.entry-BHJOZViE.js"),__vite__mapDeps([517,502,503,504])).then(f,pt);case"arcgis-distance-measurement-2d":return te(()=>import("./arcgis-distance-measurement-2d.entry-BuIv7fVV.js"),__vite__mapDeps([518,502,503,504])).then(f,pt);case"arcgis-editor":return te(()=>import("./arcgis-editor.entry-BurLKOvf.js"),__vite__mapDeps([519,502,503,504])).then(f,pt);case"arcgis-elevation-profile":return te(()=>import("./arcgis-elevation-profile.entry-BWn3SlCI.js"),__vite__mapDeps([520,502,503,504])).then(f,pt);case"arcgis-feature":return te(()=>import("./arcgis-feature.entry-BccNo9r_.js"),__vite__mapDeps([521,502,503,504])).then(f,pt);case"arcgis-feature-form":return te(()=>import("./arcgis-feature-form.entry-BMuQ3AqG.js"),__vite__mapDeps([522,502,503,504])).then(f,pt);case"arcgis-feature-table":return te(()=>import("./arcgis-feature-table.entry-CmvJccy3.js"),__vite__mapDeps([523,502,503,504])).then(f,pt);case"arcgis-feature-templates":return te(()=>import("./arcgis-feature-templates.entry-PIcU481E.js"),__vite__mapDeps([524,502,503,504])).then(f,pt);case"arcgis-features":return te(()=>import("./arcgis-features.entry-BCGi4bh8.js"),__vite__mapDeps([525,502,503,504])).then(f,pt);case"arcgis-floor-filter":return te(()=>import("./arcgis-floor-filter.entry-x55kSVv1.js"),__vite__mapDeps([526,502,503,504])).then(f,pt);case"arcgis-fullscreen":return te(()=>import("./arcgis-fullscreen.entry-D5-br35J.js"),__vite__mapDeps([527,502,503,504])).then(f,pt);case"arcgis-histogram":return te(()=>import("./arcgis-histogram.entry-Cg0msYw6.js"),__vite__mapDeps([528,502,503])).then(f,pt);case"arcgis-histogram-range-slider":return te(()=>import("./arcgis-histogram-range-slider.entry-B9LTSog8.js"),__vite__mapDeps([529,502,503,504])).then(f,pt);case"arcgis-home":return te(()=>import("./arcgis-home.entry-C8MiIc6L.js"),__vite__mapDeps([530,502,503,504])).then(f,pt);case"arcgis-layer-list":return te(()=>import("./arcgis-layer-list.entry-QZnbyFjR.js"),__vite__mapDeps([531,502,503,504])).then(f,pt);case"arcgis-legend":return te(()=>import("./arcgis-legend.entry-CFe6mApc.js"),__vite__mapDeps([532,502,503,504])).then(f,pt);case"arcgis-line-of-sight":return te(()=>import("./arcgis-line-of-sight.entry-D4UEdIdF.js"),__vite__mapDeps([533,502,503,504])).then(f,pt);case"arcgis-locate":return te(()=>import("./arcgis-locate.entry-Dyp0dW_M.js"),__vite__mapDeps([534,502,503,504])).then(f,pt);case"arcgis-measurement":return te(()=>import("./arcgis-measurement.entry-s6a5nDbo.js"),__vite__mapDeps([535,502,503,504])).then(f,pt);case"arcgis-navigation-toggle":return te(()=>import("./arcgis-navigation-toggle.entry-Bry4LY7H.js"),__vite__mapDeps([536,502,503,504])).then(f,pt);case"arcgis-placement":return te(()=>import("./arcgis-placement.entry-CtyOgJWZ.js"),__vite__mapDeps([537,503,504])).then(f,pt);case"arcgis-print":return te(()=>import("./arcgis-print.entry-BMrVSurv.js"),__vite__mapDeps([538,502,503,504])).then(f,pt);case"arcgis-scale-bar":return te(()=>import("./arcgis-scale-bar.entry-DJm518WT.js"),__vite__mapDeps([539,502,503,504])).then(f,pt);case"arcgis-scale-range-slider":return te(()=>import("./arcgis-scale-range-slider.entry-B929TIBu.js"),__vite__mapDeps([540,502,503,504])).then(f,pt);case"arcgis-scene":return te(()=>import("./arcgis-scene.entry-B8UjKgpi.js"),__vite__mapDeps([541,502,503])).then(f,pt);case"arcgis-search":return te(()=>import("./arcgis-search.entry-CIVFL8R9.js"),__vite__mapDeps([542,502,503,504])).then(f,pt);case"arcgis-shadow-cast":return te(()=>import("./arcgis-shadow-cast.entry-BXolW1T-.js"),__vite__mapDeps([543,502,503,504])).then(f,pt);case"arcgis-sketch":return te(()=>import("./arcgis-sketch.entry-CVWvftpV.js"),__vite__mapDeps([544,502,503,504])).then(f,pt);case"arcgis-slice":return te(()=>import("./arcgis-slice.entry-dGw9A_vO.js"),__vite__mapDeps([545,502,503,504])).then(f,pt);case"arcgis-slider":return te(()=>import("./arcgis-slider.entry-CSQ7NDKW.js"),__vite__mapDeps([546,502,503,504])).then(f,pt);case"arcgis-swipe":return te(()=>import("./arcgis-swipe.entry-Bv4yMX9b.js"),__vite__mapDeps([547,502,503,504])).then(f,pt);case"arcgis-table-list":return te(()=>import("./arcgis-table-list.entry-CVLVwkUi.js"),__vite__mapDeps([548,502,503,504])).then(f,pt);case"arcgis-time-slider":return te(()=>import("./arcgis-time-slider.entry-BTCpAexE.js"),__vite__mapDeps([549,502,503,504])).then(f,pt);case"arcgis-track":return te(()=>import("./arcgis-track.entry-C7gRHr4O.js"),__vite__mapDeps([550,502,503,504])).then(f,pt);case"arcgis-utility-network-associations":return te(()=>import("./arcgis-utility-network-associations.entry-BIDH-TBF.js"),__vite__mapDeps([551,502,503,504])).then(f,pt);case"arcgis-utility-network-trace":return te(()=>import("./arcgis-utility-network-trace.entry-DsrgEd_J.js"),__vite__mapDeps([552,502,503,504])).then(f,pt);case"arcgis-utility-network-validate-topology":return te(()=>import("./arcgis-utility-network-validate-topology.entry-QAEwm8Ln.js"),__vite__mapDeps([553,502,503,504])).then(f,pt);case"arcgis-value-picker":return te(()=>import("./arcgis-value-picker.entry-D0ZUxL0o.js"),__vite__mapDeps([554,502,503,504])).then(f,pt);case"arcgis-version-management":return te(()=>import("./arcgis-version-management.entry-BR3ylGOL.js"),__vite__mapDeps([555,502])).then(f,pt);case"arcgis-weather":return te(()=>import("./arcgis-weather.entry-CF5vtS03.js"),__vite__mapDeps([556,502,503,504])).then(f,pt);case"arcgis-zoom":return te(()=>import("./arcgis-zoom.entry-Cfvj-RJi.js"),__vite__mapDeps([557,502,503,504])).then(f,pt);case"arcgis-version-management-service-item_2":return te(()=>import("./arcgis-version-management-service-item_2.entry-leaLhUGD.js"),__vite__mapDeps([558,502])).then(f,pt);case"arcgis-version-management-version-item_2":return te(()=>import("./arcgis-version-management-version-item_2.entry-Db_GJgrv.js"),__vite__mapDeps([559,502])).then(f,pt);case"arcgis-expand":return te(()=>import("./arcgis-expand.entry-Bjx-rQh1.js"),__vite__mapDeps([560,502,503,504])).then(f,pt)}}return te(()=>import(`./${s}.entry.js`),[]).then(f=>(uE.set(s,f),f[r]),pt)},pS=new Map,Q2=typeof window<"u"?window:{},jo=Q2.document||{head:{}},Lr={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},WMe=e=>Promise.resolve(e),qMe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Iz=[],ote=[],BMe=(e,t)=>i=>{e.push(i),Lk||(Lk=!0,Lr.$flags$&4?OO(Fk):Lr.raf(Fk))},Mz=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){pt(i)}e.length=0},Fk=()=>{Mz(Iz),Mz(ote),(Lk=Iz.length>0)&&Lr.raf(Fk)},OO=e=>WMe().then(e),HMe=BMe(ote);/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */const JMe=(e,t)=>{if(!(typeof window>"u"))return zMe(JSON.parse('[["arcgis-version-management",[[1,"arcgis-version-management",{"label":[1025],"position":[1],"view":[1040],"_lang":[32],"_t9nLocale":[32],"_t9nStrings":[32],"state":[32]},null,{"position":["positionWatcher"]}]]],["arcgis-attachments",[[0,"arcgis-attachments",{"referenceElement":[1,"reference-element"],"position":[1],"expandable":[4],"capabilities":[16],"displayType":[1,"display-type"],"graphic":[16],"submitting":[1028],"visibleElements":[16],"widget":[1040]},null,{"capabilities":["capabilitiesWatcher"],"displayType":["displayTypeWatcher"],"graphic":["graphicWatcher"],"visibleElements":["visibleElementsWatcher"]}]]],["arcgis-feature-form",[[0,"arcgis-feature-form",{"referenceElement":[1,"reference-element"],"position":[1],"expandable":[4],"feature":[16],"formTemplate":[16],"groupDisplay":[1,"group-display"],"layer":[16],"timeZone":[1,"time-zone"],"view":[1040],"widget":[1040],"getValues":[64],"submit":[64]},null,{"referenceElement":["referenceElementWatcher"],"position":["positionWatcher"],"feature":["featureWatcher"],"formTemplate":["formTemplateWatcher"],"groupDisplay":["groupDisplayWatcher"],"layer":["layerWatcher"],"timeZone":["timeZoneWatcher"],"view":["viewWatcher"]}]]],["arcgis-feature-templates",[[0,"arcgis-feature-templates",{"referenceElement":[1,"reference-element"],"position":[1],"expandable":[4],"widget":[1040],"enableListScroll":[4,"enable-list-scroll"],"filterFunction":[16],"filterText":[1,"filter-text"],"groupBy":[1,"group-by"],"layers":[16],"selectionMode":[1,"selection-mode"],"visibleElements":[16]},null,{"enableListScroll":["enableListScrolWatcher"],"filterFunction":["filterFunctionWatcher"],"filterText":["filterTextWatcher"],"groupBy":["groupByWatcher"],"layers":["layersWatcher"],"selectionMode":["selectionModeWatcher"],"visibleElements":["visibleElementsWatcher"]}]]],["arcgis-histogram",[[0,"arcgis-histogram",{"referenceElement":[1,"reference-element"],"average":[2],"barCreatedFunction":[16],"bins":[16],"dataLineCreatedFunction":[16],"dataLines":[16],"labelFormatFunction":[16],"layout":[1],"max":[2],"min":[2],"state":[1025],"position":[1],"expandable":[4],"widget":[1040]},null,{"average":["averageWatcher"],"barCreatedFunction":["barCreatedFunctionWatcher"],"bins":["binsWatcher"],"dataLineCreatedFunction":["dataLineCreatedFunctionWatcher"],"dataLines":["dataLinesWatcher"],"labelFormatFunction":["labelFormatFunctionWatcher"],"layout":["layoutWatcher"],"max":["maxWatcher"],"min":["minWatcher"]}]]],["arcgis-histogram-range-slider",[[0,"arcgis-histogram-range-slider",{"referenceElement":[1,"reference-element"],"average":[2],"barCreatedFunction":[16],"bins":[16],"dataLineCreatedFunction":[16],"dataLines":[16],"excludedBarColor":[16],"includedBarColor":[16],"labelFormatFunction":[16],"max":[2],"min":[2],"precision":[2],"rangeType":[1,"range-type"],"standardDeviation":[2,"standard-deviation"],"standardDeviationCount":[2,"standard-deviation-count"],"values":[16],"position":[1],"expandable":[4],"widget":[1040]},null,{"average":["averageWatcher"],"barCreatedFunction":["barCreatedFunctionWatcher"],"bins":["binsWatcher"],"dataLineCreatedFunction":["dataLineCreatedFunctionWatcher"],"dataLines":["dataLinesWatcher"],"excludedBarColor":["excludedBarColorWatcher"],"includedBarColor":["includedBarColorWatcher"],"labelFormatFunction":["labelFormatFunctionWatcher"],"max":["maxWatcher"],"min":["minWatcher"],"precision":["precisionWatcher"],"rangeType":["rangeTypeWatcher"],"standardDeviation":["standardDeviationWatcher"],"standardDeviationCount":["standardDeviationCountWatcher"],"values":["valuesWatcher"]}]]],["arcgis-slider",[[0,"arcgis-slider",{"referenceElement":[1,"reference-element"],"draggableSegmentsEnabled":[4,"draggable-segments-enabled"],"effectiveMax":[2,"effective-max"],"effectiveMin":[2,"effective-min"],"effectiveSegmentElements":[1040],"labelElements":[1040],"labelInputsEnabled":[4,"label-inputs-enabled"],"labels":[16],"layout":[1],"min":[2],"max":[2],"maxLabelElement":[1040],"minLabelElement":[1040],"precision":[2],"rangeLabelInputsEnabled":[4,"range-label-inputs-enabled"],"segmentElements":[1040],"snapOnClickEnabled":[4,"snap-on-click-enabled"],"syncedSegmentsEnabled":[4,"synced-segments-enabled"],"thumbElements":[1040],"thumbsConstrained":[4,"thumbs-constrained"],"tickConfigs":[16],"tickElements":[1040],"trackElement":[1040],"steps":[8],"values":[1],"position":[1],"expandable":[4],"widget":[1040]},null,{"draggableSegmentsEnabled":["draggableSegmentsEnabledWatcher"],"effectiveMax":["effectiveMaxWatcher"],"effectiveMin":["effectiveMinWatcher"],"layout":["layoutWatcher"],"min":["minWatcher"],"max":["maxWatcher"],"precision":["precisionWatcher"],"rangeLabelInputsEnabled":["rangeLabelInputsEnabledWatcher"],"snapOnClickEnabled":["snapOnClickEnabledWatcher"],"syncedSegmentsEnabled":["syncedSegmentsEnabledWatcher"],"thumbsConstrained":["thumbsConstrainedWatcher"],"tickConfigs":["tickConfigsWatcher"],"steps":["stepsWatcher"],"values":["valuesWatcher"]}]]],["arcgis-basemap-gallery_2",[[0,"arcgis-basemap-gallery",{"referenceElement":[1,"reference-element"],"activeBasemap":[1040],"disabled":[1540],"icon":[1],"source":[1040],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"disabled":["disabledWatcher"],"icon":["iconWatcher"],"source":["sourceWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}],[0,"arcgis-map",{"allLayerViews":[1040],"background":[1040],"basemapView":[1040],"basemap":[1025],"center":[1025],"constraints":[16],"destroyDisabled":[4,"destroy-disabled"],"extent":[1040],"fatalError":[1040],"floors":[16],"gamepad":[1040],"graphics":[1040],"highlightOptions":[16],"interacting":[1028],"itemId":[1537,"item-id"],"layerViews":[1040],"magnifier":[1040],"map":[1040],"navigating":[1028],"navigation":[1040],"padding":[16],"popup":[1040],"popupEnabled":[4,"popup-enabled"],"ready":[1028],"resizeAlign":[1,"resize-align"],"resolution":[1026],"rotation":[1026],"scale":[1026],"spatialReference":[1040],"stationary":[1028],"suspended":[1540],"theme":[16],"timeExtent":[16],"timeZone":[1,"time-zone"],"toMap":[1040],"toScreen":[1040],"updating":[1540],"viewpoint":[1040],"zoom":[1538],"view":[1040],"closePopup":[64],"destroy":[64],"goTo":[64],"hitTest":[64],"openPopup":[64],"takeScreenshot":[64],"tryFatalErrorRecovery":[64],"whenLayerView":[64]},null,{"background":["backgroundWatcher"],"basemap":["basemapWatcher"],"center":["centerWatcher"],"constraints":["constraintsWatcher"],"extent":["extentWatcher"],"floors":["floorsWatcher"],"graphics":["graphicsWatcher"],"highlightOptions":["highlightOptionsWatcher"],"itemId":["itemIdWatcher"],"map":["mapWatcher"],"navigation":["navigationWatcher"],"padding":["paddingWatcher"],"popup":["popupWatcher"],"popupEnabled":["popupEnabledWatcher"],"resizeAlign":["resizeAlignWatcher"],"rotation":["rotationWatcher"],"scale":["scaleWatcher"],"spatialReference":["spatialReferenceWatcher"],"theme":["themeWatcher"],"timeExtent":["timeExtentWatcher"],"timeZone":["timeZoneWatcher"],"viewpoint":["viewpointWatcher"],"zoom":["zoomWatcher"]}]]],["arcgis-area-measurement-2d",[[0,"arcgis-area-measurement-2d",{"referenceElement":[1,"reference-element"],"icon":[1],"unit":[1025],"unitOptions":[16],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"unit":["unitWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-area-measurement-3d",[[0,"arcgis-area-measurement-3d",{"referenceElement":[1,"reference-element"],"analysis":[16],"icon":[1],"unit":[1025],"unitOptions":[16],"position":[1],"view":[1040],"widget":[1040],"clear":[64],"start":[64]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"unit":["unitWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-basemap-layer-list",[[0,"arcgis-basemap-layer-list",{"referenceElement":[1,"reference-element"],"baseFilterText":[1,"base-filter-text"],"baseItems":[1040],"baseListItemCreatedFunction":[16],"basemapTitle":[1025,"basemap-title"],"collapsed":[1540],"dragEnabled":[4,"drag-enabled"],"editingTitle":[4,"editing-title"],"filterPlaceholder":[1,"filter-placeholder"],"icon":[1],"minFilterItems":[2,"min-filter-items"],"referenceFilterText":[1,"reference-filter-text"],"referenceListItemCreatedFunction":[16],"selectedItems":[1040],"selectionMode":[1,"selection-mode"],"visibilityAppearance":[1,"visibility-appearance"],"visibleElementsBaseLayers":[4,"visible-elements-base-layers"],"visibleElementsCloseButton":[4,"visible-elements-close-button"],"visibleElementsCollapseButton":[4,"visible-elements-collapse-button"],"visibleElementsEditTitleButton":[4,"visible-elements-edit-title-button"],"visibleElementsErrors":[4,"visible-elements-errors"],"visibleElementsFilter":[4,"visible-elements-filter"],"visibleElementsFlow":[4,"visible-elements-flow"],"visibleElementsHeading":[4,"visible-elements-heading"],"visibleElementsReferenceLayers":[4,"visible-elements-reference-layers"],"visibleElementsStatusIndicators":[4,"visible-elements-status-indicators"],"visibleElementsTemporaryLayerIndicators":[4,"visible-elements-temporary-layer-indicators"],"view":[1040],"widget":[1040],"position":[1]},null,{"referenceElement":["referenceElementWatcher"],"baseFilterText":["baseFilterTextWatcher"],"baseListItemCreatedFunction":["baseListItemCreatedFunctionWatcher"],"basemapTitle":["basemapTitleWatcher"],"collapsed":["collapsedWatcher"],"dragEnabled":["dragEnabledWatcher"],"editingTitle":["editingTitleWatcher"],"filterPlaceholder":["filterPlaceholderWatcher"],"icon":["iconWatcher"],"minFilterItems":["minFilterItemsWatcher"],"referenceFilterText":["referenceFilterTextWatcher"],"referenceListItemCreatedFunction":["referenceListItemCreatedFunctionWatcher"],"selectionMode":["selectionModeWatcher"],"visibilityAppearance":["visibilityAppearanceWatcher"],"visibleElementsBaseLayers":["visibleElementsBaseLayersWatcher"],"visibleElementsCloseButton":["visibleElementsCloseButtonWatcher"],"visibleElementsCollapseButton":["visibleElementsCollapseButtonWatcher"],"visibleElementsEditTitleButton":["visibleElementsEditTitleButtonWatcher"],"visibleElementsErrors":["visibleElementsErrorsWatcher"],"visibleElementsFilter":["visibleElementsFilterWatcher"],"visibleElementsFlow":["visibleElementsFlowWatcher"],"visibleElementsHeading":["visibleElementsHeadingWatcher"],"visibleElementsReferenceLayers":["visibleElementsReferenceLayersWatcher"],"visibleElementsStatusIndicators":["visibleElementsStatusIndicatorsWatcher"],"visibleElementsTemporaryLayerIndicators":["visibleElementsTemporaryLayerIndicatorsWatcher"],"view":["viewWatcher"],"position":["positionWatcher"]}]]],["arcgis-basemap-toggle",[[0,"arcgis-basemap-toggle",{"referenceElement":[1,"reference-element"],"activeBasemap":[16],"nextBasemap":[1025,"next-basemap"],"visibleElementsTitle":[4,"visible-elements-title"],"position":[1],"view":[1040],"widget":[1040],"toggle":[64]},null,{"referenceElement":["referenceElementWatcher"],"nextBasemap":["nextBasemapWatcher"],"visibleElementsTitle":["visibleElementsTitleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-bookmarks",[[0,"arcgis-bookmarks",{"referenceElement":[1,"reference-element"],"bookmarks":[16],"defaultCreateOptions":[16],"defaultEditOptions":[16],"disabled":[1540],"dragEnabled":[4,"drag-enabled"],"filterPlaceholder":[1,"filter-placeholder"],"filterText":[1,"filter-text"],"icon":[1],"visibleElementsAddBookmarkButton":[4,"visible-elements-add-bookmark-button"],"visibleElementsCloseButton":[4,"visible-elements-close-button"],"visibleElementsCollapseButton":[4,"visible-elements-collapse-button"],"visibleElementsEditBookmarkButton":[4,"visible-elements-edit-bookmark-button"],"visibleElementsFilter":[4,"visible-elements-filter"],"visibleElementsFlow":[4,"visible-elements-flow"],"visibleElementsHeading":[4,"visible-elements-heading"],"visibleElementsThumbnail":[4,"visible-elements-thumbnail"],"visibleElementsTime":[4,"visible-elements-time"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"bookmarks":["bookmarksWatcher"],"defaultCreateOptions":["defaultCreateOptionsWatcher"],"defaultEditOptions":["defaultEditOptionsWatcher"],"disabled":["disabledWatcher"],"dragEnabled":["dragEnabledWatcher"],"filterPlaceholder":["filterPlaceholderWatcher"],"filterText":["filterTextWatcher"],"icon":["iconWatcher"],"visibleElementsAddBookmarkButton":["visibleElementsAddBookmarkButtonWatcher"],"visibleElementsCloseButton":["visibleElementsCloseButtonWatcher"],"visibleElementsCollapseButton":["visibleElementsCollapseButtonWatcher"],"visibleElementsEditBookmarkButton":["visibleElementsEditBookmarkButtonWatcher"],"visibleElementsFilter":["visibleElementsFilterWatcher"],"visibleElementsFlow":["visibleElementsFlowWatcher"],"visibleElementsHeading":["visibleElementsHeadingWatcher"],"visibleElementsThumbnail":["visibleElementsThumbnailWatcher"],"visibleElementsTime":["visibleElementsTimeWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-building-explorer",[[0,"arcgis-building-explorer",{"referenceElement":[1,"reference-element"],"icon":[1],"layers":[16],"level":[1040],"phase":[1040],"state":[1025],"visibleElementsLevels":[4,"visible-elements-levels"],"visibleElementsPhases":[4,"visible-elements-phases"],"visibleElementsDisciplines":[4,"visible-elements-disciplines"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"layers":["layersWatcher"],"visibleElementsLevels":["visibleElementsLevelsWatcher"],"visibleElementsPhases":["visibleElementsPhasesWatcher"],"visibleElementsDisciplines":["visibleElementsDisciplinesWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-compass",[[0,"arcgis-compass",{"referenceElement":[1,"reference-element"],"orientation":[1040],"icon":[1],"state":[1537],"position":[1],"view":[1040],"widget":[1040],"reset":[64]},null,{"referenceElement":["referenceElementWatcher"],"orientation":["orientationWatcher"],"icon":["iconWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-coordinate-conversion",[[0,"arcgis-coordinate-conversion",{"referenceElement":[1,"reference-element"],"conversions":[16],"currentLocation":[1040],"formats":[16],"icon":[1],"locationSymbol":[16],"mode":[1],"multipleConversions":[4,"multiple-conversions"],"orientation":[1],"storageEnabled":[4,"storage-enabled"],"storageType":[1,"storage-type"],"visibleElementsSettingsButton":[4,"visible-elements-settings-button"],"visibleElementsEditButton":[4,"visible-elements-edit-button"],"visibleElementsExpandButton":[4,"visible-elements-expand-button"],"visibleElementsCaptureButton":[4,"visible-elements-capture-button"],"position":[1],"view":[1040],"widget":[1040],"reverseConvert":[64]},null,{"referenceElement":["referenceElementWatcher"],"conversions":["conversionsWatcher"],"formats":["formatsWatcher"],"icon":["iconWatcher"],"locationSymbol":["locationSymbolWatcher"],"mode":["modeWatcher"],"multipleConversions":["multipleConversionsWatcher"],"orientation":["orientationWatcher"],"storageEnabled":["storageEnabledWatcher"],"storageType":["storageTypeWatcher"],"visibleElementsSettingsButton":["visibleElementsSettingsButtonWatcher"],"visibleElementsEditButton":["visibleElementsEditButtonWatcher"],"visibleElementsExpandButton":["visibleElementsExpandButtonWatcher"],"visibleElementsCaptureButton":["visibleElementsCaptureButtonWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-daylight",[[0,"arcgis-daylight",{"referenceElement":[1,"reference-element"],"currentSeason":[1,"current-season"],"dayPlaying":[4,"day-playing"],"yearPlaying":[4,"year-playing"],"dateOrSeason":[1,"date-or-season"],"icon":[1],"playSpeedMultiplier":[2,"play-speed-multiplier"],"timeSliderSteps":[2,"time-slider-steps"],"visibleElementsHeader":[4,"visible-elements-header"],"visibleElementsPlayButtons":[4,"visible-elements-play-buttons"],"visibleElementsDatePicker":[4,"visible-elements-date-picker"],"visibleElementsTimezone":[4,"visible-elements-timezone"],"visibleElementsSunLightingToggle":[4,"visible-elements-sun-lighting-toggle"],"visibleElementsShadowsToggle":[4,"visible-elements-shadows-toggle"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"currentSeason":["currentSeasonWatcher"],"dayPlaying":["dayPlayingWatcher"],"yearPlaying":["yearPlayingWatcher"],"dateOrSeason":["dateOrSeasonWatcher"],"icon":["iconWatcher"],"playSpeedMultiplier":["playSpeedMultiplierWatcher"],"timeSliderSteps":["timeSliderStepsWatcher"],"visibleElementsHeader":["visibleElementsHeaderWatcher"],"visibleElementsPlayButtons":["visibleElementsPlayButtonsWatcher"],"visibleElementsDatePicker":["visibleElementsDatePickerWatcher"],"visibleElementsTimezone":["visibleElementsTimezoneWatcher"],"visibleElementsSunLightingToggle":["visibleElementsSunLightingToggleWatcher"],"visibleElementsShadowsToggle":["visibleElementsShadowsToggleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-directional-pad",[[0,"arcgis-directional-pad",{"referenceElement":[1,"reference-element"],"icon":[1],"visualScale":[1,"visual-scale"],"position":[1],"view":[16],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"visualScale":["visualScaleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-directions",[[0,"arcgis-directions",{"referenceElement":[1,"reference-element"],"apiKey":[1,"api-key"],"icon":[1],"routeLayerItemId":[1,"route-layer-item-id"],"lastRoute":[1040],"layer":[16],"maxStops":[2,"max-stops"],"searchProperties":[16],"unit":[1],"useDefaultRouteLayer":[4,"use-default-route-layer"],"visibleElementsLayerDetails":[4,"visible-elements-layer-details"],"visibleElementsSaveAsButton":[4,"visible-elements-save-as-button"],"visibleElementsSaveButton":[4,"visible-elements-save-button"],"position":[1],"view":[1040],"widget":[1040],"getDirections":[64],"save":[64],"saveAs":[64],"zoomToRoute":[64]},null,{"referenceElement":["referenceElementWatcher"],"apiKey":["apiKeyWatcher"],"icon":["iconWatcher"],"routeLayerItemId":["routeLayerItemIdWatcher"],"layer":["layerWatcher"],"maxStops":["maxStopsWatcher"],"searchProperties":["searchPropertiesWatcher"],"unit":["unitWatcher"],"visibleElementsLayerDetails":["visibleElementsLayerDetailsWatcher"],"visibleElementsSaveAsButton":["visibleElementsSaveAsButtonWatcher"],"visibleElementsSaveButton":["visibleElementsSaveButtonWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-directline-measurement-3d",[[0,"arcgis-directline-measurement-3d",{"referenceElement":[1,"reference-element"],"analysis":[1040],"icon":[1],"unit":[1],"unitOptions":[16],"position":[1],"view":[1040],"widget":[1040],"clear":[64],"start":[64]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"unit":["unitWatcher"],"unitOptions":["unitOptionsWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-distance-measurement-2d",[[0,"arcgis-distance-measurement-2d",{"referenceElement":[1,"reference-element"],"icon":[1],"unit":[1],"unitOptions":[16],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"unit":["unitWatcher"],"unitOptions":["unitOptionsWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-editor",[[0,"arcgis-editor",{"referenceElement":[1,"reference-element"],"activeWorkflow":[1040],"allowedWorkflows":[1,"allowed-workflows"],"icon":[1],"labelOptions":[16],"layerInfos":[16],"snappingOptions":[16],"supportingWidgetDefaults":[16],"tooltipOptions":[16],"visibleElementsCreateFeaturesSection":[4,"visible-elements-create-features-section"],"visibleElementsEditFeaturesSection":[4,"visible-elements-edit-features-section"],"visibleElementsLabelsToggle":[4,"visible-elements-labels-toggle"],"visibleElementsTooltipsToggle":[4,"visible-elements-tooltips-toggle"],"visibleElementsSnappingControls":[4,"visible-elements-snapping-controls"],"visibleElementsSnappingControlsHeader":[4,"visible-elements-snapping-controls-header"],"visibleElementsSnappingControlsEnabledToggle":[4,"visible-elements-snapping-controls-enabled-toggle"],"visibleElementsSnappingControlsSelfEnabledToggle":[4,"visible-elements-snapping-controls-self-enabled-toggle"],"visibleElementsSnappingControlsFeatureEnabledToggle":[4,"visible-elements-snapping-controls-feature-enabled-toggle"],"visibleElementsSnappingControlsLayerList":[4,"visible-elements-snapping-controls-layer-list"],"position":[1],"view":[1040],"widget":[1040],"cancelWorkflow":[64],"deleteFeatureFromWorkflow":[64],"startCreateFeaturesWorkflowAtFeatureCreation":[64],"startCreateFeaturesWorkflowAtFeatureTypeSelection":[64],"startUpdateWorkflowAtFeatureEdit":[64],"startUpdateWorkflowAtFeatureSelection":[64],"startUpdateWorkflowAtMultipleFeatureSelection":[64]},null,{"referenceElement":["referenceElementWatcher"],"allowedWorkflows":["allowedWorkflowsWatcher"],"icon":["iconWatcher"],"labelOptions":["labelOptionsWatcher"],"layerInfos":["layerInfosWatcher"],"snappingOptions":["snappingOptionsWatcher"],"supportingWidgetDefaults":["supportingWidgetDefaultsWatcher"],"tooltipOptions":["tooltipOptionsWatcher"],"visibleElementsCreateFeaturesSection":["visibleElementsCreateFeaturesSectionWatcher"],"visibleElementsEditFeaturesSection":["visibleElementsEditFeaturesSectionWatcher"],"visibleElementsLabelsToggle":["visibleElementsLabelsToggleWatcher"],"visibleElementsTooltipsToggle":["visibleElementsTooltipsToggleWatcher"],"visibleElementsSnappingControls":["visibleElementsSnappingControlsWatcher"],"visibleElementsSnappingControlsHeader":["visibleElementsSnappingControlsHeaderWatcher"],"visibleElementsSnappingControlsEnabledToggle":["visibleElementsSnappingControlsEnabledToggleWatcher"],"visibleElementsSnappingControlsSelfEnabledToggle":["visibleElementsSnappingControlsSelfEnabledToggleWatcher"],"visibleElementsSnappingControlsFeatureEnabledToggle":["visibleElementsSnappingControlsFeatureEnabledToggleWatcher"],"visibleElementsSnappingControlsLayerList":["visibleElementsSnappingControlsLayerListWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-elevation-profile",[[0,"arcgis-elevation-profile",{"referenceElement":[1,"reference-element"],"effectiveUnits":[1040],"highlightEnabled":[4,"highlight-enabled"],"hoveredChartPosition":[1026,"hovered-chart-position"],"icon":[1],"input":[1040],"profiles":[16],"progress":[1026],"state":[1025],"unit":[1],"uniformChartScaling":[4,"uniform-chart-scaling"],"unitOptions":[16],"visibleElementsLegend":[4,"visible-elements-legend"],"visibleElementsChart":[4,"visible-elements-chart"],"visibleElementsClearButton":[4,"visible-elements-clear-button"],"visibleElementsSettingsButton":[4,"visible-elements-settings-button"],"visibleElementsSketchButton":[4,"visible-elements-sketch-button"],"visibleElementsSelectButton":[4,"visible-elements-select-button"],"visibleElementsUnitSelector":[4,"visible-elements-unit-selector"],"visibleElementsUniformChartScalingToggle":[4,"visible-elements-uniform-chart-scaling-toggle"],"position":[1],"view":[1040],"widget":[1040],"start":[64],"stop":[64]},null,{"referenceElement":["referenceElementWatcher"],"highlightEnabled":["highlightEnabledWatcher"],"icon":["iconWatcher"],"input":["inputWatcher"],"profiles":["profilesWatcher"],"unit":["unitWatcher"],"uniformChartScaling":["uniformChartScalingWatcher"],"unitOptions":["unitOptionsWatcher"],"visibleElementsLegend":["visibleElementsLegendWatcher"],"visibleElementsChart":["visibleElementsChartWatcher"],"visibleElementsClearButton":["visibleElementsClearButtonWatcher"],"visibleElementsSettingsButton":["visibleElementsSettingsButtonWatcher"],"visibleElementsSketchButton":["visibleElementsSketchButtonWatcher"],"visibleElementsSelectButton":["visibleElementsSelectButtonWatcher"],"visibleElementsUnitSelector":["visibleElementsUnitSelectorWatcher"],"visibleElementsUniformChartScalingToggle":["visibleElementsUniformChartScalingToggleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-feature",[[0,"arcgis-feature",{"referenceElement":[1,"reference-element"],"defaultPopupTemplateEnabled":[4,"default-popup-template-enabled"],"graphic":[16],"location":[16],"map":[1040],"spatialReference":[16],"visibleElementsTitle":[4,"visible-elements-title"],"visibleElementsContentAttachments":[4,"visible-elements-content-attachments"],"visibleElementsContentFields":[4,"visible-elements-content-fields"],"visibleElementsContentMedia":[4,"visible-elements-content-media"],"visibleElementsContentText":[4,"visible-elements-content-text"],"visibleElementsContentExpression":[4,"visible-elements-content-expression"],"visibleElementsLastEditInfo":[4,"visible-elements-last-edit-info"],"position":[1],"view":[1040],"widget":[1040],"nextMedia":[64],"previousMedia":[64],"setActiveMedia":[64]},null,{"referenceElement":["referenceElementWatcher"],"defaultPopupTemplateEnabled":["defaultPopupTemplateEnabledWatcher"],"graphic":["graphicWatcher"],"location":["locationWatcher"],"spatialReference":["spatialReferenceWatcher"],"visibleElementsTitle":["visibleElementsTitleWatcher"],"visibleElementsContentAttachments":["visibleElementsContentAttachmentsWatcher"],"visibleElementsContentFields":["visibleElementsContentFieldsWatcher"],"visibleElementsContentMedia":["visibleElementsContentMediaWatcher"],"visibleElementsContentText":["visibleElementsContentTextWatcher"],"visibleElementsContentExpression":["visibleElementsContentExpressionWatcher"],"visibleElementsLastEditInfo":["visibleElementsLastEditInfoWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-feature-table",[[0,"arcgis-feature-table",{"referenceElement":[1,"reference-element"],"activeFilters":[1040],"activeSortOrders":[1040],"attachmentsEnabled":[4,"attachments-enabled"],"autoRefreshEnabled":[4,"auto-refresh-enabled"],"columnReorderingEnabled":[4,"column-reordering-enabled"],"columns":[1040],"editingEnabled":[4,"editing-enabled"],"filterGeometry":[16],"hiddenFields":[4,"hidden-fields"],"highlightEnabled":[4,"highlight-enabled"],"highlightIds":[16],"layer":[1040],"menu":[1040],"menuConfig":[16],"multiSortEnabled":[4,"multi-sort-enabled"],"pageSize":[2,"page-size"],"returnGeometryEnabled":[4,"return-geometry-enabled"],"state":[1025],"tableTemplate":[16],"timeZone":[1,"time-zone"],"itemId":[1,"item-id"],"url":[1],"visibleElementsHeader":[4,"visible-elements-header"],"visibleElementsMenu":[4,"visible-elements-menu"],"visibleElementsSelectionColumn":[4,"visible-elements-selection-column"],"visibleElementsColumnMenus":[4,"visible-elements-column-menus"],"visibleElementsMenuItemsClearSelection":[4,"visible-elements-menu-items-clear-selection"],"visibleElementsMenuItemsDeleteSelection":[4,"visible-elements-menu-items-delete-selection"],"visibleElementsMenuItemsRefreshData":[4,"visible-elements-menu-items-refresh-data"],"visibleElementsMenuItemsSelectedRecordsShowAllToggle":[4,"visible-elements-menu-items-selected-records-show-all-toggle"],"visibleElementsMenuItemsToggleColumns":[4,"visible-elements-menu-items-toggle-columns"],"visibleElementsMenuItemsZoomToSelection":[4,"visible-elements-menu-items-zoom-to-selection"],"view":[1040],"widget":[1040],"clearSelectionFilter":[64],"deleteSelection":[64],"filterBySelection":[64],"findColumn":[64],"hideColumn":[64],"refresh":[64],"scrollToIndex":[64],"showAllColumns":[64],"showColumn":[64],"sortColumn":[64],"zoomToSelection":[64]},null,{"referenceElement":["referenceElementWatcher"],"attachmentsEnabled":["attachmentsEnabledWatcher"],"autoRefreshEnabled":["autoRefreshEnabledWatcher"],"columnReorderingEnabled":["columnReorderingEnabledWatcher"],"editingEnabled":["editingEnabledWatcher"],"filterGeometry":["filterGeometryWatcher"],"hiddenFields":["hiddenFieldsWatcher"],"highlightEnabled":["highlightEnabledWatcher"],"highlightIds":["highlightIdsWatcher"],"layer":["layerWatcher"],"menuConfig":["menuConfigWatcher"],"multiSortEnabled":["multiSortEnabledWatcher"],"pageSize":["pageSizeWatcher"],"returnGeometryEnabled":["returnGeometryEnabledWatcher"],"tableTemplate":["tableTemplateWatcher"],"timeZone":["timeZoneWatcher"],"itemId":["itemIdWatcher"],"url":["urlWatcher"],"visibleElementsHeader":["visibleElementsHeaderWatcher"],"visibleElementsMenu":["visibleElementsMenuWatcher"],"visibleElementsSelectionColumn":["visibleElementsSelectionColumnWatcher"],"visibleElementsColumnMenus":["visibleElementsColumnMenusWatcher"],"visibleElementsMenuItemsClearSelection":["visibleElementsMenuItemsClearSelectionWatcher"],"visibleElementsMenuItemsDeleteSelection":["visibleElementsMenuItemsDeleteSelectionWatcher"],"visibleElementsMenuItemsRefreshData":["visibleElementsMenuItemsRefreshDataWatcher"],"visibleElementsMenuItemsSelectedRecordsShowAllToggle":["visibleElementsMenuItemsSelectedRecordsShowAllToggleWatcher"],"visibleElementsMenuItemsToggleColumns":["visibleElementsMenuItemsToggleColumnsWatcher"],"visibleElementsMenuItemsZoomToSelection":["visibleElementsMenuItemsZoomToSelectionWatcher"],"view":["viewWatcher"]}]]],["arcgis-features",[[0,"arcgis-features",{"referenceElement":[1,"reference-element"],"collapsed":[1540],"content":[1],"features":[16],"icon":[1],"promises":[1040],"selectedFeature":[1040],"selectedFeatureIndex":[1026,"selected-feature-index"],"featuresTitle":[1,"features-title"],"visibleElementsActionBar":[4,"visible-elements-action-bar"],"visibleElementsCloseButton":[4,"visible-elements-close-button"],"visibleElementsCollapseButton":[4,"visible-elements-collapse-button"],"visibleElementsFeatureNavigation":[4,"visible-elements-feature-navigation"],"visibleElementsHeading":[4,"visible-elements-heading"],"visibleElementsSpinner":[4,"visible-elements-spinner"],"position":[1],"view":[1040],"widget":[1040],"fetchFeatures":[64],"clear":[64],"close":[64],"next":[64],"open":[64],"previous":[64],"triggerAction":[64]},null,{"referenceElement":["referenceElementWatcher"],"content":["contentWatcher"],"features":["featuresWatcher"],"icon":["iconWatcher"],"featuresTitle":["featuresTitleWatcher"],"visibleElementsActionBar":["visibleElementsActionBarWatcher"],"visibleElementsCloseButton":["visibleElementsCloseButtonWatcher"],"visibleElementsCollapseButton":["visibleElementsCollapseButtonWatcher"],"visibleElementsFeatureNavigation":["visibleElementsFeatureNavigationWatcher"],"visibleElementsHeading":["visibleElementsHeadingWatcher"],"visibleElementsSpinner":["visibleElementsSpinnerWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-floor-filter",[[0,"arcgis-floor-filter",{"referenceElement":[1,"reference-element"],"facility":[1],"level":[1],"longNames":[4,"long-names"],"site":[1],"position":[1],"view":[1040],"widget":[1040],"updateWebDocument":[64]},null,{"referenceElement":["referenceElementWatcher"],"facility":["facilityWatcher"],"level":["levelWatcher"],"longNames":["longNamesWatcher"],"site":["siteWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-fullscreen",[[0,"arcgis-fullscreen",{"referenceElement":[1,"reference-element"],"element":[16],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"element":["elementWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-home",[[0,"arcgis-home",{"referenceElement":[1,"reference-element"],"icon":[1],"viewpoint":[16],"messageOverrides":[8,"message-overrides"],"position":[1],"view":[1040],"widget":[1040],"cancelGo":[64],"go":[64]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"viewpoint":["viewpointWatcher"],"messageOverrides":["messageOverridesWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-layer-list",[[0,"arcgis-layer-list",{"referenceElement":[1,"reference-element"],"collapsed":[1540],"dragEnabled":[4,"drag-enabled"],"filterPlaceholder":[1,"filter-placeholder"],"filterText":[1,"filter-text"],"icon":[1],"listItemCreatedFunction":[16],"minDragEnabledItems":[2,"min-drag-enabled-items"],"minFilterItems":[2,"min-filter-items"],"selectedItems":[1040],"selectionMode":[1,"selection-mode"],"visibilityAppearance":[1,"visibility-appearance"],"visibleElementsCloseButton":[4,"visible-elements-close-button"],"visibleElementsCollapseButton":[4,"visible-elements-collapse-button"],"visibleElementsErrors":[4,"visible-elements-errors"],"visibleElementsFilter":[4,"visible-elements-filter"],"visibleElementsFlow":[4,"visible-elements-flow"],"visibleElementsHeading":[4,"visible-elements-heading"],"visibleElementsStatusIndicators":[4,"visible-elements-status-indicators"],"visibleElementsTemporaryLayerIndicators":[4,"visible-elements-temporary-layer-indicators"],"position":[1],"view":[1040],"widget":[1040],"triggerAction":[64]},null,{"referenceElement":["referenceElementWatcher"],"collapsed":["collapsedWatcher"],"dragEnabled":["dragEnabledWatcher"],"filterPlaceholder":["filterPlaceholderWatcher"],"filterText":["filterTextWatcher"],"icon":["iconWatcher"],"listItemCreatedFunction":["listItemCreatedFunctionWatcher"],"minDragEnabledItems":["minDragEnabledItemsWatcher"],"minFilterItems":["minFilterItemsWatcher"],"selectionMode":["selectionModeWatcher"],"visibilityAppearance":["visibilityAppearanceWatcher"],"visibleElementsCloseButton":["visibleElementsCloseButtonWatcher"],"visibleElementsCollapseButton":["visibleElementsCollapseButtonWatcher"],"visibleElementsErrors":["visibleElementsErrorsWatcher"],"visibleElementsFilter":["visibleElementsFilterWatcher"],"visibleElementsFlow":["visibleElementsFlowWatcher"],"visibleElementsHeading":["visibleElementsHeadingWatcher"],"visibleElementsStatusIndicators":["visibleElementsStatusIndicatorsWatcher"],"visibleElementsTemporaryLayerIndicators":["visibleElementsTemporaryLayerIndicatorsWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-legend",[[0,"arcgis-legend",{"referenceElement":[1,"reference-element"],"activeLayerInfos":[16],"basemapLegendVisible":[4,"basemap-legend-visible"],"hideLayersNotInCurrentView":[4,"hide-layers-not-in-current-view"],"icon":[1],"respectLayerVisibilityDisabled":[4,"respect-layer-visibility-disabled"],"legendStyle":[1,"legend-style"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"activeLayerInfos":["activeLayerInfosWatcher"],"basemapLegendVisible":["basemapLegendVisibleWatcher"],"hideLayersNotInCurrentView":["hideLayersNotInCurrentViewWatcher"],"icon":["iconWatcher"],"respectLayerVisibilityDisabled":["respectLayerVisibilityDisabledWatcher"],"legendStyle":["styleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-line-of-sight",[[0,"arcgis-line-of-sight",{"referenceElement":[1,"reference-element"],"analysis":[1040],"icon":[1],"position":[1],"view":[1040],"widget":[1040],"clear":[64],"continue":[64],"start":[64],"stop":[64]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-locate",[[0,"arcgis-locate",{"referenceElement":[1,"reference-element"],"error":[1032],"geolocationOptions":[8,"geolocation-options"],"goToLocationDisabled":[4,"go-to-location-disabled"],"graphic":[16],"icon":[1],"popupDisabled":[4,"popup-disabled"],"scale":[2],"state":[1537],"position":[1],"view":[1040],"widget":[1040],"cancelLocate":[64],"locate":[64]},null,{"referenceElement":["referenceElementWatcher"],"geolocationOptions":["geolocationOptionsWatcher"],"goToLocationDisabled":["goToLocationDisabledWatcher"],"graphic":["graphicWatcher"],"icon":["iconWatcher"],"popupDisabled":["popupDisabledWatcher"],"scale":["scaleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-measurement",[[0,"arcgis-measurement",{"referenceElement":[1,"reference-element"],"activeTool":[1,"active-tool"],"activeComponent":[1040],"areaUnit":[1,"area-unit"],"icon":[1],"linearUnit":[1,"linear-unit"],"position":[1],"view":[1040],"widget":[1040],"clear":[64],"startMeasurement":[64]},null,{"referenceElement":["referenceElementWatcher"],"activeTool":["activeToolWatcher"],"areaUnit":["areaUnitWatcher"],"icon":["iconWatcher"],"linearUnit":["linearUnitWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-navigation-toggle",[[0,"arcgis-navigation-toggle",{"referenceElement":[1,"reference-element"],"layout":[1537],"position":[1],"view":[1040],"widget":[1040],"toggle":[64]},null,{"referenceElement":["referenceElementWatcher"],"layout":["layoutWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-placement",[[4,"arcgis-placement",{"referenceElement":[1,"reference-element"],"view":[1040],"position":[1]},null,{"referenceElement":["referenceElementWatcher"],"position":["positionWatcher"]}]]],["arcgis-print",[[0,"arcgis-print",{"referenceElement":[1,"reference-element"],"allowedFormats":[1,"allowed-formats"],"allowedLayouts":[1,"allowed-layouts"],"exportedLinks":[1040],"extraParameters":[8,"extra-parameters"],"icon":[1],"includeDefaultTemplates":[4,"include-default-templates"],"portal":[16],"printServiceUrl":[1,"print-service-url"],"templateCustomTextElements":[16],"templateOptions":[16],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"allowedFormats":["allowedFormatsWatcher"],"allowedLayouts":["allowedLayoutsWatcher"],"extraParameters":["extraParametersWatcher"],"icon":["iconWatcher"],"includeDefaultTemplates":["includeDefaultTemplatesWatcher"],"portal":["portalWatcher"],"printServiceUrl":["printServiceUrlWatcher"],"templateCustomTextElements":["templateCustomTextElementsWatcher"],"templateOptions":["templateOptionsWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-scale-bar",[[0,"arcgis-scale-bar",{"referenceElement":[1,"reference-element"],"barStyle":[1,"bar-style"],"unit":[1],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"barStyle":["styleWatcher"],"unit":["unitWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-scale-range-slider",[[0,"arcgis-scale-range-slider",{"referenceElement":[1,"reference-element"],"disabled":[1540],"layer":[16],"maxScale":[2,"max-scale"],"maxScaleLimit":[2,"max-scale-limit"],"minScale":[2,"min-scale"],"minScaleLimit":[2,"min-scale-limit"],"mode":[1],"region":[1],"visibleElementsPreview":[4,"visible-elements-preview"],"visibleElementsScaleMenusMinScaleMenu":[4,"visible-elements-scale-menus-min-scale-menu"],"visibleElementsScaleMenusMaxScaleMenu":[4,"visible-elements-scale-menus-max-scale-menu"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"disabled":["disabledWatcher"],"layer":["layerWatcher"],"maxScale":["maxScaleWatcher"],"maxScaleLimit":["maxScaleLimitWatcher"],"minScale":["minScaleWatcher"],"minScaleLimit":["minScaleLimitWatcher"],"mode":["modeWatcher"],"region":["regionWatcher"],"visibleElementsPreview":["visibleElementsPreviewWatcher"],"visibleElementsScaleMenusMinScaleMenu":["visibleElementsScaleMenusMinScaleMenuWatcher"],"visibleElementsScaleMenusMaxScaleMenu":["visibleElementsScaleMenusMaxScaleMenuWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-scene",[[0,"arcgis-scene",{"allLayerViews":[1040],"alphaCompositingEnabled":[4,"alpha-compositing-enabled"],"analyses":[1040],"basemapView":[1040],"basemap":[1025],"camera":[1040],"center":[1025],"clippingArea":[16],"constraints":[16],"destroyDisabled":[4,"destroy-disabled"],"environment":[1040],"extent":[1040],"fatalError":[1040],"floors":[16],"gamepad":[1040],"graphics":[1040],"ground":[1040],"groundView":[1040],"highlightOptions":[16],"interacting":[1028],"itemId":[1537,"item-id"],"layerViews":[1040],"magnifier":[1040],"map":[1040],"navigating":[1028],"navigation":[1040],"padding":[16],"performanceInfo":[1040],"popup":[1040],"popupEnabled":[4,"popup-enabled"],"qualityProfile":[1025,"quality-profile"],"ready":[1028],"resolution":[1026],"scale":[1026],"spatialReference":[1040],"stationary":[1028],"suspended":[1540],"theme":[16],"timeExtent":[16],"toMap":[1040],"toScreen":[1040],"updating":[1540],"viewingMode":[1,"viewing-mode"],"viewpoint":[1040],"zoom":[1538],"view":[1040],"closePopup":[64],"destroy":[64],"goTo":[64],"hitTest":[64],"openPopup":[64],"takeScreenshot":[64],"tryFatalErrorRecovery":[64],"whenAnalysisView":[64],"whenLayerView":[64]},null,{"alphaCompositingEnabled":["alphaCompositingEnabledWatcher"],"basemap":["basemapWatcher"],"camera":["cameraWatcher"],"center":["centerWatcher"],"clippingArea":["clippingAreaWatcher"],"constraints":["constraintsWatcher"],"environment":["environmentWatcher"],"extent":["extentWatcher"],"floors":["floorsWatcher"],"graphics":["graphicsWatcher"],"ground":["groundWatcher"],"highlightOptions":["highlightOptionsWatcher"],"itemId":["itemIdWatcher"],"map":["mapWatcher"],"navigation":["navigationWatcher"],"padding":["paddingWatcher"],"popup":["popupWatcher"],"popupEnabled":["popupEnabledWatcher"],"qualityProfile":["qualityProfileWatcher"],"scale":["scaleWatcher"],"spatialReference":["spatialReferenceWatcher"],"theme":["themeWatcher"],"timeExtent":["timeExtentWatcher"],"viewingMode":["viewingModeWatcher"],"viewpoint":["viewpointWatcher"],"zoom":["zoomWatcher"]}]]],["arcgis-search",[[0,"arcgis-search",{"referenceElement":[1,"reference-element"],"activeMenu":[1,"active-menu"],"activeSource":[1040],"activeSourceIndex":[1026,"active-source-index"],"allPlaceholder":[1,"all-placeholder"],"allSources":[1040],"autoSelect":[4,"auto-select"],"defaultSources":[1040],"disabled":[1540],"icon":[1],"includeDefaultSources":[4,"include-default-sources"],"locationEnabled":[4,"location-enabled"],"maxResults":[2,"max-results"],"maxSuggestions":[2,"max-suggestions"],"minSuggestCharacters":[2,"min-suggest-characters"],"popupEnabled":[4,"popup-enabled"],"popupTemplate":[16],"portal":[16],"resultGraphic":[1040],"resultGraphicEnabled":[4,"result-graphic-enabled"],"results":[1040],"searchAllEnabled":[4,"search-all-enabled"],"searchTerm":[1,"search-term"],"selectedResult":[1040],"sources":[16],"suggestions":[1040],"suggestionsEnabled":[4,"suggestions-enabled"],"position":[1],"view":[1040],"widget":[1040],"blurSearch":[64],"clearSearch":[64],"focusSearch":[64],"search":[64],"suggest":[64]},null,{"referenceElement":["referenceElementWatcher"],"activeMenu":["activeMenuWatcher"],"activeSourceIndex":["activeSourceIndexWatcher"],"allPlaceholder":["allPlaceholderWatcher"],"autoSelect":["autoSelectWatcher"],"disabled":["disabledWatcher"],"icon":["iconWatcher"],"includeDefaultSources":["includeDefaultSourcesWatcher"],"locationEnabled":["locationEnabledWatcher"],"maxResults":["maxResultsWatcher"],"maxSuggestions":["maxSuggestionsWatcher"],"minSuggestCharacters":["minSuggestCharactersWatcher"],"popupEnabled":["popupEnabledWatcher"],"popupTemplate":["popupTemplateWatcher"],"portal":["portalWatcher"],"resultGraphicEnabled":["resultGraphicEnabledWatcher"],"searchAllEnabled":["searchAllEnabledWatcher"],"searchTerm":["searchTermWatcher"],"sources":["sourcesWatcher"],"suggestionsEnabled":["suggestionsEnabledWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-shadow-cast",[[0,"arcgis-shadow-cast",{"referenceElement":[1,"reference-element"],"discreteOptions":[16],"durationOptions":[16],"endTimeOfDay":[2,"end-time-of-day"],"startTimeOfDay":[2,"start-time-of-day"],"thresholdOptions":[16],"utcOffset":[2,"utc-offset"],"visualizationType":[1,"visualization-type"],"icon":[1],"visibleElementsTimeRangeSlider":[4,"visible-elements-time-range-slider"],"visibleElementsTimezone":[4,"visible-elements-timezone"],"visibleElementsDatePicker":[4,"visible-elements-date-picker"],"visibleElementsVisualizationOptions":[4,"visible-elements-visualization-options"],"visibleElementsColorPicker":[4,"visible-elements-color-picker"],"visibleElementsTooltip":[4,"visible-elements-tooltip"],"position":[1],"view":[1040],"widget":[1040],"getDuration":[64],"start":[64],"stop":[64]},null,{"referenceElement":["referenceElementWatcher"],"discreteOptions":["discreteOptionsWatcher"],"durationOptions":["durationOptionsWatcher"],"endTimeOfDay":["endTimeOfDayWatcher"],"startTimeOfDay":["startTimeOfDayWatcher"],"thresholdOptions":["thresholdOptionsWatcher"],"utcOffset":["utcOffsetWatcher"],"visualizationType":["visualizationTypeWatcher"],"icon":["iconWatcher"],"visibleElementsTimeRangeSlider":["visibleElementsTimeRangeSliderWatcher"],"visibleElementsTimezone":["visibleElementsTimezoneWatcher"],"visibleElementsDatePicker":["visibleElementsDatePickerWatcher"],"visibleElementsVisualizationOptions":["visibleElementsVisualizationOptionsWatcher"],"visibleElementsColorPicker":["visibleElementsColorPickerWatcher"],"visibleElementsTooltip":["visibleElementsTooltipWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-sketch",[[0,"arcgis-sketch",{"referenceElement":[1,"reference-element"],"activeTool":[1537,"active-tool"],"availableCreateTools":[16],"createGraphic":[1040],"creationMode":[1,"creation-mode"],"defaultCreateOptions":[16],"defaultUpdateOptions":[16],"icon":[1],"labelOptions":[16],"layer":[1040],"layout":[1],"pointSymbol":[16],"polylineSymbol":[16],"polygonSymbol":[16],"snappingOptions":[16],"tooltipOptions":[16],"updateGraphics":[1040],"visibleElementsCreateToolsPoint":[4,"visible-elements-create-tools-point"],"visibleElementsCreateToolsPolyline":[4,"visible-elements-create-tools-polyline"],"visibleElementsCreateToolsPolygon":[4,"visible-elements-create-tools-polygon"],"visibleElementsCreateToolsRectangle":[4,"visible-elements-create-tools-rectangle"],"visibleElementsCreateToolsCircle":[4,"visible-elements-create-tools-circle"],"visibleElementsDuplicateButton":[4,"visible-elements-duplicate-button"],"visibleElementsSelectionToolsRectangle":[4,"visible-elements-selection-tools-rectangle"],"visibleElementsSelectionToolsLasso":[4,"visible-elements-selection-tools-lasso"],"visibleElementsSettingsMenu":[4,"visible-elements-settings-menu"],"visibleElementsLabelsToggle":[4,"visible-elements-labels-toggle"],"visibleElementsTooltipsToggle":[4,"visible-elements-tooltips-toggle"],"visibleElementsSnappingControls":[4,"visible-elements-snapping-controls"],"visibleElementsSnappingControlsElementsHeader":[4,"visible-elements-snapping-controls-elements-header"],"visibleElementsSnappingControlsElementsEnabledToggle":[4,"visible-elements-snapping-controls-elements-enabled-toggle"],"visibleElementsSnappingControlsElementsSelfEnabledToggle":[4,"visible-elements-snapping-controls-elements-self-enabled-toggle"],"visibleElementsSnappingControlsElementsFeatureEnabledToggle":[4,"visible-elements-snapping-controls-elements-feature-enabled-toggle"],"visibleElementsSnappingControlsElementsLayerList":[4,"visible-elements-snapping-controls-elements-layer-list"],"visibleElementsUndoRedoMenu":[4,"visible-elements-undo-redo-menu"],"position":[1],"view":[1040],"widget":[1040],"cancel":[64],"complete":[64],"create":[64],"delete":[64],"duplicate":[64],"redo":[64],"undo":[64],"update":[64]},null,{"referenceElement":["referenceElementWatcher"],"availableCreateTools":["availableCreateToolsWatcher"],"creationMode":["creationModeWatcher"],"defaultCreateOptions":["defaultCreateOptionsWatcher"],"defaultUpdateOptions":["defaultUpdateOptionsWatcher"],"icon":["iconWatcher"],"labelOptions":["labelOptionsWatcher"],"layer":["layerWatcher"],"layout":["layoutWatcher"],"pointSymbol":["pointSymbolWatcher"],"polylineSymbol":["polylineSymbolWatcher"],"polygonSymbol":["polygonSymbolWatcher"],"snappingOptions":["snappingOptionsWatcher"],"tooltipOptions":["tooltipOptionsWatcher"],"visibleElementsCreateToolsPoint":["visibleElementsCreateToolsPointWatcher"],"visibleElementsCreateToolsPolyline":["visibleElementsCreateToolsPolylineWatcher"],"visibleElementsCreateToolsPolygon":["visibleElementsCreateToolsPolygonWatcher"],"visibleElementsCreateToolsRectangle":["visibleElementsCreateToolsRectangleWatcher"],"visibleElementsCreateToolsCircle":["visibleElementsCreateToolsCircleWatcher"],"visibleElementsDuplicateButton":["visibleElementsDuplicateButtonWatcher"],"visibleElementsSelectionToolsRectangle":["visibleElementsSelectionToolsRectangleWatcher"],"visibleElementsSelectionToolsLasso":["visibleElementsSelectionToolsLassoWatcher"],"visibleElementsSettingsMenu":["visibleElementsSettingsMenuWatcher"],"visibleElementsLabelsToggle":["visibleElementsLabelsToggleWatcher"],"visibleElementsTooltipsToggle":["visibleElementsTooltipsToggleWatcher"],"visibleElementsSnappingControls":["visibleElementsSnappingControlsWatcher"],"visibleElementsSnappingControlsElementsHeader":["visibleElementsSnappingControlsElementsHeaderWatcher"],"visibleElementsSnappingControlsElementsEnabledToggle":["visibleElementsSnappingControlsElementsEnabledToggleWatcher"],"visibleElementsSnappingControlsElementsSelfEnabledToggle":["visibleElementsSnappingControlsElementsSelfEnabledToggleWatcher"],"visibleElementsSnappingControlsElementsFeatureEnabledToggle":["visibleElementsSnappingControlsElementsFeatureEnabledToggleWatcher"],"visibleElementsSnappingControlsElementsLayerList":["visibleElementsSnappingControlsElementsLayerListWatcher"],"visibleElementsUndoRedoMenu":["visibleElementsUndoRedoMenuWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-slice",[[0,"arcgis-slice",{"referenceElement":[1,"reference-element"],"analysis":[1040],"excludedLayers":[16],"excludeGroundSurface":[4,"exclude-ground-surface"],"icon":[1],"shape":[16],"tiltEnabled":[4,"tilt-enabled"],"position":[1],"view":[1040],"widget":[1040],"clear":[64],"start":[64]},null,{"referenceElement":["referenceElementWatcher"],"excludedLayers":["excludedLayersWatcher"],"excludeGroundSurface":["excludeGroundSurfaceWatcher"],"icon":["iconWatcher"],"shape":["shapeWatcher"],"tiltEnabled":["tiltEnabledWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-swipe",[[0,"arcgis-swipe",{"referenceElement":[1,"reference-element"],"direction":[1],"dragLabel":[1,"drag-label"],"leadingLayers":[16],"swipePosition":[2,"swipe-position"],"trailingLayers":[16],"view":[1040],"position":[1],"widget":[1040]},null,{"direction":["directionWatcher"],"dragLabel":["dragLabelWatcher"],"leadingLayers":["leadingLayersWatcher"],"swipePosition":["swipePositionWatcher"],"trailingLayers":["trailingLayersWatcher"],"position":["positionWatcher"],"referenceElement":["referenceElementWatcher"],"view":["viewWatcher"]}]]],["arcgis-table-list",[[0,"arcgis-table-list",{"referenceElement":[1,"reference-element"],"collapsed":[1540],"dragEnabled":[4,"drag-enabled"],"filterPlaceholder":[1,"filter-placeholder"],"filterText":[1,"filter-text"],"icon":[1],"minDragEnabledItems":[2,"min-drag-enabled-items"],"minFilterItems":[2,"min-filter-items"],"selectedItems":[1040],"selectionMode":[1,"selection-mode"],"listItemCreatedFunction":[16],"visibleElementsCloseButton":[4,"visible-elements-close-button"],"visibleElementsCollapseButton":[4,"visible-elements-collapse-button"],"visibleElementsErrors":[4,"visible-elements-errors"],"visibleElementsFilter":[4,"visible-elements-filter"],"visibleElementsFlow":[4,"visible-elements-flow"],"visibleElementsHeading":[4,"visible-elements-heading"],"visibleElementsStatusIndicators":[4,"visible-elements-status-indicators"],"visibleElementsTemporaryTableIndicators":[4,"visible-elements-temporary-table-indicators"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"collapsed":["collapsedWatcher"],"dragEnabled":["dragEnabledWatcher"],"filterPlaceholder":["filterPlaceholderWatcher"],"filterText":["filterTextWatcher"],"icon":["iconWatcher"],"minDragEnabledItems":["minDragEnabledItemsWatcher"],"minFilterItems":["minFilterItemsWatcher"],"selectedItems":["selectedItemsWatcher"],"selectionMode":["selectionModeWatcher"],"listItemCreatedFunction":["listItemCreatedFunctionWatcher"],"visibleElementsCloseButton":["visibleElementsCloseButtonWatcher"],"visibleElementsCollapseButton":["visibleElementsCollapseButtonWatcher"],"visibleElementsErrors":["visibleElementsErrorsWatcher"],"visibleElementsFilter":["visibleElementsFilterWatcher"],"visibleElementsFlow":["visibleElementsFlowWatcher"],"visibleElementsHeading":["visibleElementsHeadingWatcher"],"visibleElementsStatusIndicators":["visibleElementsStatusIndicatorsWatcher"],"visibleElementsTemporaryTableIndicators":["visibleElementsTemporaryTableIndicatorsWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-time-slider",[[0,"arcgis-time-slider",{"referenceElement":[1,"reference-element"],"actions":[16],"disabled":[1540],"effectiveStops":[1040],"fullTimeExtent":[16],"layout":[1],"loop":[4],"mode":[1],"playRate":[2,"play-rate"],"stops":[16],"tickConfigs":[16],"timeExtent":[16],"timeVisible":[4,"time-visible"],"timeZone":[1,"time-zone"],"position":[1],"view":[1040],"widget":[1040],"next":[64],"play":[64],"previous":[64],"stop":[64],"updateWebDocument":[64]},null,{"referenceElement":["referenceElementWatcher"],"actions":["actionsWatcher"],"disabled":["disabledWatcher"],"fullTimeExtent":["fullTimeExtentWatcher"],"layout":["layoutWatcher"],"loop":["loopWatcher"],"mode":["modeWatcher"],"playRate":["playRateWatcher"],"stops":["stopsWatcher"],"tickConfigs":["tickConfigsWatcher"],"timeExtent":["timeExtentWatcher"],"timeVisible":["timeVisibleWatcher"],"timeZone":["timeZoneWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-track",[[0,"arcgis-track",{"referenceElement":[1,"reference-element"],"error":[1032],"geolocationOptions":[8,"geolocation-options"],"goToLocationEnabled":[4,"go-to-location-enabled"],"graphic":[16],"icon":[1],"positionFilterFunction":[16],"rotationEnabled":[4,"rotation-enabled"],"scale":[2],"state":[1537],"tracking":[1540],"position":[1],"view":[1040],"widget":[1040],"start":[64],"stop":[64]},null,{"referenceElement":["referenceElementWatcher"],"geolocationOptions":["geolocationOptionsWatcher"],"goToLocationEnabled":["goToLocationEnabledWatcher"],"graphic":["graphicWatcher"],"icon":["iconWatcher"],"positionFilterFunction":["positionFilterFunctionWatcher"],"rotationEnabled":["rotationEnabledWatcher"],"scale":["scaleWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-utility-network-associations",[[0,"arcgis-utility-network-associations",{"referenceElement":[1,"reference-element"],"autoRefreshAssociations":[4,"auto-refresh-associations"],"connectivityAssociationsLineSymbol":[16],"includeConnectivityAssociations":[4,"include-connectivity-associations"],"includeStructuralAttachmentAssociations":[4,"include-structural-attachment-associations"],"maxAllowableAssociations":[2,"max-allowable-associations"],"maxAllowableAssociationsSliderMax":[2,"max-allowable-associations-slider-max"],"maxAllowableAssociationsSliderMin":[2,"max-allowable-associations-slider-min"],"maxAllowableAssociationsSliderStep":[2,"max-allowable-associations-slider-step"],"showArrowsConnectivity":[4,"show-arrows-connectivity"],"showArrowsStructuralAttachment":[4,"show-arrows-structural-attachment"],"showAssociationsEnabled":[4,"show-associations-enabled"],"structuralAttachmentAssociationsLineSymbol":[16],"utilityNetwork":[16],"visibleElementsConnectivityAssociationsSettingsArrowsToggle":[4,"visible-elements-connectivity-associations-settings-arrows-toggle"],"visibleElementsConnectivityAssociationsSettingsCapSelect":[4,"visible-elements-connectivity-associations-settings-cap-select"],"visibleElementsConnectivityAssociationsSettingsColorPicker":[4,"visible-elements-connectivity-associations-settings-color-picker"],"visibleElementsConnectivityAssociationsSettingsStylePicker":[4,"visible-elements-connectivity-associations-settings-style-picker"],"visibleElementsConnectivityAssociationsSettingsWidthInput":[4,"visible-elements-connectivity-associations-settings-width-input"],"visibleElementsMaxAllowableAssociationsSlider":[4,"visible-elements-max-allowable-associations-slider"],"visibleElementsStructuralAttachmentAssociationsSettingsArrowsToggle":[4,"visible-elements-structural-attachment-associations-settings-arrows-toggle"],"visibleElementsStructuralAttachmentAssociationsSettingsCapSelect":[4,"visible-elements-structural-attachment-associations-settings-cap-select"],"visibleElementsStructuralAttachmentAssociationsSettingsStylePicker":[4,"visible-elements-structural-attachment-associations-settings-style-picker"],"visibleElementsStructuralAttachmentAssociationsSettingsWidthInput":[4,"visible-elements-structural-attachment-associations-settings-width-input"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"autoRefreshAssociations":["autoRefreshAssociationsWatcher"],"connectivityAssociationsLineSymbol":["connectivityAssociationsLineSymbolWatcher"],"includeConnectivityAssociations":["includeConnectivityAssociationsWatcher"],"includeStructuralAttachmentAssociations":["includeStructuralAttachmentAssociationsWatcher"],"maxAllowableAssociations":["maxAllowableAssociationsWatcher"],"maxAllowableAssociationsSliderMax":["maxAllowableAssociationsSliderMaxWatcher"],"maxAllowableAssociationsSliderMin":["maxAllowableAssociationsSliderMinWatcher"],"maxAllowableAssociationsSliderStep":["maxAllowableAssociationsSliderStepWatcher"],"showArrowsConnectivity":["showArrowsConnectivityWatcher"],"showArrowsStructuralAttachment":["showArrowsStructuralAttachmentWatcher"],"showAssociationsEnabled":["showAssociationsEnabledWatcher"],"structuralAttachmentAssociationsLineSymbol":["structuralAttachmentAssociationsLineSymbolWatcher"],"utilityNetwork":["utilityNetworkWatcher"],"visibleElementsConnectivityAssociationsSettingsArrowsToggle":["visibleElementsConnectivityAssociationsSettingsArrowsToggleWatcher"],"visibleElementsConnectivityAssociationsSettingsCapSelect":["visibleElementsConnectivityAssociationsSettingsCapSelectWatcher"],"visibleElementsConnectivityAssociationsSettingsColorPicker":["visibleElementsConnectivityAssociationsSettingsColorPickerWatcher"],"visibleElementsConnectivityAssociationsSettingsStylePicker":["visibleElementsConnectivityAssociationsSettingsStylePickerWatcher"],"visibleElementsConnectivityAssociationsSettingsWidthInput":["visibleElementsConnectivityAssociationsSettingsWidthInputWatcher"],"visibleElementsMaxAllowableAssociationsSlider":["visibleElementsMaxAllowableAssociationsSliderWatcher"],"visibleElementsStructuralAttachmentAssociationsSettingsArrowsToggle":["visibleElementsStructuralAttachmentAssociationsSettingsArrowsToggleWatcher"],"visibleElementsStructuralAttachmentAssociationsSettingsCapSelect":["visibleElementsStructuralAttachmentAssociationsSettingsCapSelectWatcher"],"visibleElementsStructuralAttachmentAssociationsSettingsStylePicker":["visibleElementsStructuralAttachmentAssociationsSettingsStylePickerWatcher"],"visibleElementsStructuralAttachmentAssociationsSettingsWidthInput":["visibleElementsStructuralAttachmentAssociationsSettingsWidthInputWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-utility-network-trace",[[0,"arcgis-utility-network-trace",{"referenceElement":[1,"reference-element"],"enableResultArea":[4,"enable-result-area"],"defaultGraphicColor":[16],"disabled":[1540],"flags":[16],"gdbVersion":[1,"gdb-version"],"inputSettings":[16],"resultAreaProperties":[16],"selectedTraces":[16],"selectOnComplete":[4,"select-on-complete"],"showGraphicsOnComplete":[4,"show-graphics-on-complete"],"showSelectionAttributes":[4,"show-selection-attributes"],"position":[1],"view":[1040],"widget":[1040],"checkCanTrace":[64],"confirmReset":[64]},null,{"referenceElement":["referenceElementWatcher"],"enableResultArea":["enableResultAreaWatcher"],"defaultGraphicColor":["defaultGraphicColorWatcher"],"disabled":["disabledWatcher"],"flags":["flagsWatcher"],"gdbVersion":["gdbVersionWatcher"],"inputSettings":["inputSettingsWatcher"],"resultAreaProperties":["resultAreaPropertiesWatcher"],"selectedTraces":["selectedTracesWatcher"],"selectOnComplete":["selectOnCompleteWatcher"],"showGraphicsOnComplete":["showGraphicsOnCompleteWatcher"],"showSelectionAttributes":["showSelectionAttributesWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-utility-network-validate-topology",[[0,"arcgis-utility-network-validate-topology",{"referenceElement":[1,"reference-element"],"extentToValidate":[1,"extent-to-validate"],"utilityNetwork":[16],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"extentToValidate":["extentToValidateWatcher"],"utilityNetwork":["utilityNetworkWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-value-picker",[[0,"arcgis-value-picker",{"referenceElement":[1,"reference-element"],"view":[1040],"position":[1],"widget":[1040],"canNext":[1540,"can-next"],"canPlay":[1540,"can-play"],"canPrevious":[1540,"can-previous"],"caption":[1],"component":[16],"layout":[1],"loop":[4],"playRate":[2,"play-rate"],"visibleElements":[16],"values":[1040],"next":[64],"pause":[64],"play":[64],"previous":[64]},null,{"position":["positionWatcher"],"caption":["captionWatcher"],"component":["componentWatcher"],"layout":["layoutWatcher"],"loop":["loopWatcher"],"playRate":["playRateWatcher"],"visibleElements":["visibleElementsWatcher"]}]]],["arcgis-weather",[[0,"arcgis-weather",{"referenceElement":[1,"reference-element"],"icon":[1],"visibleElementsHeader":[4,"visible-elements-header"],"position":[1],"view":[1040],"widget":[1040]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"visibleElementsHeader":["visibleElementsHeaderWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-zoom",[[0,"arcgis-zoom",{"referenceElement":[1,"reference-element"],"icon":[1],"layout":[1],"position":[1],"view":[1040],"widget":[1040],"zoomIn":[64],"zoomOut":[64]},null,{"referenceElement":["referenceElementWatcher"],"icon":["iconWatcher"],"layout":["layoutWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]],["arcgis-version-management-version-item_2",[[0,"arcgis-version-management-version-list",{"heading":[1],"serviceName":[1,"service-name"],"serviceUrl":[1,"service-url"],"strings":[16],"userHasAdvancedEditingUserTypeExtension":[4,"user-has-advanced-editing-user-type-extension"],"versionInfos":[1040],"viewModel":[16],"state":[32]}],[0,"arcgis-version-management-version-item",{"strings":[16],"hasAdvEditingUte":[4,"has-adv-editing-ute"],"isVersioningApiAvailable":[4,"is-versioning-api-available"],"versionInfo":[16]}]]],["arcgis-version-management-service-item_2",[[0,"arcgis-version-management-service-item",{"flowElement":[16],"heading":[1],"serviceUrl":[1,"service-url"],"strings":[16],"viewModel":[16],"state":[32]}],[0,"arcgis-version-management-version-properties",{"flowElement":[16],"serviceUrl":[1,"service-url"],"strings":[16],"versionInfo":[16],"viewModel":[16],"executionError":[32],"state":[32]}]]],["arcgis-expand",[[0,"arcgis-expand",{"autoCollapse":[4,"auto-collapse"],"closeOnEsc":[4,"close-on-esc"],"collapseIcon":[1,"collapse-icon"],"collapseTooltip":[1,"collapse-tooltip"],"expanded":[1540],"expandIcon":[1,"expand-icon"],"expandTooltip":[1,"expand-tooltip"],"group":[1],"iconNumber":[2,"icon-number"],"mode":[1],"referenceElement":[1,"reference-element"],"position":[1],"view":[1040],"widget":[1040],"collapse":[64],"expand":[64],"toggle":[64]},null,{"autoCollapse":["autoCollapseWatcher"],"closeOnEsc":["closeOnEscWatcher"],"collapseIcon":["collapseIconWatcher"],"collapseTooltip":["collapseTooltipWatcher"],"expanded":["expandedWatcher"],"expandIcon":["expandIconWatcher"],"expandTooltip":["expandTooltipWatcher"],"group":["groupWatcher"],"iconNumber":["iconNumberWatcher"],"mode":["modeWatcher"],"referenceElement":["referenceElementWatcher"],"position":["positionWatcher"],"view":["viewWatcher"]}]]]]'),t)};/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();cMe(window,{resourcesUrl:"https://js.arcgis.com/calcite-components/2.13.2/assets"});JMe(window,{resourcesUrl:"https://js.arcgis.com/map-components/4.31/assets"});function ZMe(){const e=w5.useRef(null),t=w5.useRef(!1);return w5.useEffect(()=>{if(e.current&&!t.current){let i,r,s;const c="https://sampleserver7.arcgisonline.com/server/rest/services/UtilityNetwork/NapervilleElectricV5/VersionManagementServer",f=document.querySelector("arcgis-map"),m=new _K({portalItem:{id:"471eb0bf37074b1fbb972b1da70fb310"}});f.map=m,f.addEventListener("arcgisViewReadyChange",async L=>{if(i=L.target.view,!(i.map.utilityNetworks.items.length>0)){alert("The webmap does not contain a utility network layer.");return}const N=i.map.utilityNetworks.getItemAt(0),D=new gee({view:i,utilityNetwork:N});i.ui.add(D,"top-right"),s=new o7e({url:c}),await s.load()});const b=()=>i.map.utilityNetworks.items[0].gdbVersion,x=async L=>{const N=await b();if(N&&N.toLowerCase()!=="sde.default"){const D=await s.getVersionIdentifierFromName(N);if(L==="start")r||(r=new yee({view:i}),i.ui.add(r,"top-left"),await s.startReading(D),await s.startEditing(D),console.log("Start editing ..."));else if(L==="stop"&&r){r.destroy(),r=null;const G=confirm("Save editing changes?");await s.stopEditing(D,G),await s.stopReading(D),console.log("Stop editing ...")}}else alert(N?"The editing operation is not supported against the default version.":"No version is selected. Select a version to proceed.")},T=async L=>{const N=await b();if(N&&N.toLowerCase()!=="sde.default"){const D=await s.getVersionIdentifierFromName(N);L==="undo"?await s.undo(D):L==="redo"&&await s.redo(D)}},C=async L=>{const N=b();if(N&&N.toLowerCase()!=="sde.default")try{const D=await s.getVersionIdentifierFromName(N);L==="reconcile"?await s.reconcile(D,{abortIfConflicts:!0,conflictDetection:"by-attribute",withPost:!1}):L==="post"&&await s.post(D)}catch(D){alert(D.message)}};document.getElementById("startEditingButton").addEventListener("click",()=>x("start")),document.getElementById("stopEditingButton").addEventListener("click",()=>x("stop")),document.getElementById("undoButton").addEventListener("click",()=>T("undo")),document.getElementById("redoButton").addEventListener("click",()=>T("redo")),document.getElementById("reconcileButton").addEventListener("click",()=>C("reconcile")),document.getElementById("postButton").addEventListener("click",()=>C("post"))}t.current=!0},[e]),Lo.jsxs("div",{className:"viewDiv",ref:e,children:[Lo.jsx("arcgis-map",{children:Lo.jsx("arcgis-version-management",{position:"top-right",label:"Version Management"})}),Lo.jsxs("div",{id:"paneDiv1",className:"esri-widget",children:[Lo.jsx("button",{id:"startEditingButton",className:"esri-button esri-button-overwrite",children:"Start Editing"}),Lo.jsx("button",{id:"undoButton",className:"esri-button esri-button-overwrite",children:"Undo"}),Lo.jsx("button",{id:"redoButton",className:"esri-button esri-button-overwrite",children:"Redo"}),Lo.jsx("button",{id:"stopEditingButton",className:"esri-button esri-button-overwrite",children:"Stop Editing"})]}),Lo.jsxs("div",{id:"paneDiv2",className:"esri-widget",children:[Lo.jsx("button",{id:"reconcileButton",className:"esri-button esri-button-overwrite",children:"Reconcile"}),Lo.jsx("button",{id:"postButton",className:"esri-button esri-button-overwrite",children:"Post"})]})]})}Hie.createRoot(document.getElementById("root")).render(Lo.jsx(w5.StrictMode,{children:Lo.jsx(ZMe,{})}));export{qRe as $,Zk as A,Q as B,At as C,UC as D,dr as E,qk as F,cn as G,WRe as H,Nr as I,ai as J,c8 as K,TCe as L,T8e as M,MY as N,HRe as O,Gke as P,Xr as Q,wy as R,Gd as S,t_e as T,tAe as U,Ky as V,xse as W,ZRe as X,GRe as Y,KRe as Z,te as _,e2e as a,XX as a$,URe as a0,IFe as a1,U2e as a2,Pe as a3,De as a4,M0 as a5,rr as a6,G2e as a7,wu as a8,pu as a9,fze as aA,gMe as aB,o0 as aC,Xie as aD,Yr as aE,pFe as aF,dFe as aG,Ma as aH,ba as aI,Ee as aJ,gve as aK,Cme as aL,LPe as aM,S_ as aN,OPe as aO,ul as aP,Fr as aQ,sZ as aR,_U as aS,un as aT,ke as aU,gj as aV,yVe as aW,ih as aX,Rb as aY,JTe as aZ,QX as a_,Et as aa,ht as ab,y8 as ac,Hi as ad,Sa as ae,pVe as af,y2 as ag,rze as ah,Vee as ai,$ee as aj,C7e as ak,R7e as al,aze as am,uze as an,sze as ao,oze as ap,cze as aq,lze as ar,nze as as,hze as at,dze as au,pze as av,mze as aw,yze as ax,mMe as ay,wMe as az,rK as b,hn as b$,Xy as b0,Tu as b1,T_ as b2,Q8e as b3,I8e as b4,Dn as b5,Jc as b6,Zve as b7,Kve as b8,Yve as b9,Vb as bA,Pge as bB,qge as bC,z8 as bD,TF as bE,cs as bF,kme as bG,xt as bH,hE as bI,Hc as bJ,Ub as bK,_r as bL,hje as bM,O$e as bN,Je as bO,BH as bP,DOe as bQ,pC as bR,rLe as bS,Qr as bT,bje as bU,Ywe as bV,M2 as bW,zo as bX,Uc as bY,Ta as bZ,mo as b_,ye as ba,u9 as bb,PPe as bc,vj as bd,KG as be,g0 as bf,Yy as bg,it as bh,fOe as bi,v2 as bj,hb as bk,iq as bl,rq as bm,tq as bn,pN as bo,YOe as bp,mAe as bq,mS as br,a0 as bs,k2e as bt,MFe as bu,Jme as bv,xbe as bw,t2e as bx,VS as by,kke as bz,eAe as c,km as c$,fo as c0,lo as c1,o6e as c2,$a as c3,Nje as c4,Iu as c5,e6e as c6,Gje as c7,En as c8,In as c9,ZEe as cA,Pu as cB,zEe as cC,MX as cD,Do as cE,M5 as cF,Mm as cG,cAe as cH,wl as cI,jW as cJ,Cd as cK,aEe as cL,_2 as cM,uce as cN,Qxe as cO,OTe as cP,Rr as cQ,Ze as cR,Ud as cS,ks as cT,ky as cU,fS as cV,yS as cW,Gm as cX,Rn as cY,v0 as cZ,wR as c_,xa as ca,qQ as cb,Wje as cc,Im as cd,Os as ce,qje as cf,Ole as cg,OS as ch,Xt as ci,Bje as cj,eDe as ck,i6e as cl,ZQ as cm,fr as cn,qx as co,Ni as cp,yW as cq,cp as cr,lW as cs,jje as ct,zje as cu,gW as cv,Wd as cw,jn as cx,AS as cy,VA as cz,yT as d,HCe as d$,rm as d0,Vle as d1,R9 as d2,Nn as d3,O4 as d4,KH as d5,Q0e as d6,n1e as d7,nJ as d8,sJ as d9,LRe as dA,qm as dB,cRe as dC,b9 as dD,SRe as dE,$Re as dF,xRe as dG,ERe as dH,CRe as dI,TRe as dJ,IRe as dK,MRe as dL,kRe as dM,ARe as dN,tCe as dO,k9 as dP,a6e as dQ,wle as dR,pRe as dS,eh as dT,nle as dU,aue as dV,iue as dW,bke as dX,are as dY,Yle as dZ,JCe as d_,iJ as da,rJ as db,l1e as dc,p1e as dd,r9 as de,co as df,Nle as dg,zA as dh,DA as di,CS as dj,eCe as dk,D4 as dl,ln as dm,BQ as dn,Zje as dp,Uwe as dq,Zc as dr,Zme as ds,Toe as dt,b8 as du,w8 as dv,Ioe as dw,TS as dx,IS as dy,ORe as dz,nK as e,_Ae as e$,Eje as e0,dje as e1,pW as e2,Bbe as e3,H2 as e4,$je as e5,BCe as e6,Gwe as e7,mue as e8,sle as e9,Vo as eA,Tae as eB,xS as eC,Iae as eD,FZ as eE,_8e as eF,hCe as eG,V2 as eH,kCe as eI,Bz as eJ,Hz as eK,ske as eL,lre as eM,Mke as eN,_l as eO,tr as eP,zc as eQ,PJ as eR,Mu as eS,Is as eT,jG as eU,dp as eV,g2 as eW,Ps as eX,JOe as eY,FOe as eZ,NAe as e_,ole as ea,sW as eb,Dle as ec,Cle as ed,yp as ee,ti as ef,gre as eg,bi as eh,G8 as ei,pa as ej,c1e as ek,GA as el,m6e as em,Sm as en,mW as eo,Z_ as ep,YQ as eq,Qje as er,C9 as es,_6e as et,FU as eu,gS as ev,k8 as ew,w2 as ex,Gb as ey,kd as ez,Lt as f,jle as f$,mke as f0,kce as f1,aye as f2,oye as f3,nye as f4,sye as f5,FC as f6,Cy as f7,vke as f8,VH as f9,z9e as fA,ls as fB,dn as fC,VNe as fD,MA as fE,kb as fF,pQ as fG,zNe as fH,E9 as fI,G1e as fJ,CSe as fK,nLe as fL,KLe as fM,kJ as fN,Axe as fO,IX as fP,Lu as fQ,R8 as fR,rO as fS,Hm as fT,Qc as fU,Wf as fV,vC as fW,pH as fX,Xfe as fY,Fm as fZ,Nm as f_,Vg as fa,hOe as fb,A0 as fc,cE as fd,jz as fe,Ele as ff,cse as fg,ot as fh,bp as fi,ZX as fj,Uce as fk,uAe as fl,B2 as fm,NW as fn,Er as fo,b4 as fp,YV as fq,Xi as fr,Ri as fs,Gme as ft,x8e as fu,_Ce as fv,pwe as fw,v2e as fx,Cs as fy,$ke as fz,CPe as g,N4 as g$,pje as g0,Zr as g1,gDe as g2,mDe as g3,Jy as g4,Jre as g5,iO as g6,WNe as g7,pm as g8,JH as g9,T4 as gA,sC as gB,yOe as gC,jCe as gD,Sxe as gE,e2 as gF,Bc as gG,wU as gH,br as gI,wS as gJ,xm as gK,ES as gL,It as gM,pr as gN,Sy as gO,oo as gP,yu as gQ,Ea as gR,QC as gS,nOe as gT,fq as gU,IZ as gV,no as gW,A6 as gX,gke as gY,zm as gZ,Tle as g_,tre as ga,rb as gb,n4 as gc,eq as gd,zAe as ge,lce as gf,KOe as gg,xoe as gh,tPe as gi,sPe as gj,bj as gk,Jb as gl,K4 as gm,Cu as gn,oPe as go,at as gp,IG as gq,PC as gr,Npe as gs,pOe as gt,po as gu,V8 as gv,$pe as gw,jy as gx,zB as gy,mOe as gz,kS as h,vge as h$,Um as h0,dm as h1,DE as h2,er as h3,jE as h4,zE as h5,d4 as h6,KZ as h7,g6e as h8,xu as h9,Bge as hA,yo as hB,e9 as hC,Fce as hD,Pce as hE,nT as hF,ice as hG,XE as hH,m8 as hI,mu as hJ,As as hK,Zbe as hL,fN as hM,GAe as hN,AOe as hO,XOe as hP,mPe as hQ,I2 as hR,u0 as hS,gG as hT,KS as hU,JZ as hV,LOe as hW,COe as hX,UQ as hY,h2e as hZ,Vme as h_,Tke as ha,kse as hb,Zy as hc,o8 as hd,Ike as he,MPe as hf,ei as hg,zRe as hh,aZ as hi,que as hj,Bue as hk,qPe as hl,rDe as hm,zS as hn,q8e as ho,Gt as hp,moe as hq,Zge as hr,Wme as hs,RC as ht,Bme as hu,Hme as hv,ap as hw,uZ as hx,u2e as hy,aK as hz,Xbe as i,_b as i$,BF as i0,g2e as i1,x4 as i2,Oi as i3,oA as i4,wAe as i5,DAe as i6,vAe as i7,_R as i8,gle as i9,El as iA,T2 as iB,ZB as iC,KB as iD,Td as iE,fVe as iF,ib as iG,b8e as iH,k8e as iI,a4e as iJ,j3 as iK,dj as iL,APe as iM,Bke as iN,I0 as iO,kNe as iP,TNe as iQ,MNe as iR,r7e as iS,hG as iT,Tb as iU,oSe as iV,INe as iW,OCe as iX,Ab as iY,jX as iZ,Age as i_,vle as ia,so as ib,gje as ic,fje as id,mje as ie,Hge as ig,c0 as ih,GV as ii,_8 as ij,F8 as ik,PK as il,ao as im,rh as io,Fs as ip,ee as iq,H8e as ir,Tl as is,Fje as it,RK as iu,vp as iv,IEe as iw,Wm as ix,jc as iy,sb as iz,Que as j,l6e as j$,sOe as j0,dxe as j1,dOe as j2,aOe as j3,uOe as j4,lOe as j5,cOe as j6,Hb as j7,Go as j8,UB as j9,P0 as jA,X8e as jB,RDe as jC,NDe as jD,aO as jE,I9 as jF,bZ as jG,iFe as jH,Kc as jI,YDe as jJ,TK as jK,EK as jL,dA as jM,SK as jN,wje as jO,F$e as jP,Ia as jQ,ILe as jR,R$e as jS,Tn as jT,Oxe as jU,ELe as jV,MLe as jW,kLe as jX,POe as jY,S1e as jZ,Xje as j_,Dm as ja,xR as jb,yPe as jc,gi as jd,sne as je,sU as jf,nfe as jg,Cxe as jh,NJ as ji,ICe as jj,YMe as jk,E$e as jl,bue as jm,Su as jn,R2e as jo,V3 as jp,Hke as jq,Jke as jr,gAe as js,f8 as jt,OAe as ju,VW as jv,pl as jw,tZ as jx,N2e as jy,Voe as jz,JRe as k,sA as k$,Q$e as k0,Y$e as k1,Jje as k2,J2 as k3,Hje as k4,dM as k5,Dbe as k6,aFe as k7,de as k8,NZ as k9,T6e as kA,Dk as kB,Vk as kC,uke as kD,oke as kE,bAe as kF,AAe as kG,WPe as kH,w2e as kI,Nye as kJ,WC as kK,d2e as kL,uK as kM,ym as kN,LB as kO,m0 as kP,pT as kQ,Ibe as kR,Sbe as kS,Oge as kT,aN as kU,qC as kV,d9 as kW,$x as kX,Y7 as kY,o9 as kZ,Wge as k_,FS as ka,fm as kb,_1e as kc,tDe as kd,up as ke,xje as kf,hRe as kg,HQ as kh,K$e as ki,V$e as kj,Tje as kk,yle as kl,Rle as km,m4 as kn,$oe as ko,eA as kp,mle as kq,oW as kr,cje as ks,gRe as kt,oAe as ku,gk as kv,PTe as kw,by as kx,vM as ky,UCe as kz,BRe as l,HVe as l$,p8e as l0,ep as l1,wr as l2,xke as l3,$R as l4,cK as l5,Nc as l6,Pse as l7,Eu as l8,wa as l9,dve as lA,pve as lB,Jge as lC,YRe as lD,j0 as lE,j9 as lF,Fo as lG,dd as lH,Hy as lI,nz as lJ,Ht as lK,PVe as lL,jRe as lM,b0 as lN,IA as lO,WG as lP,A8 as lQ,B8e as lR,AG as lS,DVe as lT,GVe as lU,ZVe as lV,KVe as lW,QVe as lX,WIe as lY,zVe as lZ,qVe as l_,Xb as la,JC as lb,Yge as lc,Kge as ld,Em as le,fve as lf,JJ as lg,Xc as lh,AC as li,qH as lj,nbe as lk,rbe as ll,ibe as lm,Fve as ln,_ge as lo,vve as lp,tve as lq,ive as lr,rve as ls,sve as lt,ove as lu,ave as lv,lve as lw,uve as lx,cve as ly,hve as lz,mY as m,xEe as m$,r2 as m0,gE as m1,t8 as m2,Xke as m3,zge as m4,NS as m5,jS as m6,hoe as m7,bDe as m8,LAe as m9,du as mA,Ige as mB,RZ as mC,si as mD,ZZ as mE,HH as mF,hFe as mG,TZ as mH,Jk as mI,ip as mJ,U1 as mK,X7 as mL,wFe as mM,Sve as mN,B_ as mO,kPe as mP,sse as mQ,Lje as mR,nue as mS,sue as mT,oue as mU,pA as mV,Bd as mW,YS as mX,QI as mY,U2 as mZ,_3e as m_,Wj as ma,qZ as mb,jbe as mc,ki as md,um as me,DM as mf,Jt as mg,VK as mh,cke as mi,EX as mj,mre as mk,rRe as ml,mwe as mm,ake as mn,V4 as mo,tne as mp,XC as mq,LX as mr,vRe as ms,gU as mt,EF as mu,E1e as mv,Abe as mw,c3e as mx,eU as my,vje as mz,vwe as n,Oue as n$,TEe as n0,w3e as n1,oO as n2,EEe as n3,AW as n4,Kue as n5,iAe as n6,yZ as n7,awe as n8,cwe as n9,_t as nA,Dv as nB,n7e as nC,o7e as nD,VG as nE,cae as nF,u8e as nG,YCe as nH,iae as nI,em as nJ,Zwe as nK,kDe as nL,m9 as nM,fW as nN,WCe as nO,Oje as nP,Aje as nQ,QRe as nR,$d as nS,ile as nT,gue as nU,Aue as nV,sCe as nW,G8e as nX,EG as nY,TG as nZ,B$e as n_,pD as na,mm as nb,Mb as nc,bO as nd,MIe as ne,TVe as nf,EVe as ng,AVe as nh,OVe as ni,xVe as nj,LVe as nk,pIe as nl,kVe as nm,MVe as nn,vIe as no,CVe as np,IVe as nq,C$e as nr,A$e as ns,FG as nt,rU as nu,uwe as nv,r0 as nw,w0 as nx,ku as ny,wj as nz,tRe as o,cA as o$,kn as o0,ml as o1,yue as o2,NOe as o3,Vae as o4,mF as o5,rz as o6,VCe as o7,b2 as o8,ZOe as o9,OLe as oA,kxe as oB,xfe as oC,hp as oD,NX as oE,Sye as oF,one as oG,yoe as oH,BC as oI,qre as oJ,lue as oK,x1e as oL,ure as oM,w8e as oN,use as oO,$S as oP,M8e as oQ,yRe as oR,$l as oS,nD as oT,ro as oU,fRe as oV,Hk as oW,yDe as oX,QEe as oY,wRe as oZ,mRe as o_,U$e as oa,tue as ob,fue as oc,lke as od,_5 as oe,RY as of,d_ as og,GNe as oh,rke as oi,wve as oj,dVe as ok,qIe as ol,BIe as om,hVe as on,yje as oo,qd as op,Nj as oq,Wb as or,K as os,W8e as ot,d2 as ou,Pwe as ov,Fc as ow,sRe as ox,LLe as oy,ALe as oz,mK as p,Gde as p$,WQ as p0,kle as p1,o3e as p2,gp as p3,Bwe as p4,Hwe as p5,HSe as p6,NM as p7,Kv as p8,IV as p9,xU as pA,r8e as pB,i8e as pC,EU as pD,ore as pE,$Ae as pF,TAe as pG,hue as pH,rue as pI,DS as pJ,oq as pK,jce as pL,qbe as pM,jOe as pN,QOe as pO,jAe as pP,k2 as pQ,A2 as pR,C2 as pS,CLe as pT,X8 as pU,Xe as pV,E2 as pW,_0 as pX,xB as pY,Pr as pZ,ho as p_,gX as pa,DK as pb,tO as pc,U6e as pd,jK as pe,vX as pf,S3e as pg,B6e as ph,PA as pi,ll as pj,BOe as pk,HOe as pl,nke as pm,Fle as pn,G$e as po,Zpe as pp,Kpe as pq,ePe as pr,QW as ps,WAe as pt,hce as pu,dAe as pv,G0e as pw,mLe as px,bS as py,Lfe as pz,h_e as q,NCe as q$,_B as q0,zke as q1,$9 as q2,rk as q3,I$e as q4,yEe as q5,fEe as q6,lEe as q7,Zxe as q8,lb as q9,ub as qA,XCe as qB,ZCe as qC,KCe as qD,UE as qE,c4 as qF,GE as qG,h4 as qH,Cke as qI,RPe as qJ,NPe as qK,DPe as qL,VPe as qM,jPe as qN,SIe as qO,ma as qP,lS as qQ,dce as qR,nFe as qS,sFe as qT,rFe as qU,Pue as qV,Lue as qW,hfe as qX,l8 as qY,Ybe as qZ,nCe as q_,hK as qa,xFe as qb,EFe as qc,L4 as qd,x0 as qe,fke as qf,KI as qg,WOe as qh,qCe as qi,kAe as qj,jA as qk,iA as ql,sv as qm,DV as qn,nb as qo,T5 as qp,aae as qq,fae as qr,DG as qs,oCe as qt,z2 as qu,fp as qv,bCe as qw,pCe as qx,Dae as qy,gVe as qz,yK as r,TQ as r$,uR as r0,CAe as r1,Soe as r2,K2 as r3,RAe as r4,mCe as r5,gCe as r6,yCe as r7,fCe as r8,_De as r9,qAe as rA,lp as rB,S8e as rC,bU as rD,Jp as rE,Pfe as rF,n8 as rG,vue as rH,nW as rI,_le as rJ,Dy as rK,w0e as rL,qme as rM,uW as rN,Yje as rO,MAe as rP,YB as rQ,BPe as rR,H$e as rS,$8e as rT,_Q as rU,SQ as rV,y9e as rW,wQ as rX,b9e as rY,w9e as rZ,_9e as r_,rC as ra,v9 as rb,hO as rc,LIe as rd,T5e as re,dIe as rf,sV as rg,rV as rh,np as ri,qz as rj,a8 as rk,v8e as rl,MG as rm,AE as rn,qG as ro,DNe as rp,fxe as rq,aTe as rr,g3e as rs,C0 as rt,fl as ru,SLe as rv,B0e as rw,r3e as rx,PCe as ry,cle as rz,me as s,s3e as s$,vi as s0,T9e as s1,UNe as s2,xC as s3,HNe as s4,N7 as s5,qNe as s6,BNe as s7,FQ as s8,S0e as s9,IAe as sA,wDe as sB,Xge as sC,Vz as sD,Nk as sE,C8e as sF,Y8e as sG,K8e as sH,FDe as sI,dq as sJ,zk as sK,eVe as sL,_ke as sM,Ske as sN,wke as sO,Tse as sP,uue as sQ,Wz as sR,Yz as sS,dke as sT,RCe as sU,J$e as sV,oFe as sW,Rm as sX,RH as sY,NH as sZ,f3e as s_,N5e as sa,$9e as sb,Cwe as sc,LS as sd,v4 as se,QCe as sf,zCe as sg,Rce as sh,YU as si,aG as sj,dwe as sk,K2e as sl,p1 as sm,kge as sn,xLe as so,L0 as sp,z1e as sq,Vse as sr,QQ as ss,RJ as st,I6e as su,N8e as sv,qke as sw,Y0e as sx,p6e as sy,mVe as sz,fwe as t,uNe as t$,j$e as t0,iDe as t1,ir as t2,JQ as t3,gae as t4,U8e as t5,XS as t6,P2 as t7,L2 as t8,Pm as t9,eNe as tA,tNe as tB,lC as tC,iNe as tD,UY as tE,nNe as tF,E4e as tG,_4e as tH,rNe as tI,SA as tJ,g4e as tK,afe as tL,L4e as tM,VY as tN,lNe as tO,ofe as tP,I4 as tQ,k4 as tR,Kb as tS,ySe as tT,oNe as tU,aNe as tV,m4e as tW,R4e as tX,q2 as tY,sNe as tZ,cNe as t_,kZ as ta,_fe as tb,tFe as tc,pxe as td,c8e as te,E3 as tf,qj as tg,QS as th,O0 as ti,jm as tj,_C as tk,p0e as tl,f0e as tm,OH as tn,D9e as to,L0e as tp,V9e as tq,SC as tr,A4 as ts,MH as tt,bb as tu,Tge as tv,Gk as tw,VRe as tx,xA as ty,BY as tz,ywe as u,mQ as u$,hNe as u0,dNe as u1,Hf as u2,FPe as u3,pi as u4,t8e as u5,CCe as u6,hle as u7,aW as u8,n9 as u9,TPe as uA,Vbe as uB,uA as uC,Jr as uD,R2 as uE,nPe as uF,oOe as uG,dJ as uH,FLe as uI,wJ as uJ,XLe as uK,s9 as uL,VLe as uM,jLe as uN,XI as uO,QLe as uP,DLe as uQ,ON as uR,LN as uS,PN as uT,BLe as uU,qLe as uV,HLe as uW,JLe as uX,Y1e as uY,FN as uZ,x9 as u_,N2 as ua,A0e as ub,iRe as uc,fu as ud,BSe as ue,ek as uf,Df as ug,bpe as uh,Vve as ui,Hd as uj,cce as uk,RA as ul,eke as um,ike as un,ine as uo,Noe as up,J8e as uq,Z8e as ur,hIe as us,sAe as ut,rae as uu,bG as uv,xX as uw,Da as ux,iVe as uy,tVe as uz,Ut as v,NRe as v$,yQ as v0,gQ as v1,RLe as v2,E8e as v3,GQ as v4,k$e as v5,bre as v6,Ake as v7,qOe as v8,TLe as v9,hu as vA,rG as vB,KMe as vC,Hoe as vD,Boe as vE,iCe as vF,Mge as vG,Ane as vH,I3e as vI,RRe as vJ,PRe as vK,Wke as vL,R_ as vM,rAe as vN,vCe as vO,n8e as vP,M$e as vQ,NE as vR,YSe as vS,kK as vT,KSe as vU,FTe as vV,FRe as vW,yme as vX,hPe as vY,cPe as vZ,Qde as v_,ATe as va,Ti as vb,dRe as vc,W$e as vd,hAe as ve,XDe as vf,c5 as vg,Nce as vh,nAe as vi,sce as vj,Q1e as vk,UAe as vl,wce as vm,pAe as vn,oce as vo,BE as vp,fAe as vq,ZSe as vr,WSe as vs,e3e as vt,ZLe as vu,GLe as vv,WLe as vw,NLe as vx,zLe as vy,ULe as vz,Fn as w,ROe as w$,DRe as w0,f3 as w1,Ir as w2,tke as w3,YLe as w4,h8e as w5,Ije as w6,FAe as w7,xAe as w8,wue as w9,tLe as wA,GOe as wB,VOe as wC,Dje as wD,Rje as wE,kje as wF,UA as wG,LCe as wH,Doe as wI,joe as wJ,x8 as wK,S8 as wL,VAe as wM,pke as wN,yAe as wO,Uke as wP,v0e as wQ,lAe as wR,aAe as wS,m3e as wT,nre as wU,wV,O0e as wW,Kfe as wX,cLe as wY,uLe as wZ,yke as w_,MK as wa,tJ as wb,xue as wc,U0e as wd,Ic as we,$ue as wf,h6e as wg,GPe as wh,rY as wi,E4 as wj,rOe as wk,TB as wl,ype as wm,dpe as wn,hpe as wo,ET as wp,qb as wq,R5 as wr,Y6 as ws,tV as wt,qf as wu,Ppe as wv,fB as ww,Wt as wx,zOe as wy,Ofe as wz,g as x,vDe as x$,SAe as x0,UOe as x1,Qle as x2,OOe as x3,I9e as x4,PLe as x5,lQ as x6,$y as x7,lye as x8,Bfe as x9,M6e as xA,zbe as xB,x6e as xC,rA as xD,r6e as xE,PAe as xF,fne as xG,P$e as xH,sTe as xI,Gf as xJ,Cje as xK,SCe as xL,rW as xM,wCe as xN,ACe as xO,eLe as xP,ECe as xQ,yFe as xR,s8e as xS,bu as xT,Qd as xU,D$e as xV,$Le as xW,MCe as xX,e8e as xY,xCe as xZ,$Ce as x_,jJ as xa,OQ as xb,LQ as xc,Oye as xd,XMe as xe,Kie as xf,QMe as xg,Mje as xh,iLe as xi,p3e as xj,FCe as xk,Xwe as xl,Vje as xm,Zke as xn,Uje as xo,EAe as xp,Es as xq,Pje as xr,$u as xs,DCe as xt,Eue as xu,fle as xv,z8e as xw,A9 as xx,tX as xy,y6e as xz,S as y,tOe as y0,P0e as y1,UPe as y2,ZPe as y3,lFe as y4,cFe as y5,_Fe as y6,uRe as y7,yNe as y8,CNe as y9,jNe as ya,YNe as yb,nje as yc,PDe as yd,tze as ye,ize as yf,$e as z};
