const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calcite-button-CqG1PB6a.js","assets/button-BnsH0Xdf.js","assets/index-B252NKV0.js","assets/index-HngaTkmj.css","assets/form-ChvLHK8c.js","assets/dom-CtEXAB-7.js","assets/interactive-CNwnbIDi.js","assets/label-zjh2qsd9.js","assets/component-6CIDVndn.js","assets/loadable-CSj6RaJ-.js","assets/locale-BET6kD7U.js","assets/key-D63ExP77.js","assets/observers-C2A34Kee.js","assets/t9n-lBCEDqGe.js","assets/icon-DaxhXezS.js","assets/loader-p1bx6ime.js","assets/calcite-icon-0-nc36TI.js","assets/calcite-input-DnrPXp_3.js","assets/input2-3hASsW9n.js","assets/Validation-CPEZsdMf.js","assets/input-j1u1wOBY.js","assets/input-message-an8pCEmq.js","assets/progress-CEKxbADc.js","assets/calcite-action-CIAswhu7.js","assets/action-CH3sm1rf.js","assets/calcite-dropdown-BtCRJ8Yi.js","assets/floating-ui-CuHTUdZh.js","assets/debounce-BOqmhDXu.js","assets/openCloseComponent-IZa04dHc.js","assets/calcite-dropdown-item-DpjROtmp.js","assets/resources3-Qm0M2nV8.js","assets/calcite-dropdown-group-CcJU8qzf.js"])))=>i.map(i=>d[i]);
import{x as l,y as c,B as p,ab as ut,io as C,iq as o,im as S,gR as E,pb as pt,oX as I,q2 as v,qe as ht,ip as nt,m1 as it,E as vt,uo as _t,aS as mt,mh as ft,up as gt,uq as yt,ur as wt,_ as w,u5 as bt,cR as L,us as F,eT as O,eP as ot,mf as kt}from"./index-B252NKV0.js";import{n as xt}from"./themeUtils-C3zvZbsE.js";import{e as $t}from"./a11yUtils-BChjGAWF.js";import{t as Tt}from"./memoize-DsJmrG76.js";import{T as R,k as Ct,q as st,x as Et,F as Dt,S as Vt,U as Mt}from"./quantityFormatUtils-Cdgcasq6.js";import{e as lt}from"./getDefaultUnitForView-DrVBKioD.js";let x=class extends ut{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter(t=>t.visible&&!t.readOnly)}};l([c()],x.prototype,"sketchOptions",void 0),l([c()],x.prototype,"visibleElements",null),l([c()],x.prototype,"helpMessage",void 0),l([c()],x.prototype,"viewType",void 0),l([c()],x.prototype,"allFields",null),l([c()],x.prototype,"editableFields",null),x=l([p("esri.views.interactive.tooltip.SketchTooltipInfo")],x);const f="esri-tooltip",It=`${f}-content`,Lt=`${f}-content--input`,Rt=`${f}-content__header`,At=`${f}-content__header__spacer`,Ft=`${f}-content__header__actions`,dt=`${f}-draw-header-actions`,Ot=`${f}-table`,St=`${f}-help-message`,D=`${f}-field`,V={base:D,inputMode:`${D}--input`,title:`${D}__title`,value:`${D}__value`};let u=class extends C{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return o("div",{class:this.classes({[V.base]:!0,[V.inputMode]:this.mode==="input"})},o("div",{class:V.title},this.title),o("div",{class:V.value},this.value))}};l([c()],u.prototype,"hidden",void 0),l([c()],u.prototype,"mode",void 0),l([c()],u.prototype,"title",void 0),l([c()],u.prototype,"value",void 0),u=l([p("esri.views.interactive.tooltip.components.TooltipField")],u);const zt={base:`${f}-value-by-value`};let k=class extends C{constructor(){super(...arguments),this.divider="×"}render(){return o("div",{class:zt.base},o("span",null,this.left),o("span",null,this.divider),o("span",null,this.right))}};l([c()],k.prototype,"left",void 0),l([c()],k.prototype,"divider",void 0),l([c()],k.prototype,"right",void 0),k=l([p("esri.views.interactive.tooltip.components.ValueByValue")],k);let d=class extends C{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transition=null,this._mode="feedback",this._getFormatters=Tt((n,t)=>({angleRelative:e=>E(e,{minimumFractionDigits:$,maximumFractionDigits:$,signDisplay:"exceptZero"}),direction:e=>R(e,e.rotationType,$),directionRelative:e=>{const i=pt(e);return E(i,{style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:$,minimumFractionDigits:$,signDisplay:i>0?"never":"exceptZero"})},directionRelativeBilateral:e=>R(e,e.rotationType,$),area:(e,i)=>Ct(n,e,i??t.area),length:(e,i,s)=>st(n,e,i??t.length,s),lengthRelative:(e,i)=>Et(n,e,i??t.length),totalLength:(e,i)=>st(n,e,i??t.length),verticalLength:(e,i)=>Dt(n,e,i??t.length),verticalLengthRelative:(e,i)=>Vt(n,e,i??t.verticalLength),percentage:e=>E(e.value,{style:"percent"}),scale:e=>E(e,{style:"percent",maximumFractionDigits:0})})),this._onDiscard=()=>{this.exitInputMode()},this._onCommit=(n,t)=>{if(t==="commit-and-exit")return void this.exitInputMode();const e=this._getFocusableElements(),i=e.length,s=e.indexOf(n);if(s===-1)return void this.exitInputMode();const a=((s+(t==="commit-and-next"?1:-1))%i+i)%i;M(e.at(a))},this._handleTab=n=>{if(n.code!==I.next)return;const t=this._getFocusableElements(),e=t.at(0),i=t.at(-1);e&&i&&(n.shiftKey?document.activeElement===e&&(n.preventDefault(),M(i)):document.activeElement===i&&(n.preventDefault(),M(e)))}}get mode(){return this._mode}get _displayUnits(){const n=lt(this.tooltip.view);return{length:n,verticalLength:n,area:n,angle:"degrees"}}get _inputUnitInfos(){const n=this._messagesUnits,t=h=>({unit:h,abbreviation:ft(n,h,"abbr")}),e=lt(this.tooltip.view),i=t(gt(e)),s=t(yt(e)),a=t(wt(e)),r=t("degrees");return{length:i,lengthRelative:i,verticalLength:s,verticalLengthRelative:s,area:a,direction:r,orientation:r,rotation:r}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const n=at(this._renderContent()),{visibleElements:t}=this.info.sketchOptions.tooltips,e=t.helpMessage?this._getHelpMessage():null,i=n.length>0,s=i||!!e,a=this.mode==="input",r=at(this._renderActions());return o("div",{class:ht(It,a&&Lt),onkeydown:this._handleTab},a&&s&&t.header?o("div",{class:Rt,key:"header"},o("calcite-button",{appearance:"transparent",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),r.length>0?o(v,null,o("div",{class:At,key:"spacer"}),o("div",{class:Ft,key:"actions"},r)):null):null,i?o("div",{class:Ot,key:"content"},...n):null,e?o("div",{class:St,key:"help-message"},e):null)}_renderActions(){return null}loadDependencies(){return nt({button:()=>w(()=>import("./calcite-button-CqG1PB6a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])),icon:()=>w(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([16,14,2,3,5,12])),input:()=>w(()=>import("./calcite-input-DnrPXp_3.js"),__vite__mapDeps([17,18,2,3,5,4,6,11,7,8,9,10,12,13,19,20,14,21,22]))})}async enterInputMode(n){try{await this._transitionTo("input"),await this._focusField(n)}catch(t){it(t)}}async exitInputMode(){try{await this._transitionTo("feedback"),document.querySelector(".esri-view-surface").focus()}catch(n){it(n)}}_getHelpMessage(n){var r,h,_;const{info:t}=this,{helpMessage:e,viewType:i}=t,s=n??e,a=i==="3d"?"helpMessages3d":"helpMessages2d";return s?(_=(h=(r=this._messagesTooltip)==null?void 0:r.sketch)==null?void 0:h[a])==null?void 0:_[s]:void 0}async _focusField(n){var i;(i=this._focusAbortController)==null||i.abort(),this._focusAbortController=new AbortController;const{signal:t}=this._focusAbortController;await this._waitForInputs(),vt(t);const e=this._getFocusableInputs();M(n?e.find(s=>s.getAttribute("data-field-name")===n):e.at(0))}async _transitionTo(n){var i,s;if(this._mode===n)return;const t=()=>{this._mode=n,this.tooltip.positionMode=n==="input"?"fixed":"follow-cursor"};if(!((i=this.domNode)!=null&&i.firstChild)||!document.startViewTransition||$t())return void t();this.autoRenderingEnabled=!1,(s=this._transition)==null||s.skipTransition();const e=this._transition=document.startViewTransition(()=>{if(!this.destroyed)return this.autoRenderingEnabled=!0,t(),this.renderNow(),_t()});try{await this._transition.finished}finally{e===this._transition&&(this._transition=null)}}async _waitForInputs(){const n=Date.now(),t=()=>{var e;return Array.from(((e=this.domNode)==null?void 0:e.querySelectorAll("calcite-input"))??[])};for(;t().length===0;)if(await mt(Pt),Date.now()-n>Ut)return}_getFocusableInputs(){var n;return Array.from(((n=this.domNode)==null?void 0:n.querySelectorAll("calcite-input:not([read-only]):not([disabled])"))??[])}_getFocusableElements(){var t;const n=(t=this.domNode)==null?void 0:t.querySelector(`.${dt}`);return[...Array.from((n==null?void 0:n.querySelectorAll("calcite-action:not([disabled])"))??[]),...this._getFocusableInputs()]}};function M(n){n==null||n.setFocus()}function at(n){return(Array.isArray(n)?n:[n]).flat(10).filter(t=>!!t)}l([S("esri/core/t9n/Units"),c()],d.prototype,"_messagesUnits",void 0),l([S("esri/views/interactive/tooltip/t9n/Tooltip"),c()],d.prototype,"_messagesTooltip",void 0),l([c()],d.prototype,"info",void 0),l([c()],d.prototype,"tooltip",void 0),l([c()],d.prototype,"_mode",void 0),l([c()],d.prototype,"mode",null),l([c()],d.prototype,"_displayUnits",null),l([c()],d.prototype,"_inputUnitInfos",null),l([c()],d.prototype,"_formatters",null),l([c()],d.prototype,"fieldContext",null),d=l([p("esri.views.interactive.tooltip.content.TooltipContent")],d);const $=1,Pt=50,Ut=1e3;let z=class extends d{_renderContent(){const{area:t,radius:e,xSize:i,ySize:s,visibleElements:a}=this.info,r=this._messagesTooltip.sketch,h=this._formatters;return o(v,null,a.radius&&e!=null?o(u,{title:r.radius,value:h.length(e)}):null,a.size&&i!=null&&s!=null?o(u,{title:r.size,value:o(k,{left:h.length(i),right:h.length(s)})}):null,a.area?o(u,{title:r.area,value:h.area(t)}):null)}};z=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],z);const g=`${f}-editable-field`,y={base:g,inputMode:`${g}--input`,locked:`${g}--locked`,title:`${g}__title`,titleContent:`${g}__title__content`,value:`${g}__value`,valueContent:`${g}__value__content`,valueContentReadOnly:`${g}__value__content--read-only`,input:`${g}__input`,inputSuffix:`${g}__input-suffix`,button:`${g}__button`};let m=class extends C{constructor(){super(...arguments),this._input=null,this._selectText=()=>{const t=()=>{var e;this._input===document.activeElement&&((e=this._input)==null||e.selectText())};t(),bt().then(t)},this._onKeyDown=t=>{t.key===I.discard&&this._discard()},this._onInputKeyDown=t=>{switch(t.key){case I.commit:return this._commit({type:"commit-and-exit",allowLockingCurrentValue:!0});case I.next:return t.preventDefault(),t.stopPropagation(),this._commit({type:t.shiftKey?"commit-and-previous":"commit-and-next",allowLockingCurrentValue:!1})}},this._onInput=t=>{this.field.inputValue=t.target.value},this._onLockClick=()=>{const{field:t}=this;t.locked?t.unlock():this._lock()}}initialize(){this.addHandles(L(()=>this._rawDisplayValue,()=>{const{committed:t,inputValue:e}=this.field;t||e||this._input!==document.activeElement||this._selectText()}))}loadDependencies(){return nt({action:()=>w(()=>import("./calcite-action-CIAswhu7.js"),__vite__mapDeps([23,24,2,3,5,6,9,10,11,12,8,13,14,15])),icon:()=>w(()=>import("./calcite-icon-0-nc36TI.js"),__vite__mapDeps([16,14,2,3,5,12])),input:()=>w(()=>import("./calcite-input-DnrPXp_3.js"),__vite__mapDeps([17,18,2,3,5,4,6,11,7,8,9,10,12,13,19,20,14,21,22]))})}render(){const{mode:t,field:e}=this,i=t==="input",{locked:s}=e;return o("div",{class:this.classes({[y.base]:!0,[y.inputMode]:t==="input",[y.locked]:s})},o("div",{class:y.title,key:"title"},o("div",{class:y.titleContent,key:"title-content"},this._title,s&&!i?o("calcite-icon",{icon:"lock",key:"icon",scale:"s"}):null)),o("div",{class:y.value,key:"value"},i?this._renderInputModeValue():this._renderFeedbackModeValue()))}get _initialValue(){const{field:t}=this;return t.actual!=null?t.toInputUnits(t.actual,this.context).value:null}get _formattedValue(){const{context:t,field:e}=this,{actual:i,committed:s,format:a}=e;return s!=null?a(s,t):i!=null?a(i,t):rt}get _rawDisplayValue(){const{field:t}=this,{inputValue:e,committed:i}=t;return e??this._toString(i!=null?t.toInputUnits(i,this.context).value:this._initialValue)}get _suffix(){const{suffix:t}=this.field;return typeof t=="string"?t:t(this.context)}get _title(){const{title:t}=this.field;return typeof t=="string"?t:t(this.context)}_renderFeedbackModeValue(){return o("span",{key:"value-feedback"},this._formattedValue)}_renderInputModeValue(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return o("span",{class:y.valueContentReadOnly,key:"value-readonly"},this._formattedValue)}_renderValueWritable(){var a;const{locked:t,name:e}=this.field,i=((a=this.context)==null?void 0:a.messages.sketch)??{},s=t?i.unlockConstraint:i.lockConstraint;return o("div",{class:y.valueContent,key:"value-writable",onkeydown:this._onKeyDown},o("calcite-input",{afterCreate:r=>{this._input=r},class:y.input,"data-field-name":e,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",type:"text",value:this._rawDisplayValue,onCalciteInputInput:this._onInput}),o("div",{class:y.inputSuffix,key:"suffix"},this._suffix),o("calcite-action",{alignment:"center",appearance:"transparent",class:y.button,compact:!0,icon:t?"lock":"unlock",label:s,onclick:this._onLockClick,scale:"s",tabIndex:-1,text:"",title:s}))}_commit({type:t,allowLockingCurrentValue:e}){const{_input:i,field:s}=this;if(!i)return;const{locked:a,inputValue:r}=s;a&&r===""?s.unlock():(e&&!a||r!=null)&&this._lock(),this.context.onCommit(i,t)}_discard(){this._input&&(this.field.inputValue=null,this.context.onDiscard(this._input))}_lock(){const{field:t}=this,e=this._parseNumber(t.inputValue),i=e!=null?t.createQuantity(e,this.context):null;t.lock(i)}_parseNumber(t){if(t==null)return null;const e=parseFloat(t);return isNaN(e)||!isFinite(e)?null:e}_toString(t){return t!=null?t.toFixed(2):rt}};l([c()],m.prototype,"field",void 0),l([c()],m.prototype,"context",void 0),l([c()],m.prototype,"mode",void 0),l([c()],m.prototype,"_initialValue",null),l([c()],m.prototype,"_formattedValue",null),l([c()],m.prototype,"_input",void 0),l([c()],m.prototype,"_rawDisplayValue",null),l([c()],m.prototype,"_suffix",null),l([c()],m.prototype,"_title",null),m=l([p("esri.views.interactive.tooltip.components.TooltipEditableField")],m);const rt="—";function A(n){const t=n.fields.filter(e=>(e==null?void 0:e.visible)===!0);return t.length===0?null:o(v,null,t.map(e=>o(m,{context:n.context,field:e,key:e.id,mode:n.mode})))}let P=class extends d{_renderContent(){const{fieldContext:t,info:e,mode:i}=this,{elevation:s,visibleElements:a}=e;return o(A,{context:t,fields:[a.elevation?s:void 0],mode:i})}};P=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],P);let U=class extends d{_renderContent(){const{fieldContext:t,info:e,mode:i}=this,{elevation:s,visibleElements:a}=e;return o(A,{context:t,fields:[a.elevation?s:void 0],mode:i})}};U=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],U);let T=class extends C{constructor(n){super(n),this._onDirectionModeChange=t=>{var i,s;const e=(s=(i=t.target.selectedItems)==null?void 0:i[0])==null?void 0:s.getAttribute("data-mode");this.sketchOptions.values.directionMode=e??"absolute"}}render(){var s,a,r,h;const{directionMode:n}=this.sketchOptions.values,t=(s=this.messages)==null?void 0:s.sketch,e="absolute",i="relative";return o("div",{class:dt},o("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:this._onDirectionModeChange},o("calcite-action",{alignment:"end",appearance:"transparent",icon:F[n],scale:"s",slot:"trigger",text:"",textEnabled:!1,title:(a=t==null?void 0:t.directionModeSelect)==null?void 0:a.title}),o("calcite-dropdown-group",{selectionMode:"single"},o("calcite-dropdown-item",{"data-mode":i,"data-testid":"tooltip-direction-mode-relative",iconStart:F.relative,key:"relative",selected:n===i},(r=t==null?void 0:t.directionModeSelect)==null?void 0:r.relative),o("calcite-dropdown-item",{"data-mode":e,"data-testid":"tooltip-direction-mode-absolute",iconStart:F.absolute,key:"absolute",selected:n===e},(h=t==null?void 0:t.directionModeSelect)==null?void 0:h.absolute))))}loadDependencies(){return nt({action:()=>w(()=>import("./calcite-action-CIAswhu7.js"),__vite__mapDeps([23,24,2,3,5,6,9,10,11,12,8,13,14,15])),dropdown:()=>w(()=>import("./calcite-dropdown-BtCRJ8Yi.js"),__vite__mapDeps([25,2,3,5,26,27,6,11,9,12,28])),"dropdown-item":()=>w(()=>import("./calcite-dropdown-item-DpjROtmp.js"),__vite__mapDeps([29,2,3,5,9,8,6,30,14,12])),"dropdown-group":()=>w(()=>import("./calcite-dropdown-group-CcJU8qzf.js"),__vite__mapDeps([31,2,3,12,30]))})}};l([S("esri/views/interactive/tooltip/t9n/Tooltip"),c()],T.prototype,"messages",void 0),l([c()],T.prototype,"sketchOptions",void 0),T=l([p("esri.views.interactive.tooltip.components.DrawHeaderActions")],T);let q=class extends d{_renderContent(){const{fieldContext:t,info:e,mode:i}=this,{area:s,distance:a,elevation:r,direction:h,visibleElements:_}=e;return o(A,{context:t,fields:[_.direction?h:void 0,_.distance?a:void 0,_.elevation?r:void 0,_.area?s:void 0],mode:i})}_renderActions(){return o(T,{sketchOptions:this.info.sketchOptions})}};q=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],q);let N=class extends d{_renderContent(){const{fieldContext:t,info:e,mode:i}=this,{distance:s,elevation:a,direction:r,totalLength:h,visibleElements:_}=e;return o(A,{context:t,fields:[_.direction?r:void 0,_.distance?s:void 0,_.elevation?a:void 0,_.totalLength?h:void 0],mode:i})}_renderActions(){return o(T,{sketchOptions:this.info.sketchOptions})}};N=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],N);let H=class extends d{_renderContent(){const{area:t,xSize:e,ySize:i,visibleElements:s}=this.info,a=this._messagesTooltip.sketch,r=this._formatters;return o(v,null,s.size&&e!=null&&i!=null?o(u,{title:a.size,value:o(k,{left:r.length(e),right:r.length(i)})}):null,s.area?o(u,{title:a.area,value:r.area(t)}):null)}};H=l([p("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],H);let K=class extends d{_renderContent(){const{angle:t,visibleElements:e}=this.info,i=this._messagesTooltip.sketch;return o(v,null,e.rotation?o(u,{title:i.rotation,value:this._formatters.angleRelative(t)}):null)}};K=l([p("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],K);let B=class extends d{_renderContent(){const t=this.info,{visibleElements:e}=t,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.size?o(u,{title:i.size,value:o(k,{left:s.length(t.xSize),right:s.length(t.ySize)})}):null,e.scale?o(u,{title:i.scale,value:o(k,{left:s.scale(t.xScale),right:s.scale(t.yScale)})}):null)}};B=l([p("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],B);let Z=class extends d{_renderContent(){const{area:t,distance:e,totalLength:i,visibleElements:s}=this.info,a=this._messagesTooltip.sketch,r=this._formatters;return o(v,null,s.distance?o(u,{title:a.distance,value:r.lengthRelative(e)}):null,s.area&&t!=null?o(u,{title:a.area,value:r.area(t)}):null,s.totalLength&&i!=null?o(u,{title:a.totalLength,value:r.length(i)}):null)}};Z=l([p("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],Z);let G=class extends d{_renderContent(){const{info:t}=this,{visibleElements:e}=t,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.orientation&&t.orientation!=null?o(u,{key:"orientation",title:i.orientation,value:R(t.orientation,t.rotationType,t.orientationPrecision)}):null,e.size&&t.size!=null?o(u,{key:"size",title:i.size,value:s.length(t.size,t.sizeUnit,t.sizePrecision)}):null)}};G=l([p("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],G);let X=class extends d{_renderContent(){const{info:t}=this,{visibleElements:e}=t,i=this._messagesTooltip.sketch;return o(v,null,e.rotation&&t.rotation!=null?o(u,{key:"rotation",title:i.rotation,value:Mt(t.rotation,t.rotationType,t.rotationPrecision)}):null,e.orientation&&t.orientation!=null?o(u,{key:"orientation",title:i.orientation,value:R(t.orientation,t.rotationType,t.orientationPrecision)}):null)}};X=l([p("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],X);let W=class extends d{_renderContent(){const{info:t}=this,{visibleElements:e}=t,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.scale&&t.scale!=null?o(u,{key:"scale",title:i.scale,value:s.percentage(t.scale)}):null,e.size&&t.size!=null?o(u,{key:"size",title:i.size,value:s.length(t.size,t.sizeUnit,t.sizePrecision)}):null)}};W=l([p("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],W);let Y=class extends d{_renderContent(){const{info:t}=this,{visibleElements:e}=t,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.distance?o(u,{title:i.distance,value:s.length(t.distance)}):null)}};Y=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphic")],Y);let Q=class extends d{_renderContent(){const{info:t}=this,{visibleElements:e}=t,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.distance?o(u,{title:i.distance,value:s.length(t.distance)}):null)}};Q=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicXY")],Q);let j=class extends d{_renderContent(){const{info:n}=this,{visibleElements:t}=n,e=this._messagesTooltip.sketch;return o(v,null,t.distance?o(u,{title:e.distance,value:this._formatters.verticalLengthRelative(n.distance)}):null)}};j=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicZ")],j);let J=class extends d{_renderContent(){const{distance:t,elevation:e,area:i,totalLength:s,visibleElements:a}=this.info,r=this._messagesTooltip.sketch,h=this._formatters;return o(v,null,a.distance?o(u,{title:r.distance,value:h.length(t)}):null,a.elevation&&(e==null?void 0:e.actual)!=null?o(u,{title:r.elevation,value:h.verticalLength(e.actual)}):null,a.area&&i!=null?o(u,{title:r.area,value:h.area(i)}):null,a.totalLength&&s!=null?o(u,{title:r.totalLength,value:h.length(s)}):null)}};J=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],J);let tt=class extends d{_renderContent(){const{area:n,distance:t,elevation:e,totalLength:i,visibleElements:s}=this.info,a=this._messagesTooltip.sketch,r=this._formatters;return o(v,null,s.distance?o(u,{title:a.distance,value:r.lengthRelative(t)}):null,s.elevation&&(e==null?void 0:e.actual)!=null?o(u,{title:a.elevation,value:r.verticalLength(e.actual)}):null,s.area&&n!=null?o(u,{title:a.area,value:r.area(n)}):null,s.totalLength&&i!=null?o(u,{title:a.totalLength,value:r.length(i)}):null)}};tt=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexXY")],tt);let et=class extends d{_renderContent(){const{distance:n,elevation:t,visibleElements:e}=this.info,i=this._messagesTooltip.sketch,s=this._formatters;return o(v,null,e.distance?o(u,{title:i.distance,value:s.verticalLengthRelative(n)}):null,e.elevation&&(t==null?void 0:t.actual)!=null?o(u,{title:i.elevation,value:s.verticalLength(t.actual)}):null)}};et=l([p("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexZ")],et);function qt(n,t){if(t==null)return null;const e=document.createElement("div");switch(t.type){case"draw-point":return new U({tooltip:n,info:t,container:e});case"draw-polygon":return new q({tooltip:n,info:t,container:e});case"draw-polyline":return new N({tooltip:n,info:t,container:e});case"draw-mesh":return new P({tooltip:n,info:t,container:e});case"draw-rectangle":return new H({tooltip:n,info:t,container:e});case"draw-circle":return new z({tooltip:n,info:t,container:e});case"extent-rotate":return new K({tooltip:n,info:t,container:e});case"extent-scale":return new B({tooltip:n,info:t,container:e});case"transform-absolute":return new G({tooltip:n,info:t,container:e});case"transform-rotate":return new X({tooltip:n,info:t,container:e});case"transform-scale":return new W({tooltip:n,info:t,container:e});case"translate-graphic":return new Y({tooltip:n,info:t,container:e});case"translate-graphic-z":return new j({tooltip:n,info:t,container:e});case"translate-graphic-xy":return new Q({tooltip:n,info:t,container:e});case"translate-vertex":return new J({tooltip:n,info:t,container:e});case"translate-vertex-z":return new et({tooltip:n,info:t,container:e});case"translate-vertex-xy":return new tt({tooltip:n,info:t,container:e});case"reshape-edge-offset":return new Z({tooltip:n,info:t,container:e})}}const Nt={base:`${f}`};let b=class extends ut{constructor(n){super(n),this.info=null,this.positionMode="follow-cursor",this.content=null,this.contentContainer=(()=>{const t=document.createElement("div");return t.classList.add(Nt.base),xt(t),t})()}initialize(){const{contentContainer:n}=this;this.addHandles([L(()=>{var t;return(t=this.view.overlay)==null?void 0:t.surface},t=>{n.remove(),t==null||t.appendChild(n)},O),L(()=>this.info,(t,e)=>{if(this.content!=null&&t!=null&&e!=null&&t.type===e.type)this.content.info=t;else{this.content=ot(this.content);const i=qt(this,t);i&&(this.content=i,i.container&&n.appendChild(i.container))}},O),L(()=>({container:this.contentContainer,content:this.content,screenPoint:this._screenPoint,positionMode:this.positionMode}),Ht,O)])}destroy(){this.info=null,this.content=ot(this.content),this.contentContainer.remove()}get mode(){var n;return((n=this.content)==null?void 0:n.mode)??"feedback"}get test(){var n;return{visible:((n=this.contentContainer)==null?void 0:n.style.display)!=="none"}}get _screenPoint(){const n=this.view.inputManager;return n!=null&&n.multiTouchActive?null:n==null?void 0:n.latestPointerLocation}clear(){this.info=null}async enterInputMode(n){var t;await((t=this.content)==null?void 0:t.enterInputMode(n))}async exitInputMode(){var n;await((n=this.content)==null?void 0:n.exitInputMode())}};function Ht({container:n,content:t,screenPoint:e,positionMode:i}){const{style:s}=n;if(i!=="fixed")if(e!=null&&t!=null){s.display="block";const a=kt(n),r=`translate(${Math.round(e.x)+ct[0]*(a?-1:1)}px, ${Math.round(e.y)+ct[1]}px)`;s.transform=a?`translate(-100%, 0) ${r}`:r}else s.display="none"}l([c({nonNullable:!0})],b.prototype,"view",void 0),l([c()],b.prototype,"info",void 0),l([c()],b.prototype,"positionMode",void 0),l([c()],b.prototype,"content",void 0),l([c()],b.prototype,"mode",null),l([c()],b.prototype,"contentContainer",void 0),l([c()],b.prototype,"_screenPoint",null),b=l([p("esri.views.interactive.tooltip.Tooltip")],b);const ct=[20,20];export{x as r,b as u};
